var LPe=Object.defineProperty;var OPe=(n,e,t)=>e in n?LPe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var xPe=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var dr=(n,e,t)=>OPe(n,typeof e!="symbol"?e+"":e,t);var n4t=xPe((cs,nDe)=>{function DPe(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Si(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function PPe(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var $B={exports:{}},vb={},GB={exports:{}},ai={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oee;function kPe(){if(oee)return ai;oee=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function h(G){return G===null||typeof G!="object"?null:(G=d&&G[d]||G["@@iterator"],typeof G=="function"?G:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function _(G,J,z){this.props=G,this.context=J,this.refs=g,this.updater=z||f}_.prototype.isReactComponent={},_.prototype.setState=function(G,J){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,J,"setState")},_.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function v(){}v.prototype=_.prototype;function S(G,J,z){this.props=G,this.context=J,this.refs=g,this.updater=z||f}var C=S.prototype=new v;C.constructor=S,m(C,_.prototype),C.isPureReactComponent=!0;var y=Array.isArray,b=Object.prototype.hasOwnProperty,w={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function O(G,J,z){var j,ne={},le=null,q=null;if(J!=null)for(j in J.ref!==void 0&&(q=J.ref),J.key!==void 0&&(le=""+J.key),J)b.call(J,j)&&!I.hasOwnProperty(j)&&(ne[j]=J[j]);var he=arguments.length-2;if(he===1)ne.children=z;else if(1<he){for(var ue=Array(he),pe=0;pe<he;pe++)ue[pe]=arguments[pe+2];ne.children=ue}if(G&&G.defaultProps)for(j in he=G.defaultProps,he)ne[j]===void 0&&(ne[j]=he[j]);return{$$typeof:n,type:G,key:le,ref:q,props:ne,_owner:w.current}}function x(G,J){return{$$typeof:n,type:G.type,key:J,ref:G.ref,props:G.props,_owner:G._owner}}function k(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function P(G){var J={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(z){return J[z]})}var M=/\/+/g;function W(G,J){return typeof G=="object"&&G!==null&&G.key!=null?P(""+G.key):J.toString(36)}function F(G,J,z,j,ne){var le=typeof G;(le==="undefined"||le==="boolean")&&(G=null);var q=!1;if(G===null)q=!0;else switch(le){case"string":case"number":q=!0;break;case"object":switch(G.$$typeof){case n:case e:q=!0}}if(q)return q=G,ne=ne(q),G=j===""?"."+W(q,0):j,y(ne)?(z="",G!=null&&(z=G.replace(M,"$&/")+"/"),F(ne,J,z,"",function(pe){return pe})):ne!=null&&(k(ne)&&(ne=x(ne,z+(!ne.key||q&&q.key===ne.key?"":(""+ne.key).replace(M,"$&/")+"/")+G)),J.push(ne)),1;if(q=0,j=j===""?".":j+":",y(G))for(var he=0;he<G.length;he++){le=G[he];var ue=j+W(le,he);q+=F(le,J,z,ue,ne)}else if(ue=h(G),typeof ue=="function")for(G=ue.call(G),he=0;!(le=G.next()).done;)le=le.value,ue=j+W(le,he++),q+=F(le,J,z,ue,ne);else if(le==="object")throw J=String(G),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return q}function H(G,J,z){if(G==null)return G;var j=[],ne=0;return F(G,j,"","",function(le){return J.call(z,le,ne++)}),j}function V(G){if(G._status===-1){var J=G._result;J=J(),J.then(function(z){(G._status===0||G._status===-1)&&(G._status=1,G._result=z)},function(z){(G._status===0||G._status===-1)&&(G._status=2,G._result=z)}),G._status===-1&&(G._status=0,G._result=J)}if(G._status===1)return G._result.default;throw G._result}var Y={current:null},$={transition:null},K={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:$,ReactCurrentOwner:w};function re(){throw Error("act(...) is not supported in production builds of React.")}return ai.Children={map:H,forEach:function(G,J,z){H(G,function(){J.apply(this,arguments)},z)},count:function(G){var J=0;return H(G,function(){J++}),J},toArray:function(G){return H(G,function(J){return J})||[]},only:function(G){if(!k(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},ai.Component=_,ai.Fragment=t,ai.Profiler=r,ai.PureComponent=S,ai.StrictMode=i,ai.Suspense=l,ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,ai.act=re,ai.cloneElement=function(G,J,z){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var j=m({},G.props),ne=G.key,le=G.ref,q=G._owner;if(J!=null){if(J.ref!==void 0&&(le=J.ref,q=w.current),J.key!==void 0&&(ne=""+J.key),G.type&&G.type.defaultProps)var he=G.type.defaultProps;for(ue in J)b.call(J,ue)&&!I.hasOwnProperty(ue)&&(j[ue]=J[ue]===void 0&&he!==void 0?he[ue]:J[ue])}var ue=arguments.length-2;if(ue===1)j.children=z;else if(1<ue){he=Array(ue);for(var pe=0;pe<ue;pe++)he[pe]=arguments[pe+2];j.children=he}return{$$typeof:n,type:G.type,key:ne,ref:le,props:j,_owner:q}},ai.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},ai.createElement=O,ai.createFactory=function(G){var J=O.bind(null,G);return J.type=G,J},ai.createRef=function(){return{current:null}},ai.forwardRef=function(G){return{$$typeof:a,render:G}},ai.isValidElement=k,ai.lazy=function(G){return{$$typeof:u,_payload:{_status:-1,_result:G},_init:V}},ai.memo=function(G,J){return{$$typeof:c,type:G,compare:J===void 0?null:J}},ai.startTransition=function(G){var J=$.transition;$.transition={};try{G()}finally{$.transition=J}},ai.unstable_act=re,ai.useCallback=function(G,J){return Y.current.useCallback(G,J)},ai.useContext=function(G){return Y.current.useContext(G)},ai.useDebugValue=function(){},ai.useDeferredValue=function(G){return Y.current.useDeferredValue(G)},ai.useEffect=function(G,J){return Y.current.useEffect(G,J)},ai.useId=function(){return Y.current.useId()},ai.useImperativeHandle=function(G,J,z){return Y.current.useImperativeHandle(G,J,z)},ai.useInsertionEffect=function(G,J){return Y.current.useInsertionEffect(G,J)},ai.useLayoutEffect=function(G,J){return Y.current.useLayoutEffect(G,J)},ai.useMemo=function(G,J){return Y.current.useMemo(G,J)},ai.useReducer=function(G,J,z){return Y.current.useReducer(G,J,z)},ai.useRef=function(G){return Y.current.useRef(G)},ai.useState=function(G){return Y.current.useState(G)},ai.useSyncExternalStore=function(G,J,z){return Y.current.useSyncExternalStore(G,J,z)},ai.useTransition=function(){return Y.current.useTransition()},ai.version="18.3.1",ai}var aee;function aj(){return aee||(aee=1,GB.exports=kPe()),GB.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lee;function MPe(){if(lee)return vb;lee=1;var n=aj(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var u,d={},h=null,f=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(f=l.ref);for(u in l)i.call(l,u)&&!s.hasOwnProperty(u)&&(d[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:e,type:a,key:h,ref:f,props:d,_owner:r.current}}return vb.Fragment=t,vb.jsx=o,vb.jsxs=o,vb}var cee;function FPe(){return cee||(cee=1,$B.exports=MPe()),$B.exports}var R=FPe(),N=aj();const Z=Si(N),ak=DPe({__proto__:null,default:Z},[N]);var zR={},zB={exports:{}},Pa={},jB={exports:{}},YB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uee;function BPe(){return uee||(uee=1,function(n){function e($,K){var re=$.length;$.push(K);e:for(;0<re;){var G=re-1>>>1,J=$[G];if(0<r(J,K))$[G]=K,$[re]=J,re=G;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var K=$[0],re=$.pop();if(re!==K){$[0]=re;e:for(var G=0,J=$.length,z=J>>>1;G<z;){var j=2*(G+1)-1,ne=$[j],le=j+1,q=$[le];if(0>r(ne,re))le<J&&0>r(q,ne)?($[G]=q,$[le]=re,G=le):($[G]=ne,$[j]=re,G=j);else if(le<J&&0>r(q,re))$[G]=q,$[le]=re,G=le;else break e}}return K}function r($,K){var re=$.sortIndex-K.sortIndex;return re!==0?re:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C($){for(var K=t(c);K!==null;){if(K.callback===null)i(c);else if(K.startTime<=$)i(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(c)}}function y($){if(g=!1,C($),!m)if(t(l)!==null)m=!0,V(b);else{var K=t(c);K!==null&&Y(y,K.startTime-$)}}function b($,K){m=!1,g&&(g=!1,v(O),O=-1),f=!0;var re=h;try{for(C(K),d=t(l);d!==null&&(!(d.expirationTime>K)||$&&!P());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var J=G(d.expirationTime<=K);K=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),C(K)}else i(l);d=t(l)}if(d!==null)var z=!0;else{var j=t(c);j!==null&&Y(y,j.startTime-K),z=!1}return z}finally{d=null,h=re,f=!1}}var w=!1,I=null,O=-1,x=5,k=-1;function P(){return!(n.unstable_now()-k<x)}function M(){if(I!==null){var $=n.unstable_now();k=$;var K=!0;try{K=I(!0,$)}finally{K?W():(w=!1,I=null)}}else w=!1}var W;if(typeof S=="function")W=function(){S(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,H=F.port2;F.port1.onmessage=M,W=function(){H.postMessage(null)}}else W=function(){_(M,0)};function V($){I=$,w||(w=!0,W())}function Y($,K){O=_(function(){$(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){m||f||(m=!0,V(b))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function($){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var re=h;h=K;try{return $()}finally{h=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=h;h=$;try{return K()}finally{h=re}},n.unstable_scheduleCallback=function($,K,re){var G=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?G+re:G):re=G,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=re+J,$={id:u++,callback:K,priorityLevel:$,startTime:re,expirationTime:J,sortIndex:-1},re>G?($.sortIndex=re,e(c,$),t(l)===null&&$===t(c)&&(g?(v(O),O=-1):g=!0,Y(y,re-G))):($.sortIndex=J,e(l,$),m||f||(m=!0,V(b))),$},n.unstable_shouldYield=P,n.unstable_wrapCallback=function($){var K=h;return function(){var re=h;h=K;try{return $.apply(this,arguments)}finally{h=re}}}}(YB)),YB}var dee;function UPe(){return dee||(dee=1,jB.exports=BPe()),jB.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hee;function HPe(){if(hee)return Pa;hee=1;var n=aj(),e=UPe();function t(p){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+p,T=1;T<arguments.length;T++)E+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+p+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(p,E){o(p,E),o(p+"Capture",E)}function o(p,E){for(r[p]=E,p=0;p<E.length;p++)i.add(E[p])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},d={};function h(p){return l.call(d,p)?!0:l.call(u,p)?!1:c.test(p)?d[p]=!0:(u[p]=!0,!1)}function f(p,E,T,L){if(T!==null&&T.type===0)return!1;switch(typeof E){case"function":case"symbol":return!0;case"boolean":return L?!1:T!==null?!T.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function m(p,E,T,L){if(E===null||typeof E>"u"||f(p,E,T,L))return!0;if(L)return!1;if(T!==null)switch(T.type){case 3:return!E;case 4:return E===!1;case 5:return isNaN(E);case 6:return isNaN(E)||1>E}return!1}function g(p,E,T,L,D,U,X){this.acceptsBooleans=E===2||E===3||E===4,this.attributeName=L,this.attributeNamespace=D,this.mustUseProperty=T,this.propertyName=p,this.type=E,this.sanitizeURL=U,this.removeEmptyString=X}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){_[p]=new g(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var E=p[0];_[E]=new g(E,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){_[p]=new g(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){_[p]=new g(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){_[p]=new g(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){_[p]=new g(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){_[p]=new g(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){_[p]=new g(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){_[p]=new g(p,5,!1,p.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function S(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var E=p.replace(v,S);_[E]=new g(E,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var E=p.replace(v,S);_[E]=new g(E,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var E=p.replace(v,S);_[E]=new g(E,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){_[p]=new g(p,1,!1,p.toLowerCase(),null,!1,!1)}),_.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){_[p]=new g(p,1,!1,p.toLowerCase(),null,!0,!0)});function C(p,E,T,L){var D=_.hasOwnProperty(E)?_[E]:null;(D!==null?D.type!==0:L||!(2<E.length)||E[0]!=="o"&&E[0]!=="O"||E[1]!=="n"&&E[1]!=="N")&&(m(E,T,D,L)&&(T=null),L||D===null?h(E)&&(T===null?p.removeAttribute(E):p.setAttribute(E,""+T)):D.mustUseProperty?p[D.propertyName]=T===null?D.type===3?!1:"":T:(E=D.attributeName,L=D.attributeNamespace,T===null?p.removeAttribute(E):(D=D.type,T=D===3||D===4&&T===!0?"":""+T,L?p.setAttributeNS(L,E,T):p.setAttribute(E,T))))}var y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),$=Symbol.iterator;function K(p){return p===null||typeof p!="object"?null:(p=$&&p[$]||p["@@iterator"],typeof p=="function"?p:null)}var re=Object.assign,G;function J(p){if(G===void 0)try{throw Error()}catch(T){var E=T.stack.trim().match(/\n( *(at )?)/);G=E&&E[1]||""}return`
`+G+p}var z=!1;function j(p,E){if(!p||z)return"";z=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(Pe){var L=Pe}Reflect.construct(p,[],E)}else{try{E.call()}catch(Pe){L=Pe}p.call(E.prototype)}else{try{throw Error()}catch(Pe){L=Pe}p()}}catch(Pe){if(Pe&&L&&typeof Pe.stack=="string"){for(var D=Pe.stack.split(`
`),U=L.stack.split(`
`),X=D.length-1,de=U.length-1;1<=X&&0<=de&&D[X]!==U[de];)de--;for(;1<=X&&0<=de;X--,de--)if(D[X]!==U[de]){if(X!==1||de!==1)do if(X--,de--,0>de||D[X]!==U[de]){var _e=`
`+D[X].replace(" at new "," at ");return p.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",p.displayName)),_e}while(1<=X&&0<=de);break}}}finally{z=!1,Error.prepareStackTrace=T}return(p=p?p.displayName||p.name:"")?J(p):""}function ne(p){switch(p.tag){case 5:return J(p.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return p=j(p.type,!1),p;case 11:return p=j(p.type.render,!1),p;case 1:return p=j(p.type,!0),p;default:return""}}function le(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case I:return"Fragment";case w:return"Portal";case x:return"Profiler";case O:return"StrictMode";case W:return"Suspense";case F:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case P:return(p.displayName||"Context")+".Consumer";case k:return(p._context.displayName||"Context")+".Provider";case M:var E=p.render;return p=p.displayName,p||(p=E.displayName||E.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case H:return E=p.displayName||null,E!==null?E:le(p.type)||"Memo";case V:E=p._payload,p=p._init;try{return le(p(E))}catch{}}return null}function q(p){var E=p.type;switch(p.tag){case 24:return"Cache";case 9:return(E.displayName||"Context")+".Consumer";case 10:return(E._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=E.render,p=p.displayName||p.name||"",E.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return E;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(E);case 8:return E===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E}return null}function he(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function ue(p){var E=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(E==="checkbox"||E==="radio")}function pe(p){var E=ue(p)?"checked":"value",T=Object.getOwnPropertyDescriptor(p.constructor.prototype,E),L=""+p[E];if(!p.hasOwnProperty(E)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var D=T.get,U=T.set;return Object.defineProperty(p,E,{configurable:!0,get:function(){return D.call(this)},set:function(X){L=""+X,U.call(this,X)}}),Object.defineProperty(p,E,{enumerable:T.enumerable}),{getValue:function(){return L},setValue:function(X){L=""+X},stopTracking:function(){p._valueTracker=null,delete p[E]}}}}function Ae(p){p._valueTracker||(p._valueTracker=pe(p))}function me(p){if(!p)return!1;var E=p._valueTracker;if(!E)return!0;var T=E.getValue(),L="";return p&&(L=ue(p)?p.checked?"true":"false":p.value),p=L,p!==T?(E.setValue(p),!0):!1}function Te(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Oe(p,E){var T=E.checked;return re({},E,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:T??p._wrapperState.initialChecked})}function ft(p,E){var T=E.defaultValue==null?"":E.defaultValue,L=E.checked!=null?E.checked:E.defaultChecked;T=he(E.value!=null?E.value:T),p._wrapperState={initialChecked:L,initialValue:T,controlled:E.type==="checkbox"||E.type==="radio"?E.checked!=null:E.value!=null}}function kt(p,E){E=E.checked,E!=null&&C(p,"checked",E,!1)}function Vt(p,E){kt(p,E);var T=he(E.value),L=E.type;if(T!=null)L==="number"?(T===0&&p.value===""||p.value!=T)&&(p.value=""+T):p.value!==""+T&&(p.value=""+T);else if(L==="submit"||L==="reset"){p.removeAttribute("value");return}E.hasOwnProperty("value")?vt(p,E.type,T):E.hasOwnProperty("defaultValue")&&vt(p,E.type,he(E.defaultValue)),E.checked==null&&E.defaultChecked!=null&&(p.defaultChecked=!!E.defaultChecked)}function yt(p,E,T){if(E.hasOwnProperty("value")||E.hasOwnProperty("defaultValue")){var L=E.type;if(!(L!=="submit"&&L!=="reset"||E.value!==void 0&&E.value!==null))return;E=""+p._wrapperState.initialValue,T||E===p.value||(p.value=E),p.defaultValue=E}T=p.name,T!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,T!==""&&(p.name=T)}function vt(p,E,T){(E!=="number"||Te(p.ownerDocument)!==p)&&(T==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+T&&(p.defaultValue=""+T))}var Yt=Array.isArray;function _t(p,E,T,L){if(p=p.options,E){E={};for(var D=0;D<T.length;D++)E["$"+T[D]]=!0;for(T=0;T<p.length;T++)D=E.hasOwnProperty("$"+p[T].value),p[T].selected!==D&&(p[T].selected=D),D&&L&&(p[T].defaultSelected=!0)}else{for(T=""+he(T),E=null,D=0;D<p.length;D++){if(p[D].value===T){p[D].selected=!0,L&&(p[D].defaultSelected=!0);return}E!==null||p[D].disabled||(E=p[D])}E!==null&&(E.selected=!0)}}function ae(p,E){if(E.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},E,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Se(p,E){var T=E.value;if(T==null){if(T=E.children,E=E.defaultValue,T!=null){if(E!=null)throw Error(t(92));if(Yt(T)){if(1<T.length)throw Error(t(93));T=T[0]}E=T}E==null&&(E=""),T=E}p._wrapperState={initialValue:he(T)}}function De(p,E){var T=he(E.value),L=he(E.defaultValue);T!=null&&(T=""+T,T!==p.value&&(p.value=T),E.defaultValue==null&&p.defaultValue!==T&&(p.defaultValue=T)),L!=null&&(p.defaultValue=""+L)}function je(p){var E=p.textContent;E===p._wrapperState.initialValue&&E!==""&&E!==null&&(p.value=E)}function Ye(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(p,E){return p==null||p==="http://www.w3.org/1999/xhtml"?Ye(E):p==="http://www.w3.org/2000/svg"&&E==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var lt,Xt=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(E,T,L,D){MSApp.execUnsafeLocalFunction(function(){return p(E,T,L,D)})}:p}(function(p,E){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=E;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+E.valueOf().toString()+"</svg>",E=lt.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;E.firstChild;)p.appendChild(E.firstChild)}});function Tn(p,E){if(E){var T=p.firstChild;if(T&&T===p.lastChild&&T.nodeType===3){T.nodeValue=E;return}}p.textContent=E}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(p){fs.forEach(function(E){E=E+p.charAt(0).toUpperCase()+p.substring(1),wn[E]=wn[p]})});function gs(p,E,T){return E==null||typeof E=="boolean"||E===""?"":T||typeof E!="number"||E===0||wn.hasOwnProperty(p)&&wn[p]?(""+E).trim():E+"px"}function Ci(p,E){p=p.style;for(var T in E)if(E.hasOwnProperty(T)){var L=T.indexOf("--")===0,D=gs(T,E[T],L);T==="float"&&(T="cssFloat"),L?p.setProperty(T,D):p[T]=D}}var mr=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zs(p,E){if(E){if(mr[p]&&(E.children!=null||E.dangerouslySetInnerHTML!=null))throw Error(t(137,p));if(E.dangerouslySetInnerHTML!=null){if(E.children!=null)throw Error(t(60));if(typeof E.dangerouslySetInnerHTML!="object"||!("__html"in E.dangerouslySetInnerHTML))throw Error(t(61))}if(E.style!=null&&typeof E.style!="object")throw Error(t(62))}}function Is(p,E){if(p.indexOf("-")===-1)return typeof E.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vn=null;function tl(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Ru=null,Oo=null,Gi=null;function Ns(p){if(p=rb(p)){if(typeof Ru!="function")throw Error(t(280));var E=p.stateNode;E&&(E=sR(E),Ru(p.stateNode,p.type,E))}}function vf(p){Oo?Gi?Gi.push(p):Gi=[p]:Oo=p}function Md(){if(Oo){var p=Oo,E=Gi;if(Gi=Oo=null,Ns(p),E)for(p=0;p<E.length;p++)Ns(E[p])}}function Iu(p,E){return p(E)}function Zt(){}var ee=!1;function te(p,E,T){if(ee)return p(E,T);ee=!0;try{return Iu(p,E,T)}finally{ee=!1,(Oo!==null||Gi!==null)&&(Zt(),Md())}}function se(p,E){var T=p.stateNode;if(T===null)return null;var L=sR(T);if(L===null)return null;T=L[E];e:switch(E){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(p=p.type,L=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!L;break e;default:p=!1}if(p)return null;if(T&&typeof T!="function")throw Error(t(231,E,typeof T));return T}var fe=!1;if(a)try{var ve={};Object.defineProperty(ve,"passive",{get:function(){fe=!0}}),window.addEventListener("test",ve,ve),window.removeEventListener("test",ve,ve)}catch{fe=!1}function Ie(p,E,T,L,D,U,X,de,_e){var Pe=Array.prototype.slice.call(arguments,3);try{E.apply(T,Pe)}catch(Xe){this.onError(Xe)}}var ke=!1,Qe=null,dt=!1,Kt=null,Wn={onError:function(p){ke=!0,Qe=p}};function Xn(p,E,T,L,D,U,X,de,_e){ke=!1,Qe=null,Ie.apply(Wn,arguments)}function Ni(p,E,T,L,D,U,X,de,_e){if(Xn.apply(this,arguments),ke){if(ke){var Pe=Qe;ke=!1,Qe=null}else throw Error(t(198));dt||(dt=!0,Kt=Pe)}}function Fn(p){var E=p,T=p;if(p.alternate)for(;E.return;)E=E.return;else{p=E;do E=p,(E.flags&4098)!==0&&(T=E.return),p=E.return;while(p)}return E.tag===3?T:null}function ps(p){if(p.tag===13){var E=p.memoizedState;if(E===null&&(p=p.alternate,p!==null&&(E=p.memoizedState)),E!==null)return E.dehydrated}return null}function js(p){if(Fn(p)!==p)throw Error(t(188))}function Fd(p){var E=p.alternate;if(!E){if(E=Fn(p),E===null)throw Error(t(188));return E!==p?null:p}for(var T=p,L=E;;){var D=T.return;if(D===null)break;var U=D.alternate;if(U===null){if(L=D.return,L!==null){T=L;continue}break}if(D.child===U.child){for(U=D.child;U;){if(U===T)return js(D),p;if(U===L)return js(D),E;U=U.sibling}throw Error(t(188))}if(T.return!==L.return)T=D,L=U;else{for(var X=!1,de=D.child;de;){if(de===T){X=!0,T=D,L=U;break}if(de===L){X=!0,L=D,T=U;break}de=de.sibling}if(!X){for(de=U.child;de;){if(de===T){X=!0,T=U,L=D;break}if(de===L){X=!0,L=U,T=D;break}de=de.sibling}if(!X)throw Error(t(189))}}if(T.alternate!==L)throw Error(t(190))}if(T.tag!==3)throw Error(t(188));return T.stateNode.current===T?p:E}function Lt(p){return p=Fd(p),p!==null?Ce(p):null}function Ce(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var E=Ce(p);if(E!==null)return E;p=p.sibling}return null}var it=e.unstable_scheduleCallback,Ct=e.unstable_cancelCallback,Bi=e.unstable_shouldYield,Ar=e.unstable_requestPaint,Bn=e.unstable_now,Ys=e.unstable_getCurrentPriorityLevel,Ls=e.unstable_ImmediatePriority,Cc=e.unstable_UserBlockingPriority,Ur=e.unstable_NormalPriority,vE=e.unstable_LowPriority,bp=e.unstable_IdlePriority,Tp=null,Dl=null;function dF(p){if(Dl&&typeof Dl.onCommitFiberRoot=="function")try{Dl.onCommitFiberRoot(Tp,p,void 0,(p.current.flags&128)===128)}catch{}}var nl=Math.clz32?Math.clz32:gF,hF=Math.log,fF=Math.LN2;function gF(p){return p>>>=0,p===0?32:31-(hF(p)/fF|0)|0}var SE=64,CE=4194304;function wp(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function yE(p,E){var T=p.pendingLanes;if(T===0)return 0;var L=0,D=p.suspendedLanes,U=p.pingedLanes,X=T&268435455;if(X!==0){var de=X&~D;de!==0?L=wp(de):(U&=X,U!==0&&(L=wp(U)))}else X=T&~D,X!==0?L=wp(X):U!==0&&(L=wp(U));if(L===0)return 0;if(E!==0&&E!==L&&(E&D)===0&&(D=L&-L,U=E&-E,D>=U||D===16&&(U&4194240)!==0))return E;if((L&4)!==0&&(L|=T&16),E=p.entangledLanes,E!==0)for(p=p.entanglements,E&=L;0<E;)T=31-nl(E),D=1<<T,L|=p[T],E&=~D;return L}function bE(p,E){switch(p){case 1:case 2:case 4:return E+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hy(p,E){for(var T=p.suspendedLanes,L=p.pingedLanes,D=p.expirationTimes,U=p.pendingLanes;0<U;){var X=31-nl(U),de=1<<X,_e=D[X];_e===-1?((de&T)===0||(de&L)!==0)&&(D[X]=bE(de,E)):_e<=E&&(p.expiredLanes|=de),U&=~de}}function Vy(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function zA(){var p=SE;return SE<<=1,(SE&4194240)===0&&(SE=64),p}function TE(p){for(var E=[],T=0;31>T;T++)E.push(p);return E}function Ap(p,E,T){p.pendingLanes|=E,E!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,E=31-nl(E),p[E]=T}function pF(p,E){var T=p.pendingLanes&~E;p.pendingLanes=E,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=E,p.mutableReadLanes&=E,p.entangledLanes&=E,E=p.entanglements;var L=p.eventTimes;for(p=p.expirationTimes;0<T;){var D=31-nl(T),U=1<<D;E[D]=0,L[D]=-1,p[D]=-1,T&=~U}}function Wy(p,E){var T=p.entangledLanes|=E;for(p=p.entanglements;T;){var L=31-nl(T),D=1<<L;D&E|p[L]&E&&(p[L]|=E),T&=~D}}var Li=0;function jA(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var YA,$y,wE,KA,qA,Gy=!1,Bd=[],Pl=null,kl=null,Ml=null,Rp=new Map,Sf=new Map,Fl=[],XA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nu(p,E){switch(p){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":Ml=null;break;case"pointerover":case"pointerout":Rp.delete(E.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(E.pointerId)}}function yc(p,E,T,L,D,U){return p===null||p.nativeEvent!==U?(p={blockedOn:E,domEventName:T,eventSystemFlags:L,nativeEvent:U,targetContainers:[D]},E!==null&&(E=rb(E),E!==null&&$y(E)),p):(p.eventSystemFlags|=L,E=p.targetContainers,D!==null&&E.indexOf(D)===-1&&E.push(D),p)}function mF(p,E,T,L,D){switch(E){case"focusin":return Pl=yc(Pl,p,E,T,L,D),!0;case"dragenter":return kl=yc(kl,p,E,T,L,D),!0;case"mouseover":return Ml=yc(Ml,p,E,T,L,D),!0;case"pointerover":var U=D.pointerId;return Rp.set(U,yc(Rp.get(U)||null,p,E,T,L,D)),!0;case"gotpointercapture":return U=D.pointerId,Sf.set(U,yc(Sf.get(U)||null,p,E,T,L,D)),!0}return!1}function zy(p){var E=Np(p.target);if(E!==null){var T=Fn(E);if(T!==null){if(E=T.tag,E===13){if(E=ps(T),E!==null){p.blockedOn=E,qA(p.priority,function(){wE(T)});return}}else if(E===3&&T.stateNode.current.memoizedState.isDehydrated){p.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}p.blockedOn=null}function AE(p){if(p.blockedOn!==null)return!1;for(var E=p.targetContainers;0<E.length;){var T=Fi(p.domEventName,p.eventSystemFlags,E[0],p.nativeEvent);if(T===null){T=p.nativeEvent;var L=new T.constructor(T.type,T);Vn=L,T.target.dispatchEvent(L),Vn=null}else return E=rb(T),E!==null&&$y(E),p.blockedOn=T,!1;E.shift()}return!0}function jy(p,E,T){AE(p)&&T.delete(E)}function _F(){Gy=!1,Pl!==null&&AE(Pl)&&(Pl=null),kl!==null&&AE(kl)&&(kl=null),Ml!==null&&AE(Ml)&&(Ml=null),Rp.forEach(jy),Sf.forEach(jy)}function Ip(p,E){p.blockedOn===E&&(p.blockedOn=null,Gy||(Gy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_F)))}function Cf(p){function E(D){return Ip(D,p)}if(0<Bd.length){Ip(Bd[0],p);for(var T=1;T<Bd.length;T++){var L=Bd[T];L.blockedOn===p&&(L.blockedOn=null)}}for(Pl!==null&&Ip(Pl,p),kl!==null&&Ip(kl,p),Ml!==null&&Ip(Ml,p),Rp.forEach(E),Sf.forEach(E),T=0;T<Fl.length;T++)L=Fl[T],L.blockedOn===p&&(L.blockedOn=null);for(;0<Fl.length&&(T=Fl[0],T.blockedOn===null);)zy(T),T.blockedOn===null&&Fl.shift()}var yf=y.ReactCurrentBatchConfig,oe=!0;function be(p,E,T,L){var D=Li,U=yf.transition;yf.transition=null;try{Li=1,Ot(p,E,T,L)}finally{Li=D,yf.transition=U}}function Fe(p,E,T,L){var D=Li,U=yf.transition;yf.transition=null;try{Li=4,Ot(p,E,T,L)}finally{Li=D,yf.transition=U}}function Ot(p,E,T,L){if(oe){var D=Fi(p,E,T,L);if(D===null)DF(p,E,L,ni,T),Nu(p,L);else if(mF(D,p,E,T,L))L.stopPropagation();else if(Nu(p,L),E&4&&-1<XA.indexOf(p)){for(;D!==null;){var U=rb(D);if(U!==null&&YA(U),U=Fi(p,E,T,L),U===null&&DF(p,E,L,ni,T),U===D)break;D=U}D!==null&&L.stopPropagation()}else DF(p,E,L,null,T)}}var ni=null;function Fi(p,E,T,L){if(ni=null,p=tl(L),p=Np(p),p!==null)if(E=Fn(p),E===null)p=null;else if(T=E.tag,T===13){if(p=ps(E),p!==null)return p;p=null}else if(T===3){if(E.stateNode.current.memoizedState.isDehydrated)return E.tag===3?E.stateNode.containerInfo:null;p=null}else E!==p&&(p=null);return ni=p,null}function er(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ys()){case Ls:return 1;case Cc:return 4;case Ur:case vE:return 16;case bp:return 536870912;default:return 16}default:return 16}}var Qn=null,Yi=null,xo=null;function Do(){if(xo)return xo;var p,E=Yi,T=E.length,L,D="value"in Qn?Qn.value:Qn.textContent,U=D.length;for(p=0;p<T&&E[p]===D[p];p++);var X=T-p;for(L=1;L<=X&&E[T-L]===D[U-L];L++);return xo=D.slice(p,1<L?1-L:void 0)}function Lu(p){var E=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&E===13&&(p=13)):p=E,p===10&&(p=13),32<=p||p===13?p:0}function bf(){return!0}function RE(){return!1}function Po(p){function E(T,L,D,U,X){this._reactName=T,this._targetInst=D,this.type=L,this.nativeEvent=U,this.target=X,this.currentTarget=null;for(var de in p)p.hasOwnProperty(de)&&(T=p[de],this[de]=T?T(U):U[de]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?bf:RE,this.isPropagationStopped=RE,this}return re(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=bf)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=bf)},persist:function(){},isPersistent:bf}),E}var IE={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EF=Po(IE),Yy=re({},IE,{view:0,detail:0}),iDe=Po(Yy),vF,SF,Ky,QA=re({},Yy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yF,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Ky&&(Ky&&p.type==="mousemove"?(vF=p.screenX-Ky.screenX,SF=p.screenY-Ky.screenY):SF=vF=0,Ky=p),vF)},movementY:function(p){return"movementY"in p?p.movementY:SF}}),qQ=Po(QA),rDe=re({},QA,{dataTransfer:0}),sDe=Po(rDe),oDe=re({},Yy,{relatedTarget:0}),CF=Po(oDe),aDe=re({},IE,{animationName:0,elapsedTime:0,pseudoElement:0}),lDe=Po(aDe),cDe=re({},IE,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),uDe=Po(cDe),dDe=re({},IE,{data:0}),XQ=Po(dDe),hDe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fDe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gDe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pDe(p){var E=this.nativeEvent;return E.getModifierState?E.getModifierState(p):(p=gDe[p])?!!E[p]:!1}function yF(){return pDe}var mDe=re({},Yy,{key:function(p){if(p.key){var E=hDe[p.key]||p.key;if(E!=="Unidentified")return E}return p.type==="keypress"?(p=Lu(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?fDe[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yF,charCode:function(p){return p.type==="keypress"?Lu(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Lu(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),_De=Po(mDe),EDe=re({},QA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QQ=Po(EDe),vDe=re({},Yy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yF}),SDe=Po(vDe),CDe=re({},IE,{propertyName:0,elapsedTime:0,pseudoElement:0}),yDe=Po(CDe),bDe=re({},QA,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),TDe=Po(bDe),wDe=[9,13,27,32],bF=a&&"CompositionEvent"in window,qy=null;a&&"documentMode"in document&&(qy=document.documentMode);var ADe=a&&"TextEvent"in window&&!qy,ZQ=a&&(!bF||qy&&8<qy&&11>=qy),JQ=" ",eZ=!1;function tZ(p,E){switch(p){case"keyup":return wDe.indexOf(E.keyCode)!==-1;case"keydown":return E.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nZ(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var NE=!1;function RDe(p,E){switch(p){case"compositionend":return nZ(E);case"keypress":return E.which!==32?null:(eZ=!0,JQ);case"textInput":return p=E.data,p===JQ&&eZ?null:p;default:return null}}function IDe(p,E){if(NE)return p==="compositionend"||!bF&&tZ(p,E)?(p=Do(),xo=Yi=Qn=null,NE=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(E.ctrlKey||E.altKey||E.metaKey)||E.ctrlKey&&E.altKey){if(E.char&&1<E.char.length)return E.char;if(E.which)return String.fromCharCode(E.which)}return null;case"compositionend":return ZQ&&E.locale!=="ko"?null:E.data;default:return null}}var NDe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iZ(p){var E=p&&p.nodeName&&p.nodeName.toLowerCase();return E==="input"?!!NDe[p.type]:E==="textarea"}function rZ(p,E,T,L){vf(L),E=nR(E,"onChange"),0<E.length&&(T=new EF("onChange","change",null,T,L),p.push({event:T,listeners:E}))}var Xy=null,Qy=null;function LDe(p){yZ(p,0)}function ZA(p){var E=PE(p);if(me(E))return p}function ODe(p,E){if(p==="change")return E}var sZ=!1;if(a){var TF;if(a){var wF="oninput"in document;if(!wF){var oZ=document.createElement("div");oZ.setAttribute("oninput","return;"),wF=typeof oZ.oninput=="function"}TF=wF}else TF=!1;sZ=TF&&(!document.documentMode||9<document.documentMode)}function aZ(){Xy&&(Xy.detachEvent("onpropertychange",lZ),Qy=Xy=null)}function lZ(p){if(p.propertyName==="value"&&ZA(Qy)){var E=[];rZ(E,Qy,p,tl(p)),te(LDe,E)}}function xDe(p,E,T){p==="focusin"?(aZ(),Xy=E,Qy=T,Xy.attachEvent("onpropertychange",lZ)):p==="focusout"&&aZ()}function DDe(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return ZA(Qy)}function PDe(p,E){if(p==="click")return ZA(E)}function kDe(p,E){if(p==="input"||p==="change")return ZA(E)}function MDe(p,E){return p===E&&(p!==0||1/p===1/E)||p!==p&&E!==E}var bc=typeof Object.is=="function"?Object.is:MDe;function Zy(p,E){if(bc(p,E))return!0;if(typeof p!="object"||p===null||typeof E!="object"||E===null)return!1;var T=Object.keys(p),L=Object.keys(E);if(T.length!==L.length)return!1;for(L=0;L<T.length;L++){var D=T[L];if(!l.call(E,D)||!bc(p[D],E[D]))return!1}return!0}function cZ(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function uZ(p,E){var T=cZ(p);p=0;for(var L;T;){if(T.nodeType===3){if(L=p+T.textContent.length,p<=E&&L>=E)return{node:T,offset:E-p};p=L}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=cZ(T)}}function dZ(p,E){return p&&E?p===E?!0:p&&p.nodeType===3?!1:E&&E.nodeType===3?dZ(p,E.parentNode):"contains"in p?p.contains(E):p.compareDocumentPosition?!!(p.compareDocumentPosition(E)&16):!1:!1}function hZ(){for(var p=window,E=Te();E instanceof p.HTMLIFrameElement;){try{var T=typeof E.contentWindow.location.href=="string"}catch{T=!1}if(T)p=E.contentWindow;else break;E=Te(p.document)}return E}function AF(p){var E=p&&p.nodeName&&p.nodeName.toLowerCase();return E&&(E==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||E==="textarea"||p.contentEditable==="true")}function FDe(p){var E=hZ(),T=p.focusedElem,L=p.selectionRange;if(E!==T&&T&&T.ownerDocument&&dZ(T.ownerDocument.documentElement,T)){if(L!==null&&AF(T)){if(E=L.start,p=L.end,p===void 0&&(p=E),"selectionStart"in T)T.selectionStart=E,T.selectionEnd=Math.min(p,T.value.length);else if(p=(E=T.ownerDocument||document)&&E.defaultView||window,p.getSelection){p=p.getSelection();var D=T.textContent.length,U=Math.min(L.start,D);L=L.end===void 0?U:Math.min(L.end,D),!p.extend&&U>L&&(D=L,L=U,U=D),D=uZ(T,U);var X=uZ(T,L);D&&X&&(p.rangeCount!==1||p.anchorNode!==D.node||p.anchorOffset!==D.offset||p.focusNode!==X.node||p.focusOffset!==X.offset)&&(E=E.createRange(),E.setStart(D.node,D.offset),p.removeAllRanges(),U>L?(p.addRange(E),p.extend(X.node,X.offset)):(E.setEnd(X.node,X.offset),p.addRange(E)))}}for(E=[],p=T;p=p.parentNode;)p.nodeType===1&&E.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<E.length;T++)p=E[T],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var BDe=a&&"documentMode"in document&&11>=document.documentMode,LE=null,RF=null,Jy=null,IF=!1;function fZ(p,E,T){var L=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;IF||LE==null||LE!==Te(L)||(L=LE,"selectionStart"in L&&AF(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),Jy&&Zy(Jy,L)||(Jy=L,L=nR(RF,"onSelect"),0<L.length&&(E=new EF("onSelect","select",null,E,T),p.push({event:E,listeners:L}),E.target=LE)))}function JA(p,E){var T={};return T[p.toLowerCase()]=E.toLowerCase(),T["Webkit"+p]="webkit"+E,T["Moz"+p]="moz"+E,T}var OE={animationend:JA("Animation","AnimationEnd"),animationiteration:JA("Animation","AnimationIteration"),animationstart:JA("Animation","AnimationStart"),transitionend:JA("Transition","TransitionEnd")},NF={},gZ={};a&&(gZ=document.createElement("div").style,"AnimationEvent"in window||(delete OE.animationend.animation,delete OE.animationiteration.animation,delete OE.animationstart.animation),"TransitionEvent"in window||delete OE.transitionend.transition);function eR(p){if(NF[p])return NF[p];if(!OE[p])return p;var E=OE[p],T;for(T in E)if(E.hasOwnProperty(T)&&T in gZ)return NF[p]=E[T];return p}var pZ=eR("animationend"),mZ=eR("animationiteration"),_Z=eR("animationstart"),EZ=eR("transitionend"),vZ=new Map,SZ="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tf(p,E){vZ.set(p,E),s(E,[p])}for(var LF=0;LF<SZ.length;LF++){var OF=SZ[LF],UDe=OF.toLowerCase(),HDe=OF[0].toUpperCase()+OF.slice(1);Tf(UDe,"on"+HDe)}Tf(pZ,"onAnimationEnd"),Tf(mZ,"onAnimationIteration"),Tf(_Z,"onAnimationStart"),Tf("dblclick","onDoubleClick"),Tf("focusin","onFocus"),Tf("focusout","onBlur"),Tf(EZ,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VDe=new Set("cancel close invalid load scroll toggle".split(" ").concat(eb));function CZ(p,E,T){var L=p.type||"unknown-event";p.currentTarget=T,Ni(L,E,void 0,p),p.currentTarget=null}function yZ(p,E){E=(E&4)!==0;for(var T=0;T<p.length;T++){var L=p[T],D=L.event;L=L.listeners;e:{var U=void 0;if(E)for(var X=L.length-1;0<=X;X--){var de=L[X],_e=de.instance,Pe=de.currentTarget;if(de=de.listener,_e!==U&&D.isPropagationStopped())break e;CZ(D,de,Pe),U=_e}else for(X=0;X<L.length;X++){if(de=L[X],_e=de.instance,Pe=de.currentTarget,de=de.listener,_e!==U&&D.isPropagationStopped())break e;CZ(D,de,Pe),U=_e}}}if(dt)throw p=Kt,dt=!1,Kt=null,p}function _r(p,E){var T=E[UF];T===void 0&&(T=E[UF]=new Set);var L=p+"__bubble";T.has(L)||(bZ(E,p,2,!1),T.add(L))}function xF(p,E,T){var L=0;E&&(L|=4),bZ(T,p,L,E)}var tR="_reactListening"+Math.random().toString(36).slice(2);function tb(p){if(!p[tR]){p[tR]=!0,i.forEach(function(T){T!=="selectionchange"&&(VDe.has(T)||xF(T,!1,p),xF(T,!0,p))});var E=p.nodeType===9?p:p.ownerDocument;E===null||E[tR]||(E[tR]=!0,xF("selectionchange",!1,E))}}function bZ(p,E,T,L){switch(er(E)){case 1:var D=be;break;case 4:D=Fe;break;default:D=Ot}T=D.bind(null,E,T,p),D=void 0,!fe||E!=="touchstart"&&E!=="touchmove"&&E!=="wheel"||(D=!0),L?D!==void 0?p.addEventListener(E,T,{capture:!0,passive:D}):p.addEventListener(E,T,!0):D!==void 0?p.addEventListener(E,T,{passive:D}):p.addEventListener(E,T,!1)}function DF(p,E,T,L,D){var U=L;if((E&1)===0&&(E&2)===0&&L!==null)e:for(;;){if(L===null)return;var X=L.tag;if(X===3||X===4){var de=L.stateNode.containerInfo;if(de===D||de.nodeType===8&&de.parentNode===D)break;if(X===4)for(X=L.return;X!==null;){var _e=X.tag;if((_e===3||_e===4)&&(_e=X.stateNode.containerInfo,_e===D||_e.nodeType===8&&_e.parentNode===D))return;X=X.return}for(;de!==null;){if(X=Np(de),X===null)return;if(_e=X.tag,_e===5||_e===6){L=U=X;continue e}de=de.parentNode}}L=L.return}te(function(){var Pe=U,Xe=tl(T),et=[];e:{var Ke=vZ.get(p);if(Ke!==void 0){var bt=EF,xt=p;switch(p){case"keypress":if(Lu(T)===0)break e;case"keydown":case"keyup":bt=_De;break;case"focusin":xt="focus",bt=CF;break;case"focusout":xt="blur",bt=CF;break;case"beforeblur":case"afterblur":bt=CF;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=qQ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=sDe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=SDe;break;case pZ:case mZ:case _Z:bt=lDe;break;case EZ:bt=yDe;break;case"scroll":bt=iDe;break;case"wheel":bt=TDe;break;case"copy":case"cut":case"paste":bt=uDe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=QQ}var Mt=(E&4)!==0,Jr=!Mt&&p==="scroll",Re=Mt?Ke!==null?Ke+"Capture":null:Ke;Mt=[];for(var ye=Pe,Le;ye!==null;){Le=ye;var ot=Le.stateNode;if(Le.tag===5&&ot!==null&&(Le=ot,Re!==null&&(ot=se(ye,Re),ot!=null&&Mt.push(nb(ye,ot,Le)))),Jr)break;ye=ye.return}0<Mt.length&&(Ke=new bt(Ke,xt,null,T,Xe),et.push({event:Ke,listeners:Mt}))}}if((E&7)===0){e:{if(Ke=p==="mouseover"||p==="pointerover",bt=p==="mouseout"||p==="pointerout",Ke&&T!==Vn&&(xt=T.relatedTarget||T.fromElement)&&(Np(xt)||xt[Ud]))break e;if((bt||Ke)&&(Ke=Xe.window===Xe?Xe:(Ke=Xe.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,bt?(xt=T.relatedTarget||T.toElement,bt=Pe,xt=xt?Np(xt):null,xt!==null&&(Jr=Fn(xt),xt!==Jr||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(bt=null,xt=Pe),bt!==xt)){if(Mt=qQ,ot="onMouseLeave",Re="onMouseEnter",ye="mouse",(p==="pointerout"||p==="pointerover")&&(Mt=QQ,ot="onPointerLeave",Re="onPointerEnter",ye="pointer"),Jr=bt==null?Ke:PE(bt),Le=xt==null?Ke:PE(xt),Ke=new Mt(ot,ye+"leave",bt,T,Xe),Ke.target=Jr,Ke.relatedTarget=Le,ot=null,Np(Xe)===Pe&&(Mt=new Mt(Re,ye+"enter",xt,T,Xe),Mt.target=Le,Mt.relatedTarget=Jr,ot=Mt),Jr=ot,bt&&xt)t:{for(Mt=bt,Re=xt,ye=0,Le=Mt;Le;Le=xE(Le))ye++;for(Le=0,ot=Re;ot;ot=xE(ot))Le++;for(;0<ye-Le;)Mt=xE(Mt),ye--;for(;0<Le-ye;)Re=xE(Re),Le--;for(;ye--;){if(Mt===Re||Re!==null&&Mt===Re.alternate)break t;Mt=xE(Mt),Re=xE(Re)}Mt=null}else Mt=null;bt!==null&&TZ(et,Ke,bt,Mt,!1),xt!==null&&Jr!==null&&TZ(et,Jr,xt,Mt,!0)}}e:{if(Ke=Pe?PE(Pe):window,bt=Ke.nodeName&&Ke.nodeName.toLowerCase(),bt==="select"||bt==="input"&&Ke.type==="file")var Gt=ODe;else if(iZ(Ke))if(sZ)Gt=kDe;else{Gt=DDe;var nn=xDe}else(bt=Ke.nodeName)&&bt.toLowerCase()==="input"&&(Ke.type==="checkbox"||Ke.type==="radio")&&(Gt=PDe);if(Gt&&(Gt=Gt(p,Pe))){rZ(et,Gt,T,Xe);break e}nn&&nn(p,Ke,Pe),p==="focusout"&&(nn=Ke._wrapperState)&&nn.controlled&&Ke.type==="number"&&vt(Ke,"number",Ke.value)}switch(nn=Pe?PE(Pe):window,p){case"focusin":(iZ(nn)||nn.contentEditable==="true")&&(LE=nn,RF=Pe,Jy=null);break;case"focusout":Jy=RF=LE=null;break;case"mousedown":IF=!0;break;case"contextmenu":case"mouseup":case"dragend":IF=!1,fZ(et,T,Xe);break;case"selectionchange":if(BDe)break;case"keydown":case"keyup":fZ(et,T,Xe)}var rn;if(bF)e:{switch(p){case"compositionstart":var yn="onCompositionStart";break e;case"compositionend":yn="onCompositionEnd";break e;case"compositionupdate":yn="onCompositionUpdate";break e}yn=void 0}else NE?tZ(p,T)&&(yn="onCompositionEnd"):p==="keydown"&&T.keyCode===229&&(yn="onCompositionStart");yn&&(ZQ&&T.locale!=="ko"&&(NE||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&NE&&(rn=Do()):(Qn=Xe,Yi="value"in Qn?Qn.value:Qn.textContent,NE=!0)),nn=nR(Pe,yn),0<nn.length&&(yn=new XQ(yn,p,null,T,Xe),et.push({event:yn,listeners:nn}),rn?yn.data=rn:(rn=nZ(T),rn!==null&&(yn.data=rn)))),(rn=ADe?RDe(p,T):IDe(p,T))&&(Pe=nR(Pe,"onBeforeInput"),0<Pe.length&&(Xe=new XQ("onBeforeInput","beforeinput",null,T,Xe),et.push({event:Xe,listeners:Pe}),Xe.data=rn))}yZ(et,E)})}function nb(p,E,T){return{instance:p,listener:E,currentTarget:T}}function nR(p,E){for(var T=E+"Capture",L=[];p!==null;){var D=p,U=D.stateNode;D.tag===5&&U!==null&&(D=U,U=se(p,T),U!=null&&L.unshift(nb(p,U,D)),U=se(p,E),U!=null&&L.push(nb(p,U,D))),p=p.return}return L}function xE(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function TZ(p,E,T,L,D){for(var U=E._reactName,X=[];T!==null&&T!==L;){var de=T,_e=de.alternate,Pe=de.stateNode;if(_e!==null&&_e===L)break;de.tag===5&&Pe!==null&&(de=Pe,D?(_e=se(T,U),_e!=null&&X.unshift(nb(T,_e,de))):D||(_e=se(T,U),_e!=null&&X.push(nb(T,_e,de)))),T=T.return}X.length!==0&&p.push({event:E,listeners:X})}var WDe=/\r\n?/g,$De=/\u0000|\uFFFD/g;function wZ(p){return(typeof p=="string"?p:""+p).replace(WDe,`
`).replace($De,"")}function iR(p,E,T){if(E=wZ(E),wZ(p)!==E&&T)throw Error(t(425))}function rR(){}var PF=null,kF=null;function MF(p,E){return p==="textarea"||p==="noscript"||typeof E.children=="string"||typeof E.children=="number"||typeof E.dangerouslySetInnerHTML=="object"&&E.dangerouslySetInnerHTML!==null&&E.dangerouslySetInnerHTML.__html!=null}var FF=typeof setTimeout=="function"?setTimeout:void 0,GDe=typeof clearTimeout=="function"?clearTimeout:void 0,AZ=typeof Promise=="function"?Promise:void 0,zDe=typeof queueMicrotask=="function"?queueMicrotask:typeof AZ<"u"?function(p){return AZ.resolve(null).then(p).catch(jDe)}:FF;function jDe(p){setTimeout(function(){throw p})}function BF(p,E){var T=E,L=0;do{var D=T.nextSibling;if(p.removeChild(T),D&&D.nodeType===8)if(T=D.data,T==="/$"){if(L===0){p.removeChild(D),Cf(E);return}L--}else T!=="$"&&T!=="$?"&&T!=="$!"||L++;T=D}while(T);Cf(E)}function wf(p){for(;p!=null;p=p.nextSibling){var E=p.nodeType;if(E===1||E===3)break;if(E===8){if(E=p.data,E==="$"||E==="$!"||E==="$?")break;if(E==="/$")return null}}return p}function RZ(p){p=p.previousSibling;for(var E=0;p;){if(p.nodeType===8){var T=p.data;if(T==="$"||T==="$!"||T==="$?"){if(E===0)return p;E--}else T==="/$"&&E++}p=p.previousSibling}return null}var DE=Math.random().toString(36).slice(2),Ou="__reactFiber$"+DE,ib="__reactProps$"+DE,Ud="__reactContainer$"+DE,UF="__reactEvents$"+DE,YDe="__reactListeners$"+DE,KDe="__reactHandles$"+DE;function Np(p){var E=p[Ou];if(E)return E;for(var T=p.parentNode;T;){if(E=T[Ud]||T[Ou]){if(T=E.alternate,E.child!==null||T!==null&&T.child!==null)for(p=RZ(p);p!==null;){if(T=p[Ou])return T;p=RZ(p)}return E}p=T,T=p.parentNode}return null}function rb(p){return p=p[Ou]||p[Ud],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function PE(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(t(33))}function sR(p){return p[ib]||null}var HF=[],kE=-1;function Af(p){return{current:p}}function Er(p){0>kE||(p.current=HF[kE],HF[kE]=null,kE--)}function ur(p,E){kE++,HF[kE]=p.current,p.current=E}var Rf={},ko=Af(Rf),Na=Af(!1),Lp=Rf;function ME(p,E){var T=p.type.contextTypes;if(!T)return Rf;var L=p.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===E)return L.__reactInternalMemoizedMaskedChildContext;var D={},U;for(U in T)D[U]=E[U];return L&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=E,p.__reactInternalMemoizedMaskedChildContext=D),D}function La(p){return p=p.childContextTypes,p!=null}function oR(){Er(Na),Er(ko)}function IZ(p,E,T){if(ko.current!==Rf)throw Error(t(168));ur(ko,E),ur(Na,T)}function NZ(p,E,T){var L=p.stateNode;if(E=E.childContextTypes,typeof L.getChildContext!="function")return T;L=L.getChildContext();for(var D in L)if(!(D in E))throw Error(t(108,q(p)||"Unknown",D));return re({},T,L)}function aR(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Rf,Lp=ko.current,ur(ko,p),ur(Na,Na.current),!0}function LZ(p,E,T){var L=p.stateNode;if(!L)throw Error(t(169));T?(p=NZ(p,E,Lp),L.__reactInternalMemoizedMergedChildContext=p,Er(Na),Er(ko),ur(ko,p)):Er(Na),ur(Na,T)}var Hd=null,lR=!1,VF=!1;function OZ(p){Hd===null?Hd=[p]:Hd.push(p)}function qDe(p){lR=!0,OZ(p)}function If(){if(!VF&&Hd!==null){VF=!0;var p=0,E=Li;try{var T=Hd;for(Li=1;p<T.length;p++){var L=T[p];do L=L(!0);while(L!==null)}Hd=null,lR=!1}catch(D){throw Hd!==null&&(Hd=Hd.slice(p+1)),it(Ls,If),D}finally{Li=E,VF=!1}}return null}var FE=[],BE=0,cR=null,uR=0,Bl=[],Ul=0,Op=null,Vd=1,Wd="";function xp(p,E){FE[BE++]=uR,FE[BE++]=cR,cR=p,uR=E}function xZ(p,E,T){Bl[Ul++]=Vd,Bl[Ul++]=Wd,Bl[Ul++]=Op,Op=p;var L=Vd;p=Wd;var D=32-nl(L)-1;L&=~(1<<D),T+=1;var U=32-nl(E)+D;if(30<U){var X=D-D%5;U=(L&(1<<X)-1).toString(32),L>>=X,D-=X,Vd=1<<32-nl(E)+D|T<<D|L,Wd=U+p}else Vd=1<<U|T<<D|L,Wd=p}function WF(p){p.return!==null&&(xp(p,1),xZ(p,1,0))}function $F(p){for(;p===cR;)cR=FE[--BE],FE[BE]=null,uR=FE[--BE],FE[BE]=null;for(;p===Op;)Op=Bl[--Ul],Bl[Ul]=null,Wd=Bl[--Ul],Bl[Ul]=null,Vd=Bl[--Ul],Bl[Ul]=null}var il=null,rl=null,br=!1,Tc=null;function DZ(p,E){var T=$l(5,null,null,0);T.elementType="DELETED",T.stateNode=E,T.return=p,E=p.deletions,E===null?(p.deletions=[T],p.flags|=16):E.push(T)}function PZ(p,E){switch(p.tag){case 5:var T=p.type;return E=E.nodeType!==1||T.toLowerCase()!==E.nodeName.toLowerCase()?null:E,E!==null?(p.stateNode=E,il=p,rl=wf(E.firstChild),!0):!1;case 6:return E=p.pendingProps===""||E.nodeType!==3?null:E,E!==null?(p.stateNode=E,il=p,rl=null,!0):!1;case 13:return E=E.nodeType!==8?null:E,E!==null?(T=Op!==null?{id:Vd,overflow:Wd}:null,p.memoizedState={dehydrated:E,treeContext:T,retryLane:1073741824},T=$l(18,null,null,0),T.stateNode=E,T.return=p,p.child=T,il=p,rl=null,!0):!1;default:return!1}}function GF(p){return(p.mode&1)!==0&&(p.flags&128)===0}function zF(p){if(br){var E=rl;if(E){var T=E;if(!PZ(p,E)){if(GF(p))throw Error(t(418));E=wf(T.nextSibling);var L=il;E&&PZ(p,E)?DZ(L,T):(p.flags=p.flags&-4097|2,br=!1,il=p)}}else{if(GF(p))throw Error(t(418));p.flags=p.flags&-4097|2,br=!1,il=p}}}function kZ(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;il=p}function dR(p){if(p!==il)return!1;if(!br)return kZ(p),br=!0,!1;var E;if((E=p.tag!==3)&&!(E=p.tag!==5)&&(E=p.type,E=E!=="head"&&E!=="body"&&!MF(p.type,p.memoizedProps)),E&&(E=rl)){if(GF(p))throw MZ(),Error(t(418));for(;E;)DZ(p,E),E=wf(E.nextSibling)}if(kZ(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));e:{for(p=p.nextSibling,E=0;p;){if(p.nodeType===8){var T=p.data;if(T==="/$"){if(E===0){rl=wf(p.nextSibling);break e}E--}else T!=="$"&&T!=="$!"&&T!=="$?"||E++}p=p.nextSibling}rl=null}}else rl=il?wf(p.stateNode.nextSibling):null;return!0}function MZ(){for(var p=rl;p;)p=wf(p.nextSibling)}function UE(){rl=il=null,br=!1}function jF(p){Tc===null?Tc=[p]:Tc.push(p)}var XDe=y.ReactCurrentBatchConfig;function sb(p,E,T){if(p=T.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(t(309));var L=T.stateNode}if(!L)throw Error(t(147,p));var D=L,U=""+p;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===U?E.ref:(E=function(X){var de=D.refs;X===null?delete de[U]:de[U]=X},E._stringRef=U,E)}if(typeof p!="string")throw Error(t(284));if(!T._owner)throw Error(t(290,p))}return p}function hR(p,E){throw p=Object.prototype.toString.call(E),Error(t(31,p==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":p))}function FZ(p){var E=p._init;return E(p._payload)}function BZ(p){function E(Re,ye){if(p){var Le=Re.deletions;Le===null?(Re.deletions=[ye],Re.flags|=16):Le.push(ye)}}function T(Re,ye){if(!p)return null;for(;ye!==null;)E(Re,ye),ye=ye.sibling;return null}function L(Re,ye){for(Re=new Map;ye!==null;)ye.key!==null?Re.set(ye.key,ye):Re.set(ye.index,ye),ye=ye.sibling;return Re}function D(Re,ye){return Re=Mf(Re,ye),Re.index=0,Re.sibling=null,Re}function U(Re,ye,Le){return Re.index=Le,p?(Le=Re.alternate,Le!==null?(Le=Le.index,Le<ye?(Re.flags|=2,ye):Le):(Re.flags|=2,ye)):(Re.flags|=1048576,ye)}function X(Re){return p&&Re.alternate===null&&(Re.flags|=2),Re}function de(Re,ye,Le,ot){return ye===null||ye.tag!==6?(ye=FB(Le,Re.mode,ot),ye.return=Re,ye):(ye=D(ye,Le),ye.return=Re,ye)}function _e(Re,ye,Le,ot){var Gt=Le.type;return Gt===I?Xe(Re,ye,Le.props.children,ot,Le.key):ye!==null&&(ye.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===V&&FZ(Gt)===ye.type)?(ot=D(ye,Le.props),ot.ref=sb(Re,ye,Le),ot.return=Re,ot):(ot=FR(Le.type,Le.key,Le.props,null,Re.mode,ot),ot.ref=sb(Re,ye,Le),ot.return=Re,ot)}function Pe(Re,ye,Le,ot){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Le.containerInfo||ye.stateNode.implementation!==Le.implementation?(ye=BB(Le,Re.mode,ot),ye.return=Re,ye):(ye=D(ye,Le.children||[]),ye.return=Re,ye)}function Xe(Re,ye,Le,ot,Gt){return ye===null||ye.tag!==7?(ye=Hp(Le,Re.mode,ot,Gt),ye.return=Re,ye):(ye=D(ye,Le),ye.return=Re,ye)}function et(Re,ye,Le){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=FB(""+ye,Re.mode,Le),ye.return=Re,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return Le=FR(ye.type,ye.key,ye.props,null,Re.mode,Le),Le.ref=sb(Re,null,ye),Le.return=Re,Le;case w:return ye=BB(ye,Re.mode,Le),ye.return=Re,ye;case V:var ot=ye._init;return et(Re,ot(ye._payload),Le)}if(Yt(ye)||K(ye))return ye=Hp(ye,Re.mode,Le,null),ye.return=Re,ye;hR(Re,ye)}return null}function Ke(Re,ye,Le,ot){var Gt=ye!==null?ye.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Gt!==null?null:de(Re,ye,""+Le,ot);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:return Le.key===Gt?_e(Re,ye,Le,ot):null;case w:return Le.key===Gt?Pe(Re,ye,Le,ot):null;case V:return Gt=Le._init,Ke(Re,ye,Gt(Le._payload),ot)}if(Yt(Le)||K(Le))return Gt!==null?null:Xe(Re,ye,Le,ot,null);hR(Re,Le)}return null}function bt(Re,ye,Le,ot,Gt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Re=Re.get(Le)||null,de(ye,Re,""+ot,Gt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case b:return Re=Re.get(ot.key===null?Le:ot.key)||null,_e(ye,Re,ot,Gt);case w:return Re=Re.get(ot.key===null?Le:ot.key)||null,Pe(ye,Re,ot,Gt);case V:var nn=ot._init;return bt(Re,ye,Le,nn(ot._payload),Gt)}if(Yt(ot)||K(ot))return Re=Re.get(Le)||null,Xe(ye,Re,ot,Gt,null);hR(ye,ot)}return null}function xt(Re,ye,Le,ot){for(var Gt=null,nn=null,rn=ye,yn=ye=0,Xs=null;rn!==null&&yn<Le.length;yn++){rn.index>yn?(Xs=rn,rn=null):Xs=rn.sibling;var Oi=Ke(Re,rn,Le[yn],ot);if(Oi===null){rn===null&&(rn=Xs);break}p&&rn&&Oi.alternate===null&&E(Re,rn),ye=U(Oi,ye,yn),nn===null?Gt=Oi:nn.sibling=Oi,nn=Oi,rn=Xs}if(yn===Le.length)return T(Re,rn),br&&xp(Re,yn),Gt;if(rn===null){for(;yn<Le.length;yn++)rn=et(Re,Le[yn],ot),rn!==null&&(ye=U(rn,ye,yn),nn===null?Gt=rn:nn.sibling=rn,nn=rn);return br&&xp(Re,yn),Gt}for(rn=L(Re,rn);yn<Le.length;yn++)Xs=bt(rn,Re,yn,Le[yn],ot),Xs!==null&&(p&&Xs.alternate!==null&&rn.delete(Xs.key===null?yn:Xs.key),ye=U(Xs,ye,yn),nn===null?Gt=Xs:nn.sibling=Xs,nn=Xs);return p&&rn.forEach(function(Ff){return E(Re,Ff)}),br&&xp(Re,yn),Gt}function Mt(Re,ye,Le,ot){var Gt=K(Le);if(typeof Gt!="function")throw Error(t(150));if(Le=Gt.call(Le),Le==null)throw Error(t(151));for(var nn=Gt=null,rn=ye,yn=ye=0,Xs=null,Oi=Le.next();rn!==null&&!Oi.done;yn++,Oi=Le.next()){rn.index>yn?(Xs=rn,rn=null):Xs=rn.sibling;var Ff=Ke(Re,rn,Oi.value,ot);if(Ff===null){rn===null&&(rn=Xs);break}p&&rn&&Ff.alternate===null&&E(Re,rn),ye=U(Ff,ye,yn),nn===null?Gt=Ff:nn.sibling=Ff,nn=Ff,rn=Xs}if(Oi.done)return T(Re,rn),br&&xp(Re,yn),Gt;if(rn===null){for(;!Oi.done;yn++,Oi=Le.next())Oi=et(Re,Oi.value,ot),Oi!==null&&(ye=U(Oi,ye,yn),nn===null?Gt=Oi:nn.sibling=Oi,nn=Oi);return br&&xp(Re,yn),Gt}for(rn=L(Re,rn);!Oi.done;yn++,Oi=Le.next())Oi=bt(rn,Re,yn,Oi.value,ot),Oi!==null&&(p&&Oi.alternate!==null&&rn.delete(Oi.key===null?yn:Oi.key),ye=U(Oi,ye,yn),nn===null?Gt=Oi:nn.sibling=Oi,nn=Oi);return p&&rn.forEach(function(NPe){return E(Re,NPe)}),br&&xp(Re,yn),Gt}function Jr(Re,ye,Le,ot){if(typeof Le=="object"&&Le!==null&&Le.type===I&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:e:{for(var Gt=Le.key,nn=ye;nn!==null;){if(nn.key===Gt){if(Gt=Le.type,Gt===I){if(nn.tag===7){T(Re,nn.sibling),ye=D(nn,Le.props.children),ye.return=Re,Re=ye;break e}}else if(nn.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===V&&FZ(Gt)===nn.type){T(Re,nn.sibling),ye=D(nn,Le.props),ye.ref=sb(Re,nn,Le),ye.return=Re,Re=ye;break e}T(Re,nn);break}else E(Re,nn);nn=nn.sibling}Le.type===I?(ye=Hp(Le.props.children,Re.mode,ot,Le.key),ye.return=Re,Re=ye):(ot=FR(Le.type,Le.key,Le.props,null,Re.mode,ot),ot.ref=sb(Re,ye,Le),ot.return=Re,Re=ot)}return X(Re);case w:e:{for(nn=Le.key;ye!==null;){if(ye.key===nn)if(ye.tag===4&&ye.stateNode.containerInfo===Le.containerInfo&&ye.stateNode.implementation===Le.implementation){T(Re,ye.sibling),ye=D(ye,Le.children||[]),ye.return=Re,Re=ye;break e}else{T(Re,ye);break}else E(Re,ye);ye=ye.sibling}ye=BB(Le,Re.mode,ot),ye.return=Re,Re=ye}return X(Re);case V:return nn=Le._init,Jr(Re,ye,nn(Le._payload),ot)}if(Yt(Le))return xt(Re,ye,Le,ot);if(K(Le))return Mt(Re,ye,Le,ot);hR(Re,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"?(Le=""+Le,ye!==null&&ye.tag===6?(T(Re,ye.sibling),ye=D(ye,Le),ye.return=Re,Re=ye):(T(Re,ye),ye=FB(Le,Re.mode,ot),ye.return=Re,Re=ye),X(Re)):T(Re,ye)}return Jr}var HE=BZ(!0),UZ=BZ(!1),fR=Af(null),gR=null,VE=null,YF=null;function KF(){YF=VE=gR=null}function qF(p){var E=fR.current;Er(fR),p._currentValue=E}function XF(p,E,T){for(;p!==null;){var L=p.alternate;if((p.childLanes&E)!==E?(p.childLanes|=E,L!==null&&(L.childLanes|=E)):L!==null&&(L.childLanes&E)!==E&&(L.childLanes|=E),p===T)break;p=p.return}}function WE(p,E){gR=p,YF=VE=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&E)!==0&&(Oa=!0),p.firstContext=null)}function Hl(p){var E=p._currentValue;if(YF!==p)if(p={context:p,memoizedValue:E,next:null},VE===null){if(gR===null)throw Error(t(308));VE=p,gR.dependencies={lanes:0,firstContext:p}}else VE=VE.next=p;return E}var Dp=null;function QF(p){Dp===null?Dp=[p]:Dp.push(p)}function HZ(p,E,T,L){var D=E.interleaved;return D===null?(T.next=T,QF(E)):(T.next=D.next,D.next=T),E.interleaved=T,$d(p,L)}function $d(p,E){p.lanes|=E;var T=p.alternate;for(T!==null&&(T.lanes|=E),T=p,p=p.return;p!==null;)p.childLanes|=E,T=p.alternate,T!==null&&(T.childLanes|=E),T=p,p=p.return;return T.tag===3?T.stateNode:null}var Nf=!1;function ZF(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VZ(p,E){p=p.updateQueue,E.updateQueue===p&&(E.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Gd(p,E){return{eventTime:p,lane:E,tag:0,payload:null,callback:null,next:null}}function Lf(p,E,T){var L=p.updateQueue;if(L===null)return null;if(L=L.shared,(Ri&2)!==0){var D=L.pending;return D===null?E.next=E:(E.next=D.next,D.next=E),L.pending=E,$d(p,T)}return D=L.interleaved,D===null?(E.next=E,QF(L)):(E.next=D.next,D.next=E),L.interleaved=E,$d(p,T)}function pR(p,E,T){if(E=E.updateQueue,E!==null&&(E=E.shared,(T&4194240)!==0)){var L=E.lanes;L&=p.pendingLanes,T|=L,E.lanes=T,Wy(p,T)}}function WZ(p,E){var T=p.updateQueue,L=p.alternate;if(L!==null&&(L=L.updateQueue,T===L)){var D=null,U=null;if(T=T.firstBaseUpdate,T!==null){do{var X={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};U===null?D=U=X:U=U.next=X,T=T.next}while(T!==null);U===null?D=U=E:U=U.next=E}else D=U=E;T={baseState:L.baseState,firstBaseUpdate:D,lastBaseUpdate:U,shared:L.shared,effects:L.effects},p.updateQueue=T;return}p=T.lastBaseUpdate,p===null?T.firstBaseUpdate=E:p.next=E,T.lastBaseUpdate=E}function mR(p,E,T,L){var D=p.updateQueue;Nf=!1;var U=D.firstBaseUpdate,X=D.lastBaseUpdate,de=D.shared.pending;if(de!==null){D.shared.pending=null;var _e=de,Pe=_e.next;_e.next=null,X===null?U=Pe:X.next=Pe,X=_e;var Xe=p.alternate;Xe!==null&&(Xe=Xe.updateQueue,de=Xe.lastBaseUpdate,de!==X&&(de===null?Xe.firstBaseUpdate=Pe:de.next=Pe,Xe.lastBaseUpdate=_e))}if(U!==null){var et=D.baseState;X=0,Xe=Pe=_e=null,de=U;do{var Ke=de.lane,bt=de.eventTime;if((L&Ke)===Ke){Xe!==null&&(Xe=Xe.next={eventTime:bt,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var xt=p,Mt=de;switch(Ke=E,bt=T,Mt.tag){case 1:if(xt=Mt.payload,typeof xt=="function"){et=xt.call(bt,et,Ke);break e}et=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Mt.payload,Ke=typeof xt=="function"?xt.call(bt,et,Ke):xt,Ke==null)break e;et=re({},et,Ke);break e;case 2:Nf=!0}}de.callback!==null&&de.lane!==0&&(p.flags|=64,Ke=D.effects,Ke===null?D.effects=[de]:Ke.push(de))}else bt={eventTime:bt,lane:Ke,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Xe===null?(Pe=Xe=bt,_e=et):Xe=Xe.next=bt,X|=Ke;if(de=de.next,de===null){if(de=D.shared.pending,de===null)break;Ke=de,de=Ke.next,Ke.next=null,D.lastBaseUpdate=Ke,D.shared.pending=null}}while(!0);if(Xe===null&&(_e=et),D.baseState=_e,D.firstBaseUpdate=Pe,D.lastBaseUpdate=Xe,E=D.shared.interleaved,E!==null){D=E;do X|=D.lane,D=D.next;while(D!==E)}else U===null&&(D.shared.lanes=0);Mp|=X,p.lanes=X,p.memoizedState=et}}function $Z(p,E,T){if(p=E.effects,E.effects=null,p!==null)for(E=0;E<p.length;E++){var L=p[E],D=L.callback;if(D!==null){if(L.callback=null,L=T,typeof D!="function")throw Error(t(191,D));D.call(L)}}}var ob={},xu=Af(ob),ab=Af(ob),lb=Af(ob);function Pp(p){if(p===ob)throw Error(t(174));return p}function JF(p,E){switch(ur(lb,E),ur(ab,p),ur(xu,ob),p=E.nodeType,p){case 9:case 11:E=(E=E.documentElement)?E.namespaceURI:ze(null,"");break;default:p=p===8?E.parentNode:E,E=p.namespaceURI||null,p=p.tagName,E=ze(E,p)}Er(xu),ur(xu,E)}function $E(){Er(xu),Er(ab),Er(lb)}function GZ(p){Pp(lb.current);var E=Pp(xu.current),T=ze(E,p.type);E!==T&&(ur(ab,p),ur(xu,T))}function eB(p){ab.current===p&&(Er(xu),Er(ab))}var Rr=Af(0);function _R(p){for(var E=p;E!==null;){if(E.tag===13){var T=E.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||T.data==="$!"))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if((E.flags&128)!==0)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var tB=[];function nB(){for(var p=0;p<tB.length;p++)tB[p]._workInProgressVersionPrimary=null;tB.length=0}var ER=y.ReactCurrentDispatcher,iB=y.ReactCurrentBatchConfig,kp=0,Ir=null,Os=null,Ks=null,vR=!1,cb=!1,ub=0,QDe=0;function Mo(){throw Error(t(321))}function rB(p,E){if(E===null)return!1;for(var T=0;T<E.length&&T<p.length;T++)if(!bc(p[T],E[T]))return!1;return!0}function sB(p,E,T,L,D,U){if(kp=U,Ir=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,ER.current=p===null||p.memoizedState===null?tPe:nPe,p=T(L,D),cb){U=0;do{if(cb=!1,ub=0,25<=U)throw Error(t(301));U+=1,Ks=Os=null,E.updateQueue=null,ER.current=iPe,p=T(L,D)}while(cb)}if(ER.current=yR,E=Os!==null&&Os.next!==null,kp=0,Ks=Os=Ir=null,vR=!1,E)throw Error(t(300));return p}function oB(){var p=ub!==0;return ub=0,p}function Du(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ks===null?Ir.memoizedState=Ks=p:Ks=Ks.next=p,Ks}function Vl(){if(Os===null){var p=Ir.alternate;p=p!==null?p.memoizedState:null}else p=Os.next;var E=Ks===null?Ir.memoizedState:Ks.next;if(E!==null)Ks=E,Os=p;else{if(p===null)throw Error(t(310));Os=p,p={memoizedState:Os.memoizedState,baseState:Os.baseState,baseQueue:Os.baseQueue,queue:Os.queue,next:null},Ks===null?Ir.memoizedState=Ks=p:Ks=Ks.next=p}return Ks}function db(p,E){return typeof E=="function"?E(p):E}function aB(p){var E=Vl(),T=E.queue;if(T===null)throw Error(t(311));T.lastRenderedReducer=p;var L=Os,D=L.baseQueue,U=T.pending;if(U!==null){if(D!==null){var X=D.next;D.next=U.next,U.next=X}L.baseQueue=D=U,T.pending=null}if(D!==null){U=D.next,L=L.baseState;var de=X=null,_e=null,Pe=U;do{var Xe=Pe.lane;if((kp&Xe)===Xe)_e!==null&&(_e=_e.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),L=Pe.hasEagerState?Pe.eagerState:p(L,Pe.action);else{var et={lane:Xe,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};_e===null?(de=_e=et,X=L):_e=_e.next=et,Ir.lanes|=Xe,Mp|=Xe}Pe=Pe.next}while(Pe!==null&&Pe!==U);_e===null?X=L:_e.next=de,bc(L,E.memoizedState)||(Oa=!0),E.memoizedState=L,E.baseState=X,E.baseQueue=_e,T.lastRenderedState=L}if(p=T.interleaved,p!==null){D=p;do U=D.lane,Ir.lanes|=U,Mp|=U,D=D.next;while(D!==p)}else D===null&&(T.lanes=0);return[E.memoizedState,T.dispatch]}function lB(p){var E=Vl(),T=E.queue;if(T===null)throw Error(t(311));T.lastRenderedReducer=p;var L=T.dispatch,D=T.pending,U=E.memoizedState;if(D!==null){T.pending=null;var X=D=D.next;do U=p(U,X.action),X=X.next;while(X!==D);bc(U,E.memoizedState)||(Oa=!0),E.memoizedState=U,E.baseQueue===null&&(E.baseState=U),T.lastRenderedState=U}return[U,L]}function zZ(){}function jZ(p,E){var T=Ir,L=Vl(),D=E(),U=!bc(L.memoizedState,D);if(U&&(L.memoizedState=D,Oa=!0),L=L.queue,cB(qZ.bind(null,T,L,p),[p]),L.getSnapshot!==E||U||Ks!==null&&Ks.memoizedState.tag&1){if(T.flags|=2048,hb(9,KZ.bind(null,T,L,D,E),void 0,null),qs===null)throw Error(t(349));(kp&30)!==0||YZ(T,E,D)}return D}function YZ(p,E,T){p.flags|=16384,p={getSnapshot:E,value:T},E=Ir.updateQueue,E===null?(E={lastEffect:null,stores:null},Ir.updateQueue=E,E.stores=[p]):(T=E.stores,T===null?E.stores=[p]:T.push(p))}function KZ(p,E,T,L){E.value=T,E.getSnapshot=L,XZ(E)&&QZ(p)}function qZ(p,E,T){return T(function(){XZ(E)&&QZ(p)})}function XZ(p){var E=p.getSnapshot;p=p.value;try{var T=E();return!bc(p,T)}catch{return!0}}function QZ(p){var E=$d(p,1);E!==null&&Ic(E,p,1,-1)}function ZZ(p){var E=Du();return typeof p=="function"&&(p=p()),E.memoizedState=E.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:db,lastRenderedState:p},E.queue=p,p=p.dispatch=ePe.bind(null,Ir,p),[E.memoizedState,p]}function hb(p,E,T,L){return p={tag:p,create:E,destroy:T,deps:L,next:null},E=Ir.updateQueue,E===null?(E={lastEffect:null,stores:null},Ir.updateQueue=E,E.lastEffect=p.next=p):(T=E.lastEffect,T===null?E.lastEffect=p.next=p:(L=T.next,T.next=p,p.next=L,E.lastEffect=p)),p}function JZ(){return Vl().memoizedState}function SR(p,E,T,L){var D=Du();Ir.flags|=p,D.memoizedState=hb(1|E,T,void 0,L===void 0?null:L)}function CR(p,E,T,L){var D=Vl();L=L===void 0?null:L;var U=void 0;if(Os!==null){var X=Os.memoizedState;if(U=X.destroy,L!==null&&rB(L,X.deps)){D.memoizedState=hb(E,T,U,L);return}}Ir.flags|=p,D.memoizedState=hb(1|E,T,U,L)}function eJ(p,E){return SR(8390656,8,p,E)}function cB(p,E){return CR(2048,8,p,E)}function tJ(p,E){return CR(4,2,p,E)}function nJ(p,E){return CR(4,4,p,E)}function iJ(p,E){if(typeof E=="function")return p=p(),E(p),function(){E(null)};if(E!=null)return p=p(),E.current=p,function(){E.current=null}}function rJ(p,E,T){return T=T!=null?T.concat([p]):null,CR(4,4,iJ.bind(null,E,p),T)}function uB(){}function sJ(p,E){var T=Vl();E=E===void 0?null:E;var L=T.memoizedState;return L!==null&&E!==null&&rB(E,L[1])?L[0]:(T.memoizedState=[p,E],p)}function oJ(p,E){var T=Vl();E=E===void 0?null:E;var L=T.memoizedState;return L!==null&&E!==null&&rB(E,L[1])?L[0]:(p=p(),T.memoizedState=[p,E],p)}function aJ(p,E,T){return(kp&21)===0?(p.baseState&&(p.baseState=!1,Oa=!0),p.memoizedState=T):(bc(T,E)||(T=zA(),Ir.lanes|=T,Mp|=T,p.baseState=!0),E)}function ZDe(p,E){var T=Li;Li=T!==0&&4>T?T:4,p(!0);var L=iB.transition;iB.transition={};try{p(!1),E()}finally{Li=T,iB.transition=L}}function lJ(){return Vl().memoizedState}function JDe(p,E,T){var L=Pf(p);if(T={lane:L,action:T,hasEagerState:!1,eagerState:null,next:null},cJ(p))uJ(E,T);else if(T=HZ(p,E,T,L),T!==null){var D=ra();Ic(T,p,L,D),dJ(T,E,L)}}function ePe(p,E,T){var L=Pf(p),D={lane:L,action:T,hasEagerState:!1,eagerState:null,next:null};if(cJ(p))uJ(E,D);else{var U=p.alternate;if(p.lanes===0&&(U===null||U.lanes===0)&&(U=E.lastRenderedReducer,U!==null))try{var X=E.lastRenderedState,de=U(X,T);if(D.hasEagerState=!0,D.eagerState=de,bc(de,X)){var _e=E.interleaved;_e===null?(D.next=D,QF(E)):(D.next=_e.next,_e.next=D),E.interleaved=D;return}}catch{}finally{}T=HZ(p,E,D,L),T!==null&&(D=ra(),Ic(T,p,L,D),dJ(T,E,L))}}function cJ(p){var E=p.alternate;return p===Ir||E!==null&&E===Ir}function uJ(p,E){cb=vR=!0;var T=p.pending;T===null?E.next=E:(E.next=T.next,T.next=E),p.pending=E}function dJ(p,E,T){if((T&4194240)!==0){var L=E.lanes;L&=p.pendingLanes,T|=L,E.lanes=T,Wy(p,T)}}var yR={readContext:Hl,useCallback:Mo,useContext:Mo,useEffect:Mo,useImperativeHandle:Mo,useInsertionEffect:Mo,useLayoutEffect:Mo,useMemo:Mo,useReducer:Mo,useRef:Mo,useState:Mo,useDebugValue:Mo,useDeferredValue:Mo,useTransition:Mo,useMutableSource:Mo,useSyncExternalStore:Mo,useId:Mo,unstable_isNewReconciler:!1},tPe={readContext:Hl,useCallback:function(p,E){return Du().memoizedState=[p,E===void 0?null:E],p},useContext:Hl,useEffect:eJ,useImperativeHandle:function(p,E,T){return T=T!=null?T.concat([p]):null,SR(4194308,4,iJ.bind(null,E,p),T)},useLayoutEffect:function(p,E){return SR(4194308,4,p,E)},useInsertionEffect:function(p,E){return SR(4,2,p,E)},useMemo:function(p,E){var T=Du();return E=E===void 0?null:E,p=p(),T.memoizedState=[p,E],p},useReducer:function(p,E,T){var L=Du();return E=T!==void 0?T(E):E,L.memoizedState=L.baseState=E,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:E},L.queue=p,p=p.dispatch=JDe.bind(null,Ir,p),[L.memoizedState,p]},useRef:function(p){var E=Du();return p={current:p},E.memoizedState=p},useState:ZZ,useDebugValue:uB,useDeferredValue:function(p){return Du().memoizedState=p},useTransition:function(){var p=ZZ(!1),E=p[0];return p=ZDe.bind(null,p[1]),Du().memoizedState=p,[E,p]},useMutableSource:function(){},useSyncExternalStore:function(p,E,T){var L=Ir,D=Du();if(br){if(T===void 0)throw Error(t(407));T=T()}else{if(T=E(),qs===null)throw Error(t(349));(kp&30)!==0||YZ(L,E,T)}D.memoizedState=T;var U={value:T,getSnapshot:E};return D.queue=U,eJ(qZ.bind(null,L,U,p),[p]),L.flags|=2048,hb(9,KZ.bind(null,L,U,T,E),void 0,null),T},useId:function(){var p=Du(),E=qs.identifierPrefix;if(br){var T=Wd,L=Vd;T=(L&~(1<<32-nl(L)-1)).toString(32)+T,E=":"+E+"R"+T,T=ub++,0<T&&(E+="H"+T.toString(32)),E+=":"}else T=QDe++,E=":"+E+"r"+T.toString(32)+":";return p.memoizedState=E},unstable_isNewReconciler:!1},nPe={readContext:Hl,useCallback:sJ,useContext:Hl,useEffect:cB,useImperativeHandle:rJ,useInsertionEffect:tJ,useLayoutEffect:nJ,useMemo:oJ,useReducer:aB,useRef:JZ,useState:function(){return aB(db)},useDebugValue:uB,useDeferredValue:function(p){var E=Vl();return aJ(E,Os.memoizedState,p)},useTransition:function(){var p=aB(db)[0],E=Vl().memoizedState;return[p,E]},useMutableSource:zZ,useSyncExternalStore:jZ,useId:lJ,unstable_isNewReconciler:!1},iPe={readContext:Hl,useCallback:sJ,useContext:Hl,useEffect:cB,useImperativeHandle:rJ,useInsertionEffect:tJ,useLayoutEffect:nJ,useMemo:oJ,useReducer:lB,useRef:JZ,useState:function(){return lB(db)},useDebugValue:uB,useDeferredValue:function(p){var E=Vl();return Os===null?E.memoizedState=p:aJ(E,Os.memoizedState,p)},useTransition:function(){var p=lB(db)[0],E=Vl().memoizedState;return[p,E]},useMutableSource:zZ,useSyncExternalStore:jZ,useId:lJ,unstable_isNewReconciler:!1};function wc(p,E){if(p&&p.defaultProps){E=re({},E),p=p.defaultProps;for(var T in p)E[T]===void 0&&(E[T]=p[T]);return E}return E}function dB(p,E,T,L){E=p.memoizedState,T=T(L,E),T=T==null?E:re({},E,T),p.memoizedState=T,p.lanes===0&&(p.updateQueue.baseState=T)}var bR={isMounted:function(p){return(p=p._reactInternals)?Fn(p)===p:!1},enqueueSetState:function(p,E,T){p=p._reactInternals;var L=ra(),D=Pf(p),U=Gd(L,D);U.payload=E,T!=null&&(U.callback=T),E=Lf(p,U,D),E!==null&&(Ic(E,p,D,L),pR(E,p,D))},enqueueReplaceState:function(p,E,T){p=p._reactInternals;var L=ra(),D=Pf(p),U=Gd(L,D);U.tag=1,U.payload=E,T!=null&&(U.callback=T),E=Lf(p,U,D),E!==null&&(Ic(E,p,D,L),pR(E,p,D))},enqueueForceUpdate:function(p,E){p=p._reactInternals;var T=ra(),L=Pf(p),D=Gd(T,L);D.tag=2,E!=null&&(D.callback=E),E=Lf(p,D,L),E!==null&&(Ic(E,p,L,T),pR(E,p,L))}};function hJ(p,E,T,L,D,U,X){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(L,U,X):E.prototype&&E.prototype.isPureReactComponent?!Zy(T,L)||!Zy(D,U):!0}function fJ(p,E,T){var L=!1,D=Rf,U=E.contextType;return typeof U=="object"&&U!==null?U=Hl(U):(D=La(E)?Lp:ko.current,L=E.contextTypes,U=(L=L!=null)?ME(p,D):Rf),E=new E(T,U),p.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=bR,p.stateNode=E,E._reactInternals=p,L&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=D,p.__reactInternalMemoizedMaskedChildContext=U),E}function gJ(p,E,T,L){p=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(T,L),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(T,L),E.state!==p&&bR.enqueueReplaceState(E,E.state,null)}function hB(p,E,T,L){var D=p.stateNode;D.props=T,D.state=p.memoizedState,D.refs={},ZF(p);var U=E.contextType;typeof U=="object"&&U!==null?D.context=Hl(U):(U=La(E)?Lp:ko.current,D.context=ME(p,U)),D.state=p.memoizedState,U=E.getDerivedStateFromProps,typeof U=="function"&&(dB(p,E,U,T),D.state=p.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(E=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),E!==D.state&&bR.enqueueReplaceState(D,D.state,null),mR(p,T,D,L),D.state=p.memoizedState),typeof D.componentDidMount=="function"&&(p.flags|=4194308)}function GE(p,E){try{var T="",L=E;do T+=ne(L),L=L.return;while(L);var D=T}catch(U){D=`
Error generating stack: `+U.message+`
`+U.stack}return{value:p,source:E,stack:D,digest:null}}function fB(p,E,T){return{value:p,source:null,stack:T??null,digest:E??null}}function gB(p,E){try{console.error(E.value)}catch(T){setTimeout(function(){throw T})}}var rPe=typeof WeakMap=="function"?WeakMap:Map;function pJ(p,E,T){T=Gd(-1,T),T.tag=3,T.payload={element:null};var L=E.value;return T.callback=function(){LR||(LR=!0,NB=L),gB(p,E)},T}function mJ(p,E,T){T=Gd(-1,T),T.tag=3;var L=p.type.getDerivedStateFromError;if(typeof L=="function"){var D=E.value;T.payload=function(){return L(D)},T.callback=function(){gB(p,E)}}var U=p.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(T.callback=function(){gB(p,E),typeof L!="function"&&(xf===null?xf=new Set([this]):xf.add(this));var X=E.stack;this.componentDidCatch(E.value,{componentStack:X!==null?X:""})}),T}function _J(p,E,T){var L=p.pingCache;if(L===null){L=p.pingCache=new rPe;var D=new Set;L.set(E,D)}else D=L.get(E),D===void 0&&(D=new Set,L.set(E,D));D.has(T)||(D.add(T),p=EPe.bind(null,p,E,T),E.then(p,p))}function EJ(p){do{var E;if((E=p.tag===13)&&(E=p.memoizedState,E=E!==null?E.dehydrated!==null:!0),E)return p;p=p.return}while(p!==null);return null}function vJ(p,E,T,L,D){return(p.mode&1)===0?(p===E?p.flags|=65536:(p.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(E=Gd(-1,1),E.tag=2,Lf(T,E,1))),T.lanes|=1),p):(p.flags|=65536,p.lanes=D,p)}var sPe=y.ReactCurrentOwner,Oa=!1;function ia(p,E,T,L){E.child=p===null?UZ(E,null,T,L):HE(E,p.child,T,L)}function SJ(p,E,T,L,D){T=T.render;var U=E.ref;return WE(E,D),L=sB(p,E,T,L,U,D),T=oB(),p!==null&&!Oa?(E.updateQueue=p.updateQueue,E.flags&=-2053,p.lanes&=~D,zd(p,E,D)):(br&&T&&WF(E),E.flags|=1,ia(p,E,L,D),E.child)}function CJ(p,E,T,L,D){if(p===null){var U=T.type;return typeof U=="function"&&!MB(U)&&U.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(E.tag=15,E.type=U,yJ(p,E,U,L,D)):(p=FR(T.type,null,L,E,E.mode,D),p.ref=E.ref,p.return=E,E.child=p)}if(U=p.child,(p.lanes&D)===0){var X=U.memoizedProps;if(T=T.compare,T=T!==null?T:Zy,T(X,L)&&p.ref===E.ref)return zd(p,E,D)}return E.flags|=1,p=Mf(U,L),p.ref=E.ref,p.return=E,E.child=p}function yJ(p,E,T,L,D){if(p!==null){var U=p.memoizedProps;if(Zy(U,L)&&p.ref===E.ref)if(Oa=!1,E.pendingProps=L=U,(p.lanes&D)!==0)(p.flags&131072)!==0&&(Oa=!0);else return E.lanes=p.lanes,zd(p,E,D)}return pB(p,E,T,L,D)}function bJ(p,E,T){var L=E.pendingProps,D=L.children,U=p!==null?p.memoizedState:null;if(L.mode==="hidden")if((E.mode&1)===0)E.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(jE,sl),sl|=T;else{if((T&1073741824)===0)return p=U!==null?U.baseLanes|T:T,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:p,cachePool:null,transitions:null},E.updateQueue=null,ur(jE,sl),sl|=p,null;E.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=U!==null?U.baseLanes:T,ur(jE,sl),sl|=L}else U!==null?(L=U.baseLanes|T,E.memoizedState=null):L=T,ur(jE,sl),sl|=L;return ia(p,E,D,T),E.child}function TJ(p,E){var T=E.ref;(p===null&&T!==null||p!==null&&p.ref!==T)&&(E.flags|=512,E.flags|=2097152)}function pB(p,E,T,L,D){var U=La(T)?Lp:ko.current;return U=ME(E,U),WE(E,D),T=sB(p,E,T,L,U,D),L=oB(),p!==null&&!Oa?(E.updateQueue=p.updateQueue,E.flags&=-2053,p.lanes&=~D,zd(p,E,D)):(br&&L&&WF(E),E.flags|=1,ia(p,E,T,D),E.child)}function wJ(p,E,T,L,D){if(La(T)){var U=!0;aR(E)}else U=!1;if(WE(E,D),E.stateNode===null)wR(p,E),fJ(E,T,L),hB(E,T,L,D),L=!0;else if(p===null){var X=E.stateNode,de=E.memoizedProps;X.props=de;var _e=X.context,Pe=T.contextType;typeof Pe=="object"&&Pe!==null?Pe=Hl(Pe):(Pe=La(T)?Lp:ko.current,Pe=ME(E,Pe));var Xe=T.getDerivedStateFromProps,et=typeof Xe=="function"||typeof X.getSnapshotBeforeUpdate=="function";et||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(de!==L||_e!==Pe)&&gJ(E,X,L,Pe),Nf=!1;var Ke=E.memoizedState;X.state=Ke,mR(E,L,X,D),_e=E.memoizedState,de!==L||Ke!==_e||Na.current||Nf?(typeof Xe=="function"&&(dB(E,T,Xe,L),_e=E.memoizedState),(de=Nf||hJ(E,T,de,L,Ke,_e,Pe))?(et||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(E.flags|=4194308)):(typeof X.componentDidMount=="function"&&(E.flags|=4194308),E.memoizedProps=L,E.memoizedState=_e),X.props=L,X.state=_e,X.context=Pe,L=de):(typeof X.componentDidMount=="function"&&(E.flags|=4194308),L=!1)}else{X=E.stateNode,VZ(p,E),de=E.memoizedProps,Pe=E.type===E.elementType?de:wc(E.type,de),X.props=Pe,et=E.pendingProps,Ke=X.context,_e=T.contextType,typeof _e=="object"&&_e!==null?_e=Hl(_e):(_e=La(T)?Lp:ko.current,_e=ME(E,_e));var bt=T.getDerivedStateFromProps;(Xe=typeof bt=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(de!==et||Ke!==_e)&&gJ(E,X,L,_e),Nf=!1,Ke=E.memoizedState,X.state=Ke,mR(E,L,X,D);var xt=E.memoizedState;de!==et||Ke!==xt||Na.current||Nf?(typeof bt=="function"&&(dB(E,T,bt,L),xt=E.memoizedState),(Pe=Nf||hJ(E,T,Pe,L,Ke,xt,_e)||!1)?(Xe||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(L,xt,_e),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(L,xt,_e)),typeof X.componentDidUpdate=="function"&&(E.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(E.flags|=1024)):(typeof X.componentDidUpdate!="function"||de===p.memoizedProps&&Ke===p.memoizedState||(E.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||de===p.memoizedProps&&Ke===p.memoizedState||(E.flags|=1024),E.memoizedProps=L,E.memoizedState=xt),X.props=L,X.state=xt,X.context=_e,L=Pe):(typeof X.componentDidUpdate!="function"||de===p.memoizedProps&&Ke===p.memoizedState||(E.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||de===p.memoizedProps&&Ke===p.memoizedState||(E.flags|=1024),L=!1)}return mB(p,E,T,L,U,D)}function mB(p,E,T,L,D,U){TJ(p,E);var X=(E.flags&128)!==0;if(!L&&!X)return D&&LZ(E,T,!1),zd(p,E,U);L=E.stateNode,sPe.current=E;var de=X&&typeof T.getDerivedStateFromError!="function"?null:L.render();return E.flags|=1,p!==null&&X?(E.child=HE(E,p.child,null,U),E.child=HE(E,null,de,U)):ia(p,E,de,U),E.memoizedState=L.state,D&&LZ(E,T,!0),E.child}function AJ(p){var E=p.stateNode;E.pendingContext?IZ(p,E.pendingContext,E.pendingContext!==E.context):E.context&&IZ(p,E.context,!1),JF(p,E.containerInfo)}function RJ(p,E,T,L,D){return UE(),jF(D),E.flags|=256,ia(p,E,T,L),E.child}var _B={dehydrated:null,treeContext:null,retryLane:0};function EB(p){return{baseLanes:p,cachePool:null,transitions:null}}function IJ(p,E,T){var L=E.pendingProps,D=Rr.current,U=!1,X=(E.flags&128)!==0,de;if((de=X)||(de=p!==null&&p.memoizedState===null?!1:(D&2)!==0),de?(U=!0,E.flags&=-129):(p===null||p.memoizedState!==null)&&(D|=1),ur(Rr,D&1),p===null)return zF(E),p=E.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((E.mode&1)===0?E.lanes=1:p.data==="$!"?E.lanes=8:E.lanes=1073741824,null):(X=L.children,p=L.fallback,U?(L=E.mode,U=E.child,X={mode:"hidden",children:X},(L&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=X):U=BR(X,L,0,null),p=Hp(p,L,T,null),U.return=E,p.return=E,U.sibling=p,E.child=U,E.child.memoizedState=EB(T),E.memoizedState=_B,p):vB(E,X));if(D=p.memoizedState,D!==null&&(de=D.dehydrated,de!==null))return oPe(p,E,X,L,de,D,T);if(U){U=L.fallback,X=E.mode,D=p.child,de=D.sibling;var _e={mode:"hidden",children:L.children};return(X&1)===0&&E.child!==D?(L=E.child,L.childLanes=0,L.pendingProps=_e,E.deletions=null):(L=Mf(D,_e),L.subtreeFlags=D.subtreeFlags&14680064),de!==null?U=Mf(de,U):(U=Hp(U,X,T,null),U.flags|=2),U.return=E,L.return=E,L.sibling=U,E.child=L,L=U,U=E.child,X=p.child.memoizedState,X=X===null?EB(T):{baseLanes:X.baseLanes|T,cachePool:null,transitions:X.transitions},U.memoizedState=X,U.childLanes=p.childLanes&~T,E.memoizedState=_B,L}return U=p.child,p=U.sibling,L=Mf(U,{mode:"visible",children:L.children}),(E.mode&1)===0&&(L.lanes=T),L.return=E,L.sibling=null,p!==null&&(T=E.deletions,T===null?(E.deletions=[p],E.flags|=16):T.push(p)),E.child=L,E.memoizedState=null,L}function vB(p,E){return E=BR({mode:"visible",children:E},p.mode,0,null),E.return=p,p.child=E}function TR(p,E,T,L){return L!==null&&jF(L),HE(E,p.child,null,T),p=vB(E,E.pendingProps.children),p.flags|=2,E.memoizedState=null,p}function oPe(p,E,T,L,D,U,X){if(T)return E.flags&256?(E.flags&=-257,L=fB(Error(t(422))),TR(p,E,X,L)):E.memoizedState!==null?(E.child=p.child,E.flags|=128,null):(U=L.fallback,D=E.mode,L=BR({mode:"visible",children:L.children},D,0,null),U=Hp(U,D,X,null),U.flags|=2,L.return=E,U.return=E,L.sibling=U,E.child=L,(E.mode&1)!==0&&HE(E,p.child,null,X),E.child.memoizedState=EB(X),E.memoizedState=_B,U);if((E.mode&1)===0)return TR(p,E,X,null);if(D.data==="$!"){if(L=D.nextSibling&&D.nextSibling.dataset,L)var de=L.dgst;return L=de,U=Error(t(419)),L=fB(U,L,void 0),TR(p,E,X,L)}if(de=(X&p.childLanes)!==0,Oa||de){if(L=qs,L!==null){switch(X&-X){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(L.suspendedLanes|X))!==0?0:D,D!==0&&D!==U.retryLane&&(U.retryLane=D,$d(p,D),Ic(L,p,D,-1))}return kB(),L=fB(Error(t(421))),TR(p,E,X,L)}return D.data==="$?"?(E.flags|=128,E.child=p.child,E=vPe.bind(null,p),D._reactRetry=E,null):(p=U.treeContext,rl=wf(D.nextSibling),il=E,br=!0,Tc=null,p!==null&&(Bl[Ul++]=Vd,Bl[Ul++]=Wd,Bl[Ul++]=Op,Vd=p.id,Wd=p.overflow,Op=E),E=vB(E,L.children),E.flags|=4096,E)}function NJ(p,E,T){p.lanes|=E;var L=p.alternate;L!==null&&(L.lanes|=E),XF(p.return,E,T)}function SB(p,E,T,L,D){var U=p.memoizedState;U===null?p.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:L,tail:T,tailMode:D}:(U.isBackwards=E,U.rendering=null,U.renderingStartTime=0,U.last=L,U.tail=T,U.tailMode=D)}function LJ(p,E,T){var L=E.pendingProps,D=L.revealOrder,U=L.tail;if(ia(p,E,L.children,T),L=Rr.current,(L&2)!==0)L=L&1|2,E.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=E.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&NJ(p,T,E);else if(p.tag===19)NJ(p,T,E);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===E)break e;for(;p.sibling===null;){if(p.return===null||p.return===E)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}L&=1}if(ur(Rr,L),(E.mode&1)===0)E.memoizedState=null;else switch(D){case"forwards":for(T=E.child,D=null;T!==null;)p=T.alternate,p!==null&&_R(p)===null&&(D=T),T=T.sibling;T=D,T===null?(D=E.child,E.child=null):(D=T.sibling,T.sibling=null),SB(E,!1,D,T,U);break;case"backwards":for(T=null,D=E.child,E.child=null;D!==null;){if(p=D.alternate,p!==null&&_R(p)===null){E.child=D;break}p=D.sibling,D.sibling=T,T=D,D=p}SB(E,!0,T,null,U);break;case"together":SB(E,!1,null,null,void 0);break;default:E.memoizedState=null}return E.child}function wR(p,E){(E.mode&1)===0&&p!==null&&(p.alternate=null,E.alternate=null,E.flags|=2)}function zd(p,E,T){if(p!==null&&(E.dependencies=p.dependencies),Mp|=E.lanes,(T&E.childLanes)===0)return null;if(p!==null&&E.child!==p.child)throw Error(t(153));if(E.child!==null){for(p=E.child,T=Mf(p,p.pendingProps),E.child=T,T.return=E;p.sibling!==null;)p=p.sibling,T=T.sibling=Mf(p,p.pendingProps),T.return=E;T.sibling=null}return E.child}function aPe(p,E,T){switch(E.tag){case 3:AJ(E),UE();break;case 5:GZ(E);break;case 1:La(E.type)&&aR(E);break;case 4:JF(E,E.stateNode.containerInfo);break;case 10:var L=E.type._context,D=E.memoizedProps.value;ur(fR,L._currentValue),L._currentValue=D;break;case 13:if(L=E.memoizedState,L!==null)return L.dehydrated!==null?(ur(Rr,Rr.current&1),E.flags|=128,null):(T&E.child.childLanes)!==0?IJ(p,E,T):(ur(Rr,Rr.current&1),p=zd(p,E,T),p!==null?p.sibling:null);ur(Rr,Rr.current&1);break;case 19:if(L=(T&E.childLanes)!==0,(p.flags&128)!==0){if(L)return LJ(p,E,T);E.flags|=128}if(D=E.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),ur(Rr,Rr.current),L)break;return null;case 22:case 23:return E.lanes=0,bJ(p,E,T)}return zd(p,E,T)}var OJ,CB,xJ,DJ;OJ=function(p,E){for(var T=E.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===E)break;for(;T.sibling===null;){if(T.return===null||T.return===E)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},CB=function(){},xJ=function(p,E,T,L){var D=p.memoizedProps;if(D!==L){p=E.stateNode,Pp(xu.current);var U=null;switch(T){case"input":D=Oe(p,D),L=Oe(p,L),U=[];break;case"select":D=re({},D,{value:void 0}),L=re({},L,{value:void 0}),U=[];break;case"textarea":D=ae(p,D),L=ae(p,L),U=[];break;default:typeof D.onClick!="function"&&typeof L.onClick=="function"&&(p.onclick=rR)}zs(T,L);var X;T=null;for(Pe in D)if(!L.hasOwnProperty(Pe)&&D.hasOwnProperty(Pe)&&D[Pe]!=null)if(Pe==="style"){var de=D[Pe];for(X in de)de.hasOwnProperty(X)&&(T||(T={}),T[X]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(r.hasOwnProperty(Pe)?U||(U=[]):(U=U||[]).push(Pe,null));for(Pe in L){var _e=L[Pe];if(de=D!=null?D[Pe]:void 0,L.hasOwnProperty(Pe)&&_e!==de&&(_e!=null||de!=null))if(Pe==="style")if(de){for(X in de)!de.hasOwnProperty(X)||_e&&_e.hasOwnProperty(X)||(T||(T={}),T[X]="");for(X in _e)_e.hasOwnProperty(X)&&de[X]!==_e[X]&&(T||(T={}),T[X]=_e[X])}else T||(U||(U=[]),U.push(Pe,T)),T=_e;else Pe==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,de=de?de.__html:void 0,_e!=null&&de!==_e&&(U=U||[]).push(Pe,_e)):Pe==="children"?typeof _e!="string"&&typeof _e!="number"||(U=U||[]).push(Pe,""+_e):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(r.hasOwnProperty(Pe)?(_e!=null&&Pe==="onScroll"&&_r("scroll",p),U||de===_e||(U=[])):(U=U||[]).push(Pe,_e))}T&&(U=U||[]).push("style",T);var Pe=U;(E.updateQueue=Pe)&&(E.flags|=4)}},DJ=function(p,E,T,L){T!==L&&(E.flags|=4)};function fb(p,E){if(!br)switch(p.tailMode){case"hidden":E=p.tail;for(var T=null;E!==null;)E.alternate!==null&&(T=E),E=E.sibling;T===null?p.tail=null:T.sibling=null;break;case"collapsed":T=p.tail;for(var L=null;T!==null;)T.alternate!==null&&(L=T),T=T.sibling;L===null?E||p.tail===null?p.tail=null:p.tail.sibling=null:L.sibling=null}}function Fo(p){var E=p.alternate!==null&&p.alternate.child===p.child,T=0,L=0;if(E)for(var D=p.child;D!==null;)T|=D.lanes|D.childLanes,L|=D.subtreeFlags&14680064,L|=D.flags&14680064,D.return=p,D=D.sibling;else for(D=p.child;D!==null;)T|=D.lanes|D.childLanes,L|=D.subtreeFlags,L|=D.flags,D.return=p,D=D.sibling;return p.subtreeFlags|=L,p.childLanes=T,E}function lPe(p,E,T){var L=E.pendingProps;switch($F(E),E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fo(E),null;case 1:return La(E.type)&&oR(),Fo(E),null;case 3:return L=E.stateNode,$E(),Er(Na),Er(ko),nB(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(p===null||p.child===null)&&(dR(E)?E.flags|=4:p===null||p.memoizedState.isDehydrated&&(E.flags&256)===0||(E.flags|=1024,Tc!==null&&(xB(Tc),Tc=null))),CB(p,E),Fo(E),null;case 5:eB(E);var D=Pp(lb.current);if(T=E.type,p!==null&&E.stateNode!=null)xJ(p,E,T,L,D),p.ref!==E.ref&&(E.flags|=512,E.flags|=2097152);else{if(!L){if(E.stateNode===null)throw Error(t(166));return Fo(E),null}if(p=Pp(xu.current),dR(E)){L=E.stateNode,T=E.type;var U=E.memoizedProps;switch(L[Ou]=E,L[ib]=U,p=(E.mode&1)!==0,T){case"dialog":_r("cancel",L),_r("close",L);break;case"iframe":case"object":case"embed":_r("load",L);break;case"video":case"audio":for(D=0;D<eb.length;D++)_r(eb[D],L);break;case"source":_r("error",L);break;case"img":case"image":case"link":_r("error",L),_r("load",L);break;case"details":_r("toggle",L);break;case"input":ft(L,U),_r("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!U.multiple},_r("invalid",L);break;case"textarea":Se(L,U),_r("invalid",L)}zs(T,U),D=null;for(var X in U)if(U.hasOwnProperty(X)){var de=U[X];X==="children"?typeof de=="string"?L.textContent!==de&&(U.suppressHydrationWarning!==!0&&iR(L.textContent,de,p),D=["children",de]):typeof de=="number"&&L.textContent!==""+de&&(U.suppressHydrationWarning!==!0&&iR(L.textContent,de,p),D=["children",""+de]):r.hasOwnProperty(X)&&de!=null&&X==="onScroll"&&_r("scroll",L)}switch(T){case"input":Ae(L),yt(L,U,!0);break;case"textarea":Ae(L),je(L);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(L.onclick=rR)}L=D,E.updateQueue=L,L!==null&&(E.flags|=4)}else{X=D.nodeType===9?D:D.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Ye(T)),p==="http://www.w3.org/1999/xhtml"?T==="script"?(p=X.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof L.is=="string"?p=X.createElement(T,{is:L.is}):(p=X.createElement(T),T==="select"&&(X=p,L.multiple?X.multiple=!0:L.size&&(X.size=L.size))):p=X.createElementNS(p,T),p[Ou]=E,p[ib]=L,OJ(p,E,!1,!1),E.stateNode=p;e:{switch(X=Is(T,L),T){case"dialog":_r("cancel",p),_r("close",p),D=L;break;case"iframe":case"object":case"embed":_r("load",p),D=L;break;case"video":case"audio":for(D=0;D<eb.length;D++)_r(eb[D],p);D=L;break;case"source":_r("error",p),D=L;break;case"img":case"image":case"link":_r("error",p),_r("load",p),D=L;break;case"details":_r("toggle",p),D=L;break;case"input":ft(p,L),D=Oe(p,L),_r("invalid",p);break;case"option":D=L;break;case"select":p._wrapperState={wasMultiple:!!L.multiple},D=re({},L,{value:void 0}),_r("invalid",p);break;case"textarea":Se(p,L),D=ae(p,L),_r("invalid",p);break;default:D=L}zs(T,D),de=D;for(U in de)if(de.hasOwnProperty(U)){var _e=de[U];U==="style"?Ci(p,_e):U==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&Xt(p,_e)):U==="children"?typeof _e=="string"?(T!=="textarea"||_e!=="")&&Tn(p,_e):typeof _e=="number"&&Tn(p,""+_e):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(r.hasOwnProperty(U)?_e!=null&&U==="onScroll"&&_r("scroll",p):_e!=null&&C(p,U,_e,X))}switch(T){case"input":Ae(p),yt(p,L,!1);break;case"textarea":Ae(p),je(p);break;case"option":L.value!=null&&p.setAttribute("value",""+he(L.value));break;case"select":p.multiple=!!L.multiple,U=L.value,U!=null?_t(p,!!L.multiple,U,!1):L.defaultValue!=null&&_t(p,!!L.multiple,L.defaultValue,!0);break;default:typeof D.onClick=="function"&&(p.onclick=rR)}switch(T){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(E.flags|=4)}E.ref!==null&&(E.flags|=512,E.flags|=2097152)}return Fo(E),null;case 6:if(p&&E.stateNode!=null)DJ(p,E,p.memoizedProps,L);else{if(typeof L!="string"&&E.stateNode===null)throw Error(t(166));if(T=Pp(lb.current),Pp(xu.current),dR(E)){if(L=E.stateNode,T=E.memoizedProps,L[Ou]=E,(U=L.nodeValue!==T)&&(p=il,p!==null))switch(p.tag){case 3:iR(L.nodeValue,T,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&iR(L.nodeValue,T,(p.mode&1)!==0)}U&&(E.flags|=4)}else L=(T.nodeType===9?T:T.ownerDocument).createTextNode(L),L[Ou]=E,E.stateNode=L}return Fo(E),null;case 13:if(Er(Rr),L=E.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(br&&rl!==null&&(E.mode&1)!==0&&(E.flags&128)===0)MZ(),UE(),E.flags|=98560,U=!1;else if(U=dR(E),L!==null&&L.dehydrated!==null){if(p===null){if(!U)throw Error(t(318));if(U=E.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(t(317));U[Ou]=E}else UE(),(E.flags&128)===0&&(E.memoizedState=null),E.flags|=4;Fo(E),U=!1}else Tc!==null&&(xB(Tc),Tc=null),U=!0;if(!U)return E.flags&65536?E:null}return(E.flags&128)!==0?(E.lanes=T,E):(L=L!==null,L!==(p!==null&&p.memoizedState!==null)&&L&&(E.child.flags|=8192,(E.mode&1)!==0&&(p===null||(Rr.current&1)!==0?xs===0&&(xs=3):kB())),E.updateQueue!==null&&(E.flags|=4),Fo(E),null);case 4:return $E(),CB(p,E),p===null&&tb(E.stateNode.containerInfo),Fo(E),null;case 10:return qF(E.type._context),Fo(E),null;case 17:return La(E.type)&&oR(),Fo(E),null;case 19:if(Er(Rr),U=E.memoizedState,U===null)return Fo(E),null;if(L=(E.flags&128)!==0,X=U.rendering,X===null)if(L)fb(U,!1);else{if(xs!==0||p!==null&&(p.flags&128)!==0)for(p=E.child;p!==null;){if(X=_R(p),X!==null){for(E.flags|=128,fb(U,!1),L=X.updateQueue,L!==null&&(E.updateQueue=L,E.flags|=4),E.subtreeFlags=0,L=T,T=E.child;T!==null;)U=T,p=L,U.flags&=14680066,X=U.alternate,X===null?(U.childLanes=0,U.lanes=p,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=X.childLanes,U.lanes=X.lanes,U.child=X.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=X.memoizedProps,U.memoizedState=X.memoizedState,U.updateQueue=X.updateQueue,U.type=X.type,p=X.dependencies,U.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),T=T.sibling;return ur(Rr,Rr.current&1|2),E.child}p=p.sibling}U.tail!==null&&Bn()>YE&&(E.flags|=128,L=!0,fb(U,!1),E.lanes=4194304)}else{if(!L)if(p=_R(X),p!==null){if(E.flags|=128,L=!0,T=p.updateQueue,T!==null&&(E.updateQueue=T,E.flags|=4),fb(U,!0),U.tail===null&&U.tailMode==="hidden"&&!X.alternate&&!br)return Fo(E),null}else 2*Bn()-U.renderingStartTime>YE&&T!==1073741824&&(E.flags|=128,L=!0,fb(U,!1),E.lanes=4194304);U.isBackwards?(X.sibling=E.child,E.child=X):(T=U.last,T!==null?T.sibling=X:E.child=X,U.last=X)}return U.tail!==null?(E=U.tail,U.rendering=E,U.tail=E.sibling,U.renderingStartTime=Bn(),E.sibling=null,T=Rr.current,ur(Rr,L?T&1|2:T&1),E):(Fo(E),null);case 22:case 23:return PB(),L=E.memoizedState!==null,p!==null&&p.memoizedState!==null!==L&&(E.flags|=8192),L&&(E.mode&1)!==0?(sl&1073741824)!==0&&(Fo(E),E.subtreeFlags&6&&(E.flags|=8192)):Fo(E),null;case 24:return null;case 25:return null}throw Error(t(156,E.tag))}function cPe(p,E){switch($F(E),E.tag){case 1:return La(E.type)&&oR(),p=E.flags,p&65536?(E.flags=p&-65537|128,E):null;case 3:return $E(),Er(Na),Er(ko),nB(),p=E.flags,(p&65536)!==0&&(p&128)===0?(E.flags=p&-65537|128,E):null;case 5:return eB(E),null;case 13:if(Er(Rr),p=E.memoizedState,p!==null&&p.dehydrated!==null){if(E.alternate===null)throw Error(t(340));UE()}return p=E.flags,p&65536?(E.flags=p&-65537|128,E):null;case 19:return Er(Rr),null;case 4:return $E(),null;case 10:return qF(E.type._context),null;case 22:case 23:return PB(),null;case 24:return null;default:return null}}var AR=!1,Bo=!1,uPe=typeof WeakSet=="function"?WeakSet:Set,wt=null;function zE(p,E){var T=p.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(L){Hr(p,E,L)}else T.current=null}function yB(p,E,T){try{T()}catch(L){Hr(p,E,L)}}var PJ=!1;function dPe(p,E){if(PF=oe,p=hZ(),AF(p)){if("selectionStart"in p)var T={start:p.selectionStart,end:p.selectionEnd};else e:{T=(T=p.ownerDocument)&&T.defaultView||window;var L=T.getSelection&&T.getSelection();if(L&&L.rangeCount!==0){T=L.anchorNode;var D=L.anchorOffset,U=L.focusNode;L=L.focusOffset;try{T.nodeType,U.nodeType}catch{T=null;break e}var X=0,de=-1,_e=-1,Pe=0,Xe=0,et=p,Ke=null;t:for(;;){for(var bt;et!==T||D!==0&&et.nodeType!==3||(de=X+D),et!==U||L!==0&&et.nodeType!==3||(_e=X+L),et.nodeType===3&&(X+=et.nodeValue.length),(bt=et.firstChild)!==null;)Ke=et,et=bt;for(;;){if(et===p)break t;if(Ke===T&&++Pe===D&&(de=X),Ke===U&&++Xe===L&&(_e=X),(bt=et.nextSibling)!==null)break;et=Ke,Ke=et.parentNode}et=bt}T=de===-1||_e===-1?null:{start:de,end:_e}}else T=null}T=T||{start:0,end:0}}else T=null;for(kF={focusedElem:p,selectionRange:T},oe=!1,wt=E;wt!==null;)if(E=wt,p=E.child,(E.subtreeFlags&1028)!==0&&p!==null)p.return=E,wt=p;else for(;wt!==null;){E=wt;try{var xt=E.alternate;if((E.flags&1024)!==0)switch(E.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var Mt=xt.memoizedProps,Jr=xt.memoizedState,Re=E.stateNode,ye=Re.getSnapshotBeforeUpdate(E.elementType===E.type?Mt:wc(E.type,Mt),Jr);Re.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Le=E.stateNode.containerInfo;Le.nodeType===1?Le.textContent="":Le.nodeType===9&&Le.documentElement&&Le.removeChild(Le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ot){Hr(E,E.return,ot)}if(p=E.sibling,p!==null){p.return=E.return,wt=p;break}wt=E.return}return xt=PJ,PJ=!1,xt}function gb(p,E,T){var L=E.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var D=L=L.next;do{if((D.tag&p)===p){var U=D.destroy;D.destroy=void 0,U!==void 0&&yB(E,T,U)}D=D.next}while(D!==L)}}function RR(p,E){if(E=E.updateQueue,E=E!==null?E.lastEffect:null,E!==null){var T=E=E.next;do{if((T.tag&p)===p){var L=T.create;T.destroy=L()}T=T.next}while(T!==E)}}function bB(p){var E=p.ref;if(E!==null){var T=p.stateNode;switch(p.tag){case 5:p=T;break;default:p=T}typeof E=="function"?E(p):E.current=p}}function kJ(p){var E=p.alternate;E!==null&&(p.alternate=null,kJ(E)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(E=p.stateNode,E!==null&&(delete E[Ou],delete E[ib],delete E[UF],delete E[YDe],delete E[KDe])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function MJ(p){return p.tag===5||p.tag===3||p.tag===4}function FJ(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||MJ(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function TB(p,E,T){var L=p.tag;if(L===5||L===6)p=p.stateNode,E?T.nodeType===8?T.parentNode.insertBefore(p,E):T.insertBefore(p,E):(T.nodeType===8?(E=T.parentNode,E.insertBefore(p,T)):(E=T,E.appendChild(p)),T=T._reactRootContainer,T!=null||E.onclick!==null||(E.onclick=rR));else if(L!==4&&(p=p.child,p!==null))for(TB(p,E,T),p=p.sibling;p!==null;)TB(p,E,T),p=p.sibling}function wB(p,E,T){var L=p.tag;if(L===5||L===6)p=p.stateNode,E?T.insertBefore(p,E):T.appendChild(p);else if(L!==4&&(p=p.child,p!==null))for(wB(p,E,T),p=p.sibling;p!==null;)wB(p,E,T),p=p.sibling}var mo=null,Ac=!1;function Of(p,E,T){for(T=T.child;T!==null;)BJ(p,E,T),T=T.sibling}function BJ(p,E,T){if(Dl&&typeof Dl.onCommitFiberUnmount=="function")try{Dl.onCommitFiberUnmount(Tp,T)}catch{}switch(T.tag){case 5:Bo||zE(T,E);case 6:var L=mo,D=Ac;mo=null,Of(p,E,T),mo=L,Ac=D,mo!==null&&(Ac?(p=mo,T=T.stateNode,p.nodeType===8?p.parentNode.removeChild(T):p.removeChild(T)):mo.removeChild(T.stateNode));break;case 18:mo!==null&&(Ac?(p=mo,T=T.stateNode,p.nodeType===8?BF(p.parentNode,T):p.nodeType===1&&BF(p,T),Cf(p)):BF(mo,T.stateNode));break;case 4:L=mo,D=Ac,mo=T.stateNode.containerInfo,Ac=!0,Of(p,E,T),mo=L,Ac=D;break;case 0:case 11:case 14:case 15:if(!Bo&&(L=T.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){D=L=L.next;do{var U=D,X=U.destroy;U=U.tag,X!==void 0&&((U&2)!==0||(U&4)!==0)&&yB(T,E,X),D=D.next}while(D!==L)}Of(p,E,T);break;case 1:if(!Bo&&(zE(T,E),L=T.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=T.memoizedProps,L.state=T.memoizedState,L.componentWillUnmount()}catch(de){Hr(T,E,de)}Of(p,E,T);break;case 21:Of(p,E,T);break;case 22:T.mode&1?(Bo=(L=Bo)||T.memoizedState!==null,Of(p,E,T),Bo=L):Of(p,E,T);break;default:Of(p,E,T)}}function UJ(p){var E=p.updateQueue;if(E!==null){p.updateQueue=null;var T=p.stateNode;T===null&&(T=p.stateNode=new uPe),E.forEach(function(L){var D=SPe.bind(null,p,L);T.has(L)||(T.add(L),L.then(D,D))})}}function Rc(p,E){var T=E.deletions;if(T!==null)for(var L=0;L<T.length;L++){var D=T[L];try{var U=p,X=E,de=X;e:for(;de!==null;){switch(de.tag){case 5:mo=de.stateNode,Ac=!1;break e;case 3:mo=de.stateNode.containerInfo,Ac=!0;break e;case 4:mo=de.stateNode.containerInfo,Ac=!0;break e}de=de.return}if(mo===null)throw Error(t(160));BJ(U,X,D),mo=null,Ac=!1;var _e=D.alternate;_e!==null&&(_e.return=null),D.return=null}catch(Pe){Hr(D,E,Pe)}}if(E.subtreeFlags&12854)for(E=E.child;E!==null;)HJ(E,p),E=E.sibling}function HJ(p,E){var T=p.alternate,L=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Rc(E,p),Pu(p),L&4){try{gb(3,p,p.return),RR(3,p)}catch(Mt){Hr(p,p.return,Mt)}try{gb(5,p,p.return)}catch(Mt){Hr(p,p.return,Mt)}}break;case 1:Rc(E,p),Pu(p),L&512&&T!==null&&zE(T,T.return);break;case 5:if(Rc(E,p),Pu(p),L&512&&T!==null&&zE(T,T.return),p.flags&32){var D=p.stateNode;try{Tn(D,"")}catch(Mt){Hr(p,p.return,Mt)}}if(L&4&&(D=p.stateNode,D!=null)){var U=p.memoizedProps,X=T!==null?T.memoizedProps:U,de=p.type,_e=p.updateQueue;if(p.updateQueue=null,_e!==null)try{de==="input"&&U.type==="radio"&&U.name!=null&&kt(D,U),Is(de,X);var Pe=Is(de,U);for(X=0;X<_e.length;X+=2){var Xe=_e[X],et=_e[X+1];Xe==="style"?Ci(D,et):Xe==="dangerouslySetInnerHTML"?Xt(D,et):Xe==="children"?Tn(D,et):C(D,Xe,et,Pe)}switch(de){case"input":Vt(D,U);break;case"textarea":De(D,U);break;case"select":var Ke=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!U.multiple;var bt=U.value;bt!=null?_t(D,!!U.multiple,bt,!1):Ke!==!!U.multiple&&(U.defaultValue!=null?_t(D,!!U.multiple,U.defaultValue,!0):_t(D,!!U.multiple,U.multiple?[]:"",!1))}D[ib]=U}catch(Mt){Hr(p,p.return,Mt)}}break;case 6:if(Rc(E,p),Pu(p),L&4){if(p.stateNode===null)throw Error(t(162));D=p.stateNode,U=p.memoizedProps;try{D.nodeValue=U}catch(Mt){Hr(p,p.return,Mt)}}break;case 3:if(Rc(E,p),Pu(p),L&4&&T!==null&&T.memoizedState.isDehydrated)try{Cf(E.containerInfo)}catch(Mt){Hr(p,p.return,Mt)}break;case 4:Rc(E,p),Pu(p);break;case 13:Rc(E,p),Pu(p),D=p.child,D.flags&8192&&(U=D.memoizedState!==null,D.stateNode.isHidden=U,!U||D.alternate!==null&&D.alternate.memoizedState!==null||(IB=Bn())),L&4&&UJ(p);break;case 22:if(Xe=T!==null&&T.memoizedState!==null,p.mode&1?(Bo=(Pe=Bo)||Xe,Rc(E,p),Bo=Pe):Rc(E,p),Pu(p),L&8192){if(Pe=p.memoizedState!==null,(p.stateNode.isHidden=Pe)&&!Xe&&(p.mode&1)!==0)for(wt=p,Xe=p.child;Xe!==null;){for(et=wt=Xe;wt!==null;){switch(Ke=wt,bt=Ke.child,Ke.tag){case 0:case 11:case 14:case 15:gb(4,Ke,Ke.return);break;case 1:zE(Ke,Ke.return);var xt=Ke.stateNode;if(typeof xt.componentWillUnmount=="function"){L=Ke,T=Ke.return;try{E=L,xt.props=E.memoizedProps,xt.state=E.memoizedState,xt.componentWillUnmount()}catch(Mt){Hr(L,T,Mt)}}break;case 5:zE(Ke,Ke.return);break;case 22:if(Ke.memoizedState!==null){$J(et);continue}}bt!==null?(bt.return=Ke,wt=bt):$J(et)}Xe=Xe.sibling}e:for(Xe=null,et=p;;){if(et.tag===5){if(Xe===null){Xe=et;try{D=et.stateNode,Pe?(U=D.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(de=et.stateNode,_e=et.memoizedProps.style,X=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,de.style.display=gs("display",X))}catch(Mt){Hr(p,p.return,Mt)}}}else if(et.tag===6){if(Xe===null)try{et.stateNode.nodeValue=Pe?"":et.memoizedProps}catch(Mt){Hr(p,p.return,Mt)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===p)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===p)break e;for(;et.sibling===null;){if(et.return===null||et.return===p)break e;Xe===et&&(Xe=null),et=et.return}Xe===et&&(Xe=null),et.sibling.return=et.return,et=et.sibling}}break;case 19:Rc(E,p),Pu(p),L&4&&UJ(p);break;case 21:break;default:Rc(E,p),Pu(p)}}function Pu(p){var E=p.flags;if(E&2){try{e:{for(var T=p.return;T!==null;){if(MJ(T)){var L=T;break e}T=T.return}throw Error(t(160))}switch(L.tag){case 5:var D=L.stateNode;L.flags&32&&(Tn(D,""),L.flags&=-33);var U=FJ(p);wB(p,U,D);break;case 3:case 4:var X=L.stateNode.containerInfo,de=FJ(p);TB(p,de,X);break;default:throw Error(t(161))}}catch(_e){Hr(p,p.return,_e)}p.flags&=-3}E&4096&&(p.flags&=-4097)}function hPe(p,E,T){wt=p,VJ(p)}function VJ(p,E,T){for(var L=(p.mode&1)!==0;wt!==null;){var D=wt,U=D.child;if(D.tag===22&&L){var X=D.memoizedState!==null||AR;if(!X){var de=D.alternate,_e=de!==null&&de.memoizedState!==null||Bo;de=AR;var Pe=Bo;if(AR=X,(Bo=_e)&&!Pe)for(wt=D;wt!==null;)X=wt,_e=X.child,X.tag===22&&X.memoizedState!==null?GJ(D):_e!==null?(_e.return=X,wt=_e):GJ(D);for(;U!==null;)wt=U,VJ(U),U=U.sibling;wt=D,AR=de,Bo=Pe}WJ(p)}else(D.subtreeFlags&8772)!==0&&U!==null?(U.return=D,wt=U):WJ(p)}}function WJ(p){for(;wt!==null;){var E=wt;if((E.flags&8772)!==0){var T=E.alternate;try{if((E.flags&8772)!==0)switch(E.tag){case 0:case 11:case 15:Bo||RR(5,E);break;case 1:var L=E.stateNode;if(E.flags&4&&!Bo)if(T===null)L.componentDidMount();else{var D=E.elementType===E.type?T.memoizedProps:wc(E.type,T.memoizedProps);L.componentDidUpdate(D,T.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var U=E.updateQueue;U!==null&&$Z(E,U,L);break;case 3:var X=E.updateQueue;if(X!==null){if(T=null,E.child!==null)switch(E.child.tag){case 5:T=E.child.stateNode;break;case 1:T=E.child.stateNode}$Z(E,X,T)}break;case 5:var de=E.stateNode;if(T===null&&E.flags&4){T=de;var _e=E.memoizedProps;switch(E.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&T.focus();break;case"img":_e.src&&(T.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(E.memoizedState===null){var Pe=E.alternate;if(Pe!==null){var Xe=Pe.memoizedState;if(Xe!==null){var et=Xe.dehydrated;et!==null&&Cf(et)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bo||E.flags&512&&bB(E)}catch(Ke){Hr(E,E.return,Ke)}}if(E===p){wt=null;break}if(T=E.sibling,T!==null){T.return=E.return,wt=T;break}wt=E.return}}function $J(p){for(;wt!==null;){var E=wt;if(E===p){wt=null;break}var T=E.sibling;if(T!==null){T.return=E.return,wt=T;break}wt=E.return}}function GJ(p){for(;wt!==null;){var E=wt;try{switch(E.tag){case 0:case 11:case 15:var T=E.return;try{RR(4,E)}catch(_e){Hr(E,T,_e)}break;case 1:var L=E.stateNode;if(typeof L.componentDidMount=="function"){var D=E.return;try{L.componentDidMount()}catch(_e){Hr(E,D,_e)}}var U=E.return;try{bB(E)}catch(_e){Hr(E,U,_e)}break;case 5:var X=E.return;try{bB(E)}catch(_e){Hr(E,X,_e)}}}catch(_e){Hr(E,E.return,_e)}if(E===p){wt=null;break}var de=E.sibling;if(de!==null){de.return=E.return,wt=de;break}wt=E.return}}var fPe=Math.ceil,IR=y.ReactCurrentDispatcher,AB=y.ReactCurrentOwner,Wl=y.ReactCurrentBatchConfig,Ri=0,qs=null,ms=null,_o=0,sl=0,jE=Af(0),xs=0,pb=null,Mp=0,NR=0,RB=0,mb=null,xa=null,IB=0,YE=1/0,jd=null,LR=!1,NB=null,xf=null,xR=!1,Df=null,DR=0,_b=0,LB=null,PR=-1,kR=0;function ra(){return(Ri&6)!==0?Bn():PR!==-1?PR:PR=Bn()}function Pf(p){return(p.mode&1)===0?1:(Ri&2)!==0&&_o!==0?_o&-_o:XDe.transition!==null?(kR===0&&(kR=zA()),kR):(p=Li,p!==0||(p=window.event,p=p===void 0?16:er(p.type)),p)}function Ic(p,E,T,L){if(50<_b)throw _b=0,LB=null,Error(t(185));Ap(p,T,L),((Ri&2)===0||p!==qs)&&(p===qs&&((Ri&2)===0&&(NR|=T),xs===4&&kf(p,_o)),Da(p,L),T===1&&Ri===0&&(E.mode&1)===0&&(YE=Bn()+500,lR&&If()))}function Da(p,E){var T=p.callbackNode;Hy(p,E);var L=yE(p,p===qs?_o:0);if(L===0)T!==null&&Ct(T),p.callbackNode=null,p.callbackPriority=0;else if(E=L&-L,p.callbackPriority!==E){if(T!=null&&Ct(T),E===1)p.tag===0?qDe(jJ.bind(null,p)):OZ(jJ.bind(null,p)),zDe(function(){(Ri&6)===0&&If()}),T=null;else{switch(jA(L)){case 1:T=Ls;break;case 4:T=Cc;break;case 16:T=Ur;break;case 536870912:T=bp;break;default:T=Ur}T=eee(T,zJ.bind(null,p))}p.callbackPriority=E,p.callbackNode=T}}function zJ(p,E){if(PR=-1,kR=0,(Ri&6)!==0)throw Error(t(327));var T=p.callbackNode;if(KE()&&p.callbackNode!==T)return null;var L=yE(p,p===qs?_o:0);if(L===0)return null;if((L&30)!==0||(L&p.expiredLanes)!==0||E)E=MR(p,L);else{E=L;var D=Ri;Ri|=2;var U=KJ();(qs!==p||_o!==E)&&(jd=null,YE=Bn()+500,Bp(p,E));do try{mPe();break}catch(de){YJ(p,de)}while(!0);KF(),IR.current=U,Ri=D,ms!==null?E=0:(qs=null,_o=0,E=xs)}if(E!==0){if(E===2&&(D=Vy(p),D!==0&&(L=D,E=OB(p,D))),E===1)throw T=pb,Bp(p,0),kf(p,L),Da(p,Bn()),T;if(E===6)kf(p,L);else{if(D=p.current.alternate,(L&30)===0&&!gPe(D)&&(E=MR(p,L),E===2&&(U=Vy(p),U!==0&&(L=U,E=OB(p,U))),E===1))throw T=pb,Bp(p,0),kf(p,L),Da(p,Bn()),T;switch(p.finishedWork=D,p.finishedLanes=L,E){case 0:case 1:throw Error(t(345));case 2:Up(p,xa,jd);break;case 3:if(kf(p,L),(L&130023424)===L&&(E=IB+500-Bn(),10<E)){if(yE(p,0)!==0)break;if(D=p.suspendedLanes,(D&L)!==L){ra(),p.pingedLanes|=p.suspendedLanes&D;break}p.timeoutHandle=FF(Up.bind(null,p,xa,jd),E);break}Up(p,xa,jd);break;case 4:if(kf(p,L),(L&4194240)===L)break;for(E=p.eventTimes,D=-1;0<L;){var X=31-nl(L);U=1<<X,X=E[X],X>D&&(D=X),L&=~U}if(L=D,L=Bn()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*fPe(L/1960))-L,10<L){p.timeoutHandle=FF(Up.bind(null,p,xa,jd),L);break}Up(p,xa,jd);break;case 5:Up(p,xa,jd);break;default:throw Error(t(329))}}}return Da(p,Bn()),p.callbackNode===T?zJ.bind(null,p):null}function OB(p,E){var T=mb;return p.current.memoizedState.isDehydrated&&(Bp(p,E).flags|=256),p=MR(p,E),p!==2&&(E=xa,xa=T,E!==null&&xB(E)),p}function xB(p){xa===null?xa=p:xa.push.apply(xa,p)}function gPe(p){for(var E=p;;){if(E.flags&16384){var T=E.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var L=0;L<T.length;L++){var D=T[L],U=D.getSnapshot;D=D.value;try{if(!bc(U(),D))return!1}catch{return!1}}}if(T=E.child,E.subtreeFlags&16384&&T!==null)T.return=E,E=T;else{if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}}return!0}function kf(p,E){for(E&=~RB,E&=~NR,p.suspendedLanes|=E,p.pingedLanes&=~E,p=p.expirationTimes;0<E;){var T=31-nl(E),L=1<<T;p[T]=-1,E&=~L}}function jJ(p){if((Ri&6)!==0)throw Error(t(327));KE();var E=yE(p,0);if((E&1)===0)return Da(p,Bn()),null;var T=MR(p,E);if(p.tag!==0&&T===2){var L=Vy(p);L!==0&&(E=L,T=OB(p,L))}if(T===1)throw T=pb,Bp(p,0),kf(p,E),Da(p,Bn()),T;if(T===6)throw Error(t(345));return p.finishedWork=p.current.alternate,p.finishedLanes=E,Up(p,xa,jd),Da(p,Bn()),null}function DB(p,E){var T=Ri;Ri|=1;try{return p(E)}finally{Ri=T,Ri===0&&(YE=Bn()+500,lR&&If())}}function Fp(p){Df!==null&&Df.tag===0&&(Ri&6)===0&&KE();var E=Ri;Ri|=1;var T=Wl.transition,L=Li;try{if(Wl.transition=null,Li=1,p)return p()}finally{Li=L,Wl.transition=T,Ri=E,(Ri&6)===0&&If()}}function PB(){sl=jE.current,Er(jE)}function Bp(p,E){p.finishedWork=null,p.finishedLanes=0;var T=p.timeoutHandle;if(T!==-1&&(p.timeoutHandle=-1,GDe(T)),ms!==null)for(T=ms.return;T!==null;){var L=T;switch($F(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&oR();break;case 3:$E(),Er(Na),Er(ko),nB();break;case 5:eB(L);break;case 4:$E();break;case 13:Er(Rr);break;case 19:Er(Rr);break;case 10:qF(L.type._context);break;case 22:case 23:PB()}T=T.return}if(qs=p,ms=p=Mf(p.current,null),_o=sl=E,xs=0,pb=null,RB=NR=Mp=0,xa=mb=null,Dp!==null){for(E=0;E<Dp.length;E++)if(T=Dp[E],L=T.interleaved,L!==null){T.interleaved=null;var D=L.next,U=T.pending;if(U!==null){var X=U.next;U.next=D,L.next=X}T.pending=L}Dp=null}return p}function YJ(p,E){do{var T=ms;try{if(KF(),ER.current=yR,vR){for(var L=Ir.memoizedState;L!==null;){var D=L.queue;D!==null&&(D.pending=null),L=L.next}vR=!1}if(kp=0,Ks=Os=Ir=null,cb=!1,ub=0,AB.current=null,T===null||T.return===null){xs=1,pb=E,ms=null;break}e:{var U=p,X=T.return,de=T,_e=E;if(E=_o,de.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Pe=_e,Xe=de,et=Xe.tag;if((Xe.mode&1)===0&&(et===0||et===11||et===15)){var Ke=Xe.alternate;Ke?(Xe.updateQueue=Ke.updateQueue,Xe.memoizedState=Ke.memoizedState,Xe.lanes=Ke.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var bt=EJ(X);if(bt!==null){bt.flags&=-257,vJ(bt,X,de,U,E),bt.mode&1&&_J(U,Pe,E),E=bt,_e=Pe;var xt=E.updateQueue;if(xt===null){var Mt=new Set;Mt.add(_e),E.updateQueue=Mt}else xt.add(_e);break e}else{if((E&1)===0){_J(U,Pe,E),kB();break e}_e=Error(t(426))}}else if(br&&de.mode&1){var Jr=EJ(X);if(Jr!==null){(Jr.flags&65536)===0&&(Jr.flags|=256),vJ(Jr,X,de,U,E),jF(GE(_e,de));break e}}U=_e=GE(_e,de),xs!==4&&(xs=2),mb===null?mb=[U]:mb.push(U),U=X;do{switch(U.tag){case 3:U.flags|=65536,E&=-E,U.lanes|=E;var Re=pJ(U,_e,E);WZ(U,Re);break e;case 1:de=_e;var ye=U.type,Le=U.stateNode;if((U.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&(xf===null||!xf.has(Le)))){U.flags|=65536,E&=-E,U.lanes|=E;var ot=mJ(U,de,E);WZ(U,ot);break e}}U=U.return}while(U!==null)}XJ(T)}catch(Gt){E=Gt,ms===T&&T!==null&&(ms=T=T.return);continue}break}while(!0)}function KJ(){var p=IR.current;return IR.current=yR,p===null?yR:p}function kB(){(xs===0||xs===3||xs===2)&&(xs=4),qs===null||(Mp&268435455)===0&&(NR&268435455)===0||kf(qs,_o)}function MR(p,E){var T=Ri;Ri|=2;var L=KJ();(qs!==p||_o!==E)&&(jd=null,Bp(p,E));do try{pPe();break}catch(D){YJ(p,D)}while(!0);if(KF(),Ri=T,IR.current=L,ms!==null)throw Error(t(261));return qs=null,_o=0,xs}function pPe(){for(;ms!==null;)qJ(ms)}function mPe(){for(;ms!==null&&!Bi();)qJ(ms)}function qJ(p){var E=JJ(p.alternate,p,sl);p.memoizedProps=p.pendingProps,E===null?XJ(p):ms=E,AB.current=null}function XJ(p){var E=p;do{var T=E.alternate;if(p=E.return,(E.flags&32768)===0){if(T=lPe(T,E,sl),T!==null){ms=T;return}}else{if(T=cPe(T,E),T!==null){T.flags&=32767,ms=T;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{xs=6,ms=null;return}}if(E=E.sibling,E!==null){ms=E;return}ms=E=p}while(E!==null);xs===0&&(xs=5)}function Up(p,E,T){var L=Li,D=Wl.transition;try{Wl.transition=null,Li=1,_Pe(p,E,T,L)}finally{Wl.transition=D,Li=L}return null}function _Pe(p,E,T,L){do KE();while(Df!==null);if((Ri&6)!==0)throw Error(t(327));T=p.finishedWork;var D=p.finishedLanes;if(T===null)return null;if(p.finishedWork=null,p.finishedLanes=0,T===p.current)throw Error(t(177));p.callbackNode=null,p.callbackPriority=0;var U=T.lanes|T.childLanes;if(pF(p,U),p===qs&&(ms=qs=null,_o=0),(T.subtreeFlags&2064)===0&&(T.flags&2064)===0||xR||(xR=!0,eee(Ur,function(){return KE(),null})),U=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||U){U=Wl.transition,Wl.transition=null;var X=Li;Li=1;var de=Ri;Ri|=4,AB.current=null,dPe(p,T),HJ(T,p),FDe(kF),oe=!!PF,kF=PF=null,p.current=T,hPe(T),Ar(),Ri=de,Li=X,Wl.transition=U}else p.current=T;if(xR&&(xR=!1,Df=p,DR=D),U=p.pendingLanes,U===0&&(xf=null),dF(T.stateNode),Da(p,Bn()),E!==null)for(L=p.onRecoverableError,T=0;T<E.length;T++)D=E[T],L(D.value,{componentStack:D.stack,digest:D.digest});if(LR)throw LR=!1,p=NB,NB=null,p;return(DR&1)!==0&&p.tag!==0&&KE(),U=p.pendingLanes,(U&1)!==0?p===LB?_b++:(_b=0,LB=p):_b=0,If(),null}function KE(){if(Df!==null){var p=jA(DR),E=Wl.transition,T=Li;try{if(Wl.transition=null,Li=16>p?16:p,Df===null)var L=!1;else{if(p=Df,Df=null,DR=0,(Ri&6)!==0)throw Error(t(331));var D=Ri;for(Ri|=4,wt=p.current;wt!==null;){var U=wt,X=U.child;if((wt.flags&16)!==0){var de=U.deletions;if(de!==null){for(var _e=0;_e<de.length;_e++){var Pe=de[_e];for(wt=Pe;wt!==null;){var Xe=wt;switch(Xe.tag){case 0:case 11:case 15:gb(8,Xe,U)}var et=Xe.child;if(et!==null)et.return=Xe,wt=et;else for(;wt!==null;){Xe=wt;var Ke=Xe.sibling,bt=Xe.return;if(kJ(Xe),Xe===Pe){wt=null;break}if(Ke!==null){Ke.return=bt,wt=Ke;break}wt=bt}}}var xt=U.alternate;if(xt!==null){var Mt=xt.child;if(Mt!==null){xt.child=null;do{var Jr=Mt.sibling;Mt.sibling=null,Mt=Jr}while(Mt!==null)}}wt=U}}if((U.subtreeFlags&2064)!==0&&X!==null)X.return=U,wt=X;else e:for(;wt!==null;){if(U=wt,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:gb(9,U,U.return)}var Re=U.sibling;if(Re!==null){Re.return=U.return,wt=Re;break e}wt=U.return}}var ye=p.current;for(wt=ye;wt!==null;){X=wt;var Le=X.child;if((X.subtreeFlags&2064)!==0&&Le!==null)Le.return=X,wt=Le;else e:for(X=ye;wt!==null;){if(de=wt,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:RR(9,de)}}catch(Gt){Hr(de,de.return,Gt)}if(de===X){wt=null;break e}var ot=de.sibling;if(ot!==null){ot.return=de.return,wt=ot;break e}wt=de.return}}if(Ri=D,If(),Dl&&typeof Dl.onPostCommitFiberRoot=="function")try{Dl.onPostCommitFiberRoot(Tp,p)}catch{}L=!0}return L}finally{Li=T,Wl.transition=E}}return!1}function QJ(p,E,T){E=GE(T,E),E=pJ(p,E,1),p=Lf(p,E,1),E=ra(),p!==null&&(Ap(p,1,E),Da(p,E))}function Hr(p,E,T){if(p.tag===3)QJ(p,p,T);else for(;E!==null;){if(E.tag===3){QJ(E,p,T);break}else if(E.tag===1){var L=E.stateNode;if(typeof E.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(xf===null||!xf.has(L))){p=GE(T,p),p=mJ(E,p,1),E=Lf(E,p,1),p=ra(),E!==null&&(Ap(E,1,p),Da(E,p));break}}E=E.return}}function EPe(p,E,T){var L=p.pingCache;L!==null&&L.delete(E),E=ra(),p.pingedLanes|=p.suspendedLanes&T,qs===p&&(_o&T)===T&&(xs===4||xs===3&&(_o&130023424)===_o&&500>Bn()-IB?Bp(p,0):RB|=T),Da(p,E)}function ZJ(p,E){E===0&&((p.mode&1)===0?E=1:(E=CE,CE<<=1,(CE&130023424)===0&&(CE=4194304)));var T=ra();p=$d(p,E),p!==null&&(Ap(p,E,T),Da(p,T))}function vPe(p){var E=p.memoizedState,T=0;E!==null&&(T=E.retryLane),ZJ(p,T)}function SPe(p,E){var T=0;switch(p.tag){case 13:var L=p.stateNode,D=p.memoizedState;D!==null&&(T=D.retryLane);break;case 19:L=p.stateNode;break;default:throw Error(t(314))}L!==null&&L.delete(E),ZJ(p,T)}var JJ;JJ=function(p,E,T){if(p!==null)if(p.memoizedProps!==E.pendingProps||Na.current)Oa=!0;else{if((p.lanes&T)===0&&(E.flags&128)===0)return Oa=!1,aPe(p,E,T);Oa=(p.flags&131072)!==0}else Oa=!1,br&&(E.flags&1048576)!==0&&xZ(E,uR,E.index);switch(E.lanes=0,E.tag){case 2:var L=E.type;wR(p,E),p=E.pendingProps;var D=ME(E,ko.current);WE(E,T),D=sB(null,E,L,p,D,T);var U=oB();return E.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(E.tag=1,E.memoizedState=null,E.updateQueue=null,La(L)?(U=!0,aR(E)):U=!1,E.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,ZF(E),D.updater=bR,E.stateNode=D,D._reactInternals=E,hB(E,L,p,T),E=mB(null,E,L,!0,U,T)):(E.tag=0,br&&U&&WF(E),ia(null,E,D,T),E=E.child),E;case 16:L=E.elementType;e:{switch(wR(p,E),p=E.pendingProps,D=L._init,L=D(L._payload),E.type=L,D=E.tag=yPe(L),p=wc(L,p),D){case 0:E=pB(null,E,L,p,T);break e;case 1:E=wJ(null,E,L,p,T);break e;case 11:E=SJ(null,E,L,p,T);break e;case 14:E=CJ(null,E,L,wc(L.type,p),T);break e}throw Error(t(306,L,""))}return E;case 0:return L=E.type,D=E.pendingProps,D=E.elementType===L?D:wc(L,D),pB(p,E,L,D,T);case 1:return L=E.type,D=E.pendingProps,D=E.elementType===L?D:wc(L,D),wJ(p,E,L,D,T);case 3:e:{if(AJ(E),p===null)throw Error(t(387));L=E.pendingProps,U=E.memoizedState,D=U.element,VZ(p,E),mR(E,L,null,T);var X=E.memoizedState;if(L=X.element,U.isDehydrated)if(U={element:L,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},E.updateQueue.baseState=U,E.memoizedState=U,E.flags&256){D=GE(Error(t(423)),E),E=RJ(p,E,L,T,D);break e}else if(L!==D){D=GE(Error(t(424)),E),E=RJ(p,E,L,T,D);break e}else for(rl=wf(E.stateNode.containerInfo.firstChild),il=E,br=!0,Tc=null,T=UZ(E,null,L,T),E.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(UE(),L===D){E=zd(p,E,T);break e}ia(p,E,L,T)}E=E.child}return E;case 5:return GZ(E),p===null&&zF(E),L=E.type,D=E.pendingProps,U=p!==null?p.memoizedProps:null,X=D.children,MF(L,D)?X=null:U!==null&&MF(L,U)&&(E.flags|=32),TJ(p,E),ia(p,E,X,T),E.child;case 6:return p===null&&zF(E),null;case 13:return IJ(p,E,T);case 4:return JF(E,E.stateNode.containerInfo),L=E.pendingProps,p===null?E.child=HE(E,null,L,T):ia(p,E,L,T),E.child;case 11:return L=E.type,D=E.pendingProps,D=E.elementType===L?D:wc(L,D),SJ(p,E,L,D,T);case 7:return ia(p,E,E.pendingProps,T),E.child;case 8:return ia(p,E,E.pendingProps.children,T),E.child;case 12:return ia(p,E,E.pendingProps.children,T),E.child;case 10:e:{if(L=E.type._context,D=E.pendingProps,U=E.memoizedProps,X=D.value,ur(fR,L._currentValue),L._currentValue=X,U!==null)if(bc(U.value,X)){if(U.children===D.children&&!Na.current){E=zd(p,E,T);break e}}else for(U=E.child,U!==null&&(U.return=E);U!==null;){var de=U.dependencies;if(de!==null){X=U.child;for(var _e=de.firstContext;_e!==null;){if(_e.context===L){if(U.tag===1){_e=Gd(-1,T&-T),_e.tag=2;var Pe=U.updateQueue;if(Pe!==null){Pe=Pe.shared;var Xe=Pe.pending;Xe===null?_e.next=_e:(_e.next=Xe.next,Xe.next=_e),Pe.pending=_e}}U.lanes|=T,_e=U.alternate,_e!==null&&(_e.lanes|=T),XF(U.return,T,E),de.lanes|=T;break}_e=_e.next}}else if(U.tag===10)X=U.type===E.type?null:U.child;else if(U.tag===18){if(X=U.return,X===null)throw Error(t(341));X.lanes|=T,de=X.alternate,de!==null&&(de.lanes|=T),XF(X,T,E),X=U.sibling}else X=U.child;if(X!==null)X.return=U;else for(X=U;X!==null;){if(X===E){X=null;break}if(U=X.sibling,U!==null){U.return=X.return,X=U;break}X=X.return}U=X}ia(p,E,D.children,T),E=E.child}return E;case 9:return D=E.type,L=E.pendingProps.children,WE(E,T),D=Hl(D),L=L(D),E.flags|=1,ia(p,E,L,T),E.child;case 14:return L=E.type,D=wc(L,E.pendingProps),D=wc(L.type,D),CJ(p,E,L,D,T);case 15:return yJ(p,E,E.type,E.pendingProps,T);case 17:return L=E.type,D=E.pendingProps,D=E.elementType===L?D:wc(L,D),wR(p,E),E.tag=1,La(L)?(p=!0,aR(E)):p=!1,WE(E,T),fJ(E,L,D),hB(E,L,D,T),mB(null,E,L,!0,p,T);case 19:return LJ(p,E,T);case 22:return bJ(p,E,T)}throw Error(t(156,E.tag))};function eee(p,E){return it(p,E)}function CPe(p,E,T,L){this.tag=p,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $l(p,E,T,L){return new CPe(p,E,T,L)}function MB(p){return p=p.prototype,!(!p||!p.isReactComponent)}function yPe(p){if(typeof p=="function")return MB(p)?1:0;if(p!=null){if(p=p.$$typeof,p===M)return 11;if(p===H)return 14}return 2}function Mf(p,E){var T=p.alternate;return T===null?(T=$l(p.tag,E,p.key,p.mode),T.elementType=p.elementType,T.type=p.type,T.stateNode=p.stateNode,T.alternate=p,p.alternate=T):(T.pendingProps=E,T.type=p.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=p.flags&14680064,T.childLanes=p.childLanes,T.lanes=p.lanes,T.child=p.child,T.memoizedProps=p.memoizedProps,T.memoizedState=p.memoizedState,T.updateQueue=p.updateQueue,E=p.dependencies,T.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},T.sibling=p.sibling,T.index=p.index,T.ref=p.ref,T}function FR(p,E,T,L,D,U){var X=2;if(L=p,typeof p=="function")MB(p)&&(X=1);else if(typeof p=="string")X=5;else e:switch(p){case I:return Hp(T.children,D,U,E);case O:X=8,D|=8;break;case x:return p=$l(12,T,E,D|2),p.elementType=x,p.lanes=U,p;case W:return p=$l(13,T,E,D),p.elementType=W,p.lanes=U,p;case F:return p=$l(19,T,E,D),p.elementType=F,p.lanes=U,p;case Y:return BR(T,D,U,E);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case k:X=10;break e;case P:X=9;break e;case M:X=11;break e;case H:X=14;break e;case V:X=16,L=null;break e}throw Error(t(130,p==null?p:typeof p,""))}return E=$l(X,T,E,D),E.elementType=p,E.type=L,E.lanes=U,E}function Hp(p,E,T,L){return p=$l(7,p,L,E),p.lanes=T,p}function BR(p,E,T,L){return p=$l(22,p,L,E),p.elementType=Y,p.lanes=T,p.stateNode={isHidden:!1},p}function FB(p,E,T){return p=$l(6,p,null,E),p.lanes=T,p}function BB(p,E,T){return E=$l(4,p.children!==null?p.children:[],p.key,E),E.lanes=T,E.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},E}function bPe(p,E,T,L,D){this.tag=E,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=TE(0),this.expirationTimes=TE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=TE(0),this.identifierPrefix=L,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function UB(p,E,T,L,D,U,X,de,_e){return p=new bPe(p,E,T,de,_e),E===1?(E=1,U===!0&&(E|=8)):E=0,U=$l(3,null,null,E),p.current=U,U.stateNode=p,U.memoizedState={element:L,isDehydrated:T,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZF(U),p}function TPe(p,E,T){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:w,key:L==null?null:""+L,children:p,containerInfo:E,implementation:T}}function tee(p){if(!p)return Rf;p=p._reactInternals;e:{if(Fn(p)!==p||p.tag!==1)throw Error(t(170));var E=p;do{switch(E.tag){case 3:E=E.stateNode.context;break e;case 1:if(La(E.type)){E=E.stateNode.__reactInternalMemoizedMergedChildContext;break e}}E=E.return}while(E!==null);throw Error(t(171))}if(p.tag===1){var T=p.type;if(La(T))return NZ(p,T,E)}return E}function nee(p,E,T,L,D,U,X,de,_e){return p=UB(T,L,!0,p,D,U,X,de,_e),p.context=tee(null),T=p.current,L=ra(),D=Pf(T),U=Gd(L,D),U.callback=E??null,Lf(T,U,D),p.current.lanes=D,Ap(p,D,L),Da(p,L),p}function UR(p,E,T,L){var D=E.current,U=ra(),X=Pf(D);return T=tee(T),E.context===null?E.context=T:E.pendingContext=T,E=Gd(U,X),E.payload={element:p},L=L===void 0?null:L,L!==null&&(E.callback=L),p=Lf(D,E,X),p!==null&&(Ic(p,D,X,U),pR(p,D,X)),X}function HR(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function iee(p,E){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var T=p.retryLane;p.retryLane=T!==0&&T<E?T:E}}function HB(p,E){iee(p,E),(p=p.alternate)&&iee(p,E)}function wPe(){return null}var ree=typeof reportError=="function"?reportError:function(p){console.error(p)};function VB(p){this._internalRoot=p}VR.prototype.render=VB.prototype.render=function(p){var E=this._internalRoot;if(E===null)throw Error(t(409));UR(p,E,null,null)},VR.prototype.unmount=VB.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var E=p.containerInfo;Fp(function(){UR(null,p,null,null)}),E[Ud]=null}};function VR(p){this._internalRoot=p}VR.prototype.unstable_scheduleHydration=function(p){if(p){var E=KA();p={blockedOn:null,target:p,priority:E};for(var T=0;T<Fl.length&&E!==0&&E<Fl[T].priority;T++);Fl.splice(T,0,p),T===0&&zy(p)}};function WB(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function WR(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function see(){}function APe(p,E,T,L,D){if(D){if(typeof L=="function"){var U=L;L=function(){var Pe=HR(X);U.call(Pe)}}var X=nee(E,L,p,0,null,!1,!1,"",see);return p._reactRootContainer=X,p[Ud]=X.current,tb(p.nodeType===8?p.parentNode:p),Fp(),X}for(;D=p.lastChild;)p.removeChild(D);if(typeof L=="function"){var de=L;L=function(){var Pe=HR(_e);de.call(Pe)}}var _e=UB(p,0,!1,null,null,!1,!1,"",see);return p._reactRootContainer=_e,p[Ud]=_e.current,tb(p.nodeType===8?p.parentNode:p),Fp(function(){UR(E,_e,T,L)}),_e}function $R(p,E,T,L,D){var U=T._reactRootContainer;if(U){var X=U;if(typeof D=="function"){var de=D;D=function(){var _e=HR(X);de.call(_e)}}UR(E,X,p,D)}else X=APe(T,E,p,D,L);return HR(X)}YA=function(p){switch(p.tag){case 3:var E=p.stateNode;if(E.current.memoizedState.isDehydrated){var T=wp(E.pendingLanes);T!==0&&(Wy(E,T|1),Da(E,Bn()),(Ri&6)===0&&(YE=Bn()+500,If()))}break;case 13:Fp(function(){var L=$d(p,1);if(L!==null){var D=ra();Ic(L,p,1,D)}}),HB(p,1)}},$y=function(p){if(p.tag===13){var E=$d(p,134217728);if(E!==null){var T=ra();Ic(E,p,134217728,T)}HB(p,134217728)}},wE=function(p){if(p.tag===13){var E=Pf(p),T=$d(p,E);if(T!==null){var L=ra();Ic(T,p,E,L)}HB(p,E)}},KA=function(){return Li},qA=function(p,E){var T=Li;try{return Li=p,E()}finally{Li=T}},Ru=function(p,E,T){switch(E){case"input":if(Vt(p,T),E=T.name,T.type==="radio"&&E!=null){for(T=p;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll("input[name="+JSON.stringify(""+E)+'][type="radio"]'),E=0;E<T.length;E++){var L=T[E];if(L!==p&&L.form===p.form){var D=sR(L);if(!D)throw Error(t(90));me(L),Vt(L,D)}}}break;case"textarea":De(p,T);break;case"select":E=T.value,E!=null&&_t(p,!!T.multiple,E,!1)}},Iu=DB,Zt=Fp;var RPe={usingClientEntryPoint:!1,Events:[rb,PE,sR,vf,Md,DB]},Eb={findFiberByHostInstance:Np,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IPe={bundleType:Eb.bundleType,version:Eb.version,rendererPackageName:Eb.rendererPackageName,rendererConfig:Eb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=Lt(p),p===null?null:p.stateNode},findFiberByHostInstance:Eb.findFiberByHostInstance||wPe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var GR=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!GR.isDisabled&&GR.supportsFiber)try{Tp=GR.inject(IPe),Dl=GR}catch{}}return Pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RPe,Pa.createPortal=function(p,E){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WB(E))throw Error(t(200));return TPe(p,E,null,T)},Pa.createRoot=function(p,E){if(!WB(p))throw Error(t(299));var T=!1,L="",D=ree;return E!=null&&(E.unstable_strictMode===!0&&(T=!0),E.identifierPrefix!==void 0&&(L=E.identifierPrefix),E.onRecoverableError!==void 0&&(D=E.onRecoverableError)),E=UB(p,1,!1,null,null,T,!1,L,D),p[Ud]=E.current,tb(p.nodeType===8?p.parentNode:p),new VB(E)},Pa.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var E=p._reactInternals;if(E===void 0)throw typeof p.render=="function"?Error(t(188)):(p=Object.keys(p).join(","),Error(t(268,p)));return p=Lt(E),p=p===null?null:p.stateNode,p},Pa.flushSync=function(p){return Fp(p)},Pa.hydrate=function(p,E,T){if(!WR(E))throw Error(t(200));return $R(null,p,E,!0,T)},Pa.hydrateRoot=function(p,E,T){if(!WB(p))throw Error(t(405));var L=T!=null&&T.hydratedSources||null,D=!1,U="",X=ree;if(T!=null&&(T.unstable_strictMode===!0&&(D=!0),T.identifierPrefix!==void 0&&(U=T.identifierPrefix),T.onRecoverableError!==void 0&&(X=T.onRecoverableError)),E=nee(E,null,p,1,T??null,D,!1,U,X),p[Ud]=E.current,tb(p),L)for(p=0;p<L.length;p++)T=L[p],D=T._getVersion,D=D(T._source),E.mutableSourceEagerHydrationData==null?E.mutableSourceEagerHydrationData=[T,D]:E.mutableSourceEagerHydrationData.push(T,D);return new VR(E)},Pa.render=function(p,E,T){if(!WR(E))throw Error(t(200));return $R(null,p,E,!1,T)},Pa.unmountComponentAtNode=function(p){if(!WR(p))throw Error(t(40));return p._reactRootContainer?(Fp(function(){$R(null,null,p,!1,function(){p._reactRootContainer=null,p[Ud]=null})}),!0):!1},Pa.unstable_batchedUpdates=DB,Pa.unstable_renderSubtreeIntoContainer=function(p,E,T,L){if(!WR(T))throw Error(t(200));if(p==null||p._reactInternals===void 0)throw Error(t(38));return $R(p,E,T,!1,L)},Pa.version="18.3.1-next-f1338f8080-20240426",Pa}var fee;function r_e(){if(fee)return zB.exports;fee=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zB.exports=HPe(),zB.exports}var gee;function VPe(){if(gee)return zR;gee=1;var n=r_e();return zR.createRoot=n.createRoot,zR.hydrateRoot=n.hydrateRoot,zR}var WPe=VPe(),s_e=N.createContext({dragDropManager:void 0}),Jl;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(Jl||(Jl={}));function ri(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];if(!n){var s;if(e===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;s=new Error(e.replace(/%s/g,function(){return i[o++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var lj="dnd-core/INIT_COORDS",lk="dnd-core/BEGIN_DRAG",cj="dnd-core/PUBLISH_DRAG_SOURCE",ck="dnd-core/HOVER",uk="dnd-core/DROP",dk="dnd-core/END_DRAG";function pee(n,e){return{type:lj,payload:{sourceClientOffset:e||null,clientOffset:n||null}}}function HN(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?HN=function(t){return typeof t}:HN=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HN(n)}function $Pe(n,e,t){return e.split(".").reduce(function(i,r){return i&&i[r]?i[r]:t||null},n)}function GPe(n,e){return n.filter(function(t){return t!==e})}function o_e(n){return HN(n)==="object"}function zPe(n,e){var t=new Map,i=function(o){t.set(o,t.has(o)?t.get(o)+1:1)};n.forEach(i),e.forEach(i);var r=[];return t.forEach(function(s,o){s===1&&r.push(o)}),r}function jPe(n,e){return n.filter(function(t){return e.indexOf(t)>-1})}var YPe={type:lj,payload:{clientOffset:null,sourceClientOffset:null}};function KPe(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},r=i.publishSource,s=r===void 0?!0:r,o=i.clientOffset,a=i.getSourceClientOffset,l=n.getMonitor(),c=n.getRegistry();n.dispatch(pee(o)),qPe(t,l,c);var u=ZPe(t,l);if(u===null){n.dispatch(YPe);return}var d=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");XPe(a),d=a(u)}n.dispatch(pee(o,d));var h=c.getSource(u),f=h.beginDrag(l,u);if(f!=null){QPe(f),c.pinSource(u);var m=c.getSourceType(u);return{type:lk,payload:{itemType:m,item:f,sourceId:u,clientOffset:o||null,sourceClientOffset:d||null,isSourcePublic:!!s}}}}}function qPe(n,e,t){ri(!e.isDragging(),"Cannot call beginDrag while dragging."),n.forEach(function(i){ri(t.getSource(i),"Expected sourceIds to be registered.")})}function XPe(n){ri(typeof n=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function QPe(n){ri(o_e(n),"Item must be an object.")}function ZPe(n,e){for(var t=null,i=n.length-1;i>=0;i--)if(e.canDragSource(n[i])){t=n[i];break}return t}function JPe(n){return function(){var t=n.getMonitor();if(t.isDragging())return{type:cj}}}function n9(n,e){return e===null?n===null:Array.isArray(n)?n.some(function(t){return t===e}):n===e}function eke(n){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.clientOffset;tke(t);var s=t.slice(0),o=n.getMonitor(),a=n.getRegistry();nke(s,o,a);var l=o.getItemType();return ike(s,a,l),rke(s,o,a),{type:ck,payload:{targetIds:s,clientOffset:r||null}}}}function tke(n){ri(Array.isArray(n),"Expected targetIds to be an array.")}function nke(n,e,t){ri(e.isDragging(),"Cannot call hover while not dragging."),ri(!e.didDrop(),"Cannot call hover after drop.");for(var i=0;i<n.length;i++){var r=n[i];ri(n.lastIndexOf(r)===i,"Expected targetIds to be unique in the passed array.");var s=t.getTarget(r);ri(s,"Expected targetIds to be registered.")}}function ike(n,e,t){for(var i=n.length-1;i>=0;i--){var r=n[i],s=e.getTargetType(r);n9(s,t)||n.splice(i,1)}}function rke(n,e,t){n.forEach(function(i){var r=t.getTarget(i);r.hover(e,i)})}function mee(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _ee(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mee(Object(t),!0).forEach(function(i){ske(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mee(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ske(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oke(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.getMonitor(),r=n.getRegistry();ake(i);var s=uke(i);s.forEach(function(o,a){var l=lke(o,a,r,i),c={type:uk,payload:{dropResult:_ee(_ee({},t),l)}};n.dispatch(c)})}}function ake(n){ri(n.isDragging(),"Cannot call drop while not dragging."),ri(!n.didDrop(),"Cannot call drop twice during one drag operation.")}function lke(n,e,t,i){var r=t.getTarget(n),s=r?r.drop(i,n):void 0;return cke(s),typeof s>"u"&&(s=e===0?{}:i.getDropResult()),s}function cke(n){ri(typeof n>"u"||o_e(n),"Drop result must either be an object or undefined.")}function uke(n){var e=n.getTargetIds().filter(n.canDropOnTarget,n);return e.reverse(),e}function dke(n){return function(){var t=n.getMonitor(),i=n.getRegistry();hke(t);var r=t.getSourceId();if(r!=null){var s=i.getSource(r,!0);s.endDrag(t,r),i.unpinSource()}return{type:dk}}}function hke(n){ri(n.isDragging(),"Cannot call endDrag while not dragging.")}function fke(n){return{beginDrag:KPe(n),publishDragSource:JPe(n),hover:eke(n),drop:oke(n),endDrag:dke(n)}}function gke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pke(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function mke(n,e,t){return e&&pke(n.prototype,e),n}function Sb(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var _ke=function(){function n(e,t){var i=this;gke(this,n),Sb(this,"store",void 0),Sb(this,"monitor",void 0),Sb(this,"backend",void 0),Sb(this,"isSetUp",!1),Sb(this,"handleRefCountChange",function(){var r=i.store.getState().refCount>0;i.backend&&(r&&!i.isSetUp?(i.backend.setup(),i.isSetUp=!0):!r&&i.isSetUp&&(i.backend.teardown(),i.isSetUp=!1))}),this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}return mke(n,[{key:"receiveBackend",value:function(t){this.backend=t}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var t=this,i=this.store.dispatch;function r(o){return function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=o.apply(t,l);typeof u<"u"&&i(u)}}var s=fke(this);return Object.keys(s).reduce(function(o,a){var l=s[a];return o[a]=r(l),o},{})}},{key:"dispatch",value:function(t){this.store.dispatch(t)}}]),n}();function Gl(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var Eee=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),vee=function(){return Math.random().toString(36).substring(7).split("").join(".")},See={INIT:"@@redux/INIT"+vee(),REPLACE:"@@redux/REPLACE"+vee()};function Eke(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function a_e(n,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Gl(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Gl(1));return t(a_e)(n,e)}if(typeof n!="function")throw new Error(Gl(2));var r=n,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(Gl(3));return s}function d(g){if(typeof g!="function")throw new Error(Gl(4));if(l)throw new Error(Gl(5));var _=!0;return c(),a.push(g),function(){if(_){if(l)throw new Error(Gl(6));_=!1,c();var S=a.indexOf(g);a.splice(S,1),o=null}}}function h(g){if(!Eke(g))throw new Error(Gl(7));if(typeof g.type>"u")throw new Error(Gl(8));if(l)throw new Error(Gl(9));try{l=!0,s=r(s,g)}finally{l=!1}for(var _=o=a,v=0;v<_.length;v++){var S=_[v];S()}return g}function f(g){if(typeof g!="function")throw new Error(Gl(10));r=g,h({type:See.REPLACE})}function m(){var g,_=d;return g={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(Gl(11));function C(){S.next&&S.next(u())}C();var y=_(C);return{unsubscribe:y}}},g[Eee]=function(){return this},g}return h({type:See.INIT}),i={dispatch:h,subscribe:d,getState:u,replaceReducer:f},i[Eee]=m,i}var vke=function(e,t){return e===t};function Ske(n,e){return!n&&!e?!0:!n||!e?!1:n.x===e.x&&n.y===e.y}function Cke(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vke;if(n.length!==e.length)return!1;for(var i=0;i<n.length;++i)if(!t(n[i],e[i]))return!1;return!0}function Cee(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yee(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cee(Object(t),!0).forEach(function(i){yke(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cee(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function yke(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var bee={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function bke(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bee,e=arguments.length>1?arguments[1]:void 0,t=e.payload;switch(e.type){case lj:case lk:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case ck:return Ske(n.clientOffset,t.clientOffset)?n:yee(yee({},n),{},{clientOffset:t.clientOffset});case dk:case uk:return bee;default:return n}}var uj="dnd-core/ADD_SOURCE",dj="dnd-core/ADD_TARGET",hj="dnd-core/REMOVE_SOURCE",hk="dnd-core/REMOVE_TARGET";function Tke(n){return{type:uj,payload:{sourceId:n}}}function wke(n){return{type:dj,payload:{targetId:n}}}function Ake(n){return{type:hj,payload:{sourceId:n}}}function Rke(n){return{type:hk,payload:{targetId:n}}}function Tee(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tee(Object(t),!0).forEach(function(i){Ike(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tee(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Ike(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Nke={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Lke(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nke,e=arguments.length>1?arguments[1]:void 0,t=e.payload;switch(e.type){case lk:return zl(zl({},n),{},{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case cj:return zl(zl({},n),{},{isSourcePublic:!0});case ck:return zl(zl({},n),{},{targetIds:t.targetIds});case hk:return n.targetIds.indexOf(t.targetId)===-1?n:zl(zl({},n),{},{targetIds:GPe(n.targetIds,t.targetId)});case uk:return zl(zl({},n),{},{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case dk:return zl(zl({},n),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function Oke(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case uj:case dj:return n+1;case hj:case hk:return n-1;default:return n}}var VL=[],fj=[];VL.__IS_NONE__=!0;fj.__IS_ALL__=!0;function xke(n,e){if(n===VL)return!1;if(n===fj||typeof e>"u")return!0;var t=jPe(e,n);return t.length>0}function Dke(){var n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ck:break;case uj:case dj:case hk:case hj:return VL;case lk:case cj:case dk:case uk:default:return fj}var e=n.payload,t=e.targetIds,i=t===void 0?[]:t,r=e.prevTargetIds,s=r===void 0?[]:r,o=zPe(i,s),a=o.length>0||!Cke(i,s);if(!a)return VL;var l=s[s.length-1],c=i[i.length-1];return l!==c&&(l&&o.push(l),c&&o.push(c)),o}function Pke(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return n+1}function wee(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Aee(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wee(Object(t),!0).forEach(function(i){kke(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wee(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function kke(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mke(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Dke(n.dirtyHandlerIds,{type:e.type,payload:Aee(Aee({},e.payload),{},{prevTargetIds:$Pe(n,"dragOperation.targetIds",[])})}),dragOffset:bke(n.dragOffset,e),refCount:Oke(n.refCount,e),dragOperation:Lke(n.dragOperation,e),stateId:Pke(n.stateId)}}function Fke(n,e){return{x:n.x+e.x,y:n.y+e.y}}function l_e(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Bke(n){var e=n.clientOffset,t=n.initialClientOffset,i=n.initialSourceClientOffset;return!e||!t||!i?null:l_e(Fke(e,i),t)}function Uke(n){var e=n.clientOffset,t=n.initialClientOffset;return!e||!t?null:l_e(e,t)}function Hke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Vke(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Wke(n,e,t){return e&&Vke(n.prototype,e),n}function Ree(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var $ke=function(){function n(e,t){Hke(this,n),Ree(this,"store",void 0),Ree(this,"registry",void 0),this.store=e,this.registry=t}return Wke(n,[{key:"subscribeToStateChange",value:function(t){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},s=r.handlerIds;ri(typeof t=="function","listener must be a function."),ri(typeof s>"u"||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,a=function(){var c=i.store.getState(),u=c.stateId;try{var d=u===o||u===o+1&&!xke(c.dirtyHandlerIds,s);d||t()}finally{o=u}};return this.store.subscribe(a)}},{key:"subscribeToOffsetChange",value:function(t){var i=this;ri(typeof t=="function","listener must be a function.");var r=this.store.getState().dragOffset,s=function(){var a=i.store.getState().dragOffset;a!==r&&(r=a,t())};return this.store.subscribe(s)}},{key:"canDragSource",value:function(t){if(!t)return!1;var i=this.registry.getSource(t);return ri(i,"Expected to find a valid source. sourceId=".concat(t)),this.isDragging()?!1:i.canDrag(this,t)}},{key:"canDropOnTarget",value:function(t){if(!t)return!1;var i=this.registry.getTarget(t);if(ri(i,"Expected to find a valid target. targetId=".concat(t)),!this.isDragging()||this.didDrop())return!1;var r=this.registry.getTargetType(t),s=this.getItemType();return n9(r,s)&&i.canDrop(this,t)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(t){if(!t)return!1;var i=this.registry.getSource(t,!0);if(ri(i,"Expected to find a valid source. sourceId=".concat(t)),!this.isDragging()||!this.isSourcePublic())return!1;var r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:i.isDragging(this,t)}},{key:"isOverTarget",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!t)return!1;var r=i.shallow;if(!this.isDragging())return!1;var s=this.registry.getTargetType(t),o=this.getItemType();if(o&&!n9(s,o))return!1;var a=this.getTargetIds();if(!a.length)return!1;var l=a.indexOf(t);return r?l===a.length-1:l>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return Bke(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return Uke(this.store.getState().dragOffset)}}]),n}(),Gke=0;function zke(){return Gke++}function VN(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?VN=function(t){return typeof t}:VN=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VN(n)}function jke(n){ri(typeof n.canDrag=="function","Expected canDrag to be a function."),ri(typeof n.beginDrag=="function","Expected beginDrag to be a function."),ri(typeof n.endDrag=="function","Expected endDrag to be a function.")}function Yke(n){ri(typeof n.canDrop=="function","Expected canDrop to be a function."),ri(typeof n.hover=="function","Expected hover to be a function."),ri(typeof n.drop=="function","Expected beginDrag to be a function.")}function i9(n,e){if(e&&Array.isArray(n)){n.forEach(function(t){return i9(t,!1)});return}ri(typeof n=="string"||VN(n)==="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const Iee=typeof global<"u"?global:self,c_e=Iee.MutationObserver||Iee.WebKitMutationObserver;function u_e(n){return function(){const t=setTimeout(r,0),i=setInterval(r,50);function r(){clearTimeout(t),clearInterval(i),n()}}}function Kke(n){let e=1;const t=new c_e(n),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}const qke=typeof c_e=="function"?Kke:u_e;class Xke{enqueueTask(e){const{queue:t,requestFlush:i}=this;t.length||(i(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let i=0,r=e.length-this.index;i<r;i++)e[i]=e[i+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=qke(this.flush),this.requestErrorThrow=u_e(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Qke{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class Zke{create(e){const t=this.freeTasks,i=t.length?t.pop():new Qke(this.onError,r=>t[t.length]=r);return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}const d_e=new Xke,Jke=new Zke(d_e.registerPendingError);function eMe(n){d_e.enqueueTask(Jke.create(n))}function tMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nMe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function iMe(n,e,t){return e&&nMe(n.prototype,e),n}function qE(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rMe(n,e){return lMe(n)||aMe(n,e)||oMe(n,e)||sMe()}function sMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oMe(n,e){if(n){if(typeof n=="string")return Nee(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nee(n,e)}}function Nee(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function aMe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function lMe(n){if(Array.isArray(n))return n}function cMe(n){var e=zke().toString();switch(n){case Jl.SOURCE:return"S".concat(e);case Jl.TARGET:return"T".concat(e);default:throw new Error("Unknown Handler Role: ".concat(n))}}function Lee(n){switch(n[0]){case"S":return Jl.SOURCE;case"T":return Jl.TARGET;default:ri(!1,"Cannot parse handler ID: ".concat(n))}}function Oee(n,e){var t=n.entries(),i=!1;do{var r=t.next(),s=r.done,o=rMe(r.value,2),a=o[1];if(a===e)return!0;i=!!s}while(!i);return!1}var uMe=function(){function n(e){tMe(this,n),qE(this,"types",new Map),qE(this,"dragSources",new Map),qE(this,"dropTargets",new Map),qE(this,"pinnedSourceId",null),qE(this,"pinnedSource",null),qE(this,"store",void 0),this.store=e}return iMe(n,[{key:"addSource",value:function(t,i){i9(t),jke(i);var r=this.addHandler(Jl.SOURCE,t,i);return this.store.dispatch(Tke(r)),r}},{key:"addTarget",value:function(t,i){i9(t,!0),Yke(i);var r=this.addHandler(Jl.TARGET,t,i);return this.store.dispatch(wke(r)),r}},{key:"containsHandler",value:function(t){return Oee(this.dragSources,t)||Oee(this.dropTargets,t)}},{key:"getSource",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ri(this.isSourceId(t),"Expected a valid source ID.");var r=i&&t===this.pinnedSourceId,s=r?this.pinnedSource:this.dragSources.get(t);return s}},{key:"getTarget",value:function(t){return ri(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}},{key:"getSourceType",value:function(t){return ri(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}},{key:"getTargetType",value:function(t){return ri(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}},{key:"isSourceId",value:function(t){var i=Lee(t);return i===Jl.SOURCE}},{key:"isTargetId",value:function(t){var i=Lee(t);return i===Jl.TARGET}},{key:"removeSource",value:function(t){var i=this;ri(this.getSource(t),"Expected an existing source."),this.store.dispatch(Ake(t)),eMe(function(){i.dragSources.delete(t),i.types.delete(t)})}},{key:"removeTarget",value:function(t){ri(this.getTarget(t),"Expected an existing target."),this.store.dispatch(Rke(t)),this.dropTargets.delete(t),this.types.delete(t)}},{key:"pinSource",value:function(t){var i=this.getSource(t);ri(i,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=i}},{key:"unpinSource",value:function(){ri(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(t,i,r){var s=cMe(t);return this.types.set(s,i),t===Jl.SOURCE?this.dragSources.set(s,r):t===Jl.TARGET&&this.dropTargets.set(s,r),s}}]),n}();function dMe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=hMe(i),s=new $ke(r,new uMe(r)),o=new _ke(r,s),a=n(o,e,t);return o.receiveBackend(a),o}function hMe(n){var e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return a_e(Mke,n&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}var fMe=["children"];function gMe(n,e){return EMe(n)||_Me(n,e)||mMe(n,e)||pMe()}function pMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mMe(n,e){if(n){if(typeof n=="string")return xee(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xee(n,e)}}function xee(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function _Me(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function EMe(n){if(Array.isArray(n))return n}function vMe(n,e){if(n==null)return{};var t=SMe(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function SMe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var Dee=0,WN=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),CMe=N.memo(function(e){var t=e.children,i=vMe(e,fMe),r=yMe(i),s=gMe(r,2),o=s[0],a=s[1];return N.useEffect(function(){if(a){var l=h_e();return++Dee,function(){--Dee===0&&(l[WN]=null)}}},[]),R.jsx(s_e.Provider,Object.assign({value:o},{children:t}),void 0)});function yMe(n){if("manager"in n){var e={dragDropManager:n.manager};return[e,!1]}var t=bMe(n.backend,n.context,n.options,n.debugMode),i=!n.context;return[t,i]}function bMe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h_e(),t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=e;return r[WN]||(r[WN]={dragDropManager:dMe(n,e,t,i)}),r[WN]}function h_e(){return typeof global<"u"?global:window}function TMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function wMe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function AMe(n,e,t){return e&&wMe(n.prototype,e),n}function Pee(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var KB=!1,RMe=function(){function n(e){TMe(this,n),Pee(this,"internalMonitor",void 0),Pee(this,"targetId",null),this.internalMonitor=e.getMonitor()}return AMe(n,[{key:"receiveHandlerId",value:function(t){this.targetId=t}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(t,i){return this.internalMonitor.subscribeToStateChange(t,i)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;ri(!KB,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return KB=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{KB=!1}}},{key:"isOver",value:function(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),n}();function IMe(n){if(typeof n.type!="string"){var e=n.type.displayName||n.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(e," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function NMe(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!N.isValidElement(e)){var i=e;return n(i,t),i}var r=e;IMe(r);var s=t?function(o){return n(o,t)}:n;return OMe(r,s)}}function LMe(n){var e={};return Object.keys(n).forEach(function(t){var i=n[t];if(t.endsWith("Ref"))e[t]=n[t];else{var r=NMe(i);e[t]=function(){return r}}}),e}function kee(n,e){typeof n=="function"?n(e):n.current=e}function OMe(n,e){var t=n.ref;return ri(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?N.cloneElement(n,{ref:function(r){kee(t,r),kee(e,r)}}):N.cloneElement(n,{ref:e})}function $N(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$N=function(t){return typeof t}:$N=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$N(n)}function xMe(n){return n!==null&&$N(n)==="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function DMe(n,e,t,i){var r=void 0;if(r!==void 0)return!!r;if(n===e)return!0;if(typeof n!="object"||!n||typeof e!="object"||!e)return!1;var s=Object.keys(n),o=Object.keys(e);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(e),l=0;l<s.length;l++){var c=s[l];if(!a(c))return!1;var u=n[c],d=e[c];if(r=void 0,r===!1||r===void 0&&u!==d)return!1}return!0}function PMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function kMe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function MMe(n,e,t){return e&&kMe(n.prototype,e),n}function ku(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var FMe=function(){function n(e){var t=this;PMe(this,n),ku(this,"hooks",LMe({dropTarget:function(r,s){t.clearDropTarget(),t.dropTargetOptions=s,xMe(r)?t.dropTargetRef=r:t.dropTargetNode=r,t.reconnect()}})),ku(this,"handlerId",null),ku(this,"dropTargetRef",null),ku(this,"dropTargetNode",void 0),ku(this,"dropTargetOptionsInternal",null),ku(this,"unsubscribeDropTarget",void 0),ku(this,"lastConnectedHandlerId",null),ku(this,"lastConnectedDropTarget",null),ku(this,"lastConnectedDropTargetOptions",null),ku(this,"backend",void 0),this.backend=e}return MMe(n,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();var i=this.dropTarget;if(this.handlerId){if(!i){this.lastConnectedDropTarget=i;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=i,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,i,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(t){this.dropTargetOptionsInternal=t}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!DMe(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),n}();function BMe(n,e,t){var i=t.getRegistry(),r=i.addTarget(n,e);return[r,function(){return i.removeTarget(r)}]}var fk=typeof window<"u"?N.useLayoutEffect:N.useEffect;function gj(){var n=N.useContext(s_e),e=n.dragDropManager;return ri(e!=null,"Expected drag drop context"),e}function UMe(n){return $Me(n)||WMe(n)||VMe(n)||HMe()}function HMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VMe(n,e){if(n){if(typeof n=="string")return r9(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r9(n,e)}}function WMe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $Me(n){if(Array.isArray(n))return r9(n)}function r9(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function GMe(n,e){var t=UMe(e||[]);return e==null&&typeof n!="function"&&t.push(n),N.useMemo(function(){return typeof n=="function"?n():n},t)}var qB,Mee;function zMe(){return Mee||(Mee=1,qB=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),qB}var jMe=zMe();const YMe=Si(jMe);function KMe(n,e){return ZMe(n)||QMe(n,e)||XMe(n,e)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XMe(n,e){if(n){if(typeof n=="string")return Fee(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fee(n,e)}}function Fee(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function QMe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function ZMe(n){if(Array.isArray(n))return n}function JMe(n,e,t){var i=N.useState(function(){return e(n)}),r=KMe(i,2),s=r[0],o=r[1],a=N.useCallback(function(){var l=e(n);YMe(s,l)||(o(l),t&&t())},[s,n,t]);return fk(a),[s,a]}function e2e(n,e){return r2e(n)||i2e(n,e)||n2e(n,e)||t2e()}function t2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n2e(n,e){if(n){if(typeof n=="string")return Bee(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bee(n,e)}}function Bee(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function i2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function r2e(n){if(Array.isArray(n))return n}function s2e(n,e,t){var i=JMe(n,e,t),r=e2e(i,2),s=r[0],o=r[1];return fk(function(){var l=n.getHandlerId();if(l!=null)return n.subscribeToStateChange(o,{handlerIds:[l]})},[n,o]),s}function o2e(n,e,t){return s2e(e,n||function(){return{}},function(){return t.reconnect()})}function a2e(n){var e=n.accept;return N.useMemo(function(){return ri(n.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]},[e])}function l2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function c2e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function u2e(n,e,t){return e&&c2e(n.prototype,e),n}function Uee(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var d2e=function(){function n(e,t){l2e(this,n),Uee(this,"spec",void 0),Uee(this,"monitor",void 0),this.spec=e,this.monitor=t}return u2e(n,[{key:"canDrop",value:function(){var t=this.spec,i=this.monitor;return t.canDrop?t.canDrop(i.getItem(),i):!0}},{key:"hover",value:function(){var t=this.spec,i=this.monitor;t.hover&&t.hover(i.getItem(),i)}},{key:"drop",value:function(){var t=this.spec,i=this.monitor;if(t.drop)return t.drop(i.getItem(),i)}}]),n}();function h2e(n,e){var t=N.useMemo(function(){return new d2e(n,e)},[e]);return N.useEffect(function(){t.spec=n},[n]),t}function f2e(n,e){return _2e(n)||m2e(n,e)||p2e(n,e)||g2e()}function g2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p2e(n,e){if(n){if(typeof n=="string")return Hee(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hee(n,e)}}function Hee(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function m2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function _2e(n){if(Array.isArray(n))return n}function E2e(n,e,t){var i=gj(),r=h2e(n,e),s=a2e(n);fk(function(){var a=BMe(s,r,i),l=f2e(a,2),c=l[0],u=l[1];return e.receiveHandlerId(c),t.receiveHandlerId(c),u},[i,e,r,t,s.map(function(o){return o.toString()}).join("|")])}function v2e(){var n=gj();return N.useMemo(function(){return new RMe(n)},[n])}function S2e(n){var e=gj(),t=N.useMemo(function(){return new FMe(e.getBackend())},[e]);return fk(function(){return t.dropTargetOptions=n||null,t.reconnect(),function(){return t.disconnectDropTarget()}},[n]),t}function C2e(n){return N.useMemo(function(){return n.hooks.dropTarget()},[n])}function y2e(n,e){var t=GMe(n,e),i=v2e(),r=S2e(t.options);return E2e(t,i,r),[o2e(t.collect,i,r),C2e(r)]}function f_e(n){var e=null,t=function(){return e==null&&(e=n()),e};return t}function b2e(n,e){return n.filter(function(t){return t!==e})}function T2e(n,e){var t=new Set,i=function(o){return t.add(o)};n.forEach(i),e.forEach(i);var r=[];return t.forEach(function(s){return r.push(s)}),r}function w2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function A2e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function R2e(n,e,t){return e&&A2e(n.prototype,e),n}function Vee(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var I2e=function(){function n(e){w2e(this,n),Vee(this,"entered",[]),Vee(this,"isNodeInDocument",void 0),this.isNodeInDocument=e}return R2e(n,[{key:"enter",value:function(t){var i=this,r=this.entered.length,s=function(a){return i.isNodeInDocument(a)&&(!a.contains||a.contains(t))};return this.entered=T2e(this.entered.filter(s),[t]),r===0&&this.entered.length>0}},{key:"leave",value:function(t){var i=this.entered.length;return this.entered=b2e(this.entered.filter(this.isNodeInDocument),t),i>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),n}(),N2e=f_e(function(){return/firefox/i.test(navigator.userAgent)}),g_e=f_e(function(){return!!window.safari});function L2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function O2e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function x2e(n,e,t){return e&&O2e(n.prototype,e),n}function Cb(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Wee=function(){function n(e,t){L2e(this,n),Cb(this,"xs",void 0),Cb(this,"ys",void 0),Cb(this,"c1s",void 0),Cb(this,"c2s",void 0),Cb(this,"c3s",void 0);for(var i=e.length,r=[],s=0;s<i;s++)r.push(s);r.sort(function(O,x){return e[O]<e[x]?-1:1});for(var o=[],a=[],l,c,u=0;u<i-1;u++)l=e[u+1]-e[u],c=t[u+1]-t[u],o.push(l),a.push(c/l);for(var d=[a[0]],h=0;h<o.length-1;h++){var f=a[h],m=a[h+1];if(f*m<=0)d.push(0);else{l=o[h];var g=o[h+1],_=l+g;d.push(3*_/((_+g)/f+(_+l)/m))}}d.push(a[a.length-1]);for(var v=[],S=[],C,y=0;y<d.length-1;y++){C=a[y];var b=d[y],w=1/o[y],I=b+d[y+1]-C-C;v.push((C-b-I)*w),S.push(I*w*w)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=v,this.c3s=S}return x2e(n,[{key:"interpolate",value:function(t){var i=this.xs,r=this.ys,s=this.c1s,o=this.c2s,a=this.c3s,l=i.length-1;if(t===i[l])return r[l];for(var c=0,u=a.length-1,d;c<=u;){d=Math.floor(.5*(c+u));var h=i[d];if(h<t)c=d+1;else if(h>t)u=d-1;else return r[d]}l=Math.max(0,u);var f=t-i[l],m=f*f;return r[l]+s[l]*f+o[l]*m+a[l]*f*m}}]),n}(),D2e=1;function p_e(n){var e=n.nodeType===D2e?n:n.parentElement;if(!e)return null;var t=e.getBoundingClientRect(),i=t.top,r=t.left;return{x:r,y:i}}function jR(n){return{x:n.clientX,y:n.clientY}}function P2e(n){var e;return n.nodeName==="IMG"&&(N2e()||!((e=document.documentElement)!==null&&e!==void 0&&e.contains(n)))}function k2e(n,e,t,i){var r=n?e.width:t,s=n?e.height:i;return g_e()&&n&&(s/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:s}}function M2e(n,e,t,i,r){var s=P2e(e),o=s?n:e,a=p_e(o),l={x:t.x-a.x,y:t.y-a.y},c=n.offsetWidth,u=n.offsetHeight,d=i.anchorX,h=i.anchorY,f=k2e(s,e,c,u),m=f.dragPreviewWidth,g=f.dragPreviewHeight,_=function(){var I=new Wee([0,.5,1],[l.y,l.y/u*g,l.y+g-u]),O=I.interpolate(h);return g_e()&&s&&(O+=(window.devicePixelRatio-1)*g),O},v=function(){var I=new Wee([0,.5,1],[l.x,l.x/c*m,l.x+m-c]);return I.interpolate(d)},S=r.offsetX,C=r.offsetY,y=S===0||S,b=C===0||C;return{x:y?S:v(),y:b?C:_()}}var m_e="__NATIVE_FILE__",__e="__NATIVE_URL__",E_e="__NATIVE_TEXT__",v_e="__NATIVE_HTML__";const $ee=Object.freeze(Object.defineProperty({__proto__:null,FILE:m_e,HTML:v_e,TEXT:E_e,URL:__e},Symbol.toStringTag,{value:"Module"}));function XB(n,e,t){var i=e.reduce(function(r,s){return r||n.getData(s)},"");return i??t}var XE;function YR(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var s9=(XE={},YR(XE,m_e,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),YR(XE,v_e,{exposeProperties:{html:function(e,t){return XB(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),YR(XE,__e,{exposeProperties:{urls:function(e,t){return XB(e,t,"").split(`
`)},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),YR(XE,E_e,{exposeProperties:{text:function(e,t){return XB(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),XE);function F2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function B2e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function U2e(n,e,t){return e&&B2e(n.prototype,e),n}function Gee(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var H2e=function(){function n(e){F2e(this,n),Gee(this,"item",void 0),Gee(this,"config",void 0),this.config=e,this.item={},this.initializeExposedProperties()}return U2e(n,[{key:"initializeExposedProperties",value:function(){var t=this;Object.keys(this.config.exposeProperties).forEach(function(i){Object.defineProperty(t.item,i,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(i,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(t){var i=this;if(t){var r={};Object.keys(this.config.exposeProperties).forEach(function(s){r[s]={value:i.config.exposeProperties[s](t,i.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,r)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(t,i){return i===t.getSourceId()}},{key:"endDrag",value:function(){}}]),n}();function V2e(n,e){var t=new H2e(s9[n]);return t.loadDataTransfer(e),t}function QB(n){if(!n)return null;var e=Array.prototype.slice.call(n.types||[]);return Object.keys(s9).filter(function(t){var i=s9[t].matchesTypes;return i.some(function(r){return e.indexOf(r)>-1})})[0]||null}function W2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function $2e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function G2e(n,e,t){return e&&$2e(n.prototype,e),n}function ZB(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var z2e=function(){function n(e,t){W2e(this,n),ZB(this,"ownerDocument",null),ZB(this,"globalContext",void 0),ZB(this,"optionsArgs",void 0),this.globalContext=e,this.optionsArgs=t}return G2e(n,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}},{key:"document",get:function(){var t;return(t=this.globalContext)!==null&&t!==void 0&&t.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}}]),n}();function zee(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jee(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zee(Object(t),!0).forEach(function(i){ci(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zee(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Y2e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function K2e(n,e,t){return e&&Y2e(n.prototype,e),n}function ci(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var q2e=function(){function n(e,t,i){var r=this;j2e(this,n),ci(this,"options",void 0),ci(this,"actions",void 0),ci(this,"monitor",void 0),ci(this,"registry",void 0),ci(this,"enterLeaveCounter",void 0),ci(this,"sourcePreviewNodes",new Map),ci(this,"sourcePreviewNodeOptions",new Map),ci(this,"sourceNodes",new Map),ci(this,"sourceNodeOptions",new Map),ci(this,"dragStartSourceIds",null),ci(this,"dropTargetIds",[]),ci(this,"dragEnterTargetIds",[]),ci(this,"currentNativeSource",null),ci(this,"currentNativeHandle",null),ci(this,"currentDragSourceNode",null),ci(this,"altKeyPressed",!1),ci(this,"mouseMoveTimeoutTimer",null),ci(this,"asyncEndDragFrameId",null),ci(this,"dragOverTargetIds",null),ci(this,"lastClientOffset",null),ci(this,"hoverRafId",null),ci(this,"getSourceClientOffset",function(s){var o=r.sourceNodes.get(s);return o&&p_e(o)||null}),ci(this,"endDragNativeItem",function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.currentNativeHandle&&r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)}),ci(this,"isNodeInDocument",function(s){return!!(s&&r.document&&r.document.body&&r.document.body.contains(s))}),ci(this,"endDragIfSourceWasRemovedFromDOM",function(){var s=r.currentDragSourceNode;s==null||r.isNodeInDocument(s)||r.clearCurrentDragSourceNode()&&r.monitor.isDragging()&&r.actions.endDrag()}),ci(this,"handleTopDragStartCapture",function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]}),ci(this,"handleTopDragStart",function(s){if(!s.defaultPrevented){var o=r.dragStartSourceIds;r.dragStartSourceIds=null;var a=jR(s);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:a});var l=s.dataTransfer,c=QB(l);if(r.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){var u=r.monitor.getSourceId(),d=r.sourceNodes.get(u),h=r.sourcePreviewNodes.get(u)||d;if(h){var f=r.getCurrentSourcePreviewNodeOptions(),m=f.anchorX,g=f.anchorY,_=f.offsetX,v=f.offsetY,S={anchorX:m,anchorY:g},C={offsetX:_,offsetY:v},y=M2e(d,h,a,S,C);l.setDragImage(h,y.x,y.y)}}try{l==null||l.setData("application/json",{})}catch{}r.setCurrentDragSourceNode(s.target);var b=r.getCurrentSourcePreviewNodeOptions(),w=b.captureDraggingState;w?r.actions.publishDragSource():setTimeout(function(){return r.actions.publishDragSource()},0)}else if(c)r.beginDragNativeItem(c);else{if(l&&!l.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}}}),ci(this,"handleTopDragEndCapture",function(){r.clearCurrentDragSourceNode()&&r.monitor.isDragging()&&r.actions.endDrag()}),ci(this,"handleTopDragEnterCapture",function(s){r.dragEnterTargetIds=[];var o=r.enterLeaveCounter.enter(s.target);if(!(!o||r.monitor.isDragging())){var a=s.dataTransfer,l=QB(a);l&&r.beginDragNativeItem(l,a)}}),ci(this,"handleTopDragEnter",function(s){var o=r.dragEnterTargetIds;if(r.dragEnterTargetIds=[],!!r.monitor.isDragging()){r.altKeyPressed=s.altKey,o.length>0&&r.actions.hover(o,{clientOffset:jR(s)});var a=o.some(function(l){return r.monitor.canDropOnTarget(l)});a&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=r.getCurrentDropEffect()))}}),ci(this,"handleTopDragOverCapture",function(){r.dragOverTargetIds=[]}),ci(this,"handleTopDragOver",function(s){var o=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}r.altKeyPressed=s.altKey,r.lastClientOffset=jR(s),r.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(r.hoverRafId=requestAnimationFrame(function(){r.monitor.isDragging()&&r.actions.hover(o||[],{clientOffset:r.lastClientOffset}),r.hoverRafId=null}));var a=(o||[]).some(function(l){return r.monitor.canDropOnTarget(l)});a?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))}),ci(this,"handleTopDragLeaveCapture",function(s){r.isDraggingNativeItem()&&s.preventDefault();var o=r.enterLeaveCounter.leave(s.target);o&&r.isDraggingNativeItem()&&setTimeout(function(){return r.endDragNativeItem()},0)}),ci(this,"handleTopDropCapture",function(s){if(r.dropTargetIds=[],r.isDraggingNativeItem()){var o;s.preventDefault(),(o=r.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}else QB(s.dataTransfer)&&s.preventDefault();r.enterLeaveCounter.reset()}),ci(this,"handleTopDrop",function(s){var o=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(o,{clientOffset:jR(s)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.monitor.isDragging()&&r.actions.endDrag()}),ci(this,"handleSelectStart",function(s){var o=s.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(s.preventDefault(),o.dragDrop()))}),this.options=new z2e(t,i),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new I2e(this.isNodeInDocument)}return K2e(n,[{key:"profile",value:function(){var t,i;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((i=this.dragOverTargetIds)===null||i===void 0?void 0:i.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}},{key:"teardown",value:function(){var t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var i;(i=this.window)===null||i===void 0||i.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(t,i,r){var s=this;return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,i),function(){s.sourcePreviewNodes.delete(t),s.sourcePreviewNodeOptions.delete(t)}}},{key:"connectDragSource",value:function(t,i,r){var s=this;this.sourceNodes.set(t,i),this.sourceNodeOptions.set(t,r);var o=function(c){return s.handleDragStart(c,t)},a=function(c){return s.handleSelectStart(c)};return i.setAttribute("draggable","true"),i.addEventListener("dragstart",o),i.addEventListener("selectstart",a),function(){s.sourceNodes.delete(t),s.sourceNodeOptions.delete(t),i.removeEventListener("dragstart",o),i.removeEventListener("selectstart",a),i.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(t,i){var r=this,s=function(c){return r.handleDragEnter(c,t)},o=function(c){return r.handleDragOver(c,t)},a=function(c){return r.handleDrop(c,t)};return i.addEventListener("dragenter",s),i.addEventListener("dragover",o),i.addEventListener("drop",a),function(){i.removeEventListener("dragenter",s),i.removeEventListener("dragover",o),i.removeEventListener("drop",a)}}},{key:"addEventListeners",value:function(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var t=this.monitor.getSourceId(),i=this.sourceNodeOptions.get(t);return jee({dropEffect:this.altKeyPressed?"copy":"move"},i||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var t=this.monitor.getSourceId(),i=this.sourcePreviewNodeOptions.get(t);return jee({anchorX:.5,anchorY:.5,captureDraggingState:!1},i||{})}},{key:"isDraggingNativeItem",value:function(){var t=this.monitor.getItemType();return Object.keys($ee).some(function(i){return $ee[i]===t})}},{key:"beginDragNativeItem",value:function(t,i){this.clearCurrentDragSourceNode(),this.currentNativeSource=V2e(t,i),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(t){var i=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;var r=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var s;return(s=i.rootElement)===null||s===void 0?void 0:s.addEventListener("mousemove",i.endDragIfSourceWasRemovedFromDOM,!0)},r)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(t,i){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(i))}},{key:"handleDragEnter",value:function(t,i){this.dragEnterTargetIds.unshift(i)}},{key:"handleDragOver",value:function(t,i){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(i)}},{key:"handleDrop",value:function(t,i){this.dropTargetIds.unshift(i)}}]),n}(),X2e=function(e,t,i){return new q2e(e,t,i)},Gw=n=>n.type==="checkbox",Dm=n=>n instanceof Date,da=n=>n==null;const S_e=n=>typeof n=="object";var os=n=>!da(n)&&!Array.isArray(n)&&S_e(n)&&!Dm(n),C_e=n=>os(n)&&n.target?Gw(n.target)?n.target.checked:n.target.value:n,Q2e=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,y_e=(n,e)=>n.has(Q2e(e)),Z2e=n=>{const e=n.constructor&&n.constructor.prototype;return os(e)&&e.hasOwnProperty("isPrototypeOf")},pj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vo(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(pj&&(n instanceof Blob||i))&&(t||os(n)))if(e=t?[]:{},!t&&!Z2e(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=vo(n[r]));else return n;return e}var gk=n=>Array.isArray(n)?n.filter(Boolean):[],ts=n=>n===void 0,mt=(n,e,t)=>{if(!e||!os(n))return t;const i=gk(e.split(/[,[\].]+?/)).reduce((r,s)=>da(r)?r:r[s],n);return ts(i)||i===n?ts(n[e])?t:n[e]:i},gl=n=>typeof n=="boolean",mj=n=>/^\w*$/.test(n),b_e=n=>gk(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Wi=(n,e,t)=>{let i=-1;const r=mj(e)?[e]:b_e(e),s=r.length,o=s-1;for(;++i<s;){const a=r[i];let l=t;if(i!==o){const c=n[a];l=os(c)||Array.isArray(c)?c:isNaN(+r[i+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=l,n=n[a]}};const WL={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Kc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},T_e=Z.createContext(null),pk=()=>Z.useContext(T_e),J2e=n=>{const{children:e,...t}=n;return Z.createElement(T_e.Provider,{value:t},e)};var w_e=(n,e,t,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(r,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Kc.all&&(e._proxyFormState[o]=!i||Kc.all),t&&(t[o]=!0),n[o]}});return r},o9=n=>da(n)||!S_e(n);function Sh(n,e){if(o9(n)||o9(e))return n===e;if(Dm(n)&&Dm(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const r of t){const s=n[r];if(!i.includes(r))return!1;if(r!=="ref"){const o=e[r];if(Dm(s)&&Dm(o)||os(s)&&os(o)||Array.isArray(s)&&Array.isArray(o)?!Sh(s,o):s!==o)return!1}}return!0}const A_e=(n,e)=>{const t=N.useRef(e);Sh(e,t.current)||(t.current=e),N.useEffect(n,t.current)};function eFe(n){const e=pk(),{control:t=e.control,disabled:i,name:r,exact:s}=n||{},[o,a]=Z.useState(t._formState),l=Z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return A_e(()=>t._subscribe({name:r,formState:l.current,exact:s,callback:c=>{!i&&a({...t._formState,...c})}}),[r,i,s]),Z.useEffect(()=>{l.current.isValid&&t._setValid(!0)},[t]),Z.useMemo(()=>w_e(o,t,l.current,!1),[o,t])}var id=n=>typeof n=="string",R_e=(n,e,t,i,r)=>id(n)?(i&&e.watch.add(n),mt(t,n,r)):Array.isArray(n)?n.map(s=>(i&&e.watch.add(s),mt(t,s))):(i&&(e.watchAll=!0),t);function tFe(n){const e=pk(),{control:t=e.control,name:i,defaultValue:r,disabled:s,exact:o}=n||{},[a,l]=Z.useState(t._getWatch(i,r));return A_e(()=>t._subscribe({name:i,formState:{values:!0},exact:o,callback:c=>!s&&l(R_e(i,t._names,c.values||t._formValues,!1,r))}),[i,r,s,o]),Z.useEffect(()=>t._removeUnmounted()),a}function nFe(n){const e=pk(),{name:t,disabled:i,control:r=e.control,shouldUnregister:s}=n,o=y_e(r._names.array,t),a=tFe({control:r,name:t,defaultValue:mt(r._formValues,t,mt(r._defaultValues,t,n.defaultValue)),exact:!0}),l=eFe({control:r,name:t,exact:!0}),c=Z.useRef(n),u=Z.useRef(r.register(t,{...n.rules,value:a,...gl(n.disabled)?{disabled:n.disabled}:{}})),d=Z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!mt(l.errors,t)},isDirty:{enumerable:!0,get:()=>!!mt(l.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!mt(l.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!mt(l.validatingFields,t)},error:{enumerable:!0,get:()=>mt(l.errors,t)}}),[l,t]),h=Z.useCallback(_=>u.current.onChange({target:{value:C_e(_),name:t},type:WL.CHANGE}),[t]),f=Z.useCallback(()=>u.current.onBlur({target:{value:mt(r._formValues,t),name:t},type:WL.BLUR}),[t,r._formValues]),m=Z.useCallback(_=>{const v=mt(r._fields,t);v&&_&&(v._f.ref={focus:()=>_.focus(),select:()=>_.select(),setCustomValidity:S=>_.setCustomValidity(S),reportValidity:()=>_.reportValidity()})},[r._fields,t]),g=Z.useMemo(()=>({name:t,value:a,...gl(i)||l.disabled?{disabled:l.disabled||i}:{},onChange:h,onBlur:f,ref:m}),[t,i,l.disabled,h,f,m,a]);return Z.useEffect(()=>{const _=r._options.shouldUnregister||s;r.register(t,{...c.current.rules,...gl(c.current.disabled)?{disabled:c.current.disabled}:{}});const v=(S,C)=>{const y=mt(r._fields,S);y&&y._f&&(y._f.mount=C)};if(v(t,!0),_){const S=vo(mt(r._options.defaultValues,t));Wi(r._defaultValues,t,S),ts(mt(r._formValues,t))&&Wi(r._formValues,t,S)}return!o&&r.register(t),()=>{(o?_&&!r._state.action:_)?r.unregister(t):v(t,!1)}},[t,r,o,s]),Z.useEffect(()=>{r._setDisabledField({disabled:i,name:t})},[i,t,r]),Z.useMemo(()=>({field:g,formState:l,fieldState:d}),[g,l,d])}const iFe=n=>n.render(nFe(n));var I_e=(n,e,t,i,r)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:r||!0}}:{},UT=n=>Array.isArray(n)?n:[n],Yee=()=>{let n=[];return{get observers(){return n},next:r=>{for(const s of n)s.next&&s.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(s=>s!==r)}}),unsubscribe:()=>{n=[]}}},ua=n=>os(n)&&!Object.keys(n).length,_j=n=>n.type==="file",qc=n=>typeof n=="function",$L=n=>{if(!pj)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},N_e=n=>n.type==="select-multiple",Ej=n=>n.type==="radio",rFe=n=>Ej(n)||Gw(n),JB=n=>$L(n)&&n.isConnected;function sFe(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=ts(n)?i++:n[e[i++]];return n}function oFe(n){for(const e in n)if(n.hasOwnProperty(e)&&!ts(n[e]))return!1;return!0}function ks(n,e){const t=Array.isArray(e)?e:mj(e)?[e]:b_e(e),i=t.length===1?n:sFe(n,t),r=t.length-1,s=t[r];return i&&delete i[s],r!==0&&(os(i)&&ua(i)||Array.isArray(i)&&oFe(i))&&ks(n,t.slice(0,-1)),n}var L_e=n=>{for(const e in n)if(qc(n[e]))return!0;return!1};function GL(n,e={}){const t=Array.isArray(n);if(os(n)||t)for(const i in n)Array.isArray(n[i])||os(n[i])&&!L_e(n[i])?(e[i]=Array.isArray(n[i])?[]:{},GL(n[i],e[i])):da(n[i])||(e[i]=!0);return e}function O_e(n,e,t){const i=Array.isArray(n);if(os(n)||i)for(const r in n)Array.isArray(n[r])||os(n[r])&&!L_e(n[r])?ts(e)||o9(t[r])?t[r]=Array.isArray(n[r])?GL(n[r],[]):{...GL(n[r])}:O_e(n[r],da(e)?{}:e[r],t[r]):t[r]=!Sh(n[r],e[r]);return t}var yb=(n,e)=>O_e(n,e,GL(e));const Kee={value:!1,isValid:!1},qee={value:!0,isValid:!0};var x_e=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!ts(n[0].attributes.value)?ts(n[0].value)||n[0].value===""?qee:{value:n[0].value,isValid:!0}:qee:Kee}return Kee},D_e=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>ts(n)?n:e?n===""?NaN:n&&+n:t&&id(n)?new Date(n):i?i(n):n;const Xee={isValid:!1,value:null};var P_e=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Xee):Xee;function Qee(n){const e=n.ref;return _j(e)?e.files:Ej(e)?P_e(n.refs).value:N_e(e)?[...e.selectedOptions].map(({value:t})=>t):Gw(e)?x_e(n.refs).value:D_e(ts(e.value)?n.ref.value:e.value,n)}var aFe=(n,e,t,i)=>{const r={};for(const s of n){const o=mt(e,s);o&&Wi(r,s,o._f)}return{criteriaMode:t,names:[...n],fields:r,shouldUseNativeValidation:i}},zL=n=>n instanceof RegExp,bb=n=>ts(n)?n:zL(n)?n.source:os(n)?zL(n.value)?n.value.source:n.value:n,Zee=n=>({isOnSubmit:!n||n===Kc.onSubmit,isOnBlur:n===Kc.onBlur,isOnChange:n===Kc.onChange,isOnAll:n===Kc.all,isOnTouch:n===Kc.onTouched});const Jee="AsyncFunction";var lFe=n=>!!n&&!!n.validate&&!!(qc(n.validate)&&n.validate.constructor.name===Jee||os(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Jee)),cFe=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),ete=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const HT=(n,e,t,i)=>{for(const r of t||Object.keys(n)){const s=mt(n,r);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!i)return!0;if(o.ref&&e(o.ref,o.name)&&!i)return!0;if(HT(a,e))break}else if(os(a)&&HT(a,e))break}}};function tte(n,e,t){const i=mt(n,t);if(i||mj(t))return{error:i,name:t};const r=t.split(".");for(;r.length;){const s=r.join("."),o=mt(e,s),a=mt(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};r.pop()}return{name:t}}var uFe=(n,e,t,i)=>{t(n);const{name:r,...s}=n;return ua(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!i||Kc.all))},dFe=(n,e,t)=>!n||!e||n===e||UT(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i))),hFe=(n,e,t,i,r)=>r.isOnAll?!1:!t&&r.isOnTouch?!(e||n):(t?i.isOnBlur:r.isOnBlur)?!n:(t?i.isOnChange:r.isOnChange)?n:!0,fFe=(n,e)=>!gk(mt(n,e)).length&&ks(n,e),gFe=(n,e,t)=>{const i=UT(mt(n,t));return Wi(i,"root",e[t]),Wi(n,t,i),n},GN=n=>id(n);function nte(n,e,t="validate"){if(GN(n)||Array.isArray(n)&&n.every(GN)||gl(n)&&!n)return{type:t,message:GN(n)?n:"",ref:e}}var QE=n=>os(n)&&!zL(n)?n:{value:n,message:""},ite=async(n,e,t,i,r,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:m,name:g,valueAsNumber:_,mount:v}=n._f,S=mt(t,g);if(!v||e.has(g))return{};const C=a?a[0]:o,y=M=>{r&&C.reportValidity&&(C.setCustomValidity(gl(M)?"":M||""),C.reportValidity())},b={},w=Ej(o),I=Gw(o),O=w||I,x=(_||_j(o))&&ts(o.value)&&ts(S)||$L(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,k=I_e.bind(null,g,i,b),P=(M,W,F,H=Yd.maxLength,V=Yd.minLength)=>{const Y=M?W:F;b[g]={type:M?H:V,message:Y,ref:o,...k(M?H:V,Y)}};if(s?!Array.isArray(S)||!S.length:l&&(!O&&(x||da(S))||gl(S)&&!S||I&&!x_e(a).isValid||w&&!P_e(a).isValid)){const{value:M,message:W}=GN(l)?{value:!!l,message:l}:QE(l);if(M&&(b[g]={type:Yd.required,message:W,ref:C,...k(Yd.required,W)},!i))return y(W),b}if(!x&&(!da(d)||!da(h))){let M,W;const F=QE(h),H=QE(d);if(!da(S)&&!isNaN(S)){const V=o.valueAsNumber||S&&+S;da(F.value)||(M=V>F.value),da(H.value)||(W=V<H.value)}else{const V=o.valueAsDate||new Date(S),Y=re=>new Date(new Date().toDateString()+" "+re),$=o.type=="time",K=o.type=="week";id(F.value)&&S&&(M=$?Y(S)>Y(F.value):K?S>F.value:V>new Date(F.value)),id(H.value)&&S&&(W=$?Y(S)<Y(H.value):K?S<H.value:V<new Date(H.value))}if((M||W)&&(P(!!M,F.message,H.message,Yd.max,Yd.min),!i))return y(b[g].message),b}if((c||u)&&!x&&(id(S)||s&&Array.isArray(S))){const M=QE(c),W=QE(u),F=!da(M.value)&&S.length>+M.value,H=!da(W.value)&&S.length<+W.value;if((F||H)&&(P(F,M.message,W.message),!i))return y(b[g].message),b}if(f&&!x&&id(S)){const{value:M,message:W}=QE(f);if(zL(M)&&!S.match(M)&&(b[g]={type:Yd.pattern,message:W,ref:o,...k(Yd.pattern,W)},!i))return y(W),b}if(m){if(qc(m)){const M=await m(S,t),W=nte(M,C);if(W&&(b[g]={...W,...k(Yd.validate,W.message)},!i))return y(W.message),b}else if(os(m)){let M={};for(const W in m){if(!ua(M)&&!i)break;const F=nte(await m[W](S,t),C,W);F&&(M={...F,...k(W,F.message)},y(F.message),i&&(b[g]=M))}if(!ua(M)&&(b[g]={ref:C,...M},!i))return b}}return y(!0),b};const pFe={mode:Kc.onSubmit,reValidateMode:Kc.onChange,shouldFocusError:!0};function mFe(n={}){let e={...pFe,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:qc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const i={};let r=os(e.defaultValues)||os(e.values)?vo(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:vo(r),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:Yee(),state:Yee()},f=Zee(e.mode),m=Zee(e.reValidateMode),g=e.criteriaMode===Kc.all,_=ae=>Se=>{clearTimeout(c),c=setTimeout(ae,Se)},v=async ae=>{if(!e.disabled&&(u.isValid||d.isValid||ae)){const Se=e.resolver?ua((await x()).errors):await P(i,!0);Se!==t.isValid&&h.state.next({isValid:Se})}},S=(ae,Se)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((ae||Array.from(a.mount)).forEach(De=>{De&&(Se?Wi(t.validatingFields,De,Se):ks(t.validatingFields,De))}),h.state.next({validatingFields:t.validatingFields,isValidating:!ua(t.validatingFields)}))},C=(ae,Se=[],De,je,Ye=!0,ze=!0)=>{if(je&&De&&!e.disabled){if(o.action=!0,ze&&Array.isArray(mt(i,ae))){const lt=De(mt(i,ae),je.argA,je.argB);Ye&&Wi(i,ae,lt)}if(ze&&Array.isArray(mt(t.errors,ae))){const lt=De(mt(t.errors,ae),je.argA,je.argB);Ye&&Wi(t.errors,ae,lt),fFe(t.errors,ae)}if((u.touchedFields||d.touchedFields)&&ze&&Array.isArray(mt(t.touchedFields,ae))){const lt=De(mt(t.touchedFields,ae),je.argA,je.argB);Ye&&Wi(t.touchedFields,ae,lt)}(u.dirtyFields||d.dirtyFields)&&(t.dirtyFields=yb(r,s)),h.state.next({name:ae,isDirty:W(ae,Se),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Wi(s,ae,Se)},y=(ae,Se)=>{Wi(t.errors,ae,Se),h.state.next({errors:t.errors})},b=ae=>{t.errors=ae,h.state.next({errors:t.errors,isValid:!1})},w=(ae,Se,De,je)=>{const Ye=mt(i,ae);if(Ye){const ze=mt(s,ae,ts(De)?mt(r,ae):De);ts(ze)||je&&je.defaultChecked||Se?Wi(s,ae,Se?ze:Qee(Ye._f)):V(ae,ze),o.mount&&v()}},I=(ae,Se,De,je,Ye)=>{let ze=!1,lt=!1;const Xt={name:ae};if(!e.disabled){if(!De||je){(u.isDirty||d.isDirty)&&(lt=t.isDirty,t.isDirty=Xt.isDirty=W(),ze=lt!==Xt.isDirty);const Tn=Sh(mt(r,ae),Se);lt=!!mt(t.dirtyFields,ae),Tn?ks(t.dirtyFields,ae):Wi(t.dirtyFields,ae,!0),Xt.dirtyFields=t.dirtyFields,ze=ze||(u.dirtyFields||d.dirtyFields)&&lt!==!Tn}if(De){const Tn=mt(t.touchedFields,ae);Tn||(Wi(t.touchedFields,ae,De),Xt.touchedFields=t.touchedFields,ze=ze||(u.touchedFields||d.touchedFields)&&Tn!==De)}ze&&Ye&&h.state.next(Xt)}return ze?Xt:{}},O=(ae,Se,De,je)=>{const Ye=mt(t.errors,ae),ze=(u.isValid||d.isValid)&&gl(Se)&&t.isValid!==Se;if(e.delayError&&De?(l=_(()=>y(ae,De)),l(e.delayError)):(clearTimeout(c),l=null,De?Wi(t.errors,ae,De):ks(t.errors,ae)),(De?!Sh(Ye,De):Ye)||!ua(je)||ze){const lt={...je,...ze&&gl(Se)?{isValid:Se}:{},errors:t.errors,name:ae};t={...t,...lt},h.state.next(lt)}},x=async ae=>{S(ae,!0);const Se=await e.resolver(s,e.context,aFe(ae||a.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return S(ae),Se},k=async ae=>{const{errors:Se}=await x(ae);if(ae)for(const De of ae){const je=mt(Se,De);je?Wi(t.errors,De,je):ks(t.errors,De)}else t.errors=Se;return Se},P=async(ae,Se,De={valid:!0})=>{for(const je in ae){const Ye=ae[je];if(Ye){const{_f:ze,...lt}=Ye;if(ze){const Xt=a.array.has(ze.name),Tn=Ye._f&&lFe(Ye._f);Tn&&u.validatingFields&&S([je],!0);const wn=await ite(Ye,a.disabled,s,g,e.shouldUseNativeValidation&&!Se,Xt);if(Tn&&u.validatingFields&&S([je]),wn[ze.name]&&(De.valid=!1,Se))break;!Se&&(mt(wn,ze.name)?Xt?gFe(t.errors,wn,ze.name):Wi(t.errors,ze.name,wn[ze.name]):ks(t.errors,ze.name))}!ua(lt)&&await P(lt,Se,De)}}return De.valid},M=()=>{for(const ae of a.unMount){const Se=mt(i,ae);Se&&(Se._f.refs?Se._f.refs.every(De=>!JB(De)):!JB(Se._f.ref))&&ue(ae)}a.unMount=new Set},W=(ae,Se)=>!e.disabled&&(ae&&Se&&Wi(s,ae,Se),!Sh(J(),r)),F=(ae,Se,De)=>R_e(ae,a,{...o.mount?s:ts(Se)?r:id(ae)?{[ae]:Se}:Se},De,Se),H=ae=>gk(mt(o.mount?s:r,ae,e.shouldUnregister?mt(r,ae,[]):[])),V=(ae,Se,De={})=>{const je=mt(i,ae);let Ye=Se;if(je){const ze=je._f;ze&&(!ze.disabled&&Wi(s,ae,D_e(Se,ze)),Ye=$L(ze.ref)&&da(Se)?"":Se,N_e(ze.ref)?[...ze.ref.options].forEach(lt=>lt.selected=Ye.includes(lt.value)):ze.refs?Gw(ze.ref)?ze.refs.length>1?ze.refs.forEach(lt=>(!lt.defaultChecked||!lt.disabled)&&(lt.checked=Array.isArray(Ye)?!!Ye.find(Xt=>Xt===lt.value):Ye===lt.value)):ze.refs[0]&&(ze.refs[0].checked=!!Ye):ze.refs.forEach(lt=>lt.checked=lt.value===Ye):_j(ze.ref)?ze.ref.value="":(ze.ref.value=Ye,ze.ref.type||h.state.next({name:ae,values:vo(s)})))}(De.shouldDirty||De.shouldTouch)&&I(ae,Ye,De.shouldTouch,De.shouldDirty,!0),De.shouldValidate&&G(ae)},Y=(ae,Se,De)=>{for(const je in Se){const Ye=Se[je],ze=`${ae}.${je}`,lt=mt(i,ze);(a.array.has(ae)||os(Ye)||lt&&!lt._f)&&!Dm(Ye)?Y(ze,Ye,De):V(ze,Ye,De)}},$=(ae,Se,De={})=>{const je=mt(i,ae),Ye=a.array.has(ae),ze=vo(Se);Wi(s,ae,ze),Ye?(h.array.next({name:ae,values:vo(s)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&De.shouldDirty&&h.state.next({name:ae,dirtyFields:yb(r,s),isDirty:W(ae,ze)})):je&&!je._f&&!da(ze)?Y(ae,ze,De):V(ae,ze,De),ete(ae,a)&&h.state.next({...t}),h.state.next({name:o.mount?ae:void 0,values:vo(s)})},K=async ae=>{o.mount=!0;const Se=ae.target;let De=Se.name,je=!0;const Ye=mt(i,De),ze=lt=>{je=Number.isNaN(lt)||Dm(lt)&&isNaN(lt.getTime())||Sh(lt,mt(s,De,lt))};if(Ye){let lt,Xt;const Tn=Se.type?Qee(Ye._f):C_e(ae),wn=ae.type===WL.BLUR||ae.type===WL.FOCUS_OUT,fs=!cFe(Ye._f)&&!e.resolver&&!mt(t.errors,De)&&!Ye._f.deps||hFe(wn,mt(t.touchedFields,De),t.isSubmitted,m,f),gs=ete(De,a,wn);Wi(s,De,Tn),wn?(Ye._f.onBlur&&Ye._f.onBlur(ae),l&&l(0)):Ye._f.onChange&&Ye._f.onChange(ae);const Ci=I(De,Tn,wn),mr=!ua(Ci)||gs;if(!wn&&h.state.next({name:De,type:ae.type,values:vo(s)}),fs)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?wn&&v():wn||v()),mr&&h.state.next({name:De,...gs?{}:Ci});if(!wn&&gs&&h.state.next({...t}),e.resolver){const{errors:zs}=await x([De]);if(ze(Tn),je){const Is=tte(t.errors,i,De),Vn=tte(zs,i,Is.name||De);lt=Vn.error,De=Vn.name,Xt=ua(zs)}}else S([De],!0),lt=(await ite(Ye,a.disabled,s,g,e.shouldUseNativeValidation))[De],S([De]),ze(Tn),je&&(lt?Xt=!1:(u.isValid||d.isValid)&&(Xt=await P(i,!0)));je&&(Ye._f.deps&&G(Ye._f.deps),O(De,Xt,lt,Ci))}},re=(ae,Se)=>{if(mt(t.errors,Se)&&ae.focus)return ae.focus(),1},G=async(ae,Se={})=>{let De,je;const Ye=UT(ae);if(e.resolver){const ze=await k(ts(ae)?ae:Ye);De=ua(ze),je=ae?!Ye.some(lt=>mt(ze,lt)):De}else ae?(je=(await Promise.all(Ye.map(async ze=>{const lt=mt(i,ze);return await P(lt&&lt._f?{[ze]:lt}:lt)}))).every(Boolean),!(!je&&!t.isValid)&&v()):je=De=await P(i);return h.state.next({...!id(ae)||(u.isValid||d.isValid)&&De!==t.isValid?{}:{name:ae},...e.resolver||!ae?{isValid:De}:{},errors:t.errors}),Se.shouldFocus&&!je&&HT(i,re,ae?Ye:a.mount),je},J=ae=>{const Se={...o.mount?s:r};return ts(ae)?Se:id(ae)?mt(Se,ae):ae.map(De=>mt(Se,De))},z=(ae,Se)=>({invalid:!!mt((Se||t).errors,ae),isDirty:!!mt((Se||t).dirtyFields,ae),error:mt((Se||t).errors,ae),isValidating:!!mt(t.validatingFields,ae),isTouched:!!mt((Se||t).touchedFields,ae)}),j=ae=>{ae&&UT(ae).forEach(Se=>ks(t.errors,Se)),h.state.next({errors:ae?t.errors:{}})},ne=(ae,Se,De)=>{const je=(mt(i,ae,{_f:{}})._f||{}).ref,Ye=mt(t.errors,ae)||{},{ref:ze,message:lt,type:Xt,...Tn}=Ye;Wi(t.errors,ae,{...Tn,...Se,ref:je}),h.state.next({name:ae,errors:t.errors,isValid:!1}),De&&De.shouldFocus&&je&&je.focus&&je.focus()},le=(ae,Se)=>qc(ae)?h.state.subscribe({next:De=>ae(F(void 0,Se),De)}):F(ae,Se,!0),q=ae=>h.state.subscribe({next:Se=>{dFe(ae.name,Se.name,ae.exact)&&uFe(Se,ae.formState||u,vt,ae.reRenderRoot)&&ae.callback({values:{...s},...t,...Se})}}).unsubscribe,he=ae=>(o.mount=!0,d={...d,...ae.formState},q({...ae,formState:d})),ue=(ae,Se={})=>{for(const De of ae?UT(ae):a.mount)a.mount.delete(De),a.array.delete(De),Se.keepValue||(ks(i,De),ks(s,De)),!Se.keepError&&ks(t.errors,De),!Se.keepDirty&&ks(t.dirtyFields,De),!Se.keepTouched&&ks(t.touchedFields,De),!Se.keepIsValidating&&ks(t.validatingFields,De),!e.shouldUnregister&&!Se.keepDefaultValue&&ks(r,De);h.state.next({values:vo(s)}),h.state.next({...t,...Se.keepDirty?{isDirty:W()}:{}}),!Se.keepIsValid&&v()},pe=({disabled:ae,name:Se})=>{(gl(ae)&&o.mount||ae||a.disabled.has(Se))&&(ae?a.disabled.add(Se):a.disabled.delete(Se))},Ae=(ae,Se={})=>{let De=mt(i,ae);const je=gl(Se.disabled)||gl(e.disabled);return Wi(i,ae,{...De||{},_f:{...De&&De._f?De._f:{ref:{name:ae}},name:ae,mount:!0,...Se}}),a.mount.add(ae),De?pe({disabled:gl(Se.disabled)?Se.disabled:e.disabled,name:ae}):w(ae,!0,Se.value),{...je?{disabled:Se.disabled||e.disabled}:{},...e.progressive?{required:!!Se.required,min:bb(Se.min),max:bb(Se.max),minLength:bb(Se.minLength),maxLength:bb(Se.maxLength),pattern:bb(Se.pattern)}:{},name:ae,onChange:K,onBlur:K,ref:Ye=>{if(Ye){Ae(ae,Se),De=mt(i,ae);const ze=ts(Ye.value)&&Ye.querySelectorAll&&Ye.querySelectorAll("input,select,textarea")[0]||Ye,lt=rFe(ze),Xt=De._f.refs||[];if(lt?Xt.find(Tn=>Tn===ze):ze===De._f.ref)return;Wi(i,ae,{_f:{...De._f,...lt?{refs:[...Xt.filter(JB),ze,...Array.isArray(mt(r,ae))?[{}]:[]],ref:{type:ze.type,name:ae}}:{ref:ze}}}),w(ae,!1,void 0,ze)}else De=mt(i,ae,{}),De._f&&(De._f.mount=!1),(e.shouldUnregister||Se.shouldUnregister)&&!(y_e(a.array,ae)&&o.action)&&a.unMount.add(ae)}}},me=()=>e.shouldFocusError&&HT(i,re,a.mount),Te=ae=>{gl(ae)&&(h.state.next({disabled:ae}),HT(i,(Se,De)=>{const je=mt(i,De);je&&(Se.disabled=je._f.disabled||ae,Array.isArray(je._f.refs)&&je._f.refs.forEach(Ye=>{Ye.disabled=je._f.disabled||ae}))},0,!1))},Oe=(ae,Se)=>async De=>{let je;De&&(De.preventDefault&&De.preventDefault(),De.persist&&De.persist());let Ye=vo(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ze,values:lt}=await x();t.errors=ze,Ye=lt}else await P(i);if(a.disabled.size)for(const ze of a.disabled)Wi(Ye,ze,void 0);if(ks(t.errors,"root"),ua(t.errors)){h.state.next({errors:{}});try{await ae(Ye,De)}catch(ze){je=ze}}else Se&&await Se({...t.errors},De),me(),setTimeout(me);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ua(t.errors)&&!je,submitCount:t.submitCount+1,errors:t.errors}),je)throw je},ft=(ae,Se={})=>{mt(i,ae)&&(ts(Se.defaultValue)?$(ae,vo(mt(r,ae))):($(ae,Se.defaultValue),Wi(r,ae,vo(Se.defaultValue))),Se.keepTouched||ks(t.touchedFields,ae),Se.keepDirty||(ks(t.dirtyFields,ae),t.isDirty=Se.defaultValue?W(ae,vo(mt(r,ae))):W()),Se.keepError||(ks(t.errors,ae),u.isValid&&v()),h.state.next({...t}))},kt=(ae,Se={})=>{const De=ae?vo(ae):r,je=vo(De),Ye=ua(ae),ze=Ye?r:je;if(Se.keepDefaultValues||(r=De),!Se.keepValues){if(Se.keepDirtyValues){const lt=new Set([...a.mount,...Object.keys(yb(r,s))]);for(const Xt of Array.from(lt))mt(t.dirtyFields,Xt)?Wi(ze,Xt,mt(s,Xt)):$(Xt,mt(ze,Xt))}else{if(pj&&ts(ae))for(const lt of a.mount){const Xt=mt(i,lt);if(Xt&&Xt._f){const Tn=Array.isArray(Xt._f.refs)?Xt._f.refs[0]:Xt._f.ref;if($L(Tn)){const wn=Tn.closest("form");if(wn){wn.reset();break}}}}for(const lt of a.mount)$(lt,mt(ze,lt))}s=vo(ze),h.array.next({values:{...ze}}),h.state.next({values:{...ze}})}a={mount:Se.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!Se.keepIsValid||!!Se.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:Se.keepSubmitCount?t.submitCount:0,isDirty:Ye?!1:Se.keepDirty?t.isDirty:!!(Se.keepDefaultValues&&!Sh(ae,r)),isSubmitted:Se.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:Ye?{}:Se.keepDirtyValues?Se.keepDefaultValues&&s?yb(r,s):t.dirtyFields:Se.keepDefaultValues&&ae?yb(r,ae):Se.keepDirty?t.dirtyFields:{},touchedFields:Se.keepTouched?t.touchedFields:{},errors:Se.keepErrors?t.errors:{},isSubmitSuccessful:Se.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Vt=(ae,Se)=>kt(qc(ae)?ae(s):ae,Se),yt=(ae,Se={})=>{const De=mt(i,ae),je=De&&De._f;if(je){const Ye=je.refs?je.refs[0]:je.ref;Ye.focus&&(Ye.focus(),Se.shouldSelect&&qc(Ye.select)&&Ye.select())}},vt=ae=>{t={...t,...ae}},_t={control:{register:Ae,unregister:ue,getFieldState:z,handleSubmit:Oe,setError:ne,_subscribe:q,_runSchema:x,_getWatch:F,_getDirty:W,_setValid:v,_setFieldArray:C,_setDisabledField:pe,_setErrors:b,_getFieldArray:H,_reset:kt,_resetDefaultValues:()=>qc(e.defaultValues)&&e.defaultValues().then(ae=>{Vt(ae,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:Te,_subjects:h,_proxyFormState:u,get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(ae){o=ae},get _defaultValues(){return r},get _names(){return a},set _names(ae){a=ae},get _formState(){return t},get _options(){return e},set _options(ae){e={...e,...ae}}},subscribe:he,trigger:G,register:Ae,handleSubmit:Oe,watch:le,setValue:$,getValues:J,reset:Vt,resetField:ft,clearErrors:j,unregister:ue,setError:ne,setFocus:yt,getFieldState:z};return{..._t,formControl:_t}}const _Fe=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function k_e(n={}){const e=Z.useRef(void 0),t=Z.useRef(void 0),[i,r]=Z.useState({isDirty:!1,isValidating:!1,isLoading:qc(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:qc(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...n.formControl?n.formControl:mFe(n),formState:i},n.formControl&&n.defaultValues&&!qc(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions));const s=e.current.control;return s._options=n,_Fe(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>r({...s._formState}),reRenderRoot:!0});return r(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),Z.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),Z.useEffect(()=>{n.mode&&(s._options.mode=n.mode),n.reValidateMode&&(s._options.reValidateMode=n.reValidateMode),n.errors&&!ua(n.errors)&&s._setErrors(n.errors)},[s,n.errors,n.mode,n.reValidateMode]),Z.useEffect(()=>{n.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,n.shouldUnregister]),Z.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==i.isDirty&&s._subjects.state.next({isDirty:o})}},[s,i.isDirty]),Z.useEffect(()=>{n.values&&!Sh(n.values,t.current)?(s._reset(n.values,s._options.resetOptions),t.current=n.values,r(o=>({...o}))):s._resetDefaultValues()},[s,n.values]),Z.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=w_e(i,s),e.current}const rte=(n,e,t)=>{if(n&&"reportValidity"in n){const i=mt(t,e);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},M_e=(n,e)=>{for(const t in e.fields){const i=e.fields[t];i&&i.ref&&"reportValidity"in i.ref?rte(i.ref,t,n):i.refs&&i.refs.forEach(r=>rte(r,t,n))}},EFe=(n,e)=>{e.shouldUseNativeValidation&&M_e(n,e);const t={};for(const i in n){const r=mt(e.fields,i),s=Object.assign(n[i]||{},{ref:r&&r.ref});if(vFe(e.names||Object.keys(n),i)){const o=Object.assign({},mt(t,i));Wi(o,"root",s),Wi(t,i,o)}else Wi(t,i,s)}return t},vFe=(n,e)=>n.some(t=>t.startsWith(e+"."));var SFe=function(n,e){for(var t={};n.length;){var i=n[0],r=i.code,s=i.message,o=i.path.join(".");if(!t[o])if("unionErrors"in i){var a=i.unionErrors[0].errors[0];t[o]={message:a.message,type:a.code}}else t[o]={message:s,type:r};if("unionErrors"in i&&i.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return n.push(d)})}),e){var l=t[o].types,c=l&&l[i.code];t[o]=I_e(o,e,t,r,c?[].concat(c,i.message):i.message)}n.shift()}return t},F_e=function(n,e,t){return t===void 0&&(t={}),function(i,r,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](i,e)).then(function(c){return s.shouldUseNativeValidation&&M_e({},s),{errors:{},values:t.raw?i:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:EFe(SFe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};function CFe(n,e){const t=N.createContext(e),i=s=>{const{children:o,...a}=s,l=N.useMemo(()=>a,Object.values(a));return R.jsx(t.Provider,{value:l,children:o})};i.displayName=n+"Provider";function r(s){const o=N.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[i,r]}function us(n,e=[]){let t=[];function i(s,o){const a=N.createContext(o),l=t.length;t=[...t,o];const c=d=>{var v;const{scope:h,children:f,...m}=d,g=((v=h==null?void 0:h[n])==null?void 0:v[l])||a,_=N.useMemo(()=>m,Object.values(m));return R.jsx(g.Provider,{value:_,children:f})};c.displayName=s+"Provider";function u(d,h){var g;const f=((g=h==null?void 0:h[n])==null?void 0:g[l])||a,m=N.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const r=()=>{const s=t.map(o=>N.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return N.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,yFe(r,...e)]}function yFe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function ste(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function mk(...n){return e=>{let t=!1;const i=n.map(r=>{const s=ste(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():ste(n[r],null)}}}}function tn(...n){return N.useCallback(mk(...n),n)}function Bg(n){const e=bFe(n),t=N.forwardRef((i,r)=>{const{children:s,...o}=i,a=N.Children.toArray(s),l=a.find(wFe);if(l){const c=l.props.children,u=a.map(d=>d===l?N.Children.count(c)>1?N.Children.only(null):N.isValidElement(c)?c.props.children:null:d);return R.jsx(e,{...o,ref:r,children:N.isValidElement(c)?N.cloneElement(c,void 0,u):null})}return R.jsx(e,{...o,ref:r,children:s})});return t.displayName=`${n}.Slot`,t}var _k=Bg("Slot");function bFe(n){const e=N.forwardRef((t,i)=>{const{children:r,...s}=t;if(N.isValidElement(r)){const o=RFe(r),a=AFe(s,r.props);return r.type!==N.Fragment&&(a.ref=i?mk(i,o):o),N.cloneElement(r,a)}return N.Children.count(r)>1?N.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var B_e=Symbol("radix.slottable");function TFe(n){const e=({children:t})=>R.jsx(R.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=B_e,e}function wFe(n){return N.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===B_e}function AFe(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...a)=>{s(...a),r(...a)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function RFe(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function sy(n){const e=n+"CollectionProvider",[t,i]=us(e),[r,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:v}=g,S=Z.useRef(null),C=Z.useRef(new Map).current;return R.jsx(r,{scope:_,itemMap:C,collectionRef:S,children:v})};o.displayName=e;const a=n+"CollectionSlot",l=Bg(a),c=Z.forwardRef((g,_)=>{const{scope:v,children:S}=g,C=s(a,v),y=tn(_,C.collectionRef);return R.jsx(l,{ref:y,children:S})});c.displayName=a;const u=n+"CollectionItemSlot",d="data-radix-collection-item",h=Bg(u),f=Z.forwardRef((g,_)=>{const{scope:v,children:S,...C}=g,y=Z.useRef(null),b=tn(_,y),w=s(u,v);return Z.useEffect(()=>(w.itemMap.set(y,{ref:y,...C}),()=>void w.itemMap.delete(y))),R.jsx(h,{[d]:"",ref:b,children:S})});f.displayName=u;function m(g){const _=s(n+"CollectionConsumer",g);return Z.useCallback(()=>{const S=_.collectionRef.current;if(!S)return[];const C=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((w,I)=>C.indexOf(w.ref.current)-C.indexOf(I.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,i]}function qe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}var Hs=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},IFe=ak[" useInsertionEffect ".trim().toString()]||Hs;function Vs({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[r,s,o]=NFe({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:r;{const u=N.useRef(n!==void 0);N.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${i} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,i])}const c=N.useCallback(u=>{var d;if(a){const h=LFe(u)?u(n):u;h!==n&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,n,s,o]);return[l,c]}function NFe({defaultProp:n,onChange:e}){const[t,i]=N.useState(n),r=N.useRef(t),s=N.useRef(e);return IFe(()=>{s.current=e},[e]),N.useEffect(()=>{var o;r.current!==t&&((o=s.current)==null||o.call(s,t),r.current=t)},[t,r]),[t,i,s]}function LFe(n){return typeof n=="function"}var oy=r_e();const OFe=Si(oy);var xFe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pt=xFe.reduce((n,e)=>{const t=Bg(`Primitive.${e}`),i=N.forwardRef((r,s)=>{const{asChild:o,...a}=r,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),R.jsx(l,{...a,ref:s})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function vj(n,e){n&&oy.flushSync(()=>n.dispatchEvent(e))}function DFe(n,e){return N.useReducer((t,i)=>e[t][i]??t,n)}var ds=n=>{const{present:e,children:t}=n,i=PFe(e),r=typeof t=="function"?t({present:i.isPresent}):N.Children.only(t),s=tn(i.ref,kFe(r));return typeof t=="function"||i.isPresent?N.cloneElement(r,{ref:s}):null};ds.displayName="Presence";function PFe(n){const[e,t]=N.useState(),i=N.useRef(null),r=N.useRef(n),s=N.useRef("none"),o=n?"mounted":"unmounted",[a,l]=DFe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const c=KR(i.current);s.current=a==="mounted"?c:"none"},[a]),Hs(()=>{const c=i.current,u=r.current;if(u!==n){const h=s.current,f=KR(c);n?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),Hs(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const g=KR(i.current).includes(f.animationName);if(f.target===e&&g&&(l("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},h=f=>{f.target===e&&(s.current=KR(i.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:N.useCallback(c=>{i.current=c?getComputedStyle(c):null,t(c)},[])}}function KR(n){return(n==null?void 0:n.animationName)||"none"}function kFe(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var MFe=ak[" useId ".trim().toString()]||(()=>{}),FFe=0;function Ya(n){const[e,t]=N.useState(MFe());return Hs(()=>{t(i=>i??String(FFe++))},[n]),e?`radix-${e}`:""}var Ek="Collapsible",[BFe,U_e]=us(Ek),[UFe,Sj]=BFe(Ek),H_e=N.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:i,defaultOpen:r,disabled:s,onOpenChange:o,...a}=n,[l,c]=Vs({prop:i,defaultProp:r??!1,onChange:o,caller:Ek});return R.jsx(UFe,{scope:t,disabled:s,contentId:Ya(),open:l,onOpenToggle:N.useCallback(()=>c(u=>!u),[c]),children:R.jsx(pt.div,{"data-state":yj(l),"data-disabled":s?"":void 0,...a,ref:e})})});H_e.displayName=Ek;var V_e="CollapsibleTrigger",W_e=N.forwardRef((n,e)=>{const{__scopeCollapsible:t,...i}=n,r=Sj(V_e,t);return R.jsx(pt.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":yj(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...i,ref:e,onClick:qe(n.onClick,r.onOpenToggle)})});W_e.displayName=V_e;var Cj="CollapsibleContent",$_e=N.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=Sj(Cj,n.__scopeCollapsible);return R.jsx(ds,{present:t||r.open,children:({present:s})=>R.jsx(HFe,{...i,ref:e,present:s})})});$_e.displayName=Cj;var HFe=N.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:i,children:r,...s}=n,o=Sj(Cj,t),[a,l]=N.useState(i),c=N.useRef(null),u=tn(e,c),d=N.useRef(0),h=d.current,f=N.useRef(0),m=f.current,g=o.open||a,_=N.useRef(g),v=N.useRef(void 0);return N.useEffect(()=>{const S=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(S)},[]),Hs(()=>{const S=c.current;if(S){v.current=v.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const C=S.getBoundingClientRect();d.current=C.height,f.current=C.width,_.current||(S.style.transitionDuration=v.current.transitionDuration,S.style.animationName=v.current.animationName),l(i)}},[o.open,i]),R.jsx(pt.div,{"data-state":yj(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...s,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...n.style},children:g&&r})});function yj(n){return n?"open":"closed"}var VFe=H_e,WFe=W_e,$Fe=$_e,GFe=N.createContext(void 0);function af(n){const e=N.useContext(GFe);return n||e||"ltr"}var vu="Accordion",zFe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[bj,jFe,YFe]=sy(vu),[vk,r4t]=us(vu,[YFe,U_e]),Tj=U_e(),KFe=Z.forwardRef((n,e)=>{const{type:t,...i}=n,r=i,s=i;return R.jsx(bj.Provider,{scope:n.__scopeAccordion,children:t==="multiple"?R.jsx(ZFe,{...s,ref:e}):R.jsx(QFe,{...r,ref:e})})});KFe.displayName=vu;var[G_e,qFe]=vk(vu),[z_e,XFe]=vk(vu,{collapsible:!1}),QFe=Z.forwardRef((n,e)=>{const{value:t,defaultValue:i,onValueChange:r=()=>{},collapsible:s=!1,...o}=n,[a,l]=Vs({prop:t,defaultProp:i??"",onChange:r,caller:vu});return R.jsx(G_e,{scope:n.__scopeAccordion,value:Z.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:Z.useCallback(()=>s&&l(""),[s,l]),children:R.jsx(z_e,{scope:n.__scopeAccordion,collapsible:s,children:R.jsx(j_e,{...o,ref:e})})})}),ZFe=Z.forwardRef((n,e)=>{const{value:t,defaultValue:i,onValueChange:r=()=>{},...s}=n,[o,a]=Vs({prop:t,defaultProp:i??[],onChange:r,caller:vu}),l=Z.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=Z.useCallback(u=>a((d=[])=>d.filter(h=>h!==u)),[a]);return R.jsx(G_e,{scope:n.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:R.jsx(z_e,{scope:n.__scopeAccordion,collapsible:!0,children:R.jsx(j_e,{...s,ref:e})})})}),[JFe,Sk]=vk(vu),j_e=Z.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:i,dir:r,orientation:s="vertical",...o}=n,a=Z.useRef(null),l=tn(a,e),c=jFe(t),d=af(r)==="ltr",h=qe(n.onKeyDown,f=>{var O;if(!zFe.includes(f.key))return;const m=f.target,g=c().filter(x=>{var k;return!((k=x.ref.current)!=null&&k.disabled)}),_=g.findIndex(x=>x.ref.current===m),v=g.length;if(_===-1)return;f.preventDefault();let S=_;const C=0,y=v-1,b=()=>{S=_+1,S>y&&(S=C)},w=()=>{S=_-1,S<C&&(S=y)};switch(f.key){case"Home":S=C;break;case"End":S=y;break;case"ArrowRight":s==="horizontal"&&(d?b():w());break;case"ArrowDown":s==="vertical"&&b();break;case"ArrowLeft":s==="horizontal"&&(d?w():b());break;case"ArrowUp":s==="vertical"&&w();break}const I=S%v;(O=g[I].ref.current)==null||O.focus()});return R.jsx(JFe,{scope:t,disabled:i,direction:r,orientation:s,children:R.jsx(bj.Slot,{scope:t,children:R.jsx(pt.div,{...o,"data-orientation":s,ref:l,onKeyDown:i?void 0:h})})})}),jL="AccordionItem",[eBe,wj]=vk(jL),Y_e=Z.forwardRef((n,e)=>{const{__scopeAccordion:t,value:i,...r}=n,s=Sk(jL,t),o=qFe(jL,t),a=Tj(t),l=Ya(),c=i&&o.value.includes(i)||!1,u=s.disabled||n.disabled;return R.jsx(eBe,{scope:t,open:c,disabled:u,triggerId:l,children:R.jsx(VFe,{"data-orientation":s.orientation,"data-state":J_e(c),...a,...r,ref:e,disabled:u,open:c,onOpenChange:d=>{d?o.onItemOpen(i):o.onItemClose(i)}})})});Y_e.displayName=jL;var K_e="AccordionHeader",q_e=Z.forwardRef((n,e)=>{const{__scopeAccordion:t,...i}=n,r=Sk(vu,t),s=wj(K_e,t);return R.jsx(pt.h3,{"data-orientation":r.orientation,"data-state":J_e(s.open),"data-disabled":s.disabled?"":void 0,...i,ref:e})});q_e.displayName=K_e;var a9="AccordionTrigger",X_e=Z.forwardRef((n,e)=>{const{__scopeAccordion:t,...i}=n,r=Sk(vu,t),s=wj(a9,t),o=XFe(a9,t),a=Tj(t);return R.jsx(bj.ItemSlot,{scope:t,children:R.jsx(WFe,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":r.orientation,id:s.triggerId,...a,...i,ref:e})})});X_e.displayName=a9;var Q_e="AccordionContent",Z_e=Z.forwardRef((n,e)=>{const{__scopeAccordion:t,...i}=n,r=Sk(vu,t),s=wj(Q_e,t),o=Tj(t);return R.jsx($Fe,{role:"region","aria-labelledby":s.triggerId,"data-orientation":r.orientation,...o,...i,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});Z_e.displayName=Q_e;function J_e(n){return n?"open":"closed"}var tBe=Y_e,nBe=q_e,eEe=X_e,tEe=Z_e;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iBe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nEe=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rBe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sBe=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>N.createElement("svg",{ref:l,...rBe,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:nEe("lucide",r),...a},[...o.map(([c,u])=>N.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=(n,e)=>{const t=N.forwardRef(({className:i,...r},s)=>N.createElement(sBe,{ref:s,iconNode:e,className:nEe(`lucide-${iBe(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oBe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Aj=Ad("Check",oBe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aBe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rj=Ad("ChevronDown",aBe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lBe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cBe=Ad("ChevronRight",lBe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uBe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dBe=Ad("ChevronUp",uBe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hBe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iEe=Ad("Circle",hBe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fBe=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],gBe=Ad("GripVertical",fBe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pBe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mBe=Ad("LoaderCircle",pBe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Be=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],EBe=Ad("RotateCcw",_Be);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vBe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SBe=Ad("TriangleAlert",vBe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CBe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rEe=Ad("X",CBe);function sEe(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=sEe(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function On(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=sEe(n))&&(i&&(i+=" "),i+=e);return i}const Ij="-",yBe=n=>{const e=TBe(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const a=o.split(Ij);return a[0]===""&&a.length!==1&&a.shift(),oEe(a,e)||bBe(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},oEe=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?oEe(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(Ij);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},ote=/^\[(.+)\]$/,bBe=n=>{if(ote.test(n)){const e=ote.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},TBe=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return ABe(Object.entries(n.classGroups),t).forEach(([s,o])=>{l9(o,i,s,e)}),i},l9=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:ate(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(wBe(r)){l9(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{l9(o,ate(e,s),t,i)})})},ate=(n,e)=>{let t=n;return e.split(Ij).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},wBe=n=>n.isThemeGetter,ABe=(n,e)=>e?n.map(([t,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,r]}):n,RBe=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},aEe="!",IBe=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,r=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let _=0;_<a.length;_++){let v=a[_];if(c===0){if(v===r&&(i||a.slice(_,_+s)===e)){l.push(a.slice(u,_)),u=_+s;continue}if(v==="/"){d=_;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(aEe),m=f?h.substring(1):h,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}};return t?a=>t({className:a,parseClassName:o}):o},NBe=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},LBe=n=>({cache:RBe(n.cacheSize),parseClassName:IBe(n),...yBe(n)}),OBe=/\s+/,xBe=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=n.trim().split(OBe);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=t(c);let m=!!f,g=i(m?h.substring(0,f):h);if(!g){if(!m){a=c+(a.length>0?" "+a:a);continue}if(g=i(h),!g){a=c+(a.length>0?" "+a:a);continue}m=!1}const _=NBe(u).join(":"),v=d?_+aEe:_,S=v+g;if(s.includes(S))continue;s.push(S);const C=r(g,m);for(let y=0;y<C.length;++y){const b=C[y];s.push(v+b)}a=c+(a.length>0?" "+a:a)}return a};function DBe(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=lEe(e))&&(i&&(i+=" "),i+=t);return i}const lEe=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=lEe(n[i]))&&(t&&(t+=" "),t+=e);return t};function PBe(n,...e){let t,i,r,s=o;function o(l){const c=e.reduce((u,d)=>d(u),n());return t=LBe(c),i=t.cache.get,r=t.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const u=xBe(l,t);return r(l,u),u}return function(){return s(DBe.apply(null,arguments))}}const vr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},cEe=/^\[(?:([a-z-]+):)?(.+)\]$/i,kBe=/^\d+\/\d+$/,MBe=new Set(["px","full","screen"]),FBe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BBe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UBe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HBe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VBe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kd=n=>_S(n)||MBe.has(n)||kBe.test(n),Bf=n=>ay(n,"length",qBe),_S=n=>!!n&&!Number.isNaN(Number(n)),e4=n=>ay(n,"number",_S),Tb=n=>!!n&&Number.isInteger(Number(n)),WBe=n=>n.endsWith("%")&&_S(n.slice(0,-1)),jn=n=>cEe.test(n),Uf=n=>FBe.test(n),$Be=new Set(["length","size","percentage"]),GBe=n=>ay(n,$Be,uEe),zBe=n=>ay(n,"position",uEe),jBe=new Set(["image","url"]),YBe=n=>ay(n,jBe,QBe),KBe=n=>ay(n,"",XBe),wb=()=>!0,ay=(n,e,t)=>{const i=cEe.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},qBe=n=>BBe.test(n)&&!UBe.test(n),uEe=()=>!1,XBe=n=>HBe.test(n),QBe=n=>VBe.test(n),ZBe=()=>{const n=vr("colors"),e=vr("spacing"),t=vr("blur"),i=vr("brightness"),r=vr("borderColor"),s=vr("borderRadius"),o=vr("borderSpacing"),a=vr("borderWidth"),l=vr("contrast"),c=vr("grayscale"),u=vr("hueRotate"),d=vr("invert"),h=vr("gap"),f=vr("gradientColorStops"),m=vr("gradientColorStopPositions"),g=vr("inset"),_=vr("margin"),v=vr("opacity"),S=vr("padding"),C=vr("saturate"),y=vr("scale"),b=vr("sepia"),w=vr("skew"),I=vr("space"),O=vr("translate"),x=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",jn,e],M=()=>[jn,e],W=()=>["",Kd,Bf],F=()=>["auto",_S,jn],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",jn],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[_S,jn];return{cacheSize:500,separator:":",theme:{colors:[wb],spacing:[Kd,Bf],blur:["none","",Uf,jn],brightness:G(),borderColor:[n],borderRadius:["none","","full",Uf,jn],borderSpacing:M(),borderWidth:W(),contrast:G(),grayscale:K(),hueRotate:G(),invert:K(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[WBe,Bf],inset:P(),margin:P(),opacity:G(),padding:M(),saturate:G(),scale:G(),sepia:K(),skew:G(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",jn]}],container:["container"],columns:[{columns:[Uf]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),jn]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tb,jn]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",jn]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Tb,jn]}],"grid-cols":[{"grid-cols":[wb]}],"col-start-end":[{col:["auto",{span:["full",Tb,jn]},jn]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[wb]}],"row-start-end":[{row:["auto",{span:[Tb,jn]},jn]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",jn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",jn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",jn,e]}],"min-w":[{"min-w":[jn,e,"min","max","fit"]}],"max-w":[{"max-w":[jn,e,"none","full","min","max","fit","prose",{screen:[Uf]},Uf]}],h:[{h:[jn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[jn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[jn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[jn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Uf,Bf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",e4]}],"font-family":[{font:[wb]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",jn]}],"line-clamp":[{"line-clamp":["none",_S,e4]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kd,jn]}],"list-image":[{"list-image":["none",jn]}],"list-style-type":[{list:["none","disc","decimal",jn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kd,Bf]}],"underline-offset":[{"underline-offset":["auto",Kd,jn]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",jn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",jn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),zBe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GBe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YBe]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:V()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Kd,jn]}],"outline-w":[{outline:[Kd,Bf]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Kd,Bf]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Uf,KBe]}],"shadow-color":[{shadow:[wb]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Uf,jn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[C]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",jn]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",jn]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",jn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[Tb,jn]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",jn]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",jn]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",jn]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Kd,Bf,e4]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JBe=PBe(ZBe);function ut(...n){return JBe(On(n))}const e4e=N.forwardRef(({className:n,...e},t)=>R.jsx(tBe,{ref:t,className:ut("border-b",n),...e}));e4e.displayName="AccordionItem";const t4e=N.forwardRef(({className:n,children:e,...t},i)=>R.jsx(nBe,{className:"flex",children:R.jsxs(eEe,{ref:i,className:ut("flex flex-1 items-center justify-between py-4 text-left text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...t,children:[e,R.jsx(Rj,{className:"text-muted-foreground h-4 w-4 shrink-0 transition-transform duration-200"})]})}));t4e.displayName=eEe.displayName;const n4e=N.forwardRef(({className:n,children:e,...t},i)=>R.jsx(tEe,{ref:i,className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...t,children:R.jsx("div",{className:ut("pb-4 pt-0",n),children:e})}));n4e.displayName=tEe.displayName;const lte=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,cte=On,z_=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return cte(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(c=>{const u=t==null?void 0:t[c],d=s==null?void 0:s[c];if(u===null)return null;const h=lte(u)||lte(d);return r[c][h]}),a=t&&Object.entries(t).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(m=>{let[g,_]=m;return Array.isArray(_)?_.includes({...s,...a}[g]):{...s,...a}[g]===_})?[...c,d,h]:c},[]);return cte(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)},i4e=z_("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Nj=N.forwardRef(({className:n,variant:e,...t},i)=>R.jsx("div",{ref:i,role:"alert",className:ut(i4e({variant:e}),n),...t}));Nj.displayName="Alert";const dEe=N.forwardRef(({className:n,...e},t)=>R.jsx("h5",{ref:t,className:ut("mb-1 font-medium leading-none tracking-tight",n),...e}));dEe.displayName="AlertTitle";const Lj=N.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:ut("text-sm [&_p]:leading-relaxed",n),...e}));Lj.displayName="AlertDescription";const r4e=z_("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function hEe({className:n,variant:e,...t}){return R.jsx("div",{className:ut(r4e({variant:e}),n),...t})}const s4e=N.forwardRef(({...n},e)=>R.jsx("nav",{ref:e,"aria-label":"breadcrumb",...n}));s4e.displayName="Breadcrumb";const o4e=N.forwardRef(({className:n,...e},t)=>R.jsx("ol",{ref:t,className:ut("text-muted-foreground flex flex-wrap items-center gap-1.5 break-words text-sm sm:gap-2.5",n),...e}));o4e.displayName="BreadcrumbList";const a4e=N.forwardRef(({className:n,...e},t)=>R.jsx("li",{ref:t,className:ut("inline-flex items-center gap-1.5",n),...e}));a4e.displayName="BreadcrumbItem";const l4e=N.forwardRef(({asChild:n,className:e,...t},i)=>{const r=n?_k:"a";return R.jsx(r,{ref:i,className:ut("hover:text-foreground transition-colors",e),...t})});l4e.displayName="BreadcrumbLink";const c4e=N.forwardRef(({className:n,...e},t)=>R.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:ut("text-foreground font-normal",n),...e}));c4e.displayName="BreadcrumbPage";const u4e=z_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",xs:"h-8 rounded-md px-2 text-xs"}},defaultVariants:{variant:"default",size:"default"}}),Yr=N.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...r},s)=>{const o=i?_k:"button";return R.jsx(o,{className:ut(u4e({variant:e,size:t,className:n})),ref:s,...r})});Yr.displayName="Button_";var VT=function(){return VT=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},VT.apply(this,arguments)},d4e=N.createContext(void 0);function h4e(){var n=N.useContext(d4e);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}N.createContext(void 0);N.forwardRef(function(n,e){var t=h4e(),i=t.classNames,r=t.styles,s=[i.button_reset,i.button];n.className&&s.push(n.className);var o=s.join(" "),a=VT(VT({},r.button_reset),r.button);return n.style&&Object.assign(a,n.style),R.jsx("button",VT({},n,{ref:e,type:"button",className:o,style:a}))});N.createContext(void 0);N.createContext(void 0);var pd;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(pd||(pd={}));pd.Selected;pd.Disabled;pd.Hidden;pd.Today;pd.RangeEnd;pd.RangeMiddle;pd.RangeStart;pd.Outside;N.createContext(void 0);N.createContext(void 0);N.createContext(void 0);const f4e=N.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:ut("bg-card text-card-foreground rounded-xl border shadow",n),...e}));f4e.displayName="Card";const g4e=N.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:ut("flex flex-col space-y-1.5 p-6",n),...e}));g4e.displayName="CardHeader";const p4e=N.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:ut("font-semibold leading-none tracking-tight",n),...e}));p4e.displayName="CardTitle";const m4e=N.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:ut("text-muted-foreground text-sm",n),...e}));m4e.displayName="CardDescription";const _4e=N.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:ut("p-6 pt-0",n),...e}));_4e.displayName="CardContent";const E4e=N.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:ut("flex items-center p-6 pt-0",n),...e}));E4e.displayName="CardFooter";function zw(n){const e=N.useRef({value:n,previous:n});return N.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function jw(n){const[e,t]=N.useState(void 0);return Hs(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Ck="Checkbox",[v4e,s4t]=us(Ck),[S4e,C4e]=v4e(Ck),fEe=N.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:r,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=n,[h,f]=N.useState(null),m=tn(e,y=>f(y)),g=N.useRef(!1),_=h?u||!!h.closest("form"):!0,[v,S]=Vs({prop:r,defaultProp:s??!1,onChange:c,caller:Ck}),C=N.useRef(v);return N.useEffect(()=>{const y=h==null?void 0:h.form;if(y){const b=()=>S(C.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[h,S]),R.jsxs(S4e,{scope:t,state:v,disabled:a,children:[R.jsx(pt.button,{type:"button",role:"checkbox","aria-checked":Rg(v)?"mixed":v,"aria-required":o,"data-state":_Ee(v),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:m,onKeyDown:qe(n.onKeyDown,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:qe(n.onClick,y=>{S(b=>Rg(b)?!0:!b),_&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),_&&R.jsx(mEe,{control:h,bubbles:!g.current,name:i,value:l,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Rg(s)?!1:s})]})});fEe.displayName=Ck;var gEe="CheckboxIndicator",pEe=N.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...r}=n,s=C4e(gEe,t);return R.jsx(ds,{present:i||Rg(s.state)||s.state===!0,children:R.jsx(pt.span,{"data-state":_Ee(s.state),"data-disabled":s.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...n.style}})})});pEe.displayName=gEe;var y4e="CheckboxBubbleInput",mEe=N.forwardRef(({__scopeCheckbox:n,control:e,checked:t,bubbles:i=!0,defaultChecked:r,...s},o)=>{const a=N.useRef(null),l=tn(a,o),c=zw(t),u=jw(e);N.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==t&&g){const _=new Event("click",{bubbles:i});h.indeterminate=Rg(t),g.call(h,Rg(t)?!1:t),h.dispatchEvent(_)}},[c,t,i]);const d=N.useRef(Rg(t)?!1:t);return R.jsx(pt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:r??d.current,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});mEe.displayName=y4e;function Rg(n){return n==="indeterminate"}function _Ee(n){return Rg(n)?"indeterminate":n?"checked":"unchecked"}var Oj=fEe,EEe=pEe;const b4e=N.forwardRef(({className:n,...e},t)=>R.jsx(Oj,{ref:t,className:ut("border-primary focus-visible:ring-ring data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground peer h-4 w-4 shrink-0 rounded-sm border shadow focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:R.jsx(EEe,{className:ut("flex items-center justify-center text-current"),children:R.jsx(Aj,{className:"h-4 w-4"})})}));b4e.displayName=Oj.displayName;function ss(n){const e=N.useRef(n);return N.useEffect(()=>{e.current=n}),N.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function T4e(n,e=globalThis==null?void 0:globalThis.document){const t=ss(n);N.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var w4e="DismissableLayer",c9="dismissableLayer.update",A4e="dismissableLayer.pointerDownOutside",R4e="dismissableLayer.focusOutside",ute,vEe=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),j_=N.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=N.useContext(vEe),[u,d]=N.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=N.useState({}),m=tn(e,I=>d(I)),g=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(_),S=u?g.indexOf(u):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,y=S>=v,b=N4e(I=>{const O=I.target,x=[...c.branches].some(k=>k.contains(O));!y||x||(r==null||r(I),o==null||o(I),I.defaultPrevented||a==null||a())},h),w=L4e(I=>{const O=I.target;[...c.branches].some(k=>k.contains(O))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},h);return T4e(I=>{S===c.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},h),N.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ute=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),dte(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ute)}},[u,h,t,c]),N.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),dte())},[u,c]),N.useEffect(()=>{const I=()=>f({});return document.addEventListener(c9,I),()=>document.removeEventListener(c9,I)},[]),R.jsx(pt.div,{...l,ref:m,style:{pointerEvents:C?y?"auto":"none":void 0,...n.style},onFocusCapture:qe(n.onFocusCapture,w.onFocusCapture),onBlurCapture:qe(n.onBlurCapture,w.onBlurCapture),onPointerDownCapture:qe(n.onPointerDownCapture,b.onPointerDownCapture)})});j_.displayName=w4e;var I4e="DismissableLayerBranch",SEe=N.forwardRef((n,e)=>{const t=N.useContext(vEe),i=N.useRef(null),r=tn(e,i);return N.useEffect(()=>{const s=i.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),R.jsx(pt.div,{...n,ref:r})});SEe.displayName=I4e;function N4e(n,e=globalThis==null?void 0:globalThis.document){const t=ss(n),i=N.useRef(!1),r=N.useRef(()=>{});return N.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){CEe(A4e,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function L4e(n,e=globalThis==null?void 0:globalThis.document){const t=ss(n),i=N.useRef(!1);return N.useEffect(()=>{const r=s=>{s.target&&!i.current&&CEe(R4e,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function dte(){const n=new CustomEvent(c9);document.dispatchEvent(n)}function CEe(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?vj(r,s):r.dispatchEvent(s)}var O4e=j_,x4e=SEe,t4="focusScope.autoFocusOnMount",n4="focusScope.autoFocusOnUnmount",hte={bubbles:!1,cancelable:!0},D4e="FocusScope",Yw=N.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=n,[a,l]=N.useState(null),c=ss(r),u=ss(s),d=N.useRef(null),h=tn(e,g=>l(g)),f=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(i){let g=function(C){if(f.paused||!a)return;const y=C.target;a.contains(y)?d.current=y:zf(d.current,{select:!0})},_=function(C){if(f.paused||!a)return;const y=C.relatedTarget;y!==null&&(a.contains(y)||zf(d.current,{select:!0}))},v=function(C){if(document.activeElement===document.body)for(const b of C)b.removedNodes.length>0&&zf(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const S=new MutationObserver(v);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),S.disconnect()}}},[i,a,f.paused]),N.useEffect(()=>{if(a){gte.add(f);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(t4,hte);a.addEventListener(t4,c),a.dispatchEvent(v),v.defaultPrevented||(P4e(U4e(yEe(a)),{select:!0}),document.activeElement===g&&zf(a))}return()=>{a.removeEventListener(t4,c),setTimeout(()=>{const v=new CustomEvent(n4,hte);a.addEventListener(n4,u),a.dispatchEvent(v),v.defaultPrevented||zf(g??document.body,{select:!0}),a.removeEventListener(n4,u),gte.remove(f)},0)}}},[a,c,u,f]);const m=N.useCallback(g=>{if(!t&&!i||f.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(_&&v){const S=g.currentTarget,[C,y]=k4e(S);C&&y?!g.shiftKey&&v===y?(g.preventDefault(),t&&zf(C,{select:!0})):g.shiftKey&&v===C&&(g.preventDefault(),t&&zf(y,{select:!0})):v===S&&g.preventDefault()}},[t,i,f.paused]);return R.jsx(pt.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});Yw.displayName=D4e;function P4e(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(zf(i,{select:e}),document.activeElement!==t)return}function k4e(n){const e=yEe(n),t=fte(e,n),i=fte(e.reverse(),n);return[t,i]}function yEe(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function fte(n,e){for(const t of n)if(!M4e(t,{upTo:e}))return t}function M4e(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function F4e(n){return n instanceof HTMLInputElement&&"select"in n}function zf(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&F4e(n)&&e&&n.select()}}var gte=B4e();function B4e(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=pte(n,e),n.unshift(e)},remove(e){var t;n=pte(n,e),(t=n[0])==null||t.resume()}}}function pte(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function U4e(n){return n.filter(e=>e.tagName!=="A")}var H4e="Portal",Y_=N.forwardRef((n,e)=>{var a;const{container:t,...i}=n,[r,s]=N.useState(!1);Hs(()=>s(!0),[]);const o=t||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?OFe.createPortal(R.jsx(pt.div,{...i,ref:e}),o):null});Y_.displayName=H4e;var i4=0;function yk(){N.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??mte()),document.body.insertAdjacentElement("beforeend",n[1]??mte()),i4++,()=>{i4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),i4--}},[])}function mte(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ju=function(){return Ju=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ju.apply(this,arguments)};function bEe(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function V4e(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var zN="right-scroll-bar-position",jN="width-before-scroll-bar",W4e="with-scroll-bars-hidden",$4e="--removed-body-scroll-bar-size";function r4(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function G4e(n,e){var t=N.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var r=t.value;r!==i&&(t.value=i,t.callback(i,r))}}}})[0];return t.callback=e,t.facade}var z4e=typeof window<"u"?N.useLayoutEffect:N.useEffect,_te=new WeakMap;function j4e(n,e){var t=G4e(null,function(i){return n.forEach(function(r){return r4(r,i)})});return z4e(function(){var i=_te.get(t);if(i){var r=new Set(i),s=new Set(n),o=t.current;r.forEach(function(a){s.has(a)||r4(a,null)}),s.forEach(function(a){r.has(a)||r4(a,o)})}_te.set(t,n)},[n]),t}function Y4e(n){return n}function K4e(n,e){e===void 0&&(e=Y4e);var t=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,i);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(i=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){i=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return r}function q4e(n){n===void 0&&(n={});var e=K4e(null);return e.options=Ju({async:!0,ssr:!1},n),e}var TEe=function(n){var e=n.sideCar,t=bEe(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return N.createElement(i,Ju({},t))};TEe.isSideCarExport=!0;function X4e(n,e){return n.useMedium(e),TEe}var wEe=q4e(),s4=function(){},bk=N.forwardRef(function(n,e){var t=N.useRef(null),i=N.useState({onScrollCapture:s4,onWheelCapture:s4,onTouchMoveCapture:s4}),r=i[0],s=i[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,d=n.shards,h=n.sideCar,f=n.noIsolation,m=n.inert,g=n.allowPinchZoom,_=n.as,v=_===void 0?"div":_,S=n.gapMode,C=bEe(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=h,b=j4e([t,e]),w=Ju(Ju({},C),r);return N.createElement(N.Fragment,null,u&&N.createElement(y,{sideCar:wEe,removeScrollBar:c,shards:d,noIsolation:f,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:t,gapMode:S}),o?N.cloneElement(N.Children.only(a),Ju(Ju({},w),{ref:b})):N.createElement(v,Ju({},w,{className:l,ref:b}),a))});bk.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bk.classNames={fullWidth:jN,zeroRight:zN};var Q4e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Z4e(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Q4e();return e&&n.setAttribute("nonce",e),n}function J4e(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function e5e(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var t5e=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Z4e())&&(J4e(e,t),e5e(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},n5e=function(){var n=t5e();return function(e,t){N.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},AEe=function(){var n=n5e(),e=function(t){var i=t.styles,r=t.dynamic;return n(i,r),null};return e},i5e={left:0,top:0,right:0,gap:0},o4=function(n){return parseInt(n||"",10)||0},r5e=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[o4(t),o4(i),o4(r)]},s5e=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return i5e;var e=r5e(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},o5e=AEe(),ES="data-scroll-locked",a5e=function(n,e,t,i){var r=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(W4e,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(a,"px ").concat(i,`;
  }
  body[`).concat(ES,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),`
  }

  .`).concat(zN,` {
    right: `).concat(a,"px ").concat(i,`;
  }

  .`).concat(jN,` {
    margin-right: `).concat(a,"px ").concat(i,`;
  }

  .`).concat(zN," .").concat(zN,` {
    right: 0 `).concat(i,`;
  }

  .`).concat(jN," .").concat(jN,` {
    margin-right: 0 `).concat(i,`;
  }

  body[`).concat(ES,`] {
    `).concat($4e,": ").concat(a,`px;
  }
`)},Ete=function(){var n=parseInt(document.body.getAttribute(ES)||"0",10);return isFinite(n)?n:0},l5e=function(){N.useEffect(function(){return document.body.setAttribute(ES,(Ete()+1).toString()),function(){var n=Ete()-1;n<=0?document.body.removeAttribute(ES):document.body.setAttribute(ES,n.toString())}},[])},c5e=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,r=i===void 0?"margin":i;l5e();var s=N.useMemo(function(){return s5e(r)},[r]);return N.createElement(o5e,{styles:a5e(s,!e,r,t?"":"!important")})},u9=!1;if(typeof window<"u")try{var qR=Object.defineProperty({},"passive",{get:function(){return u9=!0,!0}});window.addEventListener("test",qR,qR),window.removeEventListener("test",qR,qR)}catch{u9=!1}var ZE=u9?{passive:!1}:!1,u5e=function(n){return n.tagName==="TEXTAREA"},REe=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!u5e(n)&&t[e]==="visible")},d5e=function(n){return REe(n,"overflowY")},h5e=function(n){return REe(n,"overflowX")},vte=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=IEe(n,i);if(r){var s=NEe(n,i),o=s[1],a=s[2];if(o>a)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},f5e=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},g5e=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},IEe=function(n,e){return n==="v"?d5e(e):h5e(e)},NEe=function(n,e){return n==="v"?f5e(e):g5e(e)},p5e=function(n,e){return n==="h"&&e==="rtl"?-1:1},m5e=function(n,e,t,i,r){var s=p5e(n,window.getComputedStyle(e).direction),o=s*i,a=t.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var f=NEe(n,a),m=f[0],g=f[1],_=f[2],v=g-_-s*m;(m||v)&&IEe(n,a)&&(d+=v,h+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},XR=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Ste=function(n){return[n.deltaX,n.deltaY]},Cte=function(n){return n&&"current"in n?n.current:n},_5e=function(n,e){return n[0]===e[0]&&n[1]===e[1]},E5e=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},v5e=0,JE=[];function S5e(n){var e=N.useRef([]),t=N.useRef([0,0]),i=N.useRef(),r=N.useState(v5e++)[0],s=N.useState(AEe)[0],o=N.useRef(n);N.useEffect(function(){o.current=n},[n]),N.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var g=V4e([n.lockRef.current],(n.shards||[]).map(Cte),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var a=N.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=XR(g),S=t.current,C="deltaX"in g?g.deltaX:S[0]-v[0],y="deltaY"in g?g.deltaY:S[1]-v[1],b,w=g.target,I=Math.abs(C)>Math.abs(y)?"h":"v";if("touches"in g&&I==="h"&&w.type==="range")return!1;var O=vte(I,w);if(!O)return!0;if(O?b=I:(b=I==="v"?"h":"v",O=vte(I,w)),!O)return!1;if(!i.current&&"changedTouches"in g&&(C||y)&&(i.current=b),!b)return!0;var x=i.current||b;return m5e(x,_,g,x==="h"?C:y)},[]),l=N.useCallback(function(g){var _=g;if(!(!JE.length||JE[JE.length-1]!==s)){var v="deltaY"in _?Ste(_):XR(_),S=e.current.filter(function(b){return b.name===_.type&&(b.target===_.target||_.target===b.shadowParent)&&_5e(b.delta,v)})[0];if(S&&S.should){_.cancelable&&_.preventDefault();return}if(!S){var C=(o.current.shards||[]).map(Cte).filter(Boolean).filter(function(b){return b.contains(_.target)}),y=C.length>0?a(_,C[0]):!o.current.noIsolation;y&&_.cancelable&&_.preventDefault()}}},[]),c=N.useCallback(function(g,_,v,S){var C={name:g,delta:_,target:v,should:S,shadowParent:C5e(v)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(y){return y!==C})},1)},[]),u=N.useCallback(function(g){t.current=XR(g),i.current=void 0},[]),d=N.useCallback(function(g){c(g.type,Ste(g),g.target,a(g,n.lockRef.current))},[]),h=N.useCallback(function(g){c(g.type,XR(g),g.target,a(g,n.lockRef.current))},[]);N.useEffect(function(){return JE.push(s),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ZE),document.addEventListener("touchmove",l,ZE),document.addEventListener("touchstart",u,ZE),function(){JE=JE.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,ZE),document.removeEventListener("touchmove",l,ZE),document.removeEventListener("touchstart",u,ZE)}},[]);var f=n.removeScrollBar,m=n.inert;return N.createElement(N.Fragment,null,m?N.createElement(s,{styles:E5e(r)}):null,f?N.createElement(c5e,{gapMode:n.gapMode}):null)}function C5e(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const y5e=X4e(wEe,S5e);var Kw=N.forwardRef(function(n,e){return N.createElement(bk,Ju({},n,{ref:e,sideCar:y5e}))});Kw.classNames=bk.classNames;var b5e=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ev=new WeakMap,QR=new WeakMap,ZR={},a4=0,LEe=function(n){return n&&(n.host||LEe(n.parentNode))},T5e=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=LEe(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},w5e=function(n,e,t,i){var r=T5e(e,Array.isArray(n)?n:[n]);ZR[t]||(ZR[t]=new WeakMap);var s=ZR[t],o=[],a=new Set,l=new Set(r),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};r.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(i),m=f!==null&&f!=="false",g=(ev.get(h)||0)+1,_=(s.get(h)||0)+1;ev.set(h,g),s.set(h,_),o.push(h),g===1&&m&&QR.set(h,!0),_===1&&h.setAttribute(t,"true"),m||h.setAttribute(i,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(e),a.clear(),a4++,function(){o.forEach(function(d){var h=ev.get(d)-1,f=s.get(d)-1;ev.set(d,h),s.set(d,f),h||(QR.has(d)||d.removeAttribute(i),QR.delete(d)),f||d.removeAttribute(t)}),a4--,a4||(ev=new WeakMap,ev=new WeakMap,QR=new WeakMap,ZR={})}},Tk=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),r=b5e(n);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),w5e(i,r,t,"aria-hidden")):function(){return null}},wk="Dialog",[OEe,o4t]=us(wk),[A5e,Su]=OEe(wk),xEe=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:r,onOpenChange:s,modal:o=!0}=n,a=N.useRef(null),l=N.useRef(null),[c,u]=Vs({prop:i,defaultProp:r??!1,onChange:s,caller:wk});return R.jsx(A5e,{scope:e,triggerRef:a,contentRef:l,contentId:Ya(),titleId:Ya(),descriptionId:Ya(),open:c,onOpenChange:u,onOpenToggle:N.useCallback(()=>u(d=>!d),[u]),modal:o,children:t})};xEe.displayName=wk;var DEe="DialogTrigger",PEe=N.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Su(DEe,t),s=tn(e,r.triggerRef);return R.jsx(pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Pj(r.open),...i,ref:s,onClick:qe(n.onClick,r.onOpenToggle)})});PEe.displayName=DEe;var xj="DialogPortal",[R5e,kEe]=OEe(xj,{forceMount:void 0}),MEe=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:r}=n,s=Su(xj,e);return R.jsx(R5e,{scope:e,forceMount:t,children:N.Children.map(i,o=>R.jsx(ds,{present:t||s.open,children:R.jsx(Y_,{asChild:!0,container:r,children:o})}))})};MEe.displayName=xj;var YL="DialogOverlay",FEe=N.forwardRef((n,e)=>{const t=kEe(YL,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=Su(YL,n.__scopeDialog);return s.modal?R.jsx(ds,{present:i||s.open,children:R.jsx(N5e,{...r,ref:e})}):null});FEe.displayName=YL;var I5e=Bg("DialogOverlay.RemoveScroll"),N5e=N.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Su(YL,t);return R.jsx(Kw,{as:I5e,allowPinchZoom:!0,shards:[r.contentRef],children:R.jsx(pt.div,{"data-state":Pj(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),m_="DialogContent",BEe=N.forwardRef((n,e)=>{const t=kEe(m_,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=Su(m_,n.__scopeDialog);return R.jsx(ds,{present:i||s.open,children:s.modal?R.jsx(L5e,{...r,ref:e}):R.jsx(O5e,{...r,ref:e})})});BEe.displayName=m_;var L5e=N.forwardRef((n,e)=>{const t=Su(m_,n.__scopeDialog),i=N.useRef(null),r=tn(e,t.contentRef,i);return N.useEffect(()=>{const s=i.current;if(s)return Tk(s)},[]),R.jsx(UEe,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:qe(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:qe(n.onFocusOutside,s=>s.preventDefault())})}),O5e=N.forwardRef((n,e)=>{const t=Su(m_,n.__scopeDialog),i=N.useRef(!1),r=N.useRef(!1);return R.jsx(UEe,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(i.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),UEe=N.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=n,a=Su(m_,t),l=N.useRef(null),c=tn(e,l);return yk(),R.jsxs(R.Fragment,{children:[R.jsx(Yw,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:R.jsx(j_,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Pj(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),R.jsxs(R.Fragment,{children:[R.jsx(x5e,{titleId:a.titleId}),R.jsx(P5e,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Dj="DialogTitle",HEe=N.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Su(Dj,t);return R.jsx(pt.h2,{id:r.titleId,...i,ref:e})});HEe.displayName=Dj;var VEe="DialogDescription",WEe=N.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Su(VEe,t);return R.jsx(pt.p,{id:r.descriptionId,...i,ref:e})});WEe.displayName=VEe;var $Ee="DialogClose",GEe=N.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Su($Ee,t);return R.jsx(pt.button,{type:"button",...i,ref:e,onClick:qe(n.onClick,()=>r.onOpenChange(!1))})});GEe.displayName=$Ee;function Pj(n){return n?"open":"closed"}var zEe="DialogTitleWarning",[a4t,jEe]=CFe(zEe,{contentName:m_,titleName:Dj,docsSlug:"dialog"}),x5e=({titleId:n})=>{const e=jEe(zEe),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},D5e="DialogDescriptionWarning",P5e=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jEe(D5e).contentName}}.`;return N.useEffect(()=>{var s;const r=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},kj=xEe,YEe=PEe,Mj=MEe,Ak=FEe,Rk=BEe,Ik=HEe,Nk=WEe,Lk=GEe;const Fj=kj,k5e=Mj,KEe=N.forwardRef(({className:n,...e},t)=>R.jsx(Ak,{ref:t,className:ut("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",n),...e}));KEe.displayName=Ak.displayName;const Ok=N.forwardRef(({className:n,children:e,...t},i)=>R.jsxs(k5e,{children:[R.jsx(KEe,{}),R.jsxs(Rk,{ref:i,className:ut("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 sm:rounded-lg",n),...t,children:[e,R.jsxs(Lk,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[R.jsx(rEe,{className:"h-4 w-4"}),R.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ok.displayName=Rk.displayName;const xk=({className:n,...e})=>R.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});xk.displayName="DialogHeader";const Dk=({className:n,...e})=>R.jsx("div",{className:ut("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Dk.displayName="DialogFooter";const Pk=N.forwardRef(({className:n,...e},t)=>R.jsx(Ik,{ref:t,className:ut("text-lg font-semibold leading-none tracking-tight",n),...e}));Pk.displayName=Ik.displayName;const Bj=N.forwardRef(({className:n,...e},t)=>R.jsx(Nk,{ref:t,className:ut("text-muted-foreground text-sm",n),...e}));Bj.displayName=Nk.displayName;const M5e=["top","right","bottom","left"],Ug=Math.min,ml=Math.max,KL=Math.round,JR=Math.floor,ld=n=>({x:n,y:n}),F5e={left:"right",right:"left",bottom:"top",top:"bottom"},B5e={start:"end",end:"start"};function d9(n,e,t){return ml(n,Ug(e,t))}function Xh(n,e){return typeof n=="function"?n(e):n}function Qh(n){return n.split("-")[0]}function ly(n){return n.split("-")[1]}function Uj(n){return n==="x"?"y":"x"}function Hj(n){return n==="y"?"height":"width"}function Hg(n){return["top","bottom"].includes(Qh(n))?"y":"x"}function Vj(n){return Uj(Hg(n))}function U5e(n,e,t){t===void 0&&(t=!1);const i=ly(n),r=Vj(n),s=Hj(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=qL(o)),[o,qL(o)]}function H5e(n){const e=qL(n);return[h9(n),e,h9(e)]}function h9(n){return n.replace(/start|end/g,e=>B5e[e])}function V5e(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function W5e(n,e,t,i){const r=ly(n);let s=V5e(Qh(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(h9)))),s}function qL(n){return n.replace(/left|right|bottom|top/g,e=>F5e[e])}function $5e(n){return{top:0,right:0,bottom:0,left:0,...n}}function qEe(n){return typeof n!="number"?$5e(n):{top:n,right:n,bottom:n,left:n}}function XL(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function yte(n,e,t){let{reference:i,floating:r}=n;const s=Hg(e),o=Vj(e),a=Hj(o),l=Qh(e),c=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2;let f;switch(l){case"top":f={x:u,y:i.y-r.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-r.width,y:d};break;default:f={x:i.x,y:i.y}}switch(ly(e)){case"start":f[o]-=h*(t&&c?-1:1);break;case"end":f[o]+=h*(t&&c?-1:1);break}return f}const G5e=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:u,y:d}=yte(c,i,l),h=i,f={},m=0;for(let g=0;g<a.length;g++){const{name:_,fn:v}=a[g],{x:S,y:C,data:y,reset:b}=await v({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:f,rects:c,platform:o,elements:{reference:n,floating:e}});u=S??u,d=C??d,f={...f,[_]:{...f[_],...y}},b&&m<=50&&(m++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):b.rects),{x:u,y:d}=yte(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:f}};async function Y0(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Xh(e,n),m=qEe(f),_=a[h?d==="floating"?"reference":"floating":d],v=XL(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(_)))==null||t?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),S=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),y=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},b=XL(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:C,strategy:l}):S);return{top:(v.top-b.top+m.top)/y.y,bottom:(b.bottom-v.bottom+m.bottom)/y.y,left:(v.left-b.left+m.left)/y.x,right:(b.right-v.right+m.right)/y.x}}const z5e=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Xh(n,e)||{};if(c==null)return{};const d=qEe(u),h={x:t,y:i},f=Vj(r),m=Hj(f),g=await o.getDimensions(c),_=f==="y",v=_?"top":"left",S=_?"bottom":"right",C=_?"clientHeight":"clientWidth",y=s.reference[m]+s.reference[f]-h[f]-s.floating[m],b=h[f]-s.reference[f],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=w?w[C]:0;(!I||!await(o.isElement==null?void 0:o.isElement(w)))&&(I=a.floating[C]||s.floating[m]);const O=y/2-b/2,x=I/2-g[m]/2-1,k=Ug(d[v],x),P=Ug(d[S],x),M=k,W=I-g[m]-P,F=I/2-g[m]/2+O,H=d9(M,F,W),V=!l.arrow&&ly(r)!=null&&F!==H&&s.reference[m]/2-(F<M?k:P)-g[m]/2<0,Y=V?F<M?F-M:F-W:0;return{[f]:h[f]+Y,data:{[f]:H,centerOffset:F-H-Y,...V&&{alignmentOffset:Y}},reset:V}}}),j5e=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,..._}=Xh(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=Qh(r),S=Hg(a),C=Qh(a)===a,y=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=h||(C||!g?[qL(a)]:H5e(a)),w=m!=="none";!h&&w&&b.push(...W5e(a,g,m,y));const I=[a,...b],O=await Y0(e,_),x=[];let k=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&x.push(O[v]),d){const F=U5e(r,o,y);x.push(O[F[0]],O[F[1]])}if(k=[...k,{placement:r,overflows:x}],!x.every(F=>F<=0)){var P,M;const F=(((P=s.flip)==null?void 0:P.index)||0)+1,H=I[F];if(H)return{data:{index:F,overflows:k},reset:{placement:H}};let V=(M=k.filter(Y=>Y.overflows[0]<=0).sort((Y,$)=>Y.overflows[1]-$.overflows[1])[0])==null?void 0:M.placement;if(!V)switch(f){case"bestFit":{var W;const Y=(W=k.filter($=>{if(w){const K=Hg($.placement);return K===S||K==="y"}return!0}).map($=>[$.placement,$.overflows.filter(K=>K>0).reduce((K,re)=>K+re,0)]).sort(($,K)=>$[1]-K[1])[0])==null?void 0:W[0];Y&&(V=Y);break}case"initialPlacement":V=a;break}if(r!==V)return{reset:{placement:V}}}return{}}}};function bte(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Tte(n){return M5e.some(e=>n[e]>=0)}const Y5e=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=Xh(n,e);switch(i){case"referenceHidden":{const s=await Y0(e,{...r,elementContext:"reference"}),o=bte(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Tte(o)}}}case"escaped":{const s=await Y0(e,{...r,altBoundary:!0}),o=bte(s,t.floating);return{data:{escapedOffsets:o,escaped:Tte(o)}}}default:return{}}}}};async function K5e(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Qh(t),a=ly(t),l=Hg(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Xh(e,n);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const q5e=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await K5e(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},X5e=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:v,y:S}=_;return{x:v,y:S}}},...l}=Xh(n,e),c={x:t,y:i},u=await Y0(e,l),d=Hg(Qh(r)),h=Uj(d);let f=c[h],m=c[d];if(s){const _=h==="y"?"top":"left",v=h==="y"?"bottom":"right",S=f+u[_],C=f-u[v];f=d9(S,f,C)}if(o){const _=d==="y"?"top":"left",v=d==="y"?"bottom":"right",S=m+u[_],C=m-u[v];m=d9(S,m,C)}const g=a.fn({...e,[h]:f,[d]:m});return{...g,data:{x:g.x-t,y:g.y-i,enabled:{[h]:s,[d]:o}}}}}},Q5e=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Xh(n,e),u={x:t,y:i},d=Hg(r),h=Uj(d);let f=u[h],m=u[d];const g=Xh(a,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const C=h==="y"?"height":"width",y=s.reference[h]-s.floating[C]+_.mainAxis,b=s.reference[h]+s.reference[C]-_.mainAxis;f<y?f=y:f>b&&(f=b)}if(c){var v,S;const C=h==="y"?"width":"height",y=["top","left"].includes(Qh(r)),b=s.reference[d]-s.floating[C]+(y&&((v=o.offset)==null?void 0:v[d])||0)+(y?0:_.crossAxis),w=s.reference[d]+s.reference[C]+(y?0:((S=o.offset)==null?void 0:S[d])||0)-(y?_.crossAxis:0);m<b?m=b:m>w&&(m=w)}return{[h]:f,[d]:m}}}},Z5e=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Xh(n,e),u=await Y0(e,c),d=Qh(r),h=ly(r),f=Hg(r)==="y",{width:m,height:g}=s.floating;let _,v;d==="top"||d==="bottom"?(_=d,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,_=h==="end"?"top":"bottom");const S=g-u.top-u.bottom,C=m-u.left-u.right,y=Ug(g-u[_],S),b=Ug(m-u[v],C),w=!e.middlewareData.shift;let I=y,O=b;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(O=C),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(I=S),w&&!h){const k=ml(u.left,0),P=ml(u.right,0),M=ml(u.top,0),W=ml(u.bottom,0);f?O=m-2*(k!==0||P!==0?k+P:ml(u.left,u.right)):I=g-2*(M!==0||W!==0?M+W:ml(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:I});const x=await o.getDimensions(a.floating);return m!==x.width||g!==x.height?{reset:{rects:!0}}:{}}}};function kk(){return typeof window<"u"}function cy(n){return XEe(n)?(n.nodeName||"").toLowerCase():"#document"}function Tl(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Rd(n){var e;return(e=(XEe(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function XEe(n){return kk()?n instanceof Node||n instanceof Tl(n).Node:!1}function uu(n){return kk()?n instanceof Element||n instanceof Tl(n).Element:!1}function md(n){return kk()?n instanceof HTMLElement||n instanceof Tl(n).HTMLElement:!1}function wte(n){return!kk()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Tl(n).ShadowRoot}function qw(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=du(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function J5e(n){return["table","td","th"].includes(cy(n))}function Mk(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Wj(n){const e=$j(),t=uu(n)?du(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function eUe(n){let e=Vg(n);for(;md(e)&&!JS(e);){if(Wj(e))return e;if(Mk(e))return null;e=Vg(e)}return null}function $j(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function JS(n){return["html","body","#document"].includes(cy(n))}function du(n){return Tl(n).getComputedStyle(n)}function Fk(n){return uu(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Vg(n){if(cy(n)==="html")return n;const e=n.assignedSlot||n.parentNode||wte(n)&&n.host||Rd(n);return wte(e)?e.host:e}function QEe(n){const e=Vg(n);return JS(e)?n.ownerDocument?n.ownerDocument.body:n.body:md(e)&&qw(e)?e:QEe(e)}function K0(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=QEe(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=Tl(r);if(s){const a=f9(o);return e.concat(o,o.visualViewport||[],qw(r)?r:[],a&&t?K0(a):[])}return e.concat(r,K0(r,[],t))}function f9(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function ZEe(n){const e=du(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=md(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=KL(t)!==s||KL(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function Gj(n){return uu(n)?n:n.contextElement}function vS(n){const e=Gj(n);if(!md(e))return ld(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=ZEe(e);let o=(s?KL(t.width):t.width)/i,a=(s?KL(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const tUe=ld(0);function JEe(n){const e=Tl(n);return!$j()||!e.visualViewport?tUe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nUe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Tl(n)?!1:e}function __(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=Gj(n);let o=ld(1);e&&(i?uu(i)&&(o=vS(i)):o=vS(n));const a=nUe(s,t,i)?JEe(s):ld(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){const h=Tl(s),f=i&&uu(i)?Tl(i):i;let m=h,g=f9(m);for(;g&&i&&f!==m;){const _=vS(g),v=g.getBoundingClientRect(),S=du(g),C=v.left+(g.clientLeft+parseFloat(S.paddingLeft))*_.x,y=v.top+(g.clientTop+parseFloat(S.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=C,c+=y,m=Tl(g),g=f9(m)}}return XL({width:u,height:d,x:l,y:c})}function zj(n,e){const t=Fk(n).scrollLeft;return e?e.left+t:__(Rd(n)).left+t}function eve(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),r=i.left+e.scrollLeft-(t?0:zj(n,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function iUe(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=Rd(i),a=e?Mk(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=ld(1);const u=ld(0),d=md(i);if((d||!d&&!s)&&((cy(i)!=="body"||qw(o))&&(l=Fk(i)),md(i))){const f=__(i);c=vS(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}const h=o&&!d&&!s?eve(o,l,!0):ld(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:t.y*c.y-l.scrollTop*c.y+u.y+h.y}}function rUe(n){return Array.from(n.getClientRects())}function sUe(n){const e=Rd(n),t=Fk(n),i=n.ownerDocument.body,r=ml(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=ml(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+zj(n);const a=-t.scrollTop;return du(i).direction==="rtl"&&(o+=ml(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function oUe(n,e){const t=Tl(n),i=Rd(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=$j();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function aUe(n,e){const t=__(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=md(n)?vS(n):ld(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function Ate(n,e,t){let i;if(e==="viewport")i=oUe(n,t);else if(e==="document")i=sUe(Rd(n));else if(uu(e))i=aUe(e,t);else{const r=JEe(n);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return XL(i)}function tve(n,e){const t=Vg(n);return t===e||!uu(t)||JS(t)?!1:du(t).position==="fixed"||tve(t,e)}function lUe(n,e){const t=e.get(n);if(t)return t;let i=K0(n,[],!1).filter(a=>uu(a)&&cy(a)!=="body"),r=null;const s=du(n).position==="fixed";let o=s?Vg(n):n;for(;uu(o)&&!JS(o);){const a=du(o),l=Wj(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||qw(o)&&!l&&tve(n,o))?i=i.filter(u=>u!==o):r=a,o=Vg(o)}return e.set(n,i),i}function cUe(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?Mk(e)?[]:lUe(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((c,u)=>{const d=Ate(e,u,r);return c.top=ml(d.top,c.top),c.right=Ug(d.right,c.right),c.bottom=Ug(d.bottom,c.bottom),c.left=ml(d.left,c.left),c},Ate(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function uUe(n){const{width:e,height:t}=ZEe(n);return{width:e,height:t}}function dUe(n,e,t){const i=md(e),r=Rd(e),s=t==="fixed",o=__(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ld(0);if(i||!i&&!s)if((cy(e)!=="body"||qw(r))&&(a=Fk(e)),i){const h=__(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else r&&(l.x=zj(r));const c=r&&!i&&!s?eve(r,a):ld(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function l4(n){return du(n).position==="static"}function Rte(n,e){if(!md(n)||du(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Rd(n)===t&&(t=t.ownerDocument.body),t}function nve(n,e){const t=Tl(n);if(Mk(n))return t;if(!md(n)){let r=Vg(n);for(;r&&!JS(r);){if(uu(r)&&!l4(r))return r;r=Vg(r)}return t}let i=Rte(n,e);for(;i&&J5e(i)&&l4(i);)i=Rte(i,e);return i&&JS(i)&&l4(i)&&!Wj(i)?t:i||eUe(n)||t}const hUe=async function(n){const e=this.getOffsetParent||nve,t=this.getDimensions,i=await t(n.floating);return{reference:dUe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function fUe(n){return du(n).direction==="rtl"}const gUe={convertOffsetParentRelativeRectToViewportRelativeRect:iUe,getDocumentElement:Rd,getClippingRect:cUe,getOffsetParent:nve,getElementRects:hUe,getClientRects:rUe,getDimensions:uUe,getScale:vS,isElement:uu,isRTL:fUe};function ive(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function pUe(n,e){let t=null,i;const r=Rd(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const m=JR(d),g=JR(r.clientWidth-(u+h)),_=JR(r.clientHeight-(d+f)),v=JR(u),C={rootMargin:-m+"px "+-g+"px "+-_+"px "+-v+"px",threshold:ml(0,Ug(1,l))||1};let y=!0;function b(w){const I=w[0].intersectionRatio;if(I!==l){if(!y)return o();I?o(!1,I):i=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!ive(c,n.getBoundingClientRect())&&o(),y=!1}try{t=new IntersectionObserver(b,{...C,root:r.ownerDocument})}catch{t=new IntersectionObserver(b,C)}t.observe(n)}return o(!0),s}function mUe(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=Gj(n),u=r||s?[...c?K0(c):[],...K0(e)]:[];u.forEach(v=>{r&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const d=c&&a?pUe(c,t):null;let h=-1,f=null;o&&(f=new ResizeObserver(v=>{let[S]=v;S&&S.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var C;(C=f)==null||C.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let m,g=l?__(n):null;l&&_();function _(){const v=__(n);g&&!ive(g,v)&&t(),g=v,m=requestAnimationFrame(_)}return t(),()=>{var v;u.forEach(S=>{r&&S.removeEventListener("scroll",t),s&&S.removeEventListener("resize",t)}),d==null||d(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const _Ue=q5e,EUe=X5e,vUe=j5e,SUe=Z5e,CUe=Y5e,Ite=z5e,yUe=Q5e,bUe=(n,e,t)=>{const i=new Map,r={platform:gUe,...t},s={...r.platform,_c:i};return G5e(n,e,{...r,platform:s})};var YN=typeof document<"u"?N.useLayoutEffect:N.useEffect;function QL(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!QL(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!QL(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function rve(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Nte(n,e){const t=rve(n);return Math.round(e*t)/t}function c4(n){const e=N.useRef(n);return YN(()=>{e.current=n}),e}function TUe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,d]=N.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=N.useState(i);QL(h,i)||f(i);const[m,g]=N.useState(null),[_,v]=N.useState(null),S=N.useCallback($=>{$!==w.current&&(w.current=$,g($))},[]),C=N.useCallback($=>{$!==I.current&&(I.current=$,v($))},[]),y=s||m,b=o||_,w=N.useRef(null),I=N.useRef(null),O=N.useRef(u),x=l!=null,k=c4(l),P=c4(r),M=c4(c),W=N.useCallback(()=>{if(!w.current||!I.current)return;const $={placement:e,strategy:t,middleware:h};P.current&&($.platform=P.current),bUe(w.current,I.current,$).then(K=>{const re={...K,isPositioned:M.current!==!1};F.current&&!QL(O.current,re)&&(O.current=re,oy.flushSync(()=>{d(re)}))})},[h,e,t,P,M]);YN(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,d($=>({...$,isPositioned:!1})))},[c]);const F=N.useRef(!1);YN(()=>(F.current=!0,()=>{F.current=!1}),[]),YN(()=>{if(y&&(w.current=y),b&&(I.current=b),y&&b){if(k.current)return k.current(y,b,W);W()}},[y,b,W,k,x]);const H=N.useMemo(()=>({reference:w,floating:I,setReference:S,setFloating:C}),[S,C]),V=N.useMemo(()=>({reference:y,floating:b}),[y,b]),Y=N.useMemo(()=>{const $={position:t,left:0,top:0};if(!V.floating)return $;const K=Nte(V.floating,u.x),re=Nte(V.floating,u.y);return a?{...$,transform:"translate("+K+"px, "+re+"px)",...rve(V.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:K,top:re}},[t,a,V.floating,u.x,u.y]);return N.useMemo(()=>({...u,update:W,refs:H,elements:V,floatingStyles:Y}),[u,W,H,V,Y])}const wUe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Ite({element:i.current,padding:r}).fn(t):{}:i?Ite({element:i,padding:r}).fn(t):{}}}},AUe=(n,e)=>({..._Ue(n),options:[n,e]}),RUe=(n,e)=>({...EUe(n),options:[n,e]}),IUe=(n,e)=>({...yUe(n),options:[n,e]}),NUe=(n,e)=>({...vUe(n),options:[n,e]}),LUe=(n,e)=>({...SUe(n),options:[n,e]}),OUe=(n,e)=>({...CUe(n),options:[n,e]}),xUe=(n,e)=>({...wUe(n),options:[n,e]});var DUe="Arrow",sve=N.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return R.jsx(pt.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:R.jsx("polygon",{points:"0,0 30,0 15,10"})})});sve.displayName=DUe;var PUe=sve,jj="Popper",[ove,op]=us(jj),[kUe,ave]=ove(jj),lve=n=>{const{__scopePopper:e,children:t}=n,[i,r]=N.useState(null);return R.jsx(kUe,{scope:e,anchor:i,onAnchorChange:r,children:t})};lve.displayName=jj;var cve="PopperAnchor",uve=N.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=ave(cve,t),o=N.useRef(null),a=tn(e,o);return N.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:R.jsx(pt.div,{...r,ref:a})});uve.displayName=cve;var Yj="PopperContent",[MUe,FUe]=ove(Yj),dve=N.forwardRef((n,e)=>{var q,he,ue,pe,Ae,me;const{__scopePopper:t,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:m,...g}=n,_=ave(Yj,t),[v,S]=N.useState(null),C=tn(e,Te=>S(Te)),[y,b]=N.useState(null),w=jw(y),I=(w==null?void 0:w.width)??0,O=(w==null?void 0:w.height)??0,x=i+(s!=="center"?"-"+s:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(c)?c:[c],M=P.length>0,W={padding:k,boundary:P.filter(UUe),altBoundary:M},{refs:F,floatingStyles:H,placement:V,isPositioned:Y,middlewareData:$}=TUe({strategy:"fixed",placement:x,whileElementsMounted:(...Te)=>mUe(...Te,{animationFrame:f==="always"}),elements:{reference:_.anchor},middleware:[AUe({mainAxis:r+O,alignmentAxis:o}),l&&RUe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?IUe():void 0,...W}),l&&NUe({...W}),LUe({...W,apply:({elements:Te,rects:Oe,availableWidth:ft,availableHeight:kt})=>{const{width:Vt,height:yt}=Oe.reference,vt=Te.floating.style;vt.setProperty("--radix-popper-available-width",`${ft}px`),vt.setProperty("--radix-popper-available-height",`${kt}px`),vt.setProperty("--radix-popper-anchor-width",`${Vt}px`),vt.setProperty("--radix-popper-anchor-height",`${yt}px`)}}),y&&xUe({element:y,padding:a}),HUe({arrowWidth:I,arrowHeight:O}),h&&OUe({strategy:"referenceHidden",...W})]}),[K,re]=gve(V),G=ss(m);Hs(()=>{Y&&(G==null||G())},[Y,G]);const J=(q=$.arrow)==null?void 0:q.x,z=(he=$.arrow)==null?void 0:he.y,j=((ue=$.arrow)==null?void 0:ue.centerOffset)!==0,[ne,le]=N.useState();return Hs(()=>{v&&le(window.getComputedStyle(v).zIndex)},[v]),R.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(pe=$.transformOrigin)==null?void 0:pe.x,(Ae=$.transformOrigin)==null?void 0:Ae.y].join(" "),...((me=$.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:R.jsx(MUe,{scope:t,placedSide:K,onArrowChange:b,arrowX:J,arrowY:z,shouldHideArrow:j,children:R.jsx(pt.div,{"data-side":K,"data-align":re,...g,ref:C,style:{...g.style,animation:Y?void 0:"none"}})})})});dve.displayName=Yj;var hve="PopperArrow",BUe={top:"bottom",right:"left",bottom:"top",left:"right"},fve=N.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=FUe(hve,i),o=BUe[s.placedSide];return R.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:R.jsx(PUe,{...r,ref:t,style:{...r.style,display:"block"}})})});fve.displayName=hve;function UUe(n){return n!==null}var HUe=n=>({name:"transformOrigin",options:n,fn(e){var _,v,S;const{placement:t,rects:i,middlewareData:r}=e,o=((_=r.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=gve(t),d={start:"0%",center:"50%",end:"100%"}[u],h=(((v=r.arrow)==null?void 0:v.x)??0)+a/2,f=(((S=r.arrow)==null?void 0:S.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=o?d:`${h}px`,g=`${-l}px`):c==="top"?(m=o?d:`${h}px`,g=`${i.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=o?d:`${f}px`):c==="left"&&(m=`${i.floating.width+l}px`,g=o?d:`${f}px`),{data:{x:m,y:g}}}});function gve(n){const[e,t="center"]=n.split("-");return[e,t]}var Bk=lve,Xw=uve,Uk=dve,Hk=fve,u4="rovingFocusGroup.onEntryFocus",VUe={bubbles:!1,cancelable:!0},Qw="RovingFocusGroup",[g9,pve,WUe]=sy(Qw),[$Ue,ap]=us(Qw,[WUe]),[GUe,zUe]=$Ue(Qw),mve=N.forwardRef((n,e)=>R.jsx(g9.Provider,{scope:n.__scopeRovingFocusGroup,children:R.jsx(g9.Slot,{scope:n.__scopeRovingFocusGroup,children:R.jsx(jUe,{...n,ref:e})})}));mve.displayName=Qw;var jUe=N.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=n,h=N.useRef(null),f=tn(e,h),m=af(s),[g,_]=Vs({prop:o,defaultProp:a??null,onChange:l,caller:Qw}),[v,S]=N.useState(!1),C=ss(c),y=pve(t),b=N.useRef(!1),[w,I]=N.useState(0);return N.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(u4,C),()=>O.removeEventListener(u4,C)},[C]),R.jsx(GUe,{scope:t,orientation:i,dir:m,loop:r,currentTabStopId:g,onItemFocus:N.useCallback(O=>_(O),[_]),onItemShiftTab:N.useCallback(()=>S(!0),[]),onFocusableItemAdd:N.useCallback(()=>I(O=>O+1),[]),onFocusableItemRemove:N.useCallback(()=>I(O=>O-1),[]),children:R.jsx(pt.div,{tabIndex:v||w===0?-1:0,"data-orientation":i,...d,ref:f,style:{outline:"none",...n.style},onMouseDown:qe(n.onMouseDown,()=>{b.current=!0}),onFocus:qe(n.onFocus,O=>{const x=!b.current;if(O.target===O.currentTarget&&x&&!v){const k=new CustomEvent(u4,VUe);if(O.currentTarget.dispatchEvent(k),!k.defaultPrevented){const P=y().filter(V=>V.focusable),M=P.find(V=>V.active),W=P.find(V=>V.id===g),H=[M,W,...P].filter(Boolean).map(V=>V.ref.current);vve(H,u)}}b.current=!1}),onBlur:qe(n.onBlur,()=>S(!1))})})}),_ve="RovingFocusGroupItem",Eve=N.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:r=!1,tabStopId:s,children:o,...a}=n,l=Ya(),c=s||l,u=zUe(_ve,t),d=u.currentTabStopId===c,h=pve(t),{onFocusableItemAdd:f,onFocusableItemRemove:m,currentTabStopId:g}=u;return N.useEffect(()=>{if(i)return f(),()=>m()},[i,f,m]),R.jsx(g9.ItemSlot,{scope:t,id:c,focusable:i,active:r,children:R.jsx(pt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:qe(n.onMouseDown,_=>{i?u.onItemFocus(c):_.preventDefault()}),onFocus:qe(n.onFocus,()=>u.onItemFocus(c)),onKeyDown:qe(n.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=qUe(_,u.orientation,u.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=h().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")C.reverse();else if(v==="prev"||v==="next"){v==="prev"&&C.reverse();const y=C.indexOf(_.currentTarget);C=u.loop?XUe(C,y+1):C.slice(y+1)}setTimeout(()=>vve(C))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:g!=null}):o})})});Eve.displayName=_ve;var YUe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KUe(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function qUe(n,e,t){const i=KUe(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return YUe[i]}function vve(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function XUe(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var Vk=mve,Wk=Eve,p9=["Enter"," "],QUe=["ArrowDown","PageUp","Home"],Sve=["ArrowUp","PageDown","End"],ZUe=[...QUe,...Sve],JUe={ltr:[...p9,"ArrowRight"],rtl:[...p9,"ArrowLeft"]},eHe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zw="Menu",[q0,tHe,nHe]=sy(Zw),[K_,Cve]=us(Zw,[nHe,op,ap]),$k=op(),yve=ap(),[iHe,q_]=K_(Zw),[rHe,Jw]=K_(Zw),bve=n=>{const{__scopeMenu:e,open:t=!1,children:i,dir:r,onOpenChange:s,modal:o=!0}=n,a=$k(e),[l,c]=N.useState(null),u=N.useRef(!1),d=ss(s),h=af(r);return N.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),R.jsx(Bk,{...a,children:R.jsx(iHe,{scope:e,open:t,onOpenChange:d,content:l,onContentChange:c,children:R.jsx(rHe,{scope:e,onClose:N.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:o,children:i})})})};bve.displayName=Zw;var sHe="MenuAnchor",Kj=N.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,r=$k(t);return R.jsx(Xw,{...r,...i,ref:e})});Kj.displayName=sHe;var qj="MenuPortal",[oHe,Tve]=K_(qj,{forceMount:void 0}),wve=n=>{const{__scopeMenu:e,forceMount:t,children:i,container:r}=n,s=q_(qj,e);return R.jsx(oHe,{scope:e,forceMount:t,children:R.jsx(ds,{present:t||s.open,children:R.jsx(Y_,{asChild:!0,container:r,children:i})})})};wve.displayName=qj;var ac="MenuContent",[aHe,Xj]=K_(ac),Ave=N.forwardRef((n,e)=>{const t=Tve(ac,n.__scopeMenu),{forceMount:i=t.forceMount,...r}=n,s=q_(ac,n.__scopeMenu),o=Jw(ac,n.__scopeMenu);return R.jsx(q0.Provider,{scope:n.__scopeMenu,children:R.jsx(ds,{present:i||s.open,children:R.jsx(q0.Slot,{scope:n.__scopeMenu,children:o.modal?R.jsx(lHe,{...r,ref:e}):R.jsx(cHe,{...r,ref:e})})})})}),lHe=N.forwardRef((n,e)=>{const t=q_(ac,n.__scopeMenu),i=N.useRef(null),r=tn(e,i);return N.useEffect(()=>{const s=i.current;if(s)return Tk(s)},[]),R.jsx(Qj,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:qe(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),cHe=N.forwardRef((n,e)=>{const t=q_(ac,n.__scopeMenu);return R.jsx(Qj,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),uHe=Bg("MenuContent.ScrollLock"),Qj=N.forwardRef((n,e)=>{const{__scopeMenu:t,loop:i=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:m,...g}=n,_=q_(ac,t),v=Jw(ac,t),S=$k(t),C=yve(t),y=tHe(t),[b,w]=N.useState(null),I=N.useRef(null),O=tn(e,I,_.onContentChange),x=N.useRef(0),k=N.useRef(""),P=N.useRef(0),M=N.useRef(null),W=N.useRef("right"),F=N.useRef(0),H=m?Kw:N.Fragment,V=m?{as:uHe,allowPinchZoom:!0}:void 0,Y=K=>{var q,he;const re=k.current+K,G=y().filter(ue=>!ue.disabled),J=document.activeElement,z=(q=G.find(ue=>ue.ref.current===J))==null?void 0:q.textValue,j=G.map(ue=>ue.textValue),ne=yHe(j,re,z),le=(he=G.find(ue=>ue.textValue===ne))==null?void 0:he.ref.current;(function ue(pe){k.current=pe,window.clearTimeout(x.current),pe!==""&&(x.current=window.setTimeout(()=>ue(""),1e3))})(re),le&&setTimeout(()=>le.focus())};N.useEffect(()=>()=>window.clearTimeout(x.current),[]),yk();const $=N.useCallback(K=>{var G,J;return W.current===((G=M.current)==null?void 0:G.side)&&THe(K,(J=M.current)==null?void 0:J.area)},[]);return R.jsx(aHe,{scope:t,searchRef:k,onItemEnter:N.useCallback(K=>{$(K)&&K.preventDefault()},[$]),onItemLeave:N.useCallback(K=>{var re;$(K)||((re=I.current)==null||re.focus(),w(null))},[$]),onTriggerLeave:N.useCallback(K=>{$(K)&&K.preventDefault()},[$]),pointerGraceTimerRef:P,onPointerGraceIntentChange:N.useCallback(K=>{M.current=K},[]),children:R.jsx(H,{...V,children:R.jsx(Yw,{asChild:!0,trapped:r,onMountAutoFocus:qe(s,K=>{var re;K.preventDefault(),(re=I.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:R.jsx(j_,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:R.jsx(Vk,{asChild:!0,...C,dir:v.dir,orientation:"vertical",loop:i,currentTabStopId:b,onCurrentTabStopIdChange:w,onEntryFocus:qe(l,K=>{v.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:R.jsx(Uk,{role:"menu","aria-orientation":"vertical","data-state":Wve(_.open),"data-radix-menu-content":"",dir:v.dir,...S,...g,ref:O,style:{outline:"none",...g.style},onKeyDown:qe(g.onKeyDown,K=>{const G=K.target.closest("[data-radix-menu-content]")===K.currentTarget,J=K.ctrlKey||K.altKey||K.metaKey,z=K.key.length===1;G&&(K.key==="Tab"&&K.preventDefault(),!J&&z&&Y(K.key));const j=I.current;if(K.target!==j||!ZUe.includes(K.key))return;K.preventDefault();const le=y().filter(q=>!q.disabled).map(q=>q.ref.current);Sve.includes(K.key)&&le.reverse(),SHe(le)}),onBlur:qe(n.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(x.current),k.current="")}),onPointerMove:qe(n.onPointerMove,X0(K=>{const re=K.target,G=F.current!==K.clientX;if(K.currentTarget.contains(re)&&G){const J=K.clientX>F.current?"right":"left";W.current=J,F.current=K.clientX}}))})})})})})})});Ave.displayName=ac;var dHe="MenuGroup",Zj=N.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return R.jsx(pt.div,{role:"group",...i,ref:e})});Zj.displayName=dHe;var hHe="MenuLabel",Rve=N.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return R.jsx(pt.div,{...i,ref:e})});Rve.displayName=hHe;var ZL="MenuItem",Lte="menu.itemSelect",Gk=N.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:i,...r}=n,s=N.useRef(null),o=Jw(ZL,n.__scopeMenu),a=Xj(ZL,n.__scopeMenu),l=tn(e,s),c=N.useRef(!1),u=()=>{const d=s.current;if(!t&&d){const h=new CustomEvent(Lte,{bubbles:!0,cancelable:!0});d.addEventListener(Lte,f=>i==null?void 0:i(f),{once:!0}),vj(d,h),h.defaultPrevented?c.current=!1:o.onClose()}};return R.jsx(Ive,{...r,ref:l,disabled:t,onClick:qe(n.onClick,u),onPointerDown:d=>{var h;(h=n.onPointerDown)==null||h.call(n,d),c.current=!0},onPointerUp:qe(n.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:qe(n.onKeyDown,d=>{const h=a.searchRef.current!=="";t||h&&d.key===" "||p9.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Gk.displayName=ZL;var Ive=N.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:i=!1,textValue:r,...s}=n,o=Xj(ZL,t),a=yve(t),l=N.useRef(null),c=tn(e,l),[u,d]=N.useState(!1),[h,f]=N.useState("");return N.useEffect(()=>{const m=l.current;m&&f((m.textContent??"").trim())},[s.children]),R.jsx(q0.ItemSlot,{scope:t,disabled:i,textValue:r??h,children:R.jsx(Wk,{asChild:!0,...a,focusable:!i,children:R.jsx(pt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...s,ref:c,onPointerMove:qe(n.onPointerMove,X0(m=>{i?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:qe(n.onPointerLeave,X0(m=>o.onItemLeave(m))),onFocus:qe(n.onFocus,()=>d(!0)),onBlur:qe(n.onBlur,()=>d(!1))})})})}),fHe="MenuCheckboxItem",Nve=N.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:i,...r}=n;return R.jsx(Pve,{scope:n.__scopeMenu,checked:t,children:R.jsx(Gk,{role:"menuitemcheckbox","aria-checked":JL(t)?"mixed":t,...r,ref:e,"data-state":eY(t),onSelect:qe(r.onSelect,()=>i==null?void 0:i(JL(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Nve.displayName=fHe;var Lve="MenuRadioGroup",[gHe,pHe]=K_(Lve,{value:void 0,onValueChange:()=>{}}),Ove=N.forwardRef((n,e)=>{const{value:t,onValueChange:i,...r}=n,s=ss(i);return R.jsx(gHe,{scope:n.__scopeMenu,value:t,onValueChange:s,children:R.jsx(Zj,{...r,ref:e})})});Ove.displayName=Lve;var xve="MenuRadioItem",Dve=N.forwardRef((n,e)=>{const{value:t,...i}=n,r=pHe(xve,n.__scopeMenu),s=t===r.value;return R.jsx(Pve,{scope:n.__scopeMenu,checked:s,children:R.jsx(Gk,{role:"menuitemradio","aria-checked":s,...i,ref:e,"data-state":eY(s),onSelect:qe(i.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,t)},{checkForDefaultPrevented:!1})})})});Dve.displayName=xve;var Jj="MenuItemIndicator",[Pve,mHe]=K_(Jj,{checked:!1}),kve=N.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:i,...r}=n,s=mHe(Jj,t);return R.jsx(ds,{present:i||JL(s.checked)||s.checked===!0,children:R.jsx(pt.span,{...r,ref:e,"data-state":eY(s.checked)})})});kve.displayName=Jj;var _He="MenuSeparator",Mve=N.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return R.jsx(pt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});Mve.displayName=_He;var EHe="MenuArrow",Fve=N.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,r=$k(t);return R.jsx(Hk,{...r,...i,ref:e})});Fve.displayName=EHe;var vHe="MenuSub",[l4t,Bve]=K_(vHe),lT="MenuSubTrigger",Uve=N.forwardRef((n,e)=>{const t=q_(lT,n.__scopeMenu),i=Jw(lT,n.__scopeMenu),r=Bve(lT,n.__scopeMenu),s=Xj(lT,n.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:n.__scopeMenu},u=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>u,[u]),N.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),R.jsx(Kj,{asChild:!0,...c,children:R.jsx(Ive,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":r.contentId,"data-state":Wve(t.open),...n,ref:mk(e,r.onTriggerChange),onClick:d=>{var h;(h=n.onClick)==null||h.call(n,d),!(n.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:qe(n.onPointerMove,X0(d=>{s.onItemEnter(d),!d.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:qe(n.onPointerLeave,X0(d=>{var f,m;u();const h=(f=t.content)==null?void 0:f.getBoundingClientRect();if(h){const g=(m=t.content)==null?void 0:m.dataset.side,_=g==="right",v=_?-5:5,S=h[_?"left":"right"],C=h[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:S,y:h.top},{x:C,y:h.top},{x:C,y:h.bottom},{x:S,y:h.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:qe(n.onKeyDown,d=>{var f;const h=s.searchRef.current!=="";n.disabled||h&&d.key===" "||JUe[i.dir].includes(d.key)&&(t.onOpenChange(!0),(f=t.content)==null||f.focus(),d.preventDefault())})})})});Uve.displayName=lT;var Hve="MenuSubContent",Vve=N.forwardRef((n,e)=>{const t=Tve(ac,n.__scopeMenu),{forceMount:i=t.forceMount,...r}=n,s=q_(ac,n.__scopeMenu),o=Jw(ac,n.__scopeMenu),a=Bve(Hve,n.__scopeMenu),l=N.useRef(null),c=tn(e,l);return R.jsx(q0.Provider,{scope:n.__scopeMenu,children:R.jsx(ds,{present:i||s.open,children:R.jsx(q0.Slot,{scope:n.__scopeMenu,children:R.jsx(Qj,{id:a.contentId,"aria-labelledby":a.triggerId,...r,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:qe(n.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:qe(n.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:qe(n.onKeyDown,u=>{var f;const d=u.currentTarget.contains(u.target),h=eHe[o.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(f=a.trigger)==null||f.focus(),u.preventDefault())})})})})})});Vve.displayName=Hve;function Wve(n){return n?"open":"closed"}function JL(n){return n==="indeterminate"}function eY(n){return JL(n)?"indeterminate":n?"checked":"unchecked"}function SHe(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function CHe(n,e){return n.map((t,i)=>n[(e+i)%n.length])}function yHe(n,e,t){const r=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=CHe(n,Math.max(s,0));r.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.toLowerCase().startsWith(r.toLowerCase()));return l!==t?l:void 0}function bHe(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,d=l.x,h=l.y;u>i!=h>i&&t<(d-c)*(i-u)/(h-u)+c&&(r=!r)}return r}function THe(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return bHe(t,e)}function X0(n){return e=>e.pointerType==="mouse"?n(e):void 0}var wHe=bve,AHe=Kj,RHe=wve,IHe=Ave,NHe=Zj,LHe=Rve,OHe=Gk,xHe=Nve,DHe=Ove,PHe=Dve,kHe=kve,MHe=Mve,FHe=Fve,BHe=Uve,UHe=Vve,zk="DropdownMenu",[HHe,c4t]=us(zk,[Cve]),Aa=Cve(),[VHe,$ve]=HHe(zk),Gve=n=>{const{__scopeDropdownMenu:e,children:t,dir:i,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=Aa(e),c=N.useRef(null),[u,d]=Vs({prop:r,defaultProp:s??!1,onChange:o,caller:zk});return R.jsx(VHe,{scope:e,triggerId:Ya(),triggerRef:c,contentId:Ya(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(h=>!h),[d]),modal:a,children:R.jsx(wHe,{...l,open:u,onOpenChange:d,dir:i,modal:a,children:t})})};Gve.displayName=zk;var zve="DropdownMenuTrigger",jve=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:i=!1,...r}=n,s=$ve(zve,t),o=Aa(t);return R.jsx(AHe,{asChild:!0,...o,children:R.jsx(pt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:mk(e,s.triggerRef),onPointerDown:qe(n.onPointerDown,a=>{!i&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:qe(n.onKeyDown,a=>{i||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});jve.displayName=zve;var WHe="DropdownMenuPortal",Yve=n=>{const{__scopeDropdownMenu:e,...t}=n,i=Aa(e);return R.jsx(RHe,{...i,...t})};Yve.displayName=WHe;var Kve="DropdownMenuContent",qve=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=$ve(Kve,t),s=Aa(t),o=N.useRef(!1);return R.jsx(IHe,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...i,ref:e,onCloseAutoFocus:qe(n.onCloseAutoFocus,a=>{var l;o.current||(l=r.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:qe(n.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!r.modal||u)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qve.displayName=Kve;var $He="DropdownMenuGroup",GHe=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(NHe,{...r,...i,ref:e})});GHe.displayName=$He;var zHe="DropdownMenuLabel",Xve=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(LHe,{...r,...i,ref:e})});Xve.displayName=zHe;var jHe="DropdownMenuItem",Qve=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(OHe,{...r,...i,ref:e})});Qve.displayName=jHe;var YHe="DropdownMenuCheckboxItem",Zve=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(xHe,{...r,...i,ref:e})});Zve.displayName=YHe;var KHe="DropdownMenuRadioGroup",qHe=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(DHe,{...r,...i,ref:e})});qHe.displayName=KHe;var XHe="DropdownMenuRadioItem",Jve=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(PHe,{...r,...i,ref:e})});Jve.displayName=XHe;var QHe="DropdownMenuItemIndicator",eSe=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(kHe,{...r,...i,ref:e})});eSe.displayName=QHe;var ZHe="DropdownMenuSeparator",tSe=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(MHe,{...r,...i,ref:e})});tSe.displayName=ZHe;var JHe="DropdownMenuArrow",e3e=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(FHe,{...r,...i,ref:e})});e3e.displayName=JHe;var t3e="DropdownMenuSubTrigger",nSe=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(BHe,{...r,...i,ref:e})});nSe.displayName=t3e;var n3e="DropdownMenuSubContent",iSe=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=Aa(t);return R.jsx(UHe,{...r,...i,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iSe.displayName=n3e;var rSe=Gve,sSe=jve,oSe=Yve,tY=qve,aSe=Xve,lSe=Qve,nY=Zve,cSe=Jve,iY=eSe,uSe=tSe,dSe=nSe,hSe=iSe;const i3e=rSe,r3e=sSe,s3e=N.forwardRef(({className:n,inset:e,children:t,...i},r)=>R.jsxs(dSe,{ref:r,className:ut("focus:bg-accent data-[state=open]:bg-accent flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...i,children:[t,R.jsx(cBe,{className:"ml-auto"})]}));s3e.displayName=dSe.displayName;const o3e=N.forwardRef(({className:n,...e},t)=>R.jsx(hSe,{ref:t,className:ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg",n),...e}));o3e.displayName=hSe.displayName;const fSe=N.forwardRef(({className:n,sideOffset:e=4,...t},i)=>R.jsx(oSe,{children:R.jsx(tY,{ref:i,sideOffset:e,className:ut("bg-popover text-popover-foreground z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));fSe.displayName=tY.displayName;const m9=N.forwardRef(({className:n,inset:e,...t},i)=>R.jsx(lSe,{ref:i,className:ut("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));m9.displayName=lSe.displayName;const a3e=N.forwardRef(({className:n,children:e,checked:t,...i},r)=>R.jsxs(nY,{ref:r,className:ut("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...i,children:[R.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(iY,{children:R.jsx(Aj,{className:"h-4 w-4"})})}),e]}));a3e.displayName=nY.displayName;const l3e=N.forwardRef(({className:n,children:e,...t},i)=>R.jsxs(cSe,{ref:i,className:ut("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[R.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(iY,{children:R.jsx(iEe,{className:"h-2 w-2 fill-current"})})}),e]}));l3e.displayName=cSe.displayName;const c3e=N.forwardRef(({className:n,inset:e,...t},i)=>R.jsx(aSe,{ref:i,className:ut("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));c3e.displayName=aSe.displayName;const u3e=N.forwardRef(({className:n,...e},t)=>R.jsx(uSe,{ref:t,className:ut("bg-muted -mx-1 my-1 h-px",n),...e}));u3e.displayName=uSe.displayName;const jk=N.forwardRef(({className:n,type:e,...t},i)=>R.jsx("input",{type:e,className:ut("border-input file:text-foreground placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));jk.displayName="Input";const gSe=N.forwardRef(({className:n,embed:e,title:t="Something went wrong",text:i=`We are sorry, but something unexpected happened. We were notified
              and will be working on resolving the issue as soon as possible.`,onRetry:r,actions:s=!1,onGoToStart:o,...a},l)=>R.jsx("div",{ref:l,className:ut("flex justify-center",n),...a,children:R.jsxs(Nj,{variant:"destructive",className:ut("flex min-h-[200px] max-w-[450px] flex-col items-center justify-center rounded-lg px-6 py-6 text-center",!e&&"min-w-[350px]"),children:[R.jsx("div",{className:"mb-4",children:R.jsx(SBe,{className:"text-destructive h-8 w-8"})}),R.jsx(dEe,{className:"text-foreground mb-1 text-xl",children:t}),R.jsxs(Lj,{className:"text-foreground mt-3 max-w-sm px-2",children:[R.jsx("p",{className:"mb-5 text-left",children:i}),s&&R.jsx("div",{className:"mb-3 mt-6",children:R.jsxs("div",{className:"flex justify-center gap-2",children:[r&&R.jsxs(Yr,{size:"sm",onClick:r,className:"inline-flex items-center",children:[R.jsx(EBe,{className:"mr-2 h-4 w-4"}),"Retry"]}),!e&&o&&R.jsx(Yr,{size:"sm",onClick:o,children:"Go to start page"})]})})]})]})}));gSe.displayName="ErrorPane";var d3e="Label",pSe=N.forwardRef((n,e)=>R.jsx(pt.label,{...n,ref:e,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||((r=n.onMouseDown)==null||r.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));pSe.displayName=d3e;var rY=pSe;const h3e=z_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mSe=N.forwardRef(({className:n,...e},t)=>R.jsx(rY,{ref:t,className:ut(h3e(),n),...e}));mSe.displayName=rY.displayName;const _Se=J2e,ESe=N.createContext({}),_9=({...n})=>R.jsx(ESe.Provider,{value:{name:n.name},children:R.jsx(iFe,{...n})}),Yk=()=>{const n=N.useContext(ESe),e=N.useContext(vSe),{getFieldState:t,formState:i}=pk(),r=t(n.name,i);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:n.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...r}},vSe=N.createContext({}),eO=N.forwardRef(({className:n,...e},t)=>{const i=N.useId();return R.jsx(vSe.Provider,{value:{id:i},children:R.jsx("div",{ref:t,className:ut("space-y-2",n),...e})})});eO.displayName="FormItem";const tO=N.forwardRef(({className:n,...e},t)=>{const{error:i,formItemId:r}=Yk();return R.jsx(mSe,{ref:t,className:ut(i&&"text-destructive",n),htmlFor:r,...e})});tO.displayName="FormLabel";const nO=N.forwardRef(({...n},e)=>{const{error:t,formItemId:i,formDescriptionId:r,formMessageId:s}=Yk();return R.jsx(_k,{ref:e,id:i,"aria-describedby":t?`${r} ${s}`:`${r}`,"aria-invalid":!!t,...n})});nO.displayName="FormControl";const f3e=N.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:i}=Yk();return R.jsx("p",{ref:t,id:i,className:ut("text-muted-foreground text-[0.8rem]",n),...e})});f3e.displayName="FormDescription";const iO=N.forwardRef(({className:n,children:e,...t},i)=>{const{error:r,formMessageId:s}=Yk(),o=r?String(r==null?void 0:r.message):e;return o?R.jsx("p",{ref:i,id:s,className:ut("text-destructive text-[0.8rem] font-medium",n),...t,children:o}):null});iO.displayName="FormMessage";var Kk="Popover",[SSe,u4t]=us(Kk,[op]),eA=op(),[g3e,lp]=SSe(Kk),CSe=n=>{const{__scopePopover:e,children:t,open:i,defaultOpen:r,onOpenChange:s,modal:o=!1}=n,a=eA(e),l=N.useRef(null),[c,u]=N.useState(!1),[d,h]=Vs({prop:i,defaultProp:r??!1,onChange:s,caller:Kk});return R.jsx(Bk,{...a,children:R.jsx(g3e,{scope:e,contentId:Ya(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:c,onCustomAnchorAdd:N.useCallback(()=>u(!0),[]),onCustomAnchorRemove:N.useCallback(()=>u(!1),[]),modal:o,children:t})})};CSe.displayName=Kk;var ySe="PopoverAnchor",p3e=N.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,r=lp(ySe,t),s=eA(t),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=r;return N.useEffect(()=>(o(),()=>a()),[o,a]),R.jsx(Xw,{...s,...i,ref:e})});p3e.displayName=ySe;var bSe="PopoverTrigger",TSe=N.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,r=lp(bSe,t),s=eA(t),o=tn(e,r.triggerRef),a=R.jsx(pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":NSe(r.open),...i,ref:o,onClick:qe(n.onClick,r.onOpenToggle)});return r.hasCustomAnchor?a:R.jsx(Xw,{asChild:!0,...s,children:a})});TSe.displayName=bSe;var sY="PopoverPortal",[m3e,_3e]=SSe(sY,{forceMount:void 0}),wSe=n=>{const{__scopePopover:e,forceMount:t,children:i,container:r}=n,s=lp(sY,e);return R.jsx(m3e,{scope:e,forceMount:t,children:R.jsx(ds,{present:t||s.open,children:R.jsx(Y_,{asChild:!0,container:r,children:i})})})};wSe.displayName=sY;var eC="PopoverContent",ASe=N.forwardRef((n,e)=>{const t=_3e(eC,n.__scopePopover),{forceMount:i=t.forceMount,...r}=n,s=lp(eC,n.__scopePopover);return R.jsx(ds,{present:i||s.open,children:s.modal?R.jsx(v3e,{...r,ref:e}):R.jsx(S3e,{...r,ref:e})})});ASe.displayName=eC;var E3e=Bg("PopoverContent.RemoveScroll"),v3e=N.forwardRef((n,e)=>{const t=lp(eC,n.__scopePopover),i=N.useRef(null),r=tn(e,i),s=N.useRef(!1);return N.useEffect(()=>{const o=i.current;if(o)return Tk(o)},[]),R.jsx(Kw,{as:E3e,allowPinchZoom:!0,children:R.jsx(RSe,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(n.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:qe(n.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:qe(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),S3e=N.forwardRef((n,e)=>{const t=lp(eC,n.__scopePopover),i=N.useRef(!1),r=N.useRef(!1);return R.jsx(RSe,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(i.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),RSe=N.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=n,h=lp(eC,t),f=eA(t);return yk(),R.jsx(Yw,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:R.jsx(j_,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:R.jsx(Uk,{"data-state":NSe(h.open),role:"dialog",id:h.contentId,...f,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ISe="PopoverClose",C3e=N.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,r=lp(ISe,t);return R.jsx(pt.button,{type:"button",...i,ref:e,onClick:qe(n.onClick,()=>r.onOpenChange(!1))})});C3e.displayName=ISe;var y3e="PopoverArrow",b3e=N.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,r=eA(t);return R.jsx(Hk,{...r,...i,ref:e})});b3e.displayName=y3e;function NSe(n){return n?"open":"closed"}var T3e=CSe,w3e=TSe,A3e=wSe,LSe=ASe;const R3e=T3e,I3e=w3e,OSe=N.forwardRef(({className:n,align:e="center",sideOffset:t=4,...i},r)=>R.jsx(A3e,{children:R.jsx(LSe,{ref:r,align:e,sideOffset:t,className:ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-none",n),...i})}));OSe.displayName=LSe.displayName;var oY="Progress",aY=100,[N3e,d4t]=us(oY),[L3e,O3e]=N3e(oY),xSe=N.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:r,getValueLabel:s=x3e,...o}=n;(r||r===0)&&!Ote(r)&&console.error(D3e(`${r}`,"Progress"));const a=Ote(r)?r:aY;i!==null&&!xte(i,a)&&console.error(P3e(`${i}`,"Progress"));const l=xte(i,a)?i:null,c=rO(l)?s(l,a):void 0;return R.jsx(L3e,{scope:t,value:l,max:a,children:R.jsx(pt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":rO(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":kSe(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});xSe.displayName=oY;var DSe="ProgressIndicator",PSe=N.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,r=O3e(DSe,t);return R.jsx(pt.div,{"data-state":kSe(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...i,ref:e})});PSe.displayName=DSe;function x3e(n,e){return`${Math.round(n/e*100)}%`}function kSe(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function rO(n){return typeof n=="number"}function Ote(n){return rO(n)&&!isNaN(n)&&n>0}function xte(n,e){return rO(n)&&!isNaN(n)&&n<=e&&n>=0}function D3e(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${aY}\`.`}function P3e(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${aY} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MSe=xSe,k3e=PSe;const M3e=N.forwardRef(({className:n,value:e,...t},i)=>R.jsx(MSe,{ref:i,className:ut("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:R.jsx(k3e,{className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));M3e.displayName=MSe.displayName;var lY="Radio",[F3e,FSe]=us(lY),[B3e,U3e]=F3e(lY),BSe=N.forwardRef((n,e)=>{const{__scopeRadio:t,name:i,checked:r=!1,required:s,disabled:o,value:a="on",onCheck:l,form:c,...u}=n,[d,h]=N.useState(null),f=tn(e,_=>h(_)),m=N.useRef(!1),g=d?c||!!d.closest("form"):!0;return R.jsxs(B3e,{scope:t,checked:r,disabled:o,children:[R.jsx(pt.button,{type:"button",role:"radio","aria-checked":r,"data-state":WSe(r),"data-disabled":o?"":void 0,disabled:o,value:a,...u,ref:f,onClick:qe(n.onClick,_=>{r||l==null||l(),g&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),g&&R.jsx(VSe,{control:d,bubbles:!m.current,name:i,value:a,checked:r,required:s,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});BSe.displayName=lY;var USe="RadioIndicator",HSe=N.forwardRef((n,e)=>{const{__scopeRadio:t,forceMount:i,...r}=n,s=U3e(USe,t);return R.jsx(ds,{present:i||s.checked,children:R.jsx(pt.span,{"data-state":WSe(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})})});HSe.displayName=USe;var H3e="RadioBubbleInput",VSe=N.forwardRef(({__scopeRadio:n,control:e,checked:t,bubbles:i=!0,...r},s)=>{const o=N.useRef(null),a=tn(o,s),l=zw(t),c=jw(e);return N.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==t&&f){const m=new Event("click",{bubbles:i});f.call(u,t),u.dispatchEvent(m)}},[l,t,i]),R.jsx(pt.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:a,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VSe.displayName=H3e;function WSe(n){return n?"checked":"unchecked"}var V3e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qk="RadioGroup",[W3e,h4t]=us(qk,[ap,FSe]),$Se=ap(),GSe=FSe(),[$3e,G3e]=W3e(qk),zSe=N.forwardRef((n,e)=>{const{__scopeRadioGroup:t,name:i,defaultValue:r,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:u=!0,onValueChange:d,...h}=n,f=$Se(t),m=af(c),[g,_]=Vs({prop:s,defaultProp:r??"",onChange:d,caller:qk});return R.jsx($3e,{scope:t,name:i,required:o,disabled:a,value:g,onValueChange:_,children:R.jsx(Vk,{asChild:!0,...f,orientation:l,dir:m,loop:u,children:R.jsx(pt.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:m,...h,ref:e})})})});zSe.displayName=qk;var jSe="RadioGroupItem",YSe=N.forwardRef((n,e)=>{const{__scopeRadioGroup:t,disabled:i,...r}=n,s=G3e(jSe,t),o=s.disabled||i,a=$Se(t),l=GSe(t),c=N.useRef(null),u=tn(e,c),d=s.value===r.value,h=N.useRef(!1);return N.useEffect(()=>{const f=g=>{V3e.includes(g.key)&&(h.current=!0)},m=()=>h.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",m),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",m)}},[]),R.jsx(Wk,{asChild:!0,...a,focusable:!o,active:d,children:R.jsx(BSe,{disabled:o,required:s.required,checked:d,...l,...r,name:s.name,ref:u,onCheck:()=>s.onValueChange(r.value),onKeyDown:qe(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:qe(r.onFocus,()=>{var f;h.current&&((f=c.current)==null||f.click())})})})});YSe.displayName=jSe;var z3e="RadioGroupIndicator",KSe=N.forwardRef((n,e)=>{const{__scopeRadioGroup:t,...i}=n,r=GSe(t);return R.jsx(HSe,{...r,...i,ref:e})});KSe.displayName=z3e;var qSe=zSe,XSe=YSe,j3e=KSe;const Y3e=N.forwardRef(({className:n,...e},t)=>R.jsx(qSe,{className:ut("grid gap-2",n),...e,ref:t}));Y3e.displayName=qSe.displayName;const K3e=N.forwardRef(({className:n,...e},t)=>R.jsx(XSe,{ref:t,className:ut("border-primary text-primary focus-visible:ring-ring aspect-square h-4 w-4 rounded-full border shadow focus:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:R.jsx(j3e,{className:"flex items-center justify-center",children:R.jsx(iEe,{className:"fill-primary h-3.5 w-3.5"})})}));K3e.displayName=XSe.displayName;const Xk=N.createContext(null);Xk.displayName="PanelGroupContext";const zr={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},cY=10,jm=N.useLayoutEffect,Dte=ak.useId,q3e=typeof Dte=="function"?Dte:()=>null;let X3e=0;function uY(n=null){const e=q3e(),t=N.useRef(n||e||null);return t.current===null&&(t.current=""+X3e++),n??t.current}function QSe({children:n,className:e="",collapsedSize:t,collapsible:i,defaultSize:r,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:c,onExpand:u,onResize:d,order:h,style:f,tagName:m="div",...g}){const _=N.useContext(Xk);if(_===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:S,getPanelSize:C,getPanelStyle:y,groupId:b,isPanelCollapsed:w,reevaluatePanelConstraints:I,registerPanel:O,resizePanel:x,unregisterPanel:k}=_,P=uY(o),M=N.useRef({callbacks:{onCollapse:c,onExpand:u,onResize:d},constraints:{collapsedSize:t,collapsible:i,defaultSize:r,maxSize:a,minSize:l},id:P,idIsFromProps:o!==void 0,order:h});N.useRef({didLogMissingDefaultSizeWarning:!1}),jm(()=>{const{callbacks:F,constraints:H}=M.current,V={...H};M.current.id=P,M.current.idIsFromProps=o!==void 0,M.current.order=h,F.onCollapse=c,F.onExpand=u,F.onResize=d,H.collapsedSize=t,H.collapsible=i,H.defaultSize=r,H.maxSize=a,H.minSize=l,(V.collapsedSize!==H.collapsedSize||V.collapsible!==H.collapsible||V.maxSize!==H.maxSize||V.minSize!==H.minSize)&&I(M.current,V)}),jm(()=>{const F=M.current;return O(F),()=>{k(F)}},[h,P,O,k]),N.useImperativeHandle(s,()=>({collapse:()=>{v(M.current)},expand:F=>{S(M.current,F)},getId(){return P},getSize(){return C(M.current)},isCollapsed(){return w(M.current)},isExpanded(){return!w(M.current)},resize:F=>{x(M.current,F)}}),[v,S,C,w,P,x]);const W=y(M.current,r);return N.createElement(m,{...g,children:n,className:e,id:P,style:{...W,...f},[zr.groupId]:b,[zr.panel]:"",[zr.panelCollapsible]:i||void 0,[zr.panelId]:P,[zr.panelSize]:parseFloat(""+W.flexGrow).toFixed(1)})}const ZSe=N.forwardRef((n,e)=>N.createElement(QSe,{...n,forwardedRef:e}));QSe.displayName="Panel";ZSe.displayName="forwardRef(Panel)";let E9=null,KN=-1,rg=null;function Q3e(n,e){if(e){const t=(e&iCe)!==0,i=(e&rCe)!==0,r=(e&sCe)!==0,s=(e&oCe)!==0;if(t)return r?"se-resize":s?"ne-resize":"e-resize";if(i)return r?"sw-resize":s?"nw-resize":"w-resize";if(r)return"s-resize";if(s)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Z3e(){rg!==null&&(document.head.removeChild(rg),E9=null,rg=null,KN=-1)}function d4(n,e){var t,i;const r=Q3e(n,e);if(E9!==r){if(E9=r,rg===null&&(rg=document.createElement("style"),document.head.appendChild(rg)),KN>=0){var s;(s=rg.sheet)===null||s===void 0||s.removeRule(KN)}KN=(t=(i=rg.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${r} !important;}`))!==null&&t!==void 0?t:-1}}function JSe(n){return n.type==="keydown"}function eCe(n){return n.type.startsWith("pointer")}function tCe(n){return n.type.startsWith("mouse")}function Qk(n){if(eCe(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if(tCe(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function J3e(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function eVe(n,e,t){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y}function tVe(n,e){if(n===e)throw new Error("Cannot compare node with itself");const t={a:Mte(n),b:Mte(e)};let i;for(;t.a.at(-1)===t.b.at(-1);)n=t.a.pop(),e=t.b.pop(),i=n;Jn(i,"Stacking order can only be calculated for elements with a common ancestor");const r={a:kte(Pte(t.a)),b:kte(Pte(t.b))};if(r.a===r.b){const s=i.childNodes,o={a:t.a.at(-1),b:t.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(r.a-r.b)}const nVe=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function iVe(n){var e;const t=getComputedStyle((e=nCe(n))!==null&&e!==void 0?e:n).display;return t==="flex"||t==="inline-flex"}function rVe(n){const e=getComputedStyle(n);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||iVe(n))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||nVe.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function Pte(n){let e=n.length;for(;e--;){const t=n[e];if(Jn(t,"Missing node"),rVe(t))return t}return null}function kte(n){return n&&Number(getComputedStyle(n).zIndex)||0}function Mte(n){const e=[];for(;n;)e.push(n),n=nCe(n);return e}function nCe(n){const{parentNode:e}=n;return e&&e instanceof ShadowRoot?e.host:e}const iCe=1,rCe=2,sCe=4,oCe=8,sVe=J3e()==="coarse";let tu=[],SS=!1,dm=new Map,Zk=new Map;const Q0=new Set;function oVe(n,e,t,i,r){var s;const{ownerDocument:o}=e,a={direction:t,element:e,hitAreaMargins:i,setResizeHandlerState:r},l=(s=dm.get(o))!==null&&s!==void 0?s:0;return dm.set(o,l+1),Q0.add(a),sO(),function(){var u;Zk.delete(n),Q0.delete(a);const d=(u=dm.get(o))!==null&&u!==void 0?u:1;if(dm.set(o,d-1),sO(),d===1&&dm.delete(o),tu.includes(a)){const h=tu.indexOf(a);h>=0&&tu.splice(h,1),hY(),r("up",!0,null)}}}function aVe(n){const{target:e}=n,{x:t,y:i}=Qk(n);SS=!0,dY({target:e,x:t,y:i}),sO(),tu.length>0&&(oO("down",n),n.preventDefault(),aCe(e)||n.stopImmediatePropagation())}function h4(n){const{x:e,y:t}=Qk(n);if(SS&&n.buttons===0&&(SS=!1,oO("up",n)),!SS){const{target:i}=n;dY({target:i,x:e,y:t})}oO("move",n),hY(),tu.length>0&&n.preventDefault()}function f4(n){const{target:e}=n,{x:t,y:i}=Qk(n);Zk.clear(),SS=!1,tu.length>0&&(n.preventDefault(),aCe(e)||n.stopImmediatePropagation()),oO("up",n),dY({target:e,x:t,y:i}),hY(),sO()}function aCe(n){let e=n;for(;e;){if(e.hasAttribute(zr.resizeHandle))return!0;e=e.parentElement}return!1}function dY({target:n,x:e,y:t}){tu.splice(0);let i=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(i=n),Q0.forEach(r=>{const{element:s,hitAreaMargins:o}=r,a=s.getBoundingClientRect(),{bottom:l,left:c,right:u,top:d}=a,h=sVe?o.coarse:o.fine;if(e>=c-h&&e<=u+h&&t>=d-h&&t<=l+h){if(i!==null&&document.contains(i)&&s!==i&&!s.contains(i)&&!i.contains(s)&&tVe(i,s)>0){let m=i,g=!1;for(;m&&!m.contains(s);){if(eVe(m.getBoundingClientRect(),a)){g=!0;break}m=m.parentElement}if(g)return}tu.push(r)}})}function g4(n,e){Zk.set(n,e)}function hY(){let n=!1,e=!1;tu.forEach(i=>{const{direction:r}=i;r==="horizontal"?n=!0:e=!0});let t=0;Zk.forEach(i=>{t|=i}),n&&e?d4("intersection",t):n?d4("horizontal",t):e?d4("vertical",t):Z3e()}let p4=new AbortController;function sO(){p4.abort(),p4=new AbortController;const n={capture:!0,signal:p4.signal};Q0.size&&(SS?(tu.length>0&&dm.forEach((e,t)=>{const{body:i}=t;e>0&&(i.addEventListener("contextmenu",f4,n),i.addEventListener("pointerleave",h4,n),i.addEventListener("pointermove",h4,n))}),window.addEventListener("pointerup",f4,n),window.addEventListener("pointercancel",f4,n)):dm.forEach((e,t)=>{const{body:i}=t;e>0&&(i.addEventListener("pointerdown",aVe,n),i.addEventListener("pointermove",h4,n))}))}function oO(n,e){Q0.forEach(t=>{const{setResizeHandlerState:i}=t,r=tu.includes(t);i(n,r,e)})}function lVe(){const[n,e]=N.useState(0);return N.useCallback(()=>e(t=>t+1),[])}function Jn(n,e){if(!n)throw console.error(e),Error(e)}function E_(n,e,t=cY){return n.toFixed(t)===e.toFixed(t)?0:n>e?1:-1}function Ch(n,e,t=cY){return E_(n,e,t)===0}function dl(n,e,t){return E_(n,e,t)===0}function cVe(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],s=e[i];if(!dl(r,s,t))return!1}return!0}function Iv({panelConstraints:n,panelIndex:e,size:t}){const i=n[e];Jn(i!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:r=0,collapsible:s,maxSize:o=100,minSize:a=0}=i;if(E_(t,a)<0)if(s){const l=(r+a)/2;E_(t,l)<0?t=r:t=a}else t=a;return t=Math.min(o,t),t=parseFloat(t.toFixed(cY)),t}function cT({delta:n,initialLayout:e,panelConstraints:t,pivotIndices:i,prevLayout:r,trigger:s}){if(dl(n,0))return e;const o=[...e],[a,l]=i;Jn(a!=null,"Invalid first pivot index"),Jn(l!=null,"Invalid second pivot index");let c=0;if(s==="keyboard"){{const d=n<0?l:a,h=t[d];Jn(h,`Panel constraints not found for index ${d}`);const{collapsedSize:f=0,collapsible:m,minSize:g=0}=h;if(m){const _=e[d];if(Jn(_!=null,`Previous layout not found for panel index ${d}`),dl(_,f)){const v=g-_;E_(v,Math.abs(n))>0&&(n=n<0?0-v:v)}}}{const d=n<0?a:l,h=t[d];Jn(h,`No panel constraints found for index ${d}`);const{collapsedSize:f=0,collapsible:m,minSize:g=0}=h;if(m){const _=e[d];if(Jn(_!=null,`Previous layout not found for panel index ${d}`),dl(_,g)){const v=_-f;E_(v,Math.abs(n))>0&&(n=n<0?0-v:v)}}}}{const d=n<0?1:-1;let h=n<0?l:a,f=0;for(;;){const g=e[h];Jn(g!=null,`Previous layout not found for panel index ${h}`);const v=Iv({panelConstraints:t,panelIndex:h,size:100})-g;if(f+=v,h+=d,h<0||h>=t.length)break}const m=Math.min(Math.abs(n),Math.abs(f));n=n<0?0-m:m}{let h=n<0?a:l;for(;h>=0&&h<t.length;){const f=Math.abs(n)-Math.abs(c),m=e[h];Jn(m!=null,`Previous layout not found for panel index ${h}`);const g=m-f,_=Iv({panelConstraints:t,panelIndex:h,size:g});if(!dl(m,_)&&(c+=m-_,o[h]=_,c.toPrecision(3).localeCompare(Math.abs(n).toPrecision(3),void 0,{numeric:!0})>=0))break;n<0?h--:h++}}if(cVe(r,o))return r;{const d=n<0?l:a,h=e[d];Jn(h!=null,`Previous layout not found for panel index ${d}`);const f=h+c,m=Iv({panelConstraints:t,panelIndex:d,size:f});if(o[d]=m,!dl(m,f)){let g=f-m,v=n<0?l:a;for(;v>=0&&v<t.length;){const S=o[v];Jn(S!=null,`Previous layout not found for panel index ${v}`);const C=S+g,y=Iv({panelConstraints:t,panelIndex:v,size:C});if(dl(S,y)||(g-=y-S,o[v]=y),dl(g,0))break;n>0?v--:v++}}}const u=o.reduce((d,h)=>h+d,0);return dl(u,100)?o:r}function uVe({layout:n,panelsArray:e,pivotIndices:t}){let i=0,r=100,s=0,o=0;const a=t[0];Jn(a!=null,"No pivot index found"),e.forEach((d,h)=>{const{constraints:f}=d,{maxSize:m=100,minSize:g=0}=f;h===a?(i=g,r=m):(s+=g,o+=m)});const l=Math.min(r,100-s),c=Math.max(i,100-o),u=n[a];return{valueMax:l,valueMin:c,valueNow:u}}function Z0(n,e=document){return Array.from(e.querySelectorAll(`[${zr.resizeHandleId}][data-panel-group-id="${n}"]`))}function lCe(n,e,t=document){const r=Z0(n,t).findIndex(s=>s.getAttribute(zr.resizeHandleId)===e);return r??null}function cCe(n,e,t){const i=lCe(n,e,t);return i!=null?[i,i+1]:[-1,-1]}function uCe(n,e=document){var t;if(e instanceof HTMLElement&&(e==null||(t=e.dataset)===null||t===void 0?void 0:t.panelGroupId)==n)return e;const i=e.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return i||null}function Jk(n,e=document){const t=e.querySelector(`[${zr.resizeHandleId}="${n}"]`);return t||null}function dVe(n,e,t,i=document){var r,s,o,a;const l=Jk(e,i),c=Z0(n,i),u=l?c.indexOf(l):-1,d=(r=(s=t[u])===null||s===void 0?void 0:s.id)!==null&&r!==void 0?r:null,h=(o=(a=t[u+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[d,h]}function hVe({committedValuesRef:n,eagerValuesRef:e,groupId:t,layout:i,panelDataArray:r,panelGroupElement:s,setLayout:o}){N.useRef({didWarnAboutMissingResizeHandle:!1}),jm(()=>{if(!s)return;const a=Z0(t,s);for(let l=0;l<r.length-1;l++){const{valueMax:c,valueMin:u,valueNow:d}=uVe({layout:i,panelsArray:r,pivotIndices:[l,l+1]}),h=a[l];if(h!=null){const f=r[l];Jn(f,`No panel data found for index "${l}"`),h.setAttribute("aria-controls",f.id),h.setAttribute("aria-valuemax",""+Math.round(c)),h.setAttribute("aria-valuemin",""+Math.round(u)),h.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[t,i,r,s]),N.useEffect(()=>{if(!s)return;const a=e.current;Jn(a,"Eager values not found");const{panelDataArray:l}=a,c=uCe(t,s);Jn(c!=null,`No group found for id "${t}"`);const u=Z0(t,s);Jn(u,`No resize handles found for group id "${t}"`);const d=u.map(h=>{const f=h.getAttribute(zr.resizeHandleId);Jn(f,"Resize handle element has no handle id attribute");const[m,g]=dVe(t,f,l,s);if(m==null||g==null)return()=>{};const _=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const S=l.findIndex(C=>C.id===m);if(S>=0){const C=l[S];Jn(C,`No panel data found for index ${S}`);const y=i[S],{collapsedSize:b=0,collapsible:w,minSize:I=0}=C.constraints;if(y!=null&&w){const O=cT({delta:dl(y,b)?I-b:b-y,initialLayout:i,panelConstraints:l.map(x=>x.constraints),pivotIndices:cCe(t,f,s),prevLayout:i,trigger:"keyboard"});i!==O&&o(O)}}break}}};return h.addEventListener("keydown",_),()=>{h.removeEventListener("keydown",_)}});return()=>{d.forEach(h=>h())}},[s,n,e,t,i,r,o])}function Fte(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function dCe(n,e){const t=n==="horizontal",{x:i,y:r}=Qk(e);return t?i:r}function fVe(n,e,t,i,r){const s=t==="horizontal",o=Jk(e,r);Jn(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute(zr.groupId);Jn(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=i;const c=dCe(t,n),u=uCe(a,r);Jn(u,`No group element found for id "${a}"`);const d=u.getBoundingClientRect(),h=s?d.width:d.height;return(c-l)/h*100}function gVe(n,e,t,i,r,s){if(JSe(n)){const o=t==="horizontal";let a=0;n.shiftKey?a=100:r!=null?a=r:a=10;let l=0;switch(n.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return i==null?0:fVe(n,e,t,i,s)}function pVe({panelDataArray:n}){const e=Array(n.length),t=n.map(s=>s.constraints);let i=0,r=100;for(let s=0;s<n.length;s++){const o=t[s];Jn(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(i++,e[s]=a,r-=a)}for(let s=0;s<n.length;s++){const o=t[s];Jn(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=n.length-i,c=r/l;i++,e[s]=c,r-=c}return e}function tv(n,e,t){e.forEach((i,r)=>{const s=n[r];Jn(s,`Panel data not found for index ${r}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:c=0,collapsible:u}=a,d=t[l];if(d==null||i!==d){t[l]=i;const{onCollapse:h,onExpand:f,onResize:m}=o;m&&m(i,d),u&&(h||f)&&(f&&(d==null||Ch(d,c))&&!Ch(i,c)&&f(),h&&(d==null||!Ch(d,c))&&Ch(i,c)&&h())}})}function eI(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function mVe({defaultSize:n,dragState:e,layout:t,panelData:i,panelIndex:r,precision:s=3}){const o=t[r];let a;return o==null?a=n!=null?n.toPrecision(s):"1":i.length===1?a="1":a=o.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function _Ve(n,e=10){let t=null;return(...r)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...r)},e)}}function Bte(n){try{if(typeof localStorage<"u")n.getItem=e=>localStorage.getItem(e),n.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),n.getItem=()=>null,n.setItem=()=>{}}}function hCe(n){return`react-resizable-panels:${n}`}function fCe(n){return n.map(e=>{const{constraints:t,id:i,idIsFromProps:r,order:s}=e;return r?i:s?`${s}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function gCe(n,e){try{const t=hCe(n),i=e.getItem(t);if(i){const r=JSON.parse(i);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function EVe(n,e,t){var i,r;const s=(i=gCe(n,t))!==null&&i!==void 0?i:{},o=fCe(e);return(r=s[o])!==null&&r!==void 0?r:null}function vVe(n,e,t,i,r){var s;const o=hCe(n),a=fCe(e),l=(s=gCe(n,r))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(t.entries()),layout:i};try{r.setItem(o,JSON.stringify(l))}catch(c){console.error(c)}}function Ute({layout:n,panelConstraints:e}){const t=[...n],i=t.reduce((s,o)=>s+o,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(s=>`${s}%`).join(", ")}`);if(!dl(i,100)&&t.length>0)for(let s=0;s<e.length;s++){const o=t[s];Jn(o!=null,`No layout data found for index ${s}`);const a=100/i*o;t[s]=a}let r=0;for(let s=0;s<e.length;s++){const o=t[s];Jn(o!=null,`No layout data found for index ${s}`);const a=Iv({panelConstraints:e,panelIndex:s,size:o});o!=a&&(r+=o-a,t[s]=a)}if(!dl(r,0))for(let s=0;s<e.length;s++){const o=t[s];Jn(o!=null,`No layout data found for index ${s}`);const a=o+r,l=Iv({panelConstraints:e,panelIndex:s,size:a});if(o!==l&&(r-=l-o,t[s]=l,dl(r,0)))break}return t}const SVe=100,uT={getItem:n=>(Bte(uT),uT.getItem(n)),setItem:(n,e)=>{Bte(uT),uT.setItem(n,e)}},Hte={};function pCe({autoSaveId:n=null,children:e,className:t="",direction:i,forwardedRef:r,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=uT,style:c,tagName:u="div",...d}){const h=uY(s),f=N.useRef(null),[m,g]=N.useState(null),[_,v]=N.useState([]),S=lVe(),C=N.useRef({}),y=N.useRef(new Map),b=N.useRef(0),w=N.useRef({autoSaveId:n,direction:i,dragState:m,id:h,keyboardResizeBy:a,onLayout:o,storage:l}),I=N.useRef({layout:_,panelDataArray:[],panelDataArrayChanged:!1});N.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),N.useImperativeHandle(r,()=>({getId:()=>w.current.id,getLayout:()=>{const{layout:z}=I.current;return z},setLayout:z=>{const{onLayout:j}=w.current,{layout:ne,panelDataArray:le}=I.current,q=Ute({layout:z,panelConstraints:le.map(he=>he.constraints)});Fte(ne,q)||(v(q),I.current.layout=q,j&&j(q),tv(le,q,C.current))}}),[]),jm(()=>{w.current.autoSaveId=n,w.current.direction=i,w.current.dragState=m,w.current.id=h,w.current.onLayout=o,w.current.storage=l}),hVe({committedValuesRef:w,eagerValuesRef:I,groupId:h,layout:_,panelDataArray:I.current.panelDataArray,setLayout:v,panelGroupElement:f.current}),N.useEffect(()=>{const{panelDataArray:z}=I.current;if(n){if(_.length===0||_.length!==z.length)return;let j=Hte[n];j==null&&(j=_Ve(vVe,SVe),Hte[n]=j);const ne=[...z],le=new Map(y.current);j(n,ne,le,_,l)}},[n,_,l]),N.useEffect(()=>{});const O=N.useCallback(z=>{const{onLayout:j}=w.current,{layout:ne,panelDataArray:le}=I.current;if(z.constraints.collapsible){const q=le.map(Ae=>Ae.constraints),{collapsedSize:he=0,panelSize:ue,pivotIndices:pe}=Vp(le,z,ne);if(Jn(ue!=null,`Panel size not found for panel "${z.id}"`),!Ch(ue,he)){y.current.set(z.id,ue);const me=bv(le,z)===le.length-1?ue-he:he-ue,Te=cT({delta:me,initialLayout:ne,panelConstraints:q,pivotIndices:pe,prevLayout:ne,trigger:"imperative-api"});eI(ne,Te)||(v(Te),I.current.layout=Te,j&&j(Te),tv(le,Te,C.current))}}},[]),x=N.useCallback((z,j)=>{const{onLayout:ne}=w.current,{layout:le,panelDataArray:q}=I.current;if(z.constraints.collapsible){const he=q.map(Oe=>Oe.constraints),{collapsedSize:ue=0,panelSize:pe=0,minSize:Ae=0,pivotIndices:me}=Vp(q,z,le),Te=j??Ae;if(Ch(pe,ue)){const Oe=y.current.get(z.id),ft=Oe!=null&&Oe>=Te?Oe:Te,Vt=bv(q,z)===q.length-1?pe-ft:ft-pe,yt=cT({delta:Vt,initialLayout:le,panelConstraints:he,pivotIndices:me,prevLayout:le,trigger:"imperative-api"});eI(le,yt)||(v(yt),I.current.layout=yt,ne&&ne(yt),tv(q,yt,C.current))}}},[]),k=N.useCallback(z=>{const{layout:j,panelDataArray:ne}=I.current,{panelSize:le}=Vp(ne,z,j);return Jn(le!=null,`Panel size not found for panel "${z.id}"`),le},[]),P=N.useCallback((z,j)=>{const{panelDataArray:ne}=I.current,le=bv(ne,z);return mVe({defaultSize:j,dragState:m,layout:_,panelData:ne,panelIndex:le})},[m,_]),M=N.useCallback(z=>{const{layout:j,panelDataArray:ne}=I.current,{collapsedSize:le=0,collapsible:q,panelSize:he}=Vp(ne,z,j);return Jn(he!=null,`Panel size not found for panel "${z.id}"`),q===!0&&Ch(he,le)},[]),W=N.useCallback(z=>{const{layout:j,panelDataArray:ne}=I.current,{collapsedSize:le=0,collapsible:q,panelSize:he}=Vp(ne,z,j);return Jn(he!=null,`Panel size not found for panel "${z.id}"`),!q||E_(he,le)>0},[]),F=N.useCallback(z=>{const{panelDataArray:j}=I.current;j.push(z),j.sort((ne,le)=>{const q=ne.order,he=le.order;return q==null&&he==null?0:q==null?-1:he==null?1:q-he}),I.current.panelDataArrayChanged=!0,S()},[S]);jm(()=>{if(I.current.panelDataArrayChanged){I.current.panelDataArrayChanged=!1;const{autoSaveId:z,onLayout:j,storage:ne}=w.current,{layout:le,panelDataArray:q}=I.current;let he=null;if(z){const pe=EVe(z,q,ne);pe&&(y.current=new Map(Object.entries(pe.expandToSizes)),he=pe.layout)}he==null&&(he=pVe({panelDataArray:q}));const ue=Ute({layout:he,panelConstraints:q.map(pe=>pe.constraints)});Fte(le,ue)||(v(ue),I.current.layout=ue,j&&j(ue),tv(q,ue,C.current))}}),jm(()=>{const z=I.current;return()=>{z.layout=[]}},[]);const H=N.useCallback(z=>{let j=!1;const ne=f.current;return ne&&window.getComputedStyle(ne,null).getPropertyValue("direction")==="rtl"&&(j=!0),function(q){q.preventDefault();const he=f.current;if(!he)return()=>null;const{direction:ue,dragState:pe,id:Ae,keyboardResizeBy:me,onLayout:Te}=w.current,{layout:Oe,panelDataArray:ft}=I.current,{initialLayout:kt}=pe??{},Vt=cCe(Ae,z,he);let yt=gVe(q,z,ue,pe,me,he);const vt=ue==="horizontal";vt&&j&&(yt=-yt);const Yt=ft.map(Se=>Se.constraints),_t=cT({delta:yt,initialLayout:kt??Oe,panelConstraints:Yt,pivotIndices:Vt,prevLayout:Oe,trigger:JSe(q)?"keyboard":"mouse-or-touch"}),ae=!eI(Oe,_t);(eCe(q)||tCe(q))&&b.current!=yt&&(b.current=yt,!ae&&yt!==0?vt?g4(z,yt<0?iCe:rCe):g4(z,yt<0?sCe:oCe):g4(z,0)),ae&&(v(_t),I.current.layout=_t,Te&&Te(_t),tv(ft,_t,C.current))}},[]),V=N.useCallback((z,j)=>{const{onLayout:ne}=w.current,{layout:le,panelDataArray:q}=I.current,he=q.map(Oe=>Oe.constraints),{panelSize:ue,pivotIndices:pe}=Vp(q,z,le);Jn(ue!=null,`Panel size not found for panel "${z.id}"`);const me=bv(q,z)===q.length-1?ue-j:j-ue,Te=cT({delta:me,initialLayout:le,panelConstraints:he,pivotIndices:pe,prevLayout:le,trigger:"imperative-api"});eI(le,Te)||(v(Te),I.current.layout=Te,ne&&ne(Te),tv(q,Te,C.current))},[]),Y=N.useCallback((z,j)=>{const{layout:ne,panelDataArray:le}=I.current,{collapsedSize:q=0,collapsible:he}=j,{collapsedSize:ue=0,collapsible:pe,maxSize:Ae=100,minSize:me=0}=z.constraints,{panelSize:Te}=Vp(le,z,ne);Te!=null&&(he&&pe&&Ch(Te,q)?Ch(q,ue)||V(z,ue):Te<me?V(z,me):Te>Ae&&V(z,Ae))},[V]),$=N.useCallback((z,j)=>{const{direction:ne}=w.current,{layout:le}=I.current;if(!f.current)return;const q=Jk(z,f.current);Jn(q,`Drag handle element not found for id "${z}"`);const he=dCe(ne,j);g({dragHandleId:z,dragHandleRect:q.getBoundingClientRect(),initialCursorPosition:he,initialLayout:le})},[]),K=N.useCallback(()=>{g(null)},[]),re=N.useCallback(z=>{const{panelDataArray:j}=I.current,ne=bv(j,z);ne>=0&&(j.splice(ne,1),delete C.current[z.id],I.current.panelDataArrayChanged=!0,S())},[S]),G=N.useMemo(()=>({collapsePanel:O,direction:i,dragState:m,expandPanel:x,getPanelSize:k,getPanelStyle:P,groupId:h,isPanelCollapsed:M,isPanelExpanded:W,reevaluatePanelConstraints:Y,registerPanel:F,registerResizeHandle:H,resizePanel:V,startDragging:$,stopDragging:K,unregisterPanel:re,panelGroupElement:f.current}),[O,m,i,x,k,P,h,M,W,Y,F,H,V,$,K,re]),J={display:"flex",flexDirection:i==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return N.createElement(Xk.Provider,{value:G},N.createElement(u,{...d,children:e,className:t,id:s,ref:f,style:{...J,...c},[zr.group]:"",[zr.groupDirection]:i,[zr.groupId]:h}))}const mCe=N.forwardRef((n,e)=>N.createElement(pCe,{...n,forwardedRef:e}));pCe.displayName="PanelGroup";mCe.displayName="forwardRef(PanelGroup)";function bv(n,e){return n.findIndex(t=>t===e||t.id===e.id)}function Vp(n,e,t){const i=bv(n,e),s=i===n.length-1?[i-1,i]:[i,i+1],o=t[i];return{...e.constraints,panelSize:o,pivotIndices:s}}function CVe({disabled:n,handleId:e,resizeHandler:t,panelGroupElement:i}){N.useEffect(()=>{if(n||t==null||i==null)return;const r=Jk(e,i);if(r==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),t(o);break}case"F6":{o.preventDefault();const a=r.getAttribute(zr.groupId);Jn(a,`No group element found for id "${a}"`);const l=Z0(a,i),c=lCe(a,e,i);Jn(c!==null,`No resize element found for id "${e}"`);const u=o.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[u].focus();break}}};return r.addEventListener("keydown",s),()=>{r.removeEventListener("keydown",s)}},[i,n,e,t])}function _Ce({children:n=null,className:e="",disabled:t=!1,hitAreaMargins:i,id:r,onBlur:s,onClick:o,onDragging:a,onFocus:l,onPointerDown:c,onPointerUp:u,style:d={},tabIndex:h=0,tagName:f="div",...m}){var g,_;const v=N.useRef(null),S=N.useRef({onClick:o,onDragging:a,onPointerDown:c,onPointerUp:u});N.useEffect(()=>{S.current.onClick=o,S.current.onDragging=a,S.current.onPointerDown=c,S.current.onPointerUp=u});const C=N.useContext(Xk);if(C===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:y,groupId:b,registerResizeHandle:w,startDragging:I,stopDragging:O,panelGroupElement:x}=C,k=uY(r),[P,M]=N.useState("inactive"),[W,F]=N.useState(!1),[H,V]=N.useState(null),Y=N.useRef({state:P});jm(()=>{Y.current.state=P}),N.useEffect(()=>{if(t)V(null);else{const G=w(k);V(()=>G)}},[t,k,w]);const $=(g=i==null?void 0:i.coarse)!==null&&g!==void 0?g:15,K=(_=i==null?void 0:i.fine)!==null&&_!==void 0?_:5;N.useEffect(()=>{if(t||H==null)return;const G=v.current;Jn(G,"Element ref not attached");let J=!1;return oVe(k,G,y,{coarse:$,fine:K},(j,ne,le)=>{if(!ne){M("inactive");return}switch(j){case"down":{M("drag"),J=!1,Jn(le,'Expected event to be defined for "down" action'),I(k,le);const{onDragging:q,onPointerDown:he}=S.current;q==null||q(!0),he==null||he();break}case"move":{const{state:q}=Y.current;J=!0,q!=="drag"&&M("hover"),Jn(le,'Expected event to be defined for "move" action'),H(le);break}case"up":{M("hover"),O();const{onClick:q,onDragging:he,onPointerUp:ue}=S.current;he==null||he(!1),ue==null||ue(),J||q==null||q();break}}})},[$,y,t,K,w,k,H,I,O]),CVe({disabled:t,handleId:k,resizeHandler:H,panelGroupElement:x});const re={touchAction:"none",userSelect:"none"};return N.createElement(f,{...m,children:n,className:e,id:r,onBlur:()=>{F(!1),s==null||s()},onFocus:()=>{F(!0),l==null||l()},ref:v,role:"separator",style:{...re,...d},tabIndex:h,[zr.groupDirection]:y,[zr.groupId]:b,[zr.resizeHandle]:"",[zr.resizeHandleActive]:P==="drag"?"pointer":W?"keyboard":void 0,[zr.resizeHandleEnabled]:!t,[zr.resizeHandleId]:k,[zr.resizeHandleState]:P})}_Ce.displayName="PanelResizeHandle";const m4=({className:n,...e})=>R.jsx(mCe,{className:ut("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),...e}),nv=ZSe,_4=({withHandle:n,className:e,...t})=>R.jsx(_Ce,{className:ut("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...t,children:n&&R.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-sm border",children:R.jsx(gBe,{className:"h-2.5 w-2.5"})})});function J0(n,[e,t]){return Math.min(t,Math.max(e,n))}var ECe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yVe="VisuallyHidden",eM=N.forwardRef((n,e)=>R.jsx(pt.span,{...n,ref:e,style:{...ECe,...n.style}}));eM.displayName=yVe;var bVe=eM,TVe=[" ","Enter","ArrowUp","ArrowDown"],wVe=[" ","Enter"],v_="Select",[tM,nM,AVe]=sy(v_),[uy,f4t]=us(v_,[AVe,op]),iM=op(),[RVe,cp]=uy(v_),[IVe,NVe]=uy(v_),vCe=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:r,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:f,form:m}=n,g=iM(e),[_,v]=N.useState(null),[S,C]=N.useState(null),[y,b]=N.useState(!1),w=af(c),[I,O]=Vs({prop:i,defaultProp:r??!1,onChange:s,caller:v_}),[x,k]=Vs({prop:o,defaultProp:a,onChange:l,caller:v_}),P=N.useRef(null),M=_?m||!!_.closest("form"):!0,[W,F]=N.useState(new Set),H=Array.from(W).map(V=>V.props.value).join(";");return R.jsx(Bk,{...g,children:R.jsxs(RVe,{required:f,scope:e,trigger:_,onTriggerChange:v,valueNode:S,onValueNodeChange:C,valueNodeHasChildren:y,onValueNodeHasChildrenChange:b,contentId:Ya(),value:x,onValueChange:k,open:I,onOpenChange:O,dir:w,triggerPointerDownPosRef:P,disabled:h,children:[R.jsx(tM.Provider,{scope:e,children:R.jsx(IVe,{scope:n.__scopeSelect,onNativeOptionAdd:N.useCallback(V=>{F(Y=>new Set(Y).add(V))},[]),onNativeOptionRemove:N.useCallback(V=>{F(Y=>{const $=new Set(Y);return $.delete(V),$})},[]),children:t})}),M?R.jsxs($Ce,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:x,onChange:V=>k(V.target.value),disabled:h,form:m,children:[x===void 0?R.jsx("option",{value:""}):null,Array.from(W)]},H):null]})})};vCe.displayName=v_;var SCe="SelectTrigger",CCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...r}=n,s=iM(t),o=cp(SCe,t),a=o.disabled||i,l=tn(e,o.onTriggerChange),c=nM(t),u=N.useRef("touch"),[d,h,f]=zCe(g=>{const _=c().filter(C=>!C.disabled),v=_.find(C=>C.value===o.value),S=jCe(_,g,v);S!==void 0&&o.onValueChange(S.value)}),m=g=>{a||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return R.jsx(Xw,{asChild:!0,...s,children:R.jsx(pt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":GCe(o.value)?"":void 0,...r,ref:l,onClick:qe(r.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&m(g)}),onPointerDown:qe(r.onPointerDown,g=>{u.current=g.pointerType;const _=g.target;_.hasPointerCapture(g.pointerId)&&_.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:qe(r.onKeyDown,g=>{const _=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(_&&g.key===" ")&&TVe.includes(g.key)&&(m(),g.preventDefault())})})})});CCe.displayName=SCe;var yCe="SelectValue",bCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:r,children:s,placeholder:o="",...a}=n,l=cp(yCe,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=tn(e,l.onValueNodeChange);return Hs(()=>{c(u)},[c,u]),R.jsx(pt.span,{...a,ref:d,style:{pointerEvents:"none"},children:GCe(l.value)?R.jsx(R.Fragment,{children:o}):s})});bCe.displayName=yCe;var LVe="SelectIcon",TCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...r}=n;return R.jsx(pt.span,{"aria-hidden":!0,...r,ref:e,children:i||""})});TCe.displayName=LVe;var OVe="SelectPortal",wCe=n=>R.jsx(Y_,{asChild:!0,...n});wCe.displayName=OVe;var S_="SelectContent",ACe=N.forwardRef((n,e)=>{const t=cp(S_,n.__scopeSelect),[i,r]=N.useState();if(Hs(()=>{r(new DocumentFragment)},[]),!t.open){const s=i;return s?oy.createPortal(R.jsx(RCe,{scope:n.__scopeSelect,children:R.jsx(tM.Slot,{scope:n.__scopeSelect,children:R.jsx("div",{children:n.children})})}),s):null}return R.jsx(ICe,{...n,ref:e})});ACe.displayName=S_;var Bc=10,[RCe,up]=uy(S_),xVe="SelectContentImpl",DVe=Bg("SelectContent.RemoveScroll"),ICe=N.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:m,hideWhenDetached:g,avoidCollisions:_,...v}=n,S=cp(S_,t),[C,y]=N.useState(null),[b,w]=N.useState(null),I=tn(e,q=>y(q)),[O,x]=N.useState(null),[k,P]=N.useState(null),M=nM(t),[W,F]=N.useState(!1),H=N.useRef(!1);N.useEffect(()=>{if(C)return Tk(C)},[C]),yk();const V=N.useCallback(q=>{const[he,...ue]=M().map(me=>me.ref.current),[pe]=ue.slice(-1),Ae=document.activeElement;for(const me of q)if(me===Ae||(me==null||me.scrollIntoView({block:"nearest"}),me===he&&b&&(b.scrollTop=0),me===pe&&b&&(b.scrollTop=b.scrollHeight),me==null||me.focus(),document.activeElement!==Ae))return},[M,b]),Y=N.useCallback(()=>V([O,C]),[V,O,C]);N.useEffect(()=>{W&&Y()},[W,Y]);const{onOpenChange:$,triggerPointerDownPosRef:K}=S;N.useEffect(()=>{if(C){let q={x:0,y:0};const he=pe=>{var Ae,me;q={x:Math.abs(Math.round(pe.pageX)-(((Ae=K.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((me=K.current)==null?void 0:me.y)??0))}},ue=pe=>{q.x<=10&&q.y<=10?pe.preventDefault():C.contains(pe.target)||$(!1),document.removeEventListener("pointermove",he),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",ue,{capture:!0})}}},[C,$,K]),N.useEffect(()=>{const q=()=>$(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[$]);const[re,G]=zCe(q=>{const he=M().filter(Ae=>!Ae.disabled),ue=he.find(Ae=>Ae.ref.current===document.activeElement),pe=jCe(he,q,ue);pe&&setTimeout(()=>pe.ref.current.focus())}),J=N.useCallback((q,he,ue)=>{const pe=!H.current&&!ue;(S.value!==void 0&&S.value===he||pe)&&(x(q),pe&&(H.current=!0))},[S.value]),z=N.useCallback(()=>C==null?void 0:C.focus(),[C]),j=N.useCallback((q,he,ue)=>{const pe=!H.current&&!ue;(S.value!==void 0&&S.value===he||pe)&&P(q)},[S.value]),ne=i==="popper"?v9:NCe,le=ne===v9?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:m,hideWhenDetached:g,avoidCollisions:_}:{};return R.jsx(RCe,{scope:t,content:C,viewport:b,onViewportChange:w,itemRefCallback:J,selectedItem:O,onItemLeave:z,itemTextRefCallback:j,focusSelectedItem:Y,selectedItemText:k,position:i,isPositioned:W,searchRef:re,children:R.jsx(Kw,{as:DVe,allowPinchZoom:!0,children:R.jsx(Yw,{asChild:!0,trapped:S.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:qe(r,q=>{var he;(he=S.trigger)==null||he.focus({preventScroll:!0}),q.preventDefault()}),children:R.jsx(j_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:R.jsx(ne,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:q=>q.preventDefault(),...v,...le,onPlaced:()=>F(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:qe(v.onKeyDown,q=>{const he=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!he&&q.key.length===1&&G(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let pe=M().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(q.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const Ae=q.target,me=pe.indexOf(Ae);pe=pe.slice(me+1)}setTimeout(()=>V(pe)),q.preventDefault()}})})})})})})});ICe.displayName=xVe;var PVe="SelectItemAlignedPosition",NCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...r}=n,s=cp(S_,t),o=up(S_,t),[a,l]=N.useState(null),[c,u]=N.useState(null),d=tn(e,I=>u(I)),h=nM(t),f=N.useRef(!1),m=N.useRef(!0),{viewport:g,selectedItem:_,selectedItemText:v,focusSelectedItem:S}=o,C=N.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&_&&v){const I=s.trigger.getBoundingClientRect(),O=c.getBoundingClientRect(),x=s.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(s.dir!=="rtl"){const Ae=k.left-O.left,me=x.left-Ae,Te=I.left-me,Oe=I.width+Te,ft=Math.max(Oe,O.width),kt=window.innerWidth-Bc,Vt=J0(me,[Bc,Math.max(Bc,kt-ft)]);a.style.minWidth=Oe+"px",a.style.left=Vt+"px"}else{const Ae=O.right-k.right,me=window.innerWidth-x.right-Ae,Te=window.innerWidth-I.right-me,Oe=I.width+Te,ft=Math.max(Oe,O.width),kt=window.innerWidth-Bc,Vt=J0(me,[Bc,Math.max(Bc,kt-ft)]);a.style.minWidth=Oe+"px",a.style.right=Vt+"px"}const P=h(),M=window.innerHeight-Bc*2,W=g.scrollHeight,F=window.getComputedStyle(c),H=parseInt(F.borderTopWidth,10),V=parseInt(F.paddingTop,10),Y=parseInt(F.borderBottomWidth,10),$=parseInt(F.paddingBottom,10),K=H+V+W+$+Y,re=Math.min(_.offsetHeight*5,K),G=window.getComputedStyle(g),J=parseInt(G.paddingTop,10),z=parseInt(G.paddingBottom,10),j=I.top+I.height/2-Bc,ne=M-j,le=_.offsetHeight/2,q=_.offsetTop+le,he=H+V+q,ue=K-he;if(he<=j){const Ae=P.length>0&&_===P[P.length-1].ref.current;a.style.bottom="0px";const me=c.clientHeight-g.offsetTop-g.offsetHeight,Te=Math.max(ne,le+(Ae?z:0)+me+Y),Oe=he+Te;a.style.height=Oe+"px"}else{const Ae=P.length>0&&_===P[0].ref.current;a.style.top="0px";const Te=Math.max(j,H+g.offsetTop+(Ae?J:0)+le)+ue;a.style.height=Te+"px",g.scrollTop=he-j+g.offsetTop}a.style.margin=`${Bc}px 0`,a.style.minHeight=re+"px",a.style.maxHeight=M+"px",i==null||i(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,a,c,g,_,v,s.dir,i]);Hs(()=>C(),[C]);const[y,b]=N.useState();Hs(()=>{c&&b(window.getComputedStyle(c).zIndex)},[c]);const w=N.useCallback(I=>{I&&m.current===!0&&(C(),S==null||S(),m.current=!1)},[C,S]);return R.jsx(MVe,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:w,children:R.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:R.jsx(pt.div,{...r,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});NCe.displayName=PVe;var kVe="SelectPopperPosition",v9=N.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:r=Bc,...s}=n,o=iM(t);return R.jsx(Uk,{...o,...s,ref:e,align:i,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});v9.displayName=kVe;var[MVe,fY]=uy(S_,{}),S9="SelectViewport",LCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...r}=n,s=up(S9,t),o=fY(S9,t),a=tn(e,s.onViewportChange),l=N.useRef(0);return R.jsxs(R.Fragment,{children:[R.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),R.jsx(tM.Slot,{scope:t,children:R.jsx(pt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:qe(r.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(l.current-u.scrollTop);if(f>0){const m=window.innerHeight-Bc*2,g=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),v=Math.max(g,_);if(v<m){const S=v+f,C=Math.min(m,S),y=S-C;d.style.height=C+"px",d.style.bottom==="0px"&&(u.scrollTop=y>0?y:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});LCe.displayName=S9;var OCe="SelectGroup",[FVe,BVe]=uy(OCe),UVe=N.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,r=Ya();return R.jsx(FVe,{scope:t,id:r,children:R.jsx(pt.div,{role:"group","aria-labelledby":r,...i,ref:e})})});UVe.displayName=OCe;var xCe="SelectLabel",DCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,r=BVe(xCe,t);return R.jsx(pt.div,{id:r.id,...i,ref:e})});DCe.displayName=xCe;var aO="SelectItem",[HVe,PCe]=uy(aO),kCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:r=!1,textValue:s,...o}=n,a=cp(aO,t),l=up(aO,t),c=a.value===i,[u,d]=N.useState(s??""),[h,f]=N.useState(!1),m=tn(e,S=>{var C;return(C=l.itemRefCallback)==null?void 0:C.call(l,S,i,r)}),g=Ya(),_=N.useRef("touch"),v=()=>{r||(a.onValueChange(i),a.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return R.jsx(HVe,{scope:t,value:i,disabled:r,textId:g,isSelected:c,onItemTextChange:N.useCallback(S=>{d(C=>C||((S==null?void 0:S.textContent)??"").trim())},[]),children:R.jsx(tM.ItemSlot,{scope:t,value:i,disabled:r,textValue:u,children:R.jsx(pt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:m,onFocus:qe(o.onFocus,()=>f(!0)),onBlur:qe(o.onBlur,()=>f(!1)),onClick:qe(o.onClick,()=>{_.current!=="mouse"&&v()}),onPointerUp:qe(o.onPointerUp,()=>{_.current==="mouse"&&v()}),onPointerDown:qe(o.onPointerDown,S=>{_.current=S.pointerType}),onPointerMove:qe(o.onPointerMove,S=>{var C;_.current=S.pointerType,r?(C=l.onItemLeave)==null||C.call(l):_.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(o.onPointerLeave,S=>{var C;S.currentTarget===document.activeElement&&((C=l.onItemLeave)==null||C.call(l))}),onKeyDown:qe(o.onKeyDown,S=>{var y;((y=l.searchRef)==null?void 0:y.current)!==""&&S.key===" "||(wVe.includes(S.key)&&v(),S.key===" "&&S.preventDefault())})})})})});kCe.displayName=aO;var dT="SelectItemText",MCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:r,...s}=n,o=cp(dT,t),a=up(dT,t),l=PCe(dT,t),c=NVe(dT,t),[u,d]=N.useState(null),h=tn(e,v=>d(v),l.onItemTextChange,v=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,v,l.value,l.disabled)}),f=u==null?void 0:u.textContent,m=N.useMemo(()=>R.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:_}=c;return Hs(()=>(g(m),()=>_(m)),[g,_,m]),R.jsxs(R.Fragment,{children:[R.jsx(pt.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?oy.createPortal(s.children,o.valueNode):null]})});MCe.displayName=dT;var FCe="SelectItemIndicator",BCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return PCe(FCe,t).isSelected?R.jsx(pt.span,{"aria-hidden":!0,...i,ref:e}):null});BCe.displayName=FCe;var C9="SelectScrollUpButton",UCe=N.forwardRef((n,e)=>{const t=up(C9,n.__scopeSelect),i=fY(C9,n.__scopeSelect),[r,s]=N.useState(!1),o=tn(e,i.onScrollButtonChange);return Hs(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),r?R.jsx(VCe,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});UCe.displayName=C9;var y9="SelectScrollDownButton",HCe=N.forwardRef((n,e)=>{const t=up(y9,n.__scopeSelect),i=fY(y9,n.__scopeSelect),[r,s]=N.useState(!1),o=tn(e,i.onScrollButtonChange);return Hs(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),r?R.jsx(VCe,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});HCe.displayName=y9;var VCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...r}=n,s=up("SelectScrollButton",t),o=N.useRef(null),a=nM(t),l=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>l(),[l]),Hs(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),R.jsx(pt.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:qe(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:qe(r.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:qe(r.onPointerLeave,()=>{l()})})}),VVe="SelectSeparator",WCe=N.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return R.jsx(pt.div,{"aria-hidden":!0,...i,ref:e})});WCe.displayName=VVe;var b9="SelectArrow",WVe=N.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,r=iM(t),s=cp(b9,t),o=up(b9,t);return s.open&&o.position==="popper"?R.jsx(Hk,{...r,...i,ref:e}):null});WVe.displayName=b9;var $Ve="SelectBubbleInput",$Ce=N.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const r=N.useRef(null),s=tn(i,r),o=zw(e);return N.useEffect(()=>{const a=r.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),R.jsx(pt.select,{...t,style:{...ECe,...t.style},ref:s,defaultValue:e})});$Ce.displayName=$Ve;function GCe(n){return n===""||n===void 0}function zCe(n){const e=ss(n),t=N.useRef(""),i=N.useRef(0),r=N.useCallback(o=>{const a=t.current+o;e(a),function l(c){t.current=c,window.clearTimeout(i.current),c!==""&&(i.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=N.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,r,s]}function jCe(n,e,t){const r=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=GVe(n,Math.max(s,0));r.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==t?l:void 0}function GVe(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var YCe=vCe,gY=CCe,KCe=bCe,qCe=TCe,XCe=wCe,pY=ACe,QCe=LCe,ZCe=DCe,mY=kCe,JCe=MCe,eye=BCe,_Y=UCe,EY=HCe,tye=WCe;const zVe=YCe,jVe=KCe,nye=N.forwardRef(({className:n,children:e,...t},i)=>R.jsxs(gY,{ref:i,className:ut("border-input ring-offset-background placeholder:text-muted-foreground focus:ring-ring flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border bg-transparent px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,R.jsx(qCe,{asChild:!0,children:R.jsx(Rj,{className:"h-4 w-4 opacity-50"})})]}));nye.displayName=gY.displayName;const iye=N.forwardRef(({className:n,...e},t)=>R.jsx(_Y,{ref:t,className:ut("flex cursor-default items-center justify-center py-1",n),...e,children:R.jsx(dBe,{className:"h-4 w-4"})}));iye.displayName=_Y.displayName;const rye=N.forwardRef(({className:n,...e},t)=>R.jsx(EY,{ref:t,className:ut("flex cursor-default items-center justify-center py-1",n),...e,children:R.jsx(Rj,{className:"h-4 w-4"})}));rye.displayName=EY.displayName;const sye=N.forwardRef(({className:n,children:e,position:t="popper",...i},r)=>R.jsx(XCe,{children:R.jsxs(pY,{ref:r,className:ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[R.jsx(iye,{}),R.jsx(QCe,{className:ut("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),R.jsx(rye,{})]})}));sye.displayName=pY.displayName;const YVe=N.forwardRef(({className:n,...e},t)=>R.jsx(ZCe,{ref:t,className:ut("px-2 py-1.5 text-sm font-semibold",n),...e}));YVe.displayName=ZCe.displayName;const oye=N.forwardRef(({className:n,children:e,...t},i)=>R.jsxs(mY,{ref:i,className:ut("focus:bg-accent focus:text-accent-foreground relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[R.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(eye,{children:R.jsx(Aj,{className:"h-4 w-4"})})}),R.jsx(JCe,{children:e})]}));oye.displayName=mY.displayName;const KVe=N.forwardRef(({className:n,...e},t)=>R.jsx(tye,{ref:t,className:ut("bg-muted -mx-1 my-1 h-px",n),...e}));KVe.displayName=tye.displayName;var aye=["PageUp","PageDown"],lye=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cye={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},dy="Slider",[T9,qVe,XVe]=sy(dy),[uye,g4t]=us(dy,[XVe]),[QVe,rM]=uye(dy),dye=N.forwardRef((n,e)=>{const{name:t,min:i=0,max:r=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[i],value:u,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:m,...g}=n,_=N.useRef(new Set),v=N.useRef(0),C=o==="horizontal"?ZVe:JVe,[y=[],b]=Vs({prop:u,defaultProp:c,onChange:P=>{var W;(W=[..._.current][v.current])==null||W.focus(),d(P)}}),w=N.useRef(y);function I(P){const M=rWe(y,P);k(P,M)}function O(P){k(P,v.current)}function x(){const P=w.current[v.current];y[v.current]!==P&&h(y)}function k(P,M,{commit:W}={commit:!1}){const F=lWe(s),H=cWe(Math.round((P-i)/s)*s+i,F),V=J0(H,[i,r]);b((Y=[])=>{const $=nWe(Y,V,M);if(aWe($,l*s)){v.current=$.indexOf(V);const K=String($)!==String(Y);return K&&W&&h($),K?$:Y}else return Y})}return R.jsx(QVe,{scope:n.__scopeSlider,name:t,disabled:a,min:i,max:r,valueIndexToChangeRef:v,thumbs:_.current,values:y,orientation:o,form:m,children:R.jsx(T9.Provider,{scope:n.__scopeSlider,children:R.jsx(T9.Slot,{scope:n.__scopeSlider,children:R.jsx(C,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:qe(g.onPointerDown,()=>{a||(w.current=y)}),min:i,max:r,inverted:f,onSlideStart:a?void 0:I,onSlideMove:a?void 0:O,onSlideEnd:a?void 0:x,onHomeKeyDown:()=>!a&&k(i,0,{commit:!0}),onEndKeyDown:()=>!a&&k(r,y.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:M})=>{if(!a){const H=aye.includes(P.key)||P.shiftKey&&lye.includes(P.key)?10:1,V=v.current,Y=y[V],$=s*H*M;k(Y+$,V,{commit:!0})}}})})})})});dye.displayName=dy;var[hye,fye]=uye(dy,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ZVe=N.forwardRef((n,e)=>{const{min:t,max:i,dir:r,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=n,[d,h]=N.useState(null),f=tn(e,C=>h(C)),m=N.useRef(void 0),g=af(r),_=g==="ltr",v=_&&!s||!_&&s;function S(C){const y=m.current||d.getBoundingClientRect(),b=[0,y.width],I=vY(b,v?[t,i]:[i,t]);return m.current=y,I(C-y.left)}return R.jsx(hye,{scope:n.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:R.jsx(gye,{dir:g,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const y=S(C.clientX);o==null||o(y)},onSlideMove:C=>{const y=S(C.clientX);a==null||a(y)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:C=>{const b=cye[v?"from-left":"from-right"].includes(C.key);c==null||c({event:C,direction:b?-1:1})}})})}),JVe=N.forwardRef((n,e)=>{const{min:t,max:i,inverted:r,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=n,u=N.useRef(null),d=tn(e,u),h=N.useRef(void 0),f=!r;function m(g){const _=h.current||u.current.getBoundingClientRect(),v=[0,_.height],C=vY(v,f?[i,t]:[t,i]);return h.current=_,C(g-_.top)}return R.jsx(hye,{scope:n.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:R.jsx(gye,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const _=m(g.clientY);s==null||s(_)},onSlideMove:g=>{const _=m(g.clientY);o==null||o(_)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const v=cye[f?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:v?-1:1})}})})}),gye=N.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:i,onSlideMove:r,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=n,u=rM(dy,t);return R.jsx(pt.span,{...c,ref:e,onKeyDown:qe(n.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):aye.concat(lye).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:qe(n.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(h)?h.focus():i(d)}),onPointerMove:qe(n.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&r(d)}),onPointerUp:qe(n.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),s(d))})})}),pye="SliderTrack",mye=N.forwardRef((n,e)=>{const{__scopeSlider:t,...i}=n,r=rM(pye,t);return R.jsx(pt.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...i,ref:e})});mye.displayName=pye;var w9="SliderRange",_ye=N.forwardRef((n,e)=>{const{__scopeSlider:t,...i}=n,r=rM(w9,t),s=fye(w9,t),o=N.useRef(null),a=tn(e,o),l=r.values.length,c=r.values.map(h=>Sye(h,r.min,r.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return R.jsx(pt.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...i,ref:a,style:{...n.style,[s.startEdge]:u+"%",[s.endEdge]:d+"%"}})});_ye.displayName=w9;var A9="SliderThumb",Eye=N.forwardRef((n,e)=>{const t=qVe(n.__scopeSlider),[i,r]=N.useState(null),s=tn(e,a=>r(a)),o=N.useMemo(()=>i?t().findIndex(a=>a.ref.current===i):-1,[t,i]);return R.jsx(eWe,{...n,ref:s,index:o})}),eWe=N.forwardRef((n,e)=>{const{__scopeSlider:t,index:i,name:r,...s}=n,o=rM(A9,t),a=fye(A9,t),[l,c]=N.useState(null),u=tn(e,S=>c(S)),d=l?o.form||!!l.closest("form"):!0,h=jw(l),f=o.values[i],m=f===void 0?0:Sye(f,o.min,o.max),g=iWe(i,o.values.length),_=h==null?void 0:h[a.size],v=_?sWe(_,m,a.direction):0;return N.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),R.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${m}% + ${v}px)`},children:[R.jsx(T9.ItemSlot,{scope:n.__scopeSlider,children:R.jsx(pt.span,{role:"slider","aria-label":n["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:u,style:f===void 0?{display:"none"}:n.style,onFocus:qe(n.onFocus,()=>{o.valueIndexToChangeRef.current=i})})}),d&&R.jsx(vye,{name:r??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},i)]})});Eye.displayName=A9;var tWe="RadioBubbleInput",vye=N.forwardRef(({__scopeSlider:n,value:e,...t},i)=>{const r=N.useRef(null),s=tn(r,i),o=zw(e);return N.useEffect(()=>{const a=r.current;if(!a)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("input",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),R.jsx(pt.input,{style:{display:"none"},...t,ref:s,defaultValue:e})});vye.displayName=tWe;function nWe(n=[],e,t){const i=[...n];return i[t]=e,i.sort((r,s)=>r-s)}function Sye(n,e,t){const s=100/(t-e)*(n-e);return J0(s,[0,100])}function iWe(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function rWe(n,e){if(n.length===1)return 0;const t=n.map(r=>Math.abs(r-e)),i=Math.min(...t);return t.indexOf(i)}function sWe(n,e,t){const i=n/2,s=vY([0,50],[0,i]);return(i-s(e)*t)*t}function oWe(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function aWe(n,e){if(e>0){const t=oWe(n);return Math.min(...t)>=e}return!0}function vY(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(n[1]-n[0]);return e[0]+i*(t-n[0])}}function lWe(n){return(String(n).split(".")[1]||"").length}function cWe(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var Cye=dye,uWe=mye,dWe=_ye,hWe=Eye;const fWe=N.forwardRef(({className:n,...e},t)=>R.jsxs(Cye,{ref:t,className:ut("relative flex w-full touch-none select-none items-center",n),...e,children:[R.jsx(uWe,{className:"bg-primary/20 relative h-1.5 w-full grow overflow-hidden rounded-full",children:R.jsx(dWe,{className:"bg-primary absolute h-full"})}),R.jsx(hWe,{className:"border-primary/50 bg-background focus-visible:ring-ring block h-4 w-4 rounded-full border shadow transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50"})]}));fWe.displayName=Cye.displayName;const yye=({className:n})=>R.jsx(mBe,{className:ut("text-brand-primary animate-spin",n),size:17}),gWe=500,lO=n=>{const{h:e,delayed:t,children:i,className:r,...s}=n,[o,a]=Z.useState(!t);return Z.useEffect(()=>{if(!o&&t){const l=setTimeout(()=>a(!0),gWe);return()=>clearTimeout(l)}},[o,t]),R.jsx("div",{className:ut("mx-auto flex min-h-[inherit] items-center justify-center",r),style:{minHeight:e},...s,children:o?R.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i,R.jsx(yye,{className:"text-muted-foreground"})]}):null})};var sM="Switch",[pWe,p4t]=us(sM),[mWe,_We]=pWe(sM),bye=N.forwardRef((n,e)=>{const{__scopeSwitch:t,name:i,checked:r,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=n,[h,f]=N.useState(null),m=tn(e,C=>f(C)),g=N.useRef(!1),_=h?u||!!h.closest("form"):!0,[v,S]=Vs({prop:r,defaultProp:s??!1,onChange:c,caller:sM});return R.jsxs(mWe,{scope:t,checked:v,disabled:a,children:[R.jsx(pt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":Rye(v),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:m,onClick:qe(n.onClick,C=>{S(y=>!y),_&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),_&&R.jsx(Aye,{control:h,bubbles:!g.current,name:i,value:l,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});bye.displayName=sM;var Tye="SwitchThumb",wye=N.forwardRef((n,e)=>{const{__scopeSwitch:t,...i}=n,r=_We(Tye,t);return R.jsx(pt.span,{"data-state":Rye(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:e})});wye.displayName=Tye;var EWe="SwitchBubbleInput",Aye=N.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:i=!0,...r},s)=>{const o=N.useRef(null),a=tn(o,s),l=zw(t),c=jw(e);return N.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==t&&f){const m=new Event("click",{bubbles:i});f.call(u,t),u.dispatchEvent(m)}},[l,t,i]),R.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:a,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Aye.displayName=EWe;function Rye(n){return n?"checked":"unchecked"}var Iye=bye,vWe=wye;const SWe=N.forwardRef(({className:n,...e},t)=>R.jsx(Iye,{className:ut("focus-visible:ring-ring focus-visible:ring-offset-background data-[state=checked]:bg-primary data-[state=unchecked]:bg-input peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...e,ref:t,children:R.jsx(vWe,{className:ut("bg-background pointer-events-none block h-4 w-4 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));SWe.displayName=Iye.displayName;const SY=N.forwardRef(({className:n,disableWrapper:e,...t},i)=>e?R.jsx("table",{ref:i,className:ut("w-full caption-bottom text-sm",n),...t}):R.jsx("div",{className:"relative w-full overflow-auto",children:R.jsx("table",{ref:i,className:ut("w-full caption-bottom text-sm",n),...t})}));SY.displayName="Table";const CY=N.forwardRef(({className:n,...e},t)=>R.jsx("thead",{ref:t,className:ut("[&_tr]:border-b",n),...e}));CY.displayName="TableHeader";const yY=N.forwardRef(({className:n,...e},t)=>R.jsx("tbody",{ref:t,className:ut("[&_tr:last-child]:border-0",n),...e}));yY.displayName="TableBody";const CWe=N.forwardRef(({className:n,...e},t)=>R.jsx("tfoot",{ref:t,className:ut("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",n),...e}));CWe.displayName="TableFooter";const Pm=N.forwardRef(({className:n,...e},t)=>R.jsx("tr",{ref:t,className:ut("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e}));Pm.displayName="TableRow";const CS=N.forwardRef(({className:n,...e},t)=>R.jsx("th",{ref:t,className:ut("text-muted-foreground h-10 px-2 text-left align-middle font-medium [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));CS.displayName="TableHead";const gg=N.forwardRef(({className:n,...e},t)=>R.jsx("td",{ref:t,className:ut("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));gg.displayName="TableCell";const yWe=N.forwardRef(({className:n,...e},t)=>R.jsx("caption",{ref:t,className:ut("text-muted-foreground mt-4 text-sm",n),...e}));yWe.displayName="TableCaption";var oM="Tabs",[bWe,m4t]=us(oM,[ap]),Nye=ap(),[TWe,bY]=bWe(oM),Lye=N.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,onValueChange:r,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=n,u=af(a),[d,h]=Vs({prop:i,onChange:r,defaultProp:s??"",caller:oM});return R.jsx(TWe,{scope:t,baseId:Ya(),value:d,onValueChange:h,orientation:o,dir:u,activationMode:l,children:R.jsx(pt.div,{dir:u,"data-orientation":o,...c,ref:e})})});Lye.displayName=oM;var Oye="TabsList",xye=N.forwardRef((n,e)=>{const{__scopeTabs:t,loop:i=!0,...r}=n,s=bY(Oye,t),o=Nye(t);return R.jsx(Vk,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:i,children:R.jsx(pt.div,{role:"tablist","aria-orientation":s.orientation,...r,ref:e})})});xye.displayName=Oye;var Dye="TabsTrigger",Pye=N.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,disabled:r=!1,...s}=n,o=bY(Dye,t),a=Nye(t),l=Fye(o.baseId,i),c=Bye(o.baseId,i),u=i===o.value;return R.jsx(Wk,{asChild:!0,...a,focusable:!r,active:u,children:R.jsx(pt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:l,...s,ref:e,onMouseDown:qe(n.onMouseDown,d=>{!r&&d.button===0&&d.ctrlKey===!1?o.onValueChange(i):d.preventDefault()}),onKeyDown:qe(n.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(i)}),onFocus:qe(n.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!r&&d&&o.onValueChange(i)})})})});Pye.displayName=Dye;var kye="TabsContent",Mye=N.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,forceMount:r,children:s,...o}=n,a=bY(kye,t),l=Fye(a.baseId,i),c=Bye(a.baseId,i),u=i===a.value,d=N.useRef(u);return N.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),R.jsx(ds,{present:r||u,children:({present:h})=>R.jsx(pt.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});Mye.displayName=kye;function Fye(n,e){return`${n}-trigger-${e}`}function Bye(n,e){return`${n}-content-${e}`}var Uye=Lye,TY=xye,wY=Pye,AY=Mye;const wWe=Uye,Hye=N.forwardRef(({className:n,...e},t)=>R.jsx(TY,{ref:t,className:ut("bg-muted text-muted-foreground inline-flex h-9 items-center justify-center rounded-lg p-1",n),...e}));Hye.displayName=TY.displayName;const Vye=N.forwardRef(({className:n,...e},t)=>R.jsx(wY,{ref:t,className:ut("ring-offset-background focus-visible:ring-ring data-[state=active]:bg-background data-[state=active]:text-foreground inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow",n),...e}));Vye.displayName=wY.displayName;const Wye=N.forwardRef(({className:n,...e},t)=>R.jsx(AY,{ref:t,className:ut("ring-offset-background focus-visible:ring-ring mt-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",n),...e}));Wye.displayName=AY.displayName;const AWe=N.forwardRef(({className:n,...e},t)=>R.jsx("textarea",{className:ut("border-input placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[60px] w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-sm focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...e}));AWe.displayName="Textarea";const RWe={theme:"system",setTheme:()=>null},IWe=N.createContext(RWe),NWe=()=>{const n=N.useContext(IWe);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};var LWe="ToastProvider",[$ye,OWe,xWe]=sy("Toast"),[Gye,_4t]=us("Toast",[xWe]),[E4t,aM]=Gye(LWe),zye="ToastViewport",DWe=["F8"],R9="toast.viewportPause",I9="toast.viewportResume",jye=N.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=DWe,label:r="Notifications ({hotkey})",...s}=n,o=aM(zye,t),a=OWe(t),l=N.useRef(null),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),h=tn(e,d,o.onViewportChange),f=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;N.useEffect(()=>{const _=v=>{var C;i.length!==0&&i.every(y=>v[y]||v.code===y)&&((C=d.current)==null||C.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[i]),N.useEffect(()=>{const _=l.current,v=d.current;if(m&&_&&v){const S=()=>{if(!o.isClosePausedRef.current){const w=new CustomEvent(R9);v.dispatchEvent(w),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const w=new CustomEvent(I9);v.dispatchEvent(w),o.isClosePausedRef.current=!1}},y=w=>{!_.contains(w.relatedTarget)&&C()},b=()=>{_.contains(document.activeElement)||C()};return _.addEventListener("focusin",S),_.addEventListener("focusout",y),_.addEventListener("pointermove",S),_.addEventListener("pointerleave",b),window.addEventListener("blur",S),window.addEventListener("focus",C),()=>{_.removeEventListener("focusin",S),_.removeEventListener("focusout",y),_.removeEventListener("pointermove",S),_.removeEventListener("pointerleave",b),window.removeEventListener("blur",S),window.removeEventListener("focus",C)}}},[m,o.isClosePausedRef]);const g=N.useCallback(({tabbingDirection:_})=>{const S=a().map(C=>{const y=C.ref.current,b=[y,...jWe(y)];return _==="forwards"?b:b.reverse()});return(_==="forwards"?S.reverse():S).flat()},[a]);return N.useEffect(()=>{const _=d.current;if(_){const v=S=>{var b,w,I;const C=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!C){const O=document.activeElement,x=S.shiftKey;if(S.target===_&&x){(b=c.current)==null||b.focus();return}const M=g({tabbingDirection:x?"backwards":"forwards"}),W=M.findIndex(F=>F===O);E4(M.slice(W+1))?S.preventDefault():x?(w=c.current)==null||w.focus():(I=u.current)==null||I.focus()}};return _.addEventListener("keydown",v),()=>_.removeEventListener("keydown",v)}},[a,g]),R.jsxs(x4e,{ref:l,role:"region","aria-label":r.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&R.jsx(N9,{ref:c,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"forwards"});E4(_)}}),R.jsx($ye.Slot,{scope:t,children:R.jsx(pt.ol,{tabIndex:-1,...s,ref:h})}),m&&R.jsx(N9,{ref:u,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"backwards"});E4(_)}})]})});jye.displayName=zye;var Yye="ToastFocusProxy",N9=N.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...r}=n,s=aM(Yye,t);return R.jsx(eM,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&i()}})});N9.displayName=Yye;var tA="Toast",PWe="toast.swipeStart",kWe="toast.swipeMove",MWe="toast.swipeCancel",FWe="toast.swipeEnd",Kye=N.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:r,onOpenChange:s,...o}=n,[a,l]=Vs({prop:i,defaultProp:r??!0,onChange:s,caller:tA});return R.jsx(ds,{present:t||a,children:R.jsx(HWe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ss(n.onPause),onResume:ss(n.onResume),onSwipeStart:qe(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(n.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:qe(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(n.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Kye.displayName=tA;var[BWe,UWe]=Gye(tA,{onClose(){}}),HWe=N.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...m}=n,g=aM(tA,t),[_,v]=N.useState(null),S=tn(e,F=>v(F)),C=N.useRef(null),y=N.useRef(null),b=r||g.duration,w=N.useRef(0),I=N.useRef(b),O=N.useRef(0),{onToastAdd:x,onToastRemove:k}=g,P=ss(()=>{var H;(_==null?void 0:_.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),o()}),M=N.useCallback(F=>{!F||F===1/0||(window.clearTimeout(O.current),w.current=new Date().getTime(),O.current=window.setTimeout(P,F))},[P]);N.useEffect(()=>{const F=g.viewport;if(F){const H=()=>{M(I.current),c==null||c()},V=()=>{const Y=new Date().getTime()-w.current;I.current=I.current-Y,window.clearTimeout(O.current),l==null||l()};return F.addEventListener(R9,V),F.addEventListener(I9,H),()=>{F.removeEventListener(R9,V),F.removeEventListener(I9,H)}}},[g.viewport,b,l,c,M]),N.useEffect(()=>{s&&!g.isClosePausedRef.current&&M(b)},[s,b,g.isClosePausedRef,M]),N.useEffect(()=>(x(),()=>k()),[x,k]);const W=N.useMemo(()=>_?tbe(_):null,[_]);return g.viewport?R.jsxs(R.Fragment,{children:[W&&R.jsx(VWe,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),R.jsx(BWe,{scope:t,onClose:P,children:oy.createPortal(R.jsx($ye.ItemSlot,{scope:t,children:R.jsx(O4e,{asChild:!0,onEscapeKeyDown:qe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:R.jsx(pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:S,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:qe(n.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:qe(n.onPointerDown,F=>{F.button===0&&(C.current={x:F.clientX,y:F.clientY})}),onPointerMove:qe(n.onPointerMove,F=>{if(!C.current)return;const H=F.clientX-C.current.x,V=F.clientY-C.current.y,Y=!!y.current,$=["left","right"].includes(g.swipeDirection),K=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,re=$?K(0,H):0,G=$?0:K(0,V),J=F.pointerType==="touch"?10:2,z={x:re,y:G},j={originalEvent:F,delta:z};Y?(y.current=z,tI(kWe,d,j,{discrete:!1})):Vte(z,g.swipeDirection,J)?(y.current=z,tI(PWe,u,j,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(H)>J||Math.abs(V)>J)&&(C.current=null)}),onPointerUp:qe(n.onPointerUp,F=>{const H=y.current,V=F.target;if(V.hasPointerCapture(F.pointerId)&&V.releasePointerCapture(F.pointerId),y.current=null,C.current=null,H){const Y=F.currentTarget,$={originalEvent:F,delta:H};Vte(H,g.swipeDirection,g.swipeThreshold)?tI(FWe,f,$,{discrete:!0}):tI(MWe,h,$,{discrete:!0}),Y.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),VWe=n=>{const{__scopeToast:e,children:t,...i}=n,r=aM(tA,e),[s,o]=N.useState(!1),[a,l]=N.useState(!1);return GWe(()=>o(!0)),N.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:R.jsx(Y_,{asChild:!0,children:R.jsx(eM,{...i,children:s&&R.jsxs(R.Fragment,{children:[r.label," ",t]})})})},WWe="ToastTitle",qye=N.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return R.jsx(pt.div,{...i,ref:e})});qye.displayName=WWe;var $We="ToastDescription",Xye=N.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return R.jsx(pt.div,{...i,ref:e})});Xye.displayName=$We;var Qye="ToastAction",Zye=N.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?R.jsx(ebe,{altText:t,asChild:!0,children:R.jsx(RY,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Qye}\`. Expected non-empty \`string\`.`),null)});Zye.displayName=Qye;var Jye="ToastClose",RY=N.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,r=UWe(Jye,t);return R.jsx(ebe,{asChild:!0,children:R.jsx(pt.button,{type:"button",...i,ref:e,onClick:qe(n.onClick,r.onClose)})})});RY.displayName=Jye;var ebe=N.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...r}=n;return R.jsx(pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function tbe(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),zWe(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...tbe(i))}}),e}function tI(n,e,t,{discrete:i}){const r=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?vj(r,s):r.dispatchEvent(s)}var Vte=(n,e,t=0)=>{const i=Math.abs(n.x),r=Math.abs(n.y),s=i>r;return e==="left"||e==="right"?s&&i>t:!s&&r>t};function GWe(n=()=>{}){const e=ss(n);Hs(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function zWe(n){return n.nodeType===n.ELEMENT_NODE}function jWe(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function E4(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var nbe=jye,ibe=Kye,rbe=qye,sbe=Xye,obe=Zye,abe=RY;const YWe=N.forwardRef(({className:n,...e},t)=>R.jsx(nbe,{ref:t,className:ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));YWe.displayName=nbe.displayName;const KWe=z_("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qWe=N.forwardRef(({className:n,variant:e,...t},i)=>R.jsx(ibe,{ref:i,className:ut(KWe({variant:e}),n),...t}));qWe.displayName=ibe.displayName;const XWe=N.forwardRef(({className:n,...e},t)=>R.jsx(obe,{ref:t,className:ut("hover:bg-secondary focus:ring-ring group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors focus:outline-none focus:ring-1 disabled:pointer-events-none disabled:opacity-50",n),...e}));XWe.displayName=obe.displayName;const QWe=N.forwardRef(({className:n,...e},t)=>R.jsx(abe,{ref:t,className:ut("text-foreground/50 hover:text-foreground absolute right-1 top-1 rounded-md p-1 opacity-0 transition-opacity focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:R.jsx(rEe,{className:"h-4 w-4"})}));QWe.displayName=abe.displayName;const ZWe=N.forwardRef(({className:n,...e},t)=>R.jsx(rbe,{ref:t,className:ut("text-sm font-semibold [&+div]:text-xs",n),...e}));ZWe.displayName=rbe.displayName;const JWe=N.forwardRef(({className:n,...e},t)=>R.jsx(sbe,{ref:t,className:ut("text-sm opacity-90",n),...e}));JWe.displayName=sbe.displayName;var lbe="Toggle",IY=N.forwardRef((n,e)=>{const{pressed:t,defaultPressed:i,onPressedChange:r,...s}=n,[o,a]=Vs({prop:t,onChange:r,defaultProp:i??!1,caller:lbe});return R.jsx(pt.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":n.disabled?"":void 0,...s,ref:e,onClick:qe(n.onClick,()=>{n.disabled||a(!o)})})});IY.displayName=lbe;var cbe=IY,dp="ToggleGroup",[ube,v4t]=us(dp,[ap]),dbe=ap(),NY=Z.forwardRef((n,e)=>{const{type:t,...i}=n;if(t==="single"){const r=i;return R.jsx(e9e,{...r,ref:e})}if(t==="multiple"){const r=i;return R.jsx(t9e,{...r,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${dp}\``)});NY.displayName=dp;var[hbe,fbe]=ube(dp),e9e=Z.forwardRef((n,e)=>{const{value:t,defaultValue:i,onValueChange:r=()=>{},...s}=n,[o,a]=Vs({prop:t,defaultProp:i??"",onChange:r,caller:dp});return R.jsx(hbe,{scope:n.__scopeToggleGroup,type:"single",value:Z.useMemo(()=>o?[o]:[],[o]),onItemActivate:a,onItemDeactivate:Z.useCallback(()=>a(""),[a]),children:R.jsx(gbe,{...s,ref:e})})}),t9e=Z.forwardRef((n,e)=>{const{value:t,defaultValue:i,onValueChange:r=()=>{},...s}=n,[o,a]=Vs({prop:t,defaultProp:i??[],onChange:r,caller:dp}),l=Z.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=Z.useCallback(u=>a((d=[])=>d.filter(h=>h!==u)),[a]);return R.jsx(hbe,{scope:n.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:R.jsx(gbe,{...s,ref:e})})});NY.displayName=dp;var[n9e,i9e]=ube(dp),gbe=Z.forwardRef((n,e)=>{const{__scopeToggleGroup:t,disabled:i=!1,rovingFocus:r=!0,orientation:s,dir:o,loop:a=!0,...l}=n,c=dbe(t),u=af(o),d={role:"group",dir:u,...l};return R.jsx(n9e,{scope:t,rovingFocus:r,disabled:i,children:r?R.jsx(Vk,{asChild:!0,...c,orientation:s,dir:u,loop:a,children:R.jsx(pt.div,{...d,ref:e})}):R.jsx(pt.div,{...d,ref:e})})}),cO="ToggleGroupItem",pbe=Z.forwardRef((n,e)=>{const t=fbe(cO,n.__scopeToggleGroup),i=i9e(cO,n.__scopeToggleGroup),r=dbe(n.__scopeToggleGroup),s=t.value.includes(n.value),o=i.disabled||n.disabled,a={...n,pressed:s,disabled:o},l=Z.useRef(null);return i.rovingFocus?R.jsx(Wk,{asChild:!0,...r,focusable:!o,active:s,ref:l,children:R.jsx(Wte,{...a,ref:e})}):R.jsx(Wte,{...a,ref:e})});pbe.displayName=cO;var Wte=Z.forwardRef((n,e)=>{const{__scopeToggleGroup:t,value:i,...r}=n,s=fbe(cO,t),o={role:"radio","aria-checked":n.pressed,"aria-pressed":void 0},a=s.type==="single"?o:void 0;return R.jsx(IY,{...a,...r,ref:e,onPressedChange:l=>{l?s.onItemActivate(i):s.onItemDeactivate(i)}})}),mbe=NY,_be=pbe;const Ebe=z_("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),r9e=N.forwardRef(({className:n,variant:e,size:t,...i},r)=>R.jsx(cbe,{ref:r,className:ut(Ebe({variant:e,size:t,className:n})),...i}));r9e.displayName=cbe.displayName;const vbe=N.createContext({size:"default",variant:"default"}),s9e=N.forwardRef(({className:n,variant:e,size:t,children:i,...r},s)=>R.jsx(mbe,{ref:s,className:ut("flex items-center justify-center gap-1",n),...r,children:R.jsx(vbe.Provider,{value:{variant:e,size:t},children:i})}));s9e.displayName=mbe.displayName;const o9e=N.forwardRef(({className:n,children:e,variant:t,size:i,...r},s)=>{const o=N.useContext(vbe);return R.jsx(_be,{ref:s,className:ut(Ebe({variant:o.variant||t,size:o.size||i}),n),...r,children:e})});o9e.displayName=_be.displayName;var[lM,S4t]=us("Tooltip",[op]),cM=op(),Sbe="TooltipProvider",a9e=700,L9="tooltip.open",[l9e,LY]=lM(Sbe),Cbe=n=>{const{__scopeTooltip:e,delayDuration:t=a9e,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=n,o=N.useRef(!0),a=N.useRef(!1),l=N.useRef(0);return N.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),R.jsx(l9e,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:N.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:N.useCallback(c=>{a.current=c},[]),disableHoverableContent:r,children:s})};Cbe.displayName=Sbe;var e1="Tooltip",[c9e,nA]=lM(e1),ybe=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:r,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=LY(e1,n.__scopeTooltip),c=cM(e),[u,d]=N.useState(null),h=Ya(),f=N.useRef(0),m=o??l.disableHoverableContent,g=a??l.delayDuration,_=N.useRef(!1),[v,S]=Vs({prop:i,defaultProp:r??!1,onChange:I=>{I?(l.onOpen(),document.dispatchEvent(new CustomEvent(L9))):l.onClose(),s==null||s(I)},caller:e1}),C=N.useMemo(()=>v?_.current?"delayed-open":"instant-open":"closed",[v]),y=N.useCallback(()=>{window.clearTimeout(f.current),f.current=0,_.current=!1,S(!0)},[S]),b=N.useCallback(()=>{window.clearTimeout(f.current),f.current=0,S(!1)},[S]),w=N.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{_.current=!0,S(!0),f.current=0},g)},[g,S]);return N.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),R.jsx(Bk,{...c,children:R.jsx(c9e,{scope:e,contentId:h,open:v,stateAttribute:C,trigger:u,onTriggerChange:d,onTriggerEnter:N.useCallback(()=>{l.isOpenDelayedRef.current?w():y()},[l.isOpenDelayedRef,w,y]),onTriggerLeave:N.useCallback(()=>{m?b():(window.clearTimeout(f.current),f.current=0)},[b,m]),onOpen:y,onClose:b,disableHoverableContent:m,children:t})})};ybe.displayName=e1;var O9="TooltipTrigger",bbe=N.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=nA(O9,t),s=LY(O9,t),o=cM(t),a=N.useRef(null),l=tn(e,a,r.onTriggerChange),c=N.useRef(!1),u=N.useRef(!1),d=N.useCallback(()=>c.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),R.jsx(Xw,{asChild:!0,...o,children:R.jsx(pt.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:qe(n.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:qe(n.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:qe(n.onPointerDown,()=>{r.open&&r.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:qe(n.onFocus,()=>{c.current||r.onOpen()}),onBlur:qe(n.onBlur,r.onClose),onClick:qe(n.onClick,r.onClose)})})});bbe.displayName=O9;var OY="TooltipPortal",[u9e,d9e]=lM(OY,{forceMount:void 0}),Tbe=n=>{const{__scopeTooltip:e,forceMount:t,children:i,container:r}=n,s=nA(OY,e);return R.jsx(u9e,{scope:e,forceMount:t,children:R.jsx(ds,{present:t||s.open,children:R.jsx(Y_,{asChild:!0,container:r,children:i})})})};Tbe.displayName=OY;var tC="TooltipContent",wbe=N.forwardRef((n,e)=>{const t=d9e(tC,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=nA(tC,n.__scopeTooltip);return R.jsx(ds,{present:i||o.open,children:o.disableHoverableContent?R.jsx(Abe,{side:r,...s,ref:e}):R.jsx(h9e,{side:r,...s,ref:e})})}),h9e=N.forwardRef((n,e)=>{const t=nA(tC,n.__scopeTooltip),i=LY(tC,n.__scopeTooltip),r=N.useRef(null),s=tn(e,r),[o,a]=N.useState(null),{trigger:l,onClose:c}=t,u=r.current,{onPointerInTransitChange:d}=i,h=N.useCallback(()=>{a(null),d(!1)},[d]),f=N.useCallback((m,g)=>{const _=m.currentTarget,v={x:m.clientX,y:m.clientY},S=m9e(v,_.getBoundingClientRect()),C=_9e(v,S),y=E9e(g.getBoundingClientRect()),b=S9e([...C,...y]);a(b),d(!0)},[d]);return N.useEffect(()=>()=>h(),[h]),N.useEffect(()=>{if(l&&u){const m=_=>f(_,u),g=_=>f(_,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,f,h]),N.useEffect(()=>{if(o){const m=g=>{const _=g.target,v={x:g.clientX,y:g.clientY},S=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),C=!v9e(v,o);S?h():C&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,h]),R.jsx(Abe,{...n,ref:s})}),[f9e,g9e]=lM(e1,{isInside:!1}),p9e=TFe("TooltipContent"),Abe=N.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=nA(tC,t),c=cM(t),{onClose:u}=l;return N.useEffect(()=>(document.addEventListener(L9,u),()=>document.removeEventListener(L9,u)),[u]),N.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),R.jsx(j_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:R.jsxs(Uk,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[R.jsx(p9e,{children:i}),R.jsx(f9e,{scope:t,isInside:!0,children:R.jsx(bVe,{id:l.contentId,role:"tooltip",children:r||i})})]})})});wbe.displayName=tC;var Rbe="TooltipArrow",Ibe=N.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=cM(t);return g9e(Rbe,t).isInside?null:R.jsx(Hk,{...r,...i,ref:e})});Ibe.displayName=Rbe;function m9e(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function _9e(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function E9e(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function v9e(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,d=l.x,h=l.y;u>i!=h>i&&t<(d-c)*(i-u)/(h-u)+c&&(r=!r)}return r}function S9e(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),C9e(e)}function C9e(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var y9e=Cbe,b9e=ybe,T9e=bbe,Nbe=Tbe,xY=wbe,w9e=Ibe;const A9e=N.forwardRef(({className:n,sideOffset:e=4,...t},i)=>R.jsx(Nbe,{children:R.jsx(xY,{ref:i,sideOffset:e,className:ut("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden rounded-md px-3 py-1.5 text-xs",n),...t})}));A9e.displayName=xY.displayName;var v4,$te;function R9e(){if($te)return v4;$te=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=typeof uo=="object"&&uo&&uo.Object===Object&&uo,c=typeof self=="object"&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype,h=d.toString,f=Math.max,m=Math.min,g=function(){return u.Date.now()};function _(b,w,I){var O,x,k,P,M,W,F=0,H=!1,V=!1,Y=!0;if(typeof b!="function")throw new TypeError(n);w=y(w)||0,v(I)&&(H=!!I.leading,V="maxWait"in I,k=V?f(y(I.maxWait)||0,w):k,Y="trailing"in I?!!I.trailing:Y);function $(q){var he=O,ue=x;return O=x=void 0,F=q,P=b.apply(ue,he),P}function K(q){return F=q,M=setTimeout(J,w),H?$(q):P}function re(q){var he=q-W,ue=q-F,pe=w-he;return V?m(pe,k-ue):pe}function G(q){var he=q-W,ue=q-F;return W===void 0||he>=w||he<0||V&&ue>=k}function J(){var q=g();if(G(q))return z(q);M=setTimeout(J,re(q))}function z(q){return M=void 0,Y&&O?$(q):(O=x=void 0,P)}function j(){M!==void 0&&clearTimeout(M),F=0,O=W=x=M=void 0}function ne(){return M===void 0?P:z(g())}function le(){var q=g(),he=G(q);if(O=arguments,x=this,W=q,he){if(M===void 0)return K(W);if(V)return M=setTimeout(J,w),$(W)}return M===void 0&&(M=setTimeout(J,w)),P}return le.cancel=j,le.flush=ne,le}function v(b){var w=typeof b;return!!b&&(w=="object"||w=="function")}function S(b){return!!b&&typeof b=="object"}function C(b){return typeof b=="symbol"||S(b)&&h.call(b)==t}function y(b){if(typeof b=="number")return b;if(C(b))return e;if(v(b)){var w=typeof b.valueOf=="function"?b.valueOf():b;b=v(w)?w+"":w}if(typeof b!="string")return b===0?b:+b;b=b.replace(i,"");var I=s.test(b);return I||o.test(b)?a(b.slice(2),I?2:8):r.test(b)?e:+b}return v4=_,v4}var I9e=R9e();const Gte=Si(I9e);var S4,zte;function Lbe(){if(zte)return S4;zte=1;function n(t,i){return{handler:t,config:i}}n.withOptions=function(t,i=()=>({})){function r(s){return{handler:t(s),config:i(s)}}return r.__isOptionsFunction=!0,r};var e=n;return S4=e,S4}var C4,jte;function N9e(){if(jte)return C4;jte=1;const n=Lbe();function e(t){return Object.fromEntries(Object.entries(t).filter(([i])=>i!=="DEFAULT"))}return C4=n(({addUtilities:t,matchUtilities:i,theme:r})=>{t({"@keyframes enter":r("keyframes.enter"),"@keyframes exit":r("keyframes.exit"),".animate-in":{animationName:"enter",animationDuration:r("animationDuration.DEFAULT"),"--tw-enter-opacity":"initial","--tw-enter-scale":"initial","--tw-enter-rotate":"initial","--tw-enter-translate-x":"initial","--tw-enter-translate-y":"initial"},".animate-out":{animationName:"exit",animationDuration:r("animationDuration.DEFAULT"),"--tw-exit-opacity":"initial","--tw-exit-scale":"initial","--tw-exit-rotate":"initial","--tw-exit-translate-x":"initial","--tw-exit-translate-y":"initial"}}),i({"fade-in":s=>({"--tw-enter-opacity":s}),"fade-out":s=>({"--tw-exit-opacity":s})},{values:r("animationOpacity")}),i({"zoom-in":s=>({"--tw-enter-scale":s}),"zoom-out":s=>({"--tw-exit-scale":s})},{values:r("animationScale")}),i({"spin-in":s=>({"--tw-enter-rotate":s}),"spin-out":s=>({"--tw-exit-rotate":s})},{values:r("animationRotate")}),i({"slide-in-from-top":s=>({"--tw-enter-translate-y":`-${s}`}),"slide-in-from-bottom":s=>({"--tw-enter-translate-y":s}),"slide-in-from-left":s=>({"--tw-enter-translate-x":`-${s}`}),"slide-in-from-right":s=>({"--tw-enter-translate-x":s}),"slide-out-to-top":s=>({"--tw-exit-translate-y":`-${s}`}),"slide-out-to-bottom":s=>({"--tw-exit-translate-y":s}),"slide-out-to-left":s=>({"--tw-exit-translate-x":`-${s}`}),"slide-out-to-right":s=>({"--tw-exit-translate-x":s})},{values:r("animationTranslate")}),i({duration:s=>({animationDuration:s})},{values:e(r("animationDuration"))}),i({delay:s=>({animationDelay:s})},{values:r("animationDelay")}),i({ease:s=>({animationTimingFunction:s})},{values:e(r("animationTimingFunction"))}),t({".running":{animationPlayState:"running"},".paused":{animationPlayState:"paused"}}),i({"fill-mode":s=>({animationFillMode:s})},{values:r("animationFillMode")}),i({direction:s=>({animationDirection:s})},{values:r("animationDirection")}),i({repeat:s=>({animationIterationCount:s})},{values:r("animationRepeat")})},{theme:{extend:{animationDelay:({theme:t})=>({...t("transitionDelay")}),animationDuration:({theme:t})=>({0:"0ms",...t("transitionDuration")}),animationTimingFunction:({theme:t})=>({...t("transitionTimingFunction")}),animationFillMode:{none:"none",forwards:"forwards",backwards:"backwards",both:"both"},animationDirection:{normal:"normal",reverse:"reverse",alternate:"alternate","alternate-reverse":"alternate-reverse"},animationOpacity:({theme:t})=>({DEFAULT:0,...t("opacity")}),animationTranslate:({theme:t})=>({DEFAULT:"100%",...t("translate")}),animationScale:({theme:t})=>({DEFAULT:0,...t("scale")}),animationRotate:({theme:t})=>({DEFAULT:"30deg",...t("rotate")}),animationRepeat:{0:"0",1:"1",infinite:"infinite"},keyframes:{enter:{from:{opacity:"var(--tw-enter-opacity, 1)",transform:"translate3d(var(--tw-enter-translate-x, 0), var(--tw-enter-translate-y, 0), 0) scale3d(var(--tw-enter-scale, 1), var(--tw-enter-scale, 1), var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))"}},exit:{to:{opacity:"var(--tw-exit-opacity, 1)",transform:"translate3d(var(--tw-exit-translate-x, 0), var(--tw-exit-translate-y, 0), 0) scale3d(var(--tw-exit-scale, 1), var(--tw-exit-scale, 1), var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))"}}}}}}),C4}N9e();var hT={exports:{}};hT.exports;var Yte;function L9e(){return Yte||(Yte=1,function(n,e){var t=200,i="__lodash_hash_undefined__",r=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",m="[object GeneratorFunction]",g="[object Map]",_="[object Number]",v="[object Null]",S="[object Object]",C="[object Proxy]",y="[object RegExp]",b="[object Set]",w="[object String]",I="[object Undefined]",O="[object WeakMap]",x="[object ArrayBuffer]",k="[object DataView]",P="[object Float32Array]",M="[object Float64Array]",W="[object Int8Array]",F="[object Int16Array]",H="[object Int32Array]",V="[object Uint8Array]",Y="[object Uint8ClampedArray]",$="[object Uint16Array]",K="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,G=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,z={};z[P]=z[M]=z[W]=z[F]=z[H]=z[V]=z[Y]=z[$]=z[K]=!0,z[a]=z[l]=z[x]=z[u]=z[k]=z[d]=z[h]=z[f]=z[g]=z[_]=z[S]=z[y]=z[b]=z[w]=z[O]=!1;var j=typeof uo=="object"&&uo&&uo.Object===Object&&uo,ne=typeof self=="object"&&self&&self.Object===Object&&self,le=j||ne||Function("return this")(),q=e&&!e.nodeType&&e,he=q&&!0&&n&&!n.nodeType&&n,ue=he&&he.exports===q,pe=ue&&j.process,Ae=function(){try{var oe=he&&he.require&&he.require("util").types;return oe||pe&&pe.binding&&pe.binding("util")}catch{}}(),me=Ae&&Ae.isTypedArray;function Te(oe,be,Fe){switch(Fe.length){case 0:return oe.call(be);case 1:return oe.call(be,Fe[0]);case 2:return oe.call(be,Fe[0],Fe[1]);case 3:return oe.call(be,Fe[0],Fe[1],Fe[2])}return oe.apply(be,Fe)}function Oe(oe,be){for(var Fe=-1,Ot=Array(oe);++Fe<oe;)Ot[Fe]=be(Fe);return Ot}function ft(oe){return function(be){return oe(be)}}function kt(oe,be){return oe==null?void 0:oe[be]}function Vt(oe,be){return function(Fe){return oe(be(Fe))}}var yt=Array.prototype,vt=Function.prototype,Yt=Object.prototype,_t=le["__core-js_shared__"],ae=vt.toString,Se=Yt.hasOwnProperty,De=function(){var oe=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""}(),je=Yt.toString,Ye=ae.call(Object),ze=RegExp("^"+ae.call(Se).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=ue?le.Buffer:void 0,Xt=le.Symbol,Tn=le.Uint8Array;lt&&lt.allocUnsafe;var wn=Vt(Object.getPrototypeOf,Object),fs=Object.create,gs=Yt.propertyIsEnumerable,Ci=yt.splice,mr=Xt?Xt.toStringTag:void 0,zs=function(){try{var oe=Hy(Object,"defineProperty");return oe({},"",{}),oe}catch{}}(),Is=lt?lt.isBuffer:void 0,Vn=Math.max,tl=Date.now,Ru=Hy(le,"Map"),Oo=Hy(Object,"create"),Gi=function(){function oe(){}return function(be){if(!Nu(be))return{};if(fs)return fs(be);oe.prototype=be;var Fe=new oe;return oe.prototype=void 0,Fe}}();function Ns(oe){var be=-1,Fe=oe==null?0:oe.length;for(this.clear();++be<Fe;){var Ot=oe[be];this.set(Ot[0],Ot[1])}}function vf(){this.__data__=Oo?Oo(null):{},this.size=0}function Md(oe){var be=this.has(oe)&&delete this.__data__[oe];return this.size-=be?1:0,be}function Iu(oe){var be=this.__data__;if(Oo){var Fe=be[oe];return Fe===i?void 0:Fe}return Se.call(be,oe)?be[oe]:void 0}function Zt(oe){var be=this.__data__;return Oo?be[oe]!==void 0:Se.call(be,oe)}function ee(oe,be){var Fe=this.__data__;return this.size+=this.has(oe)?0:1,Fe[oe]=Oo&&be===void 0?i:be,this}Ns.prototype.clear=vf,Ns.prototype.delete=Md,Ns.prototype.get=Iu,Ns.prototype.has=Zt,Ns.prototype.set=ee;function te(oe){var be=-1,Fe=oe==null?0:oe.length;for(this.clear();++be<Fe;){var Ot=oe[be];this.set(Ot[0],Ot[1])}}function se(){this.__data__=[],this.size=0}function fe(oe){var be=this.__data__,Fe=Ar(be,oe);if(Fe<0)return!1;var Ot=be.length-1;return Fe==Ot?be.pop():Ci.call(be,Fe,1),--this.size,!0}function ve(oe){var be=this.__data__,Fe=Ar(be,oe);return Fe<0?void 0:be[Fe][1]}function Ie(oe){return Ar(this.__data__,oe)>-1}function ke(oe,be){var Fe=this.__data__,Ot=Ar(Fe,oe);return Ot<0?(++this.size,Fe.push([oe,be])):Fe[Ot][1]=be,this}te.prototype.clear=se,te.prototype.delete=fe,te.prototype.get=ve,te.prototype.has=Ie,te.prototype.set=ke;function Qe(oe){var be=-1,Fe=oe==null?0:oe.length;for(this.clear();++be<Fe;){var Ot=oe[be];this.set(Ot[0],Ot[1])}}function dt(){this.size=0,this.__data__={hash:new Ns,map:new(Ru||te),string:new Ns}}function Kt(oe){var be=bE(this,oe).delete(oe);return this.size-=be?1:0,be}function Wn(oe){return bE(this,oe).get(oe)}function Xn(oe){return bE(this,oe).has(oe)}function Ni(oe,be){var Fe=bE(this,oe),Ot=Fe.size;return Fe.set(oe,be),this.size+=Fe.size==Ot?0:1,this}Qe.prototype.clear=dt,Qe.prototype.delete=Kt,Qe.prototype.get=Wn,Qe.prototype.has=Xn,Qe.prototype.set=Ni;function Fn(oe){var be=this.__data__=new te(oe);this.size=be.size}function ps(){this.__data__=new te,this.size=0}function js(oe){var be=this.__data__,Fe=be.delete(oe);return this.size=be.size,Fe}function Fd(oe){return this.__data__.get(oe)}function Lt(oe){return this.__data__.has(oe)}function Ce(oe,be){var Fe=this.__data__;if(Fe instanceof te){var Ot=Fe.__data__;if(!Ru||Ot.length<t-1)return Ot.push([oe,be]),this.size=++Fe.size,this;Fe=this.__data__=new Qe(Ot)}return Fe.set(oe,be),this.size=Fe.size,this}Fn.prototype.clear=ps,Fn.prototype.delete=js,Fn.prototype.get=Fd,Fn.prototype.has=Lt,Fn.prototype.set=Ce;function it(oe,be){var Fe=kl(oe),Ot=!Fe&&Pl(oe),ni=!Fe&&!Ot&&Sf(oe),Fi=!Fe&&!Ot&&!ni&&zy(oe),er=Fe||Ot||ni||Fi,Qn=er?Oe(oe.length,String):[],Yi=Qn.length;for(var xo in oe)er&&(xo=="length"||ni&&(xo=="offset"||xo=="parent")||Fi&&(xo=="buffer"||xo=="byteLength"||xo=="byteOffset")||TE(xo,Yi))||Qn.push(xo);return Qn}function Ct(oe,be,Fe){(Fe!==void 0&&!Bd(oe[be],Fe)||Fe===void 0&&!(be in oe))&&Bn(oe,be,Fe)}function Bi(oe,be,Fe){var Ot=oe[be];(!(Se.call(oe,be)&&Bd(Ot,Fe))||Fe===void 0&&!(be in oe))&&Bn(oe,be,Fe)}function Ar(oe,be){for(var Fe=oe.length;Fe--;)if(Bd(oe[Fe][0],be))return Fe;return-1}function Bn(oe,be,Fe){be=="__proto__"&&zs?zs(oe,be,{configurable:!0,enumerable:!0,value:Fe,writable:!0}):oe[be]=Fe}var Ys=yE();function Ls(oe){return oe==null?oe===void 0?I:v:mr&&mr in Object(oe)?Vy(oe):YA(oe)}function Cc(oe){return yc(oe)&&Ls(oe)==a}function Ur(oe){if(!Nu(oe)||Wy(oe))return!1;var be=Fl(oe)?ze:G;return be.test(Gy(oe))}function vE(oe){return yc(oe)&&XA(oe.length)&&!!z[Ls(oe)]}function bp(oe){if(!Nu(oe))return jA(oe);var be=Li(oe),Fe=[];for(var Ot in oe)Ot=="constructor"&&(be||!Se.call(oe,Ot))||Fe.push(Ot);return Fe}function Tp(oe,be,Fe,Ot,ni){oe!==be&&Ys(be,function(Fi,er){if(ni||(ni=new Fn),Nu(Fi))Dl(oe,be,er,Fe,Tp,Ot,ni);else{var Qn=Ot?Ot(wE(oe,er),Fi,er+"",oe,be,ni):void 0;Qn===void 0&&(Qn=Fi),Ct(oe,er,Qn)}},jy)}function Dl(oe,be,Fe,Ot,ni,Fi,er){var Qn=wE(oe,Fe),Yi=wE(be,Fe),xo=er.get(Yi);if(xo){Ct(oe,Fe,xo);return}var Do=Fi?Fi(Qn,Yi,Fe+"",oe,be,er):void 0,Lu=Do===void 0;if(Lu){var bf=kl(Yi),RE=!bf&&Sf(Yi),Po=!bf&&!RE&&zy(Yi);Do=Yi,bf||RE||Po?kl(Qn)?Do=Qn:Rp(Qn)?Do=SE(Qn):RE?(Lu=!1,Do=hF(Yi)):Po?(Lu=!1,Do=gF(Yi)):Do=[]:mF(Yi)||Pl(Yi)?(Do=Qn,Pl(Qn)?Do=AE(Qn):(!Nu(Qn)||Fl(Qn))&&(Do=zA(Yi))):Lu=!1}Lu&&(er.set(Yi,Do),ni(Do,Yi,Ot,Fi,er),er.delete(Yi)),Ct(oe,Fe,Do)}function dF(oe,be){return KA($y(oe,be,Cf),oe+"")}var nl=zs?function(oe,be){return zs(oe,"toString",{configurable:!0,enumerable:!1,value:Ip(be),writable:!0})}:Cf;function hF(oe,be){return oe.slice()}function fF(oe){var be=new oe.constructor(oe.byteLength);return new Tn(be).set(new Tn(oe)),be}function gF(oe,be){var Fe=fF(oe.buffer);return new oe.constructor(Fe,oe.byteOffset,oe.length)}function SE(oe,be){var Fe=-1,Ot=oe.length;for(be||(be=Array(Ot));++Fe<Ot;)be[Fe]=oe[Fe];return be}function CE(oe,be,Fe,Ot){var ni=!Fe;Fe||(Fe={});for(var Fi=-1,er=be.length;++Fi<er;){var Qn=be[Fi],Yi=void 0;Yi===void 0&&(Yi=oe[Qn]),ni?Bn(Fe,Qn,Yi):Bi(Fe,Qn,Yi)}return Fe}function wp(oe){return dF(function(be,Fe){var Ot=-1,ni=Fe.length,Fi=ni>1?Fe[ni-1]:void 0,er=ni>2?Fe[2]:void 0;for(Fi=oe.length>3&&typeof Fi=="function"?(ni--,Fi):void 0,er&&Ap(Fe[0],Fe[1],er)&&(Fi=ni<3?void 0:Fi,ni=1),be=Object(be);++Ot<ni;){var Qn=Fe[Ot];Qn&&oe(be,Qn,Ot,Fi)}return be})}function yE(oe){return function(be,Fe,Ot){for(var ni=-1,Fi=Object(be),er=Ot(be),Qn=er.length;Qn--;){var Yi=er[++ni];if(Fe(Fi[Yi],Yi,Fi)===!1)break}return be}}function bE(oe,be){var Fe=oe.__data__;return pF(be)?Fe[typeof be=="string"?"string":"hash"]:Fe.map}function Hy(oe,be){var Fe=kt(oe,be);return Ur(Fe)?Fe:void 0}function Vy(oe){var be=Se.call(oe,mr),Fe=oe[mr];try{oe[mr]=void 0;var Ot=!0}catch{}var ni=je.call(oe);return Ot&&(be?oe[mr]=Fe:delete oe[mr]),ni}function zA(oe){return typeof oe.constructor=="function"&&!Li(oe)?Gi(wn(oe)):{}}function TE(oe,be){var Fe=typeof oe;return be=be??o,!!be&&(Fe=="number"||Fe!="symbol"&&J.test(oe))&&oe>-1&&oe%1==0&&oe<be}function Ap(oe,be,Fe){if(!Nu(Fe))return!1;var Ot=typeof be;return(Ot=="number"?Ml(Fe)&&TE(be,Fe.length):Ot=="string"&&be in Fe)?Bd(Fe[be],oe):!1}function pF(oe){var be=typeof oe;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?oe!=="__proto__":oe===null}function Wy(oe){return!!De&&De in oe}function Li(oe){var be=oe&&oe.constructor,Fe=typeof be=="function"&&be.prototype||Yt;return oe===Fe}function jA(oe){var be=[];if(oe!=null)for(var Fe in Object(oe))be.push(Fe);return be}function YA(oe){return je.call(oe)}function $y(oe,be,Fe){return be=Vn(be===void 0?oe.length-1:be,0),function(){for(var Ot=arguments,ni=-1,Fi=Vn(Ot.length-be,0),er=Array(Fi);++ni<Fi;)er[ni]=Ot[be+ni];ni=-1;for(var Qn=Array(be+1);++ni<be;)Qn[ni]=Ot[ni];return Qn[be]=Fe(er),Te(oe,this,Qn)}}function wE(oe,be){if(!(be==="constructor"&&typeof oe[be]=="function")&&be!="__proto__")return oe[be]}var KA=qA(nl);function qA(oe){var be=0,Fe=0;return function(){var Ot=tl(),ni=s-(Ot-Fe);if(Fe=Ot,ni>0){if(++be>=r)return arguments[0]}else be=0;return oe.apply(void 0,arguments)}}function Gy(oe){if(oe!=null){try{return ae.call(oe)}catch{}try{return oe+""}catch{}}return""}function Bd(oe,be){return oe===be||oe!==oe&&be!==be}var Pl=Cc(function(){return arguments}())?Cc:function(oe){return yc(oe)&&Se.call(oe,"callee")&&!gs.call(oe,"callee")},kl=Array.isArray;function Ml(oe){return oe!=null&&XA(oe.length)&&!Fl(oe)}function Rp(oe){return yc(oe)&&Ml(oe)}var Sf=Is||yf;function Fl(oe){if(!Nu(oe))return!1;var be=Ls(oe);return be==f||be==m||be==c||be==C}function XA(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=o}function Nu(oe){var be=typeof oe;return oe!=null&&(be=="object"||be=="function")}function yc(oe){return oe!=null&&typeof oe=="object"}function mF(oe){if(!yc(oe)||Ls(oe)!=S)return!1;var be=wn(oe);if(be===null)return!0;var Fe=Se.call(be,"constructor")&&be.constructor;return typeof Fe=="function"&&Fe instanceof Fe&&ae.call(Fe)==Ye}var zy=me?ft(me):vE;function AE(oe){return CE(oe,jy(oe))}function jy(oe){return Ml(oe)?it(oe):bp(oe)}var _F=wp(function(oe,be,Fe){Tp(oe,be,Fe)});function Ip(oe){return function(){return oe}}function Cf(oe){return oe}function yf(){return!1}n.exports=_F}(hT,hT.exports)),hT.exports}var y4,Kte;function O9e(){if(Kte)return y4;Kte=1;function n(){if(!arguments.length)return[];var t=arguments[0];return e(t)?t:[t]}var e=Array.isArray;return y4=n,y4}var b4,qte;function x9e(){if(qte)return b4;qte=1;var n={inherit:"inherit",current:"currentcolor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"oklch(98.4% 0.003 247.858)",100:"oklch(96.8% 0.007 247.896)",200:"oklch(92.9% 0.013 255.508)",300:"oklch(86.9% 0.022 252.894)",400:"oklch(70.4% 0.04 256.788)",500:"oklch(55.4% 0.046 257.417)",600:"oklch(44.6% 0.043 257.281)",700:"oklch(37.2% 0.044 257.287)",800:"oklch(27.9% 0.041 260.031)",900:"oklch(20.8% 0.042 265.755)",950:"oklch(12.9% 0.042 264.695)"},gray:{50:"oklch(98.5% 0.002 247.839)",100:"oklch(96.7% 0.003 264.542)",200:"oklch(92.8% 0.006 264.531)",300:"oklch(87.2% 0.01 258.338)",400:"oklch(70.7% 0.022 261.325)",500:"oklch(55.1% 0.027 264.364)",600:"oklch(44.6% 0.03 256.802)",700:"oklch(37.3% 0.034 259.733)",800:"oklch(27.8% 0.033 256.848)",900:"oklch(21% 0.034 264.665)",950:"oklch(13% 0.028 261.692)"},zinc:{50:"oklch(98.5% 0 0)",100:"oklch(96.7% 0.001 286.375)",200:"oklch(92% 0.004 286.32)",300:"oklch(87.1% 0.006 286.286)",400:"oklch(70.5% 0.015 286.067)",500:"oklch(55.2% 0.016 285.938)",600:"oklch(44.2% 0.017 285.786)",700:"oklch(37% 0.013 285.805)",800:"oklch(27.4% 0.006 286.033)",900:"oklch(21% 0.006 285.885)",950:"oklch(14.1% 0.005 285.823)"},neutral:{50:"oklch(98.5% 0 0)",100:"oklch(97% 0 0)",200:"oklch(92.2% 0 0)",300:"oklch(87% 0 0)",400:"oklch(70.8% 0 0)",500:"oklch(55.6% 0 0)",600:"oklch(43.9% 0 0)",700:"oklch(37.1% 0 0)",800:"oklch(26.9% 0 0)",900:"oklch(20.5% 0 0)",950:"oklch(14.5% 0 0)"},stone:{50:"oklch(98.5% 0.001 106.423)",100:"oklch(97% 0.001 106.424)",200:"oklch(92.3% 0.003 48.717)",300:"oklch(86.9% 0.005 56.366)",400:"oklch(70.9% 0.01 56.259)",500:"oklch(55.3% 0.013 58.071)",600:"oklch(44.4% 0.011 73.639)",700:"oklch(37.4% 0.01 67.558)",800:"oklch(26.8% 0.007 34.298)",900:"oklch(21.6% 0.006 56.043)",950:"oklch(14.7% 0.004 49.25)"},red:{50:"oklch(97.1% 0.013 17.38)",100:"oklch(93.6% 0.032 17.717)",200:"oklch(88.5% 0.062 18.334)",300:"oklch(80.8% 0.114 19.571)",400:"oklch(70.4% 0.191 22.216)",500:"oklch(63.7% 0.237 25.331)",600:"oklch(57.7% 0.245 27.325)",700:"oklch(50.5% 0.213 27.518)",800:"oklch(44.4% 0.177 26.899)",900:"oklch(39.6% 0.141 25.723)",950:"oklch(25.8% 0.092 26.042)"},orange:{50:"oklch(98% 0.016 73.684)",100:"oklch(95.4% 0.038 75.164)",200:"oklch(90.1% 0.076 70.697)",300:"oklch(83.7% 0.128 66.29)",400:"oklch(75% 0.183 55.934)",500:"oklch(70.5% 0.213 47.604)",600:"oklch(64.6% 0.222 41.116)",700:"oklch(55.3% 0.195 38.402)",800:"oklch(47% 0.157 37.304)",900:"oklch(40.8% 0.123 38.172)",950:"oklch(26.6% 0.079 36.259)"},amber:{50:"oklch(98.7% 0.022 95.277)",100:"oklch(96.2% 0.059 95.617)",200:"oklch(92.4% 0.12 95.746)",300:"oklch(87.9% 0.169 91.605)",400:"oklch(82.8% 0.189 84.429)",500:"oklch(76.9% 0.188 70.08)",600:"oklch(66.6% 0.179 58.318)",700:"oklch(55.5% 0.163 48.998)",800:"oklch(47.3% 0.137 46.201)",900:"oklch(41.4% 0.112 45.904)",950:"oklch(27.9% 0.077 45.635)"},yellow:{50:"oklch(98.7% 0.026 102.212)",100:"oklch(97.3% 0.071 103.193)",200:"oklch(94.5% 0.129 101.54)",300:"oklch(90.5% 0.182 98.111)",400:"oklch(85.2% 0.199 91.936)",500:"oklch(79.5% 0.184 86.047)",600:"oklch(68.1% 0.162 75.834)",700:"oklch(55.4% 0.135 66.442)",800:"oklch(47.6% 0.114 61.907)",900:"oklch(42.1% 0.095 57.708)",950:"oklch(28.6% 0.066 53.813)"},lime:{50:"oklch(98.6% 0.031 120.757)",100:"oklch(96.7% 0.067 122.328)",200:"oklch(93.8% 0.127 124.321)",300:"oklch(89.7% 0.196 126.665)",400:"oklch(84.1% 0.238 128.85)",500:"oklch(76.8% 0.233 130.85)",600:"oklch(64.8% 0.2 131.684)",700:"oklch(53.2% 0.157 131.589)",800:"oklch(45.3% 0.124 130.933)",900:"oklch(40.5% 0.101 131.063)",950:"oklch(27.4% 0.072 132.109)"},green:{50:"oklch(98.2% 0.018 155.826)",100:"oklch(96.2% 0.044 156.743)",200:"oklch(92.5% 0.084 155.995)",300:"oklch(87.1% 0.15 154.449)",400:"oklch(79.2% 0.209 151.711)",500:"oklch(72.3% 0.219 149.579)",600:"oklch(62.7% 0.194 149.214)",700:"oklch(52.7% 0.154 150.069)",800:"oklch(44.8% 0.119 151.328)",900:"oklch(39.3% 0.095 152.535)",950:"oklch(26.6% 0.065 152.934)"},emerald:{50:"oklch(97.9% 0.021 166.113)",100:"oklch(95% 0.052 163.051)",200:"oklch(90.5% 0.093 164.15)",300:"oklch(84.5% 0.143 164.978)",400:"oklch(76.5% 0.177 163.223)",500:"oklch(69.6% 0.17 162.48)",600:"oklch(59.6% 0.145 163.225)",700:"oklch(50.8% 0.118 165.612)",800:"oklch(43.2% 0.095 166.913)",900:"oklch(37.8% 0.077 168.94)",950:"oklch(26.2% 0.051 172.552)"},teal:{50:"oklch(98.4% 0.014 180.72)",100:"oklch(95.3% 0.051 180.801)",200:"oklch(91% 0.096 180.426)",300:"oklch(85.5% 0.138 181.071)",400:"oklch(77.7% 0.152 181.912)",500:"oklch(70.4% 0.14 182.503)",600:"oklch(60% 0.118 184.704)",700:"oklch(51.1% 0.096 186.391)",800:"oklch(43.7% 0.078 188.216)",900:"oklch(38.6% 0.063 188.416)",950:"oklch(27.7% 0.046 192.524)"},cyan:{50:"oklch(98.4% 0.019 200.873)",100:"oklch(95.6% 0.045 203.388)",200:"oklch(91.7% 0.08 205.041)",300:"oklch(86.5% 0.127 207.078)",400:"oklch(78.9% 0.154 211.53)",500:"oklch(71.5% 0.143 215.221)",600:"oklch(60.9% 0.126 221.723)",700:"oklch(52% 0.105 223.128)",800:"oklch(45% 0.085 224.283)",900:"oklch(39.8% 0.07 227.392)",950:"oklch(30.2% 0.056 229.695)"},sky:{50:"oklch(97.7% 0.013 236.62)",100:"oklch(95.1% 0.026 236.824)",200:"oklch(90.1% 0.058 230.902)",300:"oklch(82.8% 0.111 230.318)",400:"oklch(74.6% 0.16 232.661)",500:"oklch(68.5% 0.169 237.323)",600:"oklch(58.8% 0.158 241.966)",700:"oklch(50% 0.134 242.749)",800:"oklch(44.3% 0.11 240.79)",900:"oklch(39.1% 0.09 240.876)",950:"oklch(29.3% 0.066 243.157)"},blue:{50:"oklch(97% 0.014 254.604)",100:"oklch(93.2% 0.032 255.585)",200:"oklch(88.2% 0.059 254.128)",300:"oklch(80.9% 0.105 251.813)",400:"oklch(70.7% 0.165 254.624)",500:"oklch(62.3% 0.214 259.815)",600:"oklch(54.6% 0.245 262.881)",700:"oklch(48.8% 0.243 264.376)",800:"oklch(42.4% 0.199 265.638)",900:"oklch(37.9% 0.146 265.522)",950:"oklch(28.2% 0.091 267.935)"},indigo:{50:"oklch(96.2% 0.018 272.314)",100:"oklch(93% 0.034 272.788)",200:"oklch(87% 0.065 274.039)",300:"oklch(78.5% 0.115 274.713)",400:"oklch(67.3% 0.182 276.935)",500:"oklch(58.5% 0.233 277.117)",600:"oklch(51.1% 0.262 276.966)",700:"oklch(45.7% 0.24 277.023)",800:"oklch(39.8% 0.195 277.366)",900:"oklch(35.9% 0.144 278.697)",950:"oklch(25.7% 0.09 281.288)"},violet:{50:"oklch(96.9% 0.016 293.756)",100:"oklch(94.3% 0.029 294.588)",200:"oklch(89.4% 0.057 293.283)",300:"oklch(81.1% 0.111 293.571)",400:"oklch(70.2% 0.183 293.541)",500:"oklch(60.6% 0.25 292.717)",600:"oklch(54.1% 0.281 293.009)",700:"oklch(49.1% 0.27 292.581)",800:"oklch(43.2% 0.232 292.759)",900:"oklch(38% 0.189 293.745)",950:"oklch(28.3% 0.141 291.089)"},purple:{50:"oklch(97.7% 0.014 308.299)",100:"oklch(94.6% 0.033 307.174)",200:"oklch(90.2% 0.063 306.703)",300:"oklch(82.7% 0.119 306.383)",400:"oklch(71.4% 0.203 305.504)",500:"oklch(62.7% 0.265 303.9)",600:"oklch(55.8% 0.288 302.321)",700:"oklch(49.6% 0.265 301.924)",800:"oklch(43.8% 0.218 303.724)",900:"oklch(38.1% 0.176 304.987)",950:"oklch(29.1% 0.149 302.717)"},fuchsia:{50:"oklch(97.7% 0.017 320.058)",100:"oklch(95.2% 0.037 318.852)",200:"oklch(90.3% 0.076 319.62)",300:"oklch(83.3% 0.145 321.434)",400:"oklch(74% 0.238 322.16)",500:"oklch(66.7% 0.295 322.15)",600:"oklch(59.1% 0.293 322.896)",700:"oklch(51.8% 0.253 323.949)",800:"oklch(45.2% 0.211 324.591)",900:"oklch(40.1% 0.17 325.612)",950:"oklch(29.3% 0.136 325.661)"},pink:{50:"oklch(97.1% 0.014 343.198)",100:"oklch(94.8% 0.028 342.258)",200:"oklch(89.9% 0.061 343.231)",300:"oklch(82.3% 0.12 346.018)",400:"oklch(71.8% 0.202 349.761)",500:"oklch(65.6% 0.241 354.308)",600:"oklch(59.2% 0.249 0.584)",700:"oklch(52.5% 0.223 3.958)",800:"oklch(45.9% 0.187 3.815)",900:"oklch(40.8% 0.153 2.432)",950:"oklch(28.4% 0.109 3.907)"},rose:{50:"oklch(96.9% 0.015 12.422)",100:"oklch(94.1% 0.03 12.58)",200:"oklch(89.2% 0.058 10.001)",300:"oklch(81% 0.117 11.638)",400:"oklch(71.2% 0.194 13.428)",500:"oklch(64.5% 0.246 16.439)",600:"oklch(58.6% 0.253 17.585)",700:"oklch(51.4% 0.222 16.935)",800:"oklch(45.5% 0.188 13.697)",900:"oklch(41% 0.159 10.272)",950:"oklch(27.1% 0.105 12.094)"}};return b4=n,b4}var T4,Xte;function D9e(){if(Xte)return T4;Xte=1;const n=x9e(),e=o=>o.toFixed(7).replace(/(\.[0-9]+?)0+$/,"$1").replace(/\.0$/,""),t=o=>`${e(o/16)}rem`,i=(o,a)=>`${e(o/a)}em`,r=o=>{o=o.replace("#",""),o=o.length===3?o.replace(/./g,"$&$&"):o;const a=parseInt(o.substring(0,2),16),l=parseInt(o.substring(2,4),16),c=parseInt(o.substring(4,6),16);return`${a} ${l} ${c}`};let s={sm:{css:[{fontSize:t(14),lineHeight:e(24/14),p:{marginTop:i(16,14),marginBottom:i(16,14)},'[class~="lead"]':{fontSize:i(18,14),lineHeight:e(28/18),marginTop:i(16,18),marginBottom:i(16,18)},blockquote:{marginTop:i(24,18),marginBottom:i(24,18),paddingInlineStart:i(20,18)},h1:{fontSize:i(30,14),marginTop:"0",marginBottom:i(24,30),lineHeight:e(36/30)},h2:{fontSize:i(20,14),marginTop:i(32,20),marginBottom:i(16,20),lineHeight:e(28/20)},h3:{fontSize:i(18,14),marginTop:i(28,18),marginBottom:i(8,18),lineHeight:e(28/18)},h4:{marginTop:i(20,14),marginBottom:i(8,14),lineHeight:e(20/14)},img:{marginTop:i(24,14),marginBottom:i(24,14)},picture:{marginTop:i(24,14),marginBottom:i(24,14)},"picture > img":{marginTop:"0",marginBottom:"0"},video:{marginTop:i(24,14),marginBottom:i(24,14)},kbd:{fontSize:i(12,14),borderRadius:t(5),paddingTop:i(2,14),paddingInlineEnd:i(5,14),paddingBottom:i(2,14),paddingInlineStart:i(5,14)},code:{fontSize:i(12,14)},"h2 code":{fontSize:i(18,20)},"h3 code":{fontSize:i(16,18)},pre:{fontSize:i(12,14),lineHeight:e(20/12),marginTop:i(20,12),marginBottom:i(20,12),borderRadius:t(4),paddingTop:i(8,12),paddingInlineEnd:i(12,12),paddingBottom:i(8,12),paddingInlineStart:i(12,12)},ol:{marginTop:i(16,14),marginBottom:i(16,14),paddingInlineStart:i(22,14)},ul:{marginTop:i(16,14),marginBottom:i(16,14),paddingInlineStart:i(22,14)},li:{marginTop:i(4,14),marginBottom:i(4,14)},"ol > li":{paddingInlineStart:i(6,14)},"ul > li":{paddingInlineStart:i(6,14)},"> ul > li p":{marginTop:i(8,14),marginBottom:i(8,14)},"> ul > li > p:first-child":{marginTop:i(16,14)},"> ul > li > p:last-child":{marginBottom:i(16,14)},"> ol > li > p:first-child":{marginTop:i(16,14)},"> ol > li > p:last-child":{marginBottom:i(16,14)},"ul ul, ul ol, ol ul, ol ol":{marginTop:i(8,14),marginBottom:i(8,14)},dl:{marginTop:i(16,14),marginBottom:i(16,14)},dt:{marginTop:i(16,14)},dd:{marginTop:i(4,14),paddingInlineStart:i(22,14)},hr:{marginTop:i(40,14),marginBottom:i(40,14)},"hr + *":{marginTop:"0"},"h2 + *":{marginTop:"0"},"h3 + *":{marginTop:"0"},"h4 + *":{marginTop:"0"},table:{fontSize:i(12,14),lineHeight:e(18/12)},"thead th":{paddingInlineEnd:i(12,12),paddingBottom:i(8,12),paddingInlineStart:i(12,12)},"thead th:first-child":{paddingInlineStart:"0"},"thead th:last-child":{paddingInlineEnd:"0"},"tbody td, tfoot td":{paddingTop:i(8,12),paddingInlineEnd:i(12,12),paddingBottom:i(8,12),paddingInlineStart:i(12,12)},"tbody td:first-child, tfoot td:first-child":{paddingInlineStart:"0"},"tbody td:last-child, tfoot td:last-child":{paddingInlineEnd:"0"},figure:{marginTop:i(24,14),marginBottom:i(24,14)},"figure > *":{marginTop:"0",marginBottom:"0"},figcaption:{fontSize:i(12,14),lineHeight:e(16/12),marginTop:i(8,12)}},{"> :first-child":{marginTop:"0"},"> :last-child":{marginBottom:"0"}}]},base:{css:[{fontSize:t(16),lineHeight:e(28/16),p:{marginTop:i(20,16),marginBottom:i(20,16)},'[class~="lead"]':{fontSize:i(20,16),lineHeight:e(32/20),marginTop:i(24,20),marginBottom:i(24,20)},blockquote:{marginTop:i(32,20),marginBottom:i(32,20),paddingInlineStart:i(20,20)},h1:{fontSize:i(36,16),marginTop:"0",marginBottom:i(32,36),lineHeight:e(40/36)},h2:{fontSize:i(24,16),marginTop:i(48,24),marginBottom:i(24,24),lineHeight:e(32/24)},h3:{fontSize:i(20,16),marginTop:i(32,20),marginBottom:i(12,20),lineHeight:e(32/20)},h4:{marginTop:i(24,16),marginBottom:i(8,16),lineHeight:e(24/16)},img:{marginTop:i(32,16),marginBottom:i(32,16)},picture:{marginTop:i(32,16),marginBottom:i(32,16)},"picture > img":{marginTop:"0",marginBottom:"0"},video:{marginTop:i(32,16),marginBottom:i(32,16)},kbd:{fontSize:i(14,16),borderRadius:t(5),paddingTop:i(3,16),paddingInlineEnd:i(6,16),paddingBottom:i(3,16),paddingInlineStart:i(6,16)},code:{fontSize:i(14,16)},"h2 code":{fontSize:i(21,24)},"h3 code":{fontSize:i(18,20)},pre:{fontSize:i(14,16),lineHeight:e(24/14),marginTop:i(24,14),marginBottom:i(24,14),borderRadius:t(6),paddingTop:i(12,14),paddingInlineEnd:i(16,14),paddingBottom:i(12,14),paddingInlineStart:i(16,14)},ol:{marginTop:i(20,16),marginBottom:i(20,16),paddingInlineStart:i(26,16)},ul:{marginTop:i(20,16),marginBottom:i(20,16),paddingInlineStart:i(26,16)},li:{marginTop:i(8,16),marginBottom:i(8,16)},"ol > li":{paddingInlineStart:i(6,16)},"ul > li":{paddingInlineStart:i(6,16)},"> ul > li p":{marginTop:i(12,16),marginBottom:i(12,16)},"> ul > li > p:first-child":{marginTop:i(20,16)},"> ul > li > p:last-child":{marginBottom:i(20,16)},"> ol > li > p:first-child":{marginTop:i(20,16)},"> ol > li > p:last-child":{marginBottom:i(20,16)},"ul ul, ul ol, ol ul, ol ol":{marginTop:i(12,16),marginBottom:i(12,16)},dl:{marginTop:i(20,16),marginBottom:i(20,16)},dt:{marginTop:i(20,16)},dd:{marginTop:i(8,16),paddingInlineStart:i(26,16)},hr:{marginTop:i(48,16),marginBottom:i(48,16)},"hr + *":{marginTop:"0"},"h2 + *":{marginTop:"0"},"h3 + *":{marginTop:"0"},"h4 + *":{marginTop:"0"},table:{fontSize:i(14,16),lineHeight:e(24/14)},"thead th":{paddingInlineEnd:i(8,14),paddingBottom:i(8,14),paddingInlineStart:i(8,14)},"thead th:first-child":{paddingInlineStart:"0"},"thead th:last-child":{paddingInlineEnd:"0"},"tbody td, tfoot td":{paddingTop:i(8,14),paddingInlineEnd:i(8,14),paddingBottom:i(8,14),paddingInlineStart:i(8,14)},"tbody td:first-child, tfoot td:first-child":{paddingInlineStart:"0"},"tbody td:last-child, tfoot td:last-child":{paddingInlineEnd:"0"},figure:{marginTop:i(32,16),marginBottom:i(32,16)},"figure > *":{marginTop:"0",marginBottom:"0"},figcaption:{fontSize:i(14,16),lineHeight:e(20/14),marginTop:i(12,14)}},{"> :first-child":{marginTop:"0"},"> :last-child":{marginBottom:"0"}}]},lg:{css:[{fontSize:t(18),lineHeight:e(32/18),p:{marginTop:i(24,18),marginBottom:i(24,18)},'[class~="lead"]':{fontSize:i(22,18),lineHeight:e(32/22),marginTop:i(24,22),marginBottom:i(24,22)},blockquote:{marginTop:i(40,24),marginBottom:i(40,24),paddingInlineStart:i(24,24)},h1:{fontSize:i(48,18),marginTop:"0",marginBottom:i(40,48),lineHeight:e(48/48)},h2:{fontSize:i(30,18),marginTop:i(56,30),marginBottom:i(32,30),lineHeight:e(40/30)},h3:{fontSize:i(24,18),marginTop:i(40,24),marginBottom:i(16,24),lineHeight:e(36/24)},h4:{marginTop:i(32,18),marginBottom:i(8,18),lineHeight:e(28/18)},img:{marginTop:i(32,18),marginBottom:i(32,18)},picture:{marginTop:i(32,18),marginBottom:i(32,18)},"picture > img":{marginTop:"0",marginBottom:"0"},video:{marginTop:i(32,18),marginBottom:i(32,18)},kbd:{fontSize:i(16,18),borderRadius:t(5),paddingTop:i(4,18),paddingInlineEnd:i(8,18),paddingBottom:i(4,18),paddingInlineStart:i(8,18)},code:{fontSize:i(16,18)},"h2 code":{fontSize:i(26,30)},"h3 code":{fontSize:i(21,24)},pre:{fontSize:i(16,18),lineHeight:e(28/16),marginTop:i(32,16),marginBottom:i(32,16),borderRadius:t(6),paddingTop:i(16,16),paddingInlineEnd:i(24,16),paddingBottom:i(16,16),paddingInlineStart:i(24,16)},ol:{marginTop:i(24,18),marginBottom:i(24,18),paddingInlineStart:i(28,18)},ul:{marginTop:i(24,18),marginBottom:i(24,18),paddingInlineStart:i(28,18)},li:{marginTop:i(12,18),marginBottom:i(12,18)},"ol > li":{paddingInlineStart:i(8,18)},"ul > li":{paddingInlineStart:i(8,18)},"> ul > li p":{marginTop:i(16,18),marginBottom:i(16,18)},"> ul > li > p:first-child":{marginTop:i(24,18)},"> ul > li > p:last-child":{marginBottom:i(24,18)},"> ol > li > p:first-child":{marginTop:i(24,18)},"> ol > li > p:last-child":{marginBottom:i(24,18)},"ul ul, ul ol, ol ul, ol ol":{marginTop:i(16,18),marginBottom:i(16,18)},dl:{marginTop:i(24,18),marginBottom:i(24,18)},dt:{marginTop:i(24,18)},dd:{marginTop:i(12,18),paddingInlineStart:i(28,18)},hr:{marginTop:i(56,18),marginBottom:i(56,18)},"hr + *":{marginTop:"0"},"h2 + *":{marginTop:"0"},"h3 + *":{marginTop:"0"},"h4 + *":{marginTop:"0"},table:{fontSize:i(16,18),lineHeight:e(24/16)},"thead th":{paddingInlineEnd:i(12,16),paddingBottom:i(12,16),paddingInlineStart:i(12,16)},"thead th:first-child":{paddingInlineStart:"0"},"thead th:last-child":{paddingInlineEnd:"0"},"tbody td, tfoot td":{paddingTop:i(12,16),paddingInlineEnd:i(12,16),paddingBottom:i(12,16),paddingInlineStart:i(12,16)},"tbody td:first-child, tfoot td:first-child":{paddingInlineStart:"0"},"tbody td:last-child, tfoot td:last-child":{paddingInlineEnd:"0"},figure:{marginTop:i(32,18),marginBottom:i(32,18)},"figure > *":{marginTop:"0",marginBottom:"0"},figcaption:{fontSize:i(16,18),lineHeight:e(24/16),marginTop:i(16,16)}},{"> :first-child":{marginTop:"0"},"> :last-child":{marginBottom:"0"}}]},xl:{css:[{fontSize:t(20),lineHeight:e(36/20),p:{marginTop:i(24,20),marginBottom:i(24,20)},'[class~="lead"]':{fontSize:i(24,20),lineHeight:e(36/24),marginTop:i(24,24),marginBottom:i(24,24)},blockquote:{marginTop:i(48,30),marginBottom:i(48,30),paddingInlineStart:i(32,30)},h1:{fontSize:i(56,20),marginTop:"0",marginBottom:i(48,56),lineHeight:e(56/56)},h2:{fontSize:i(36,20),marginTop:i(56,36),marginBottom:i(32,36),lineHeight:e(40/36)},h3:{fontSize:i(30,20),marginTop:i(48,30),marginBottom:i(20,30),lineHeight:e(40/30)},h4:{marginTop:i(36,20),marginBottom:i(12,20),lineHeight:e(32/20)},img:{marginTop:i(40,20),marginBottom:i(40,20)},picture:{marginTop:i(40,20),marginBottom:i(40,20)},"picture > img":{marginTop:"0",marginBottom:"0"},video:{marginTop:i(40,20),marginBottom:i(40,20)},kbd:{fontSize:i(18,20),borderRadius:t(5),paddingTop:i(5,20),paddingInlineEnd:i(8,20),paddingBottom:i(5,20),paddingInlineStart:i(8,20)},code:{fontSize:i(18,20)},"h2 code":{fontSize:i(31,36)},"h3 code":{fontSize:i(27,30)},pre:{fontSize:i(18,20),lineHeight:e(32/18),marginTop:i(36,18),marginBottom:i(36,18),borderRadius:t(8),paddingTop:i(20,18),paddingInlineEnd:i(24,18),paddingBottom:i(20,18),paddingInlineStart:i(24,18)},ol:{marginTop:i(24,20),marginBottom:i(24,20),paddingInlineStart:i(32,20)},ul:{marginTop:i(24,20),marginBottom:i(24,20),paddingInlineStart:i(32,20)},li:{marginTop:i(12,20),marginBottom:i(12,20)},"ol > li":{paddingInlineStart:i(8,20)},"ul > li":{paddingInlineStart:i(8,20)},"> ul > li p":{marginTop:i(16,20),marginBottom:i(16,20)},"> ul > li > p:first-child":{marginTop:i(24,20)},"> ul > li > p:last-child":{marginBottom:i(24,20)},"> ol > li > p:first-child":{marginTop:i(24,20)},"> ol > li > p:last-child":{marginBottom:i(24,20)},"ul ul, ul ol, ol ul, ol ol":{marginTop:i(16,20),marginBottom:i(16,20)},dl:{marginTop:i(24,20),marginBottom:i(24,20)},dt:{marginTop:i(24,20)},dd:{marginTop:i(12,20),paddingInlineStart:i(32,20)},hr:{marginTop:i(56,20),marginBottom:i(56,20)},"hr + *":{marginTop:"0"},"h2 + *":{marginTop:"0"},"h3 + *":{marginTop:"0"},"h4 + *":{marginTop:"0"},table:{fontSize:i(18,20),lineHeight:e(28/18)},"thead th":{paddingInlineEnd:i(12,18),paddingBottom:i(16,18),paddingInlineStart:i(12,18)},"thead th:first-child":{paddingInlineStart:"0"},"thead th:last-child":{paddingInlineEnd:"0"},"tbody td, tfoot td":{paddingTop:i(16,18),paddingInlineEnd:i(12,18),paddingBottom:i(16,18),paddingInlineStart:i(12,18)},"tbody td:first-child, tfoot td:first-child":{paddingInlineStart:"0"},"tbody td:last-child, tfoot td:last-child":{paddingInlineEnd:"0"},figure:{marginTop:i(40,20),marginBottom:i(40,20)},"figure > *":{marginTop:"0",marginBottom:"0"},figcaption:{fontSize:i(18,20),lineHeight:e(28/18),marginTop:i(18,18)}},{"> :first-child":{marginTop:"0"},"> :last-child":{marginBottom:"0"}}]},"2xl":{css:[{fontSize:t(24),lineHeight:e(40/24),p:{marginTop:i(32,24),marginBottom:i(32,24)},'[class~="lead"]':{fontSize:i(30,24),lineHeight:e(44/30),marginTop:i(32,30),marginBottom:i(32,30)},blockquote:{marginTop:i(64,36),marginBottom:i(64,36),paddingInlineStart:i(40,36)},h1:{fontSize:i(64,24),marginTop:"0",marginBottom:i(56,64),lineHeight:e(64/64)},h2:{fontSize:i(48,24),marginTop:i(72,48),marginBottom:i(40,48),lineHeight:e(52/48)},h3:{fontSize:i(36,24),marginTop:i(56,36),marginBottom:i(24,36),lineHeight:e(44/36)},h4:{marginTop:i(40,24),marginBottom:i(16,24),lineHeight:e(36/24)},img:{marginTop:i(48,24),marginBottom:i(48,24)},picture:{marginTop:i(48,24),marginBottom:i(48,24)},"picture > img":{marginTop:"0",marginBottom:"0"},video:{marginTop:i(48,24),marginBottom:i(48,24)},kbd:{fontSize:i(20,24),borderRadius:t(6),paddingTop:i(6,24),paddingInlineEnd:i(8,24),paddingBottom:i(6,24),paddingInlineStart:i(8,24)},code:{fontSize:i(20,24)},"h2 code":{fontSize:i(42,48)},"h3 code":{fontSize:i(32,36)},pre:{fontSize:i(20,24),lineHeight:e(36/20),marginTop:i(40,20),marginBottom:i(40,20),borderRadius:t(8),paddingTop:i(24,20),paddingInlineEnd:i(32,20),paddingBottom:i(24,20),paddingInlineStart:i(32,20)},ol:{marginTop:i(32,24),marginBottom:i(32,24),paddingInlineStart:i(38,24)},ul:{marginTop:i(32,24),marginBottom:i(32,24),paddingInlineStart:i(38,24)},li:{marginTop:i(12,24),marginBottom:i(12,24)},"ol > li":{paddingInlineStart:i(10,24)},"ul > li":{paddingInlineStart:i(10,24)},"> ul > li p":{marginTop:i(20,24),marginBottom:i(20,24)},"> ul > li > p:first-child":{marginTop:i(32,24)},"> ul > li > p:last-child":{marginBottom:i(32,24)},"> ol > li > p:first-child":{marginTop:i(32,24)},"> ol > li > p:last-child":{marginBottom:i(32,24)},"ul ul, ul ol, ol ul, ol ol":{marginTop:i(16,24),marginBottom:i(16,24)},dl:{marginTop:i(32,24),marginBottom:i(32,24)},dt:{marginTop:i(32,24)},dd:{marginTop:i(12,24),paddingInlineStart:i(38,24)},hr:{marginTop:i(72,24),marginBottom:i(72,24)},"hr + *":{marginTop:"0"},"h2 + *":{marginTop:"0"},"h3 + *":{marginTop:"0"},"h4 + *":{marginTop:"0"},table:{fontSize:i(20,24),lineHeight:e(28/20)},"thead th":{paddingInlineEnd:i(12,20),paddingBottom:i(16,20),paddingInlineStart:i(12,20)},"thead th:first-child":{paddingInlineStart:"0"},"thead th:last-child":{paddingInlineEnd:"0"},"tbody td, tfoot td":{paddingTop:i(16,20),paddingInlineEnd:i(12,20),paddingBottom:i(16,20),paddingInlineStart:i(12,20)},"tbody td:first-child, tfoot td:first-child":{paddingInlineStart:"0"},"tbody td:last-child, tfoot td:last-child":{paddingInlineEnd:"0"},figure:{marginTop:i(48,24),marginBottom:i(48,24)},"figure > *":{marginTop:"0",marginBottom:"0"},figcaption:{fontSize:i(20,24),lineHeight:e(32/20),marginTop:i(20,20)}},{"> :first-child":{marginTop:"0"},"> :last-child":{marginBottom:"0"}}]},slate:{css:{"--tw-prose-body":n.slate[700],"--tw-prose-headings":n.slate[900],"--tw-prose-lead":n.slate[600],"--tw-prose-links":n.slate[900],"--tw-prose-bold":n.slate[900],"--tw-prose-counters":n.slate[500],"--tw-prose-bullets":n.slate[300],"--tw-prose-hr":n.slate[200],"--tw-prose-quotes":n.slate[900],"--tw-prose-quote-borders":n.slate[200],"--tw-prose-captions":n.slate[500],"--tw-prose-kbd":n.slate[900],"--tw-prose-kbd-shadows":r(n.slate[900]),"--tw-prose-code":n.slate[900],"--tw-prose-pre-code":n.slate[200],"--tw-prose-pre-bg":n.slate[800],"--tw-prose-th-borders":n.slate[300],"--tw-prose-td-borders":n.slate[200],"--tw-prose-invert-body":n.slate[300],"--tw-prose-invert-headings":n.white,"--tw-prose-invert-lead":n.slate[400],"--tw-prose-invert-links":n.white,"--tw-prose-invert-bold":n.white,"--tw-prose-invert-counters":n.slate[400],"--tw-prose-invert-bullets":n.slate[600],"--tw-prose-invert-hr":n.slate[700],"--tw-prose-invert-quotes":n.slate[100],"--tw-prose-invert-quote-borders":n.slate[700],"--tw-prose-invert-captions":n.slate[400],"--tw-prose-invert-kbd":n.white,"--tw-prose-invert-kbd-shadows":r(n.white),"--tw-prose-invert-code":n.white,"--tw-prose-invert-pre-code":n.slate[300],"--tw-prose-invert-pre-bg":"rgb(0 0 0 / 50%)","--tw-prose-invert-th-borders":n.slate[600],"--tw-prose-invert-td-borders":n.slate[700]}},gray:{css:{"--tw-prose-body":n.gray[700],"--tw-prose-headings":n.gray[900],"--tw-prose-lead":n.gray[600],"--tw-prose-links":n.gray[900],"--tw-prose-bold":n.gray[900],"--tw-prose-counters":n.gray[500],"--tw-prose-bullets":n.gray[300],"--tw-prose-hr":n.gray[200],"--tw-prose-quotes":n.gray[900],"--tw-prose-quote-borders":n.gray[200],"--tw-prose-captions":n.gray[500],"--tw-prose-kbd":n.gray[900],"--tw-prose-kbd-shadows":r(n.gray[900]),"--tw-prose-code":n.gray[900],"--tw-prose-pre-code":n.gray[200],"--tw-prose-pre-bg":n.gray[800],"--tw-prose-th-borders":n.gray[300],"--tw-prose-td-borders":n.gray[200],"--tw-prose-invert-body":n.gray[300],"--tw-prose-invert-headings":n.white,"--tw-prose-invert-lead":n.gray[400],"--tw-prose-invert-links":n.white,"--tw-prose-invert-bold":n.white,"--tw-prose-invert-counters":n.gray[400],"--tw-prose-invert-bullets":n.gray[600],"--tw-prose-invert-hr":n.gray[700],"--tw-prose-invert-quotes":n.gray[100],"--tw-prose-invert-quote-borders":n.gray[700],"--tw-prose-invert-captions":n.gray[400],"--tw-prose-invert-kbd":n.white,"--tw-prose-invert-kbd-shadows":r(n.white),"--tw-prose-invert-code":n.white,"--tw-prose-invert-pre-code":n.gray[300],"--tw-prose-invert-pre-bg":"rgb(0 0 0 / 50%)","--tw-prose-invert-th-borders":n.gray[600],"--tw-prose-invert-td-borders":n.gray[700]}},zinc:{css:{"--tw-prose-body":n.zinc[700],"--tw-prose-headings":n.zinc[900],"--tw-prose-lead":n.zinc[600],"--tw-prose-links":n.zinc[900],"--tw-prose-bold":n.zinc[900],"--tw-prose-counters":n.zinc[500],"--tw-prose-bullets":n.zinc[300],"--tw-prose-hr":n.zinc[200],"--tw-prose-quotes":n.zinc[900],"--tw-prose-quote-borders":n.zinc[200],"--tw-prose-captions":n.zinc[500],"--tw-prose-kbd":n.zinc[900],"--tw-prose-kbd-shadows":r(n.zinc[900]),"--tw-prose-code":n.zinc[900],"--tw-prose-pre-code":n.zinc[200],"--tw-prose-pre-bg":n.zinc[800],"--tw-prose-th-borders":n.zinc[300],"--tw-prose-td-borders":n.zinc[200],"--tw-prose-invert-body":n.zinc[300],"--tw-prose-invert-headings":n.white,"--tw-prose-invert-lead":n.zinc[400],"--tw-prose-invert-links":n.white,"--tw-prose-invert-bold":n.white,"--tw-prose-invert-counters":n.zinc[400],"--tw-prose-invert-bullets":n.zinc[600],"--tw-prose-invert-hr":n.zinc[700],"--tw-prose-invert-quotes":n.zinc[100],"--tw-prose-invert-quote-borders":n.zinc[700],"--tw-prose-invert-captions":n.zinc[400],"--tw-prose-invert-kbd":n.white,"--tw-prose-invert-kbd-shadows":r(n.white),"--tw-prose-invert-code":n.white,"--tw-prose-invert-pre-code":n.zinc[300],"--tw-prose-invert-pre-bg":"rgb(0 0 0 / 50%)","--tw-prose-invert-th-borders":n.zinc[600],"--tw-prose-invert-td-borders":n.zinc[700]}},neutral:{css:{"--tw-prose-body":n.neutral[700],"--tw-prose-headings":n.neutral[900],"--tw-prose-lead":n.neutral[600],"--tw-prose-links":n.neutral[900],"--tw-prose-bold":n.neutral[900],"--tw-prose-counters":n.neutral[500],"--tw-prose-bullets":n.neutral[300],"--tw-prose-hr":n.neutral[200],"--tw-prose-quotes":n.neutral[900],"--tw-prose-quote-borders":n.neutral[200],"--tw-prose-captions":n.neutral[500],"--tw-prose-kbd":n.neutral[900],"--tw-prose-kbd-shadows":r(n.neutral[900]),"--tw-prose-code":n.neutral[900],"--tw-prose-pre-code":n.neutral[200],"--tw-prose-pre-bg":n.neutral[800],"--tw-prose-th-borders":n.neutral[300],"--tw-prose-td-borders":n.neutral[200],"--tw-prose-invert-body":n.neutral[300],"--tw-prose-invert-headings":n.white,"--tw-prose-invert-lead":n.neutral[400],"--tw-prose-invert-links":n.white,"--tw-prose-invert-bold":n.white,"--tw-prose-invert-counters":n.neutral[400],"--tw-prose-invert-bullets":n.neutral[600],"--tw-prose-invert-hr":n.neutral[700],"--tw-prose-invert-quotes":n.neutral[100],"--tw-prose-invert-quote-borders":n.neutral[700],"--tw-prose-invert-captions":n.neutral[400],"--tw-prose-invert-kbd":n.white,"--tw-prose-invert-kbd-shadows":r(n.white),"--tw-prose-invert-code":n.white,"--tw-prose-invert-pre-code":n.neutral[300],"--tw-prose-invert-pre-bg":"rgb(0 0 0 / 50%)","--tw-prose-invert-th-borders":n.neutral[600],"--tw-prose-invert-td-borders":n.neutral[700]}},stone:{css:{"--tw-prose-body":n.stone[700],"--tw-prose-headings":n.stone[900],"--tw-prose-lead":n.stone[600],"--tw-prose-links":n.stone[900],"--tw-prose-bold":n.stone[900],"--tw-prose-counters":n.stone[500],"--tw-prose-bullets":n.stone[300],"--tw-prose-hr":n.stone[200],"--tw-prose-quotes":n.stone[900],"--tw-prose-quote-borders":n.stone[200],"--tw-prose-captions":n.stone[500],"--tw-prose-kbd":n.stone[900],"--tw-prose-kbd-shadows":r(n.stone[900]),"--tw-prose-code":n.stone[900],"--tw-prose-pre-code":n.stone[200],"--tw-prose-pre-bg":n.stone[800],"--tw-prose-th-borders":n.stone[300],"--tw-prose-td-borders":n.stone[200],"--tw-prose-invert-body":n.stone[300],"--tw-prose-invert-headings":n.white,"--tw-prose-invert-lead":n.stone[400],"--tw-prose-invert-links":n.white,"--tw-prose-invert-bold":n.white,"--tw-prose-invert-counters":n.stone[400],"--tw-prose-invert-bullets":n.stone[600],"--tw-prose-invert-hr":n.stone[700],"--tw-prose-invert-quotes":n.stone[100],"--tw-prose-invert-quote-borders":n.stone[700],"--tw-prose-invert-captions":n.stone[400],"--tw-prose-invert-kbd":n.white,"--tw-prose-invert-kbd-shadows":r(n.white),"--tw-prose-invert-code":n.white,"--tw-prose-invert-pre-code":n.stone[300],"--tw-prose-invert-pre-bg":"rgb(0 0 0 / 50%)","--tw-prose-invert-th-borders":n.stone[600],"--tw-prose-invert-td-borders":n.stone[700]}},red:{css:{"--tw-prose-links":n.red[600],"--tw-prose-invert-links":n.red[500]}},orange:{css:{"--tw-prose-links":n.orange[600],"--tw-prose-invert-links":n.orange[500]}},amber:{css:{"--tw-prose-links":n.amber[600],"--tw-prose-invert-links":n.amber[500]}},yellow:{css:{"--tw-prose-links":n.yellow[600],"--tw-prose-invert-links":n.yellow[500]}},lime:{css:{"--tw-prose-links":n.lime[600],"--tw-prose-invert-links":n.lime[500]}},green:{css:{"--tw-prose-links":n.green[600],"--tw-prose-invert-links":n.green[500]}},emerald:{css:{"--tw-prose-links":n.emerald[600],"--tw-prose-invert-links":n.emerald[500]}},teal:{css:{"--tw-prose-links":n.teal[600],"--tw-prose-invert-links":n.teal[500]}},cyan:{css:{"--tw-prose-links":n.cyan[600],"--tw-prose-invert-links":n.cyan[500]}},sky:{css:{"--tw-prose-links":n.sky[600],"--tw-prose-invert-links":n.sky[500]}},blue:{css:{"--tw-prose-links":n.blue[600],"--tw-prose-invert-links":n.blue[500]}},indigo:{css:{"--tw-prose-links":n.indigo[600],"--tw-prose-invert-links":n.indigo[500]}},violet:{css:{"--tw-prose-links":n.violet[600],"--tw-prose-invert-links":n.violet[500]}},purple:{css:{"--tw-prose-links":n.purple[600],"--tw-prose-invert-links":n.purple[500]}},fuchsia:{css:{"--tw-prose-links":n.fuchsia[600],"--tw-prose-invert-links":n.fuchsia[500]}},pink:{css:{"--tw-prose-links":n.pink[600],"--tw-prose-invert-links":n.pink[500]}},rose:{css:{"--tw-prose-links":n.rose[600],"--tw-prose-invert-links":n.rose[500]}},invert:{css:{"--tw-prose-body":"var(--tw-prose-invert-body)","--tw-prose-headings":"var(--tw-prose-invert-headings)","--tw-prose-lead":"var(--tw-prose-invert-lead)","--tw-prose-links":"var(--tw-prose-invert-links)","--tw-prose-bold":"var(--tw-prose-invert-bold)","--tw-prose-counters":"var(--tw-prose-invert-counters)","--tw-prose-bullets":"var(--tw-prose-invert-bullets)","--tw-prose-hr":"var(--tw-prose-invert-hr)","--tw-prose-quotes":"var(--tw-prose-invert-quotes)","--tw-prose-quote-borders":"var(--tw-prose-invert-quote-borders)","--tw-prose-captions":"var(--tw-prose-invert-captions)","--tw-prose-kbd":"var(--tw-prose-invert-kbd)","--tw-prose-kbd-shadows":"var(--tw-prose-invert-kbd-shadows)","--tw-prose-code":"var(--tw-prose-invert-code)","--tw-prose-pre-code":"var(--tw-prose-invert-pre-code)","--tw-prose-pre-bg":"var(--tw-prose-invert-pre-bg)","--tw-prose-th-borders":"var(--tw-prose-invert-th-borders)","--tw-prose-td-borders":"var(--tw-prose-invert-td-borders)"}}};return T4={DEFAULT:{css:[{color:"var(--tw-prose-body)",maxWidth:"65ch",p:{},'[class~="lead"]':{color:"var(--tw-prose-lead)"},a:{color:"var(--tw-prose-links)",textDecoration:"underline",fontWeight:"500"},strong:{color:"var(--tw-prose-bold)",fontWeight:"600"},"a strong":{color:"inherit"},"blockquote strong":{color:"inherit"},"thead th strong":{color:"inherit"},ol:{listStyleType:"decimal"},'ol[type="A"]':{listStyleType:"upper-alpha"},'ol[type="a"]':{listStyleType:"lower-alpha"},'ol[type="A" s]':{listStyleType:"upper-alpha"},'ol[type="a" s]':{listStyleType:"lower-alpha"},'ol[type="I"]':{listStyleType:"upper-roman"},'ol[type="i"]':{listStyleType:"lower-roman"},'ol[type="I" s]':{listStyleType:"upper-roman"},'ol[type="i" s]':{listStyleType:"lower-roman"},'ol[type="1"]':{listStyleType:"decimal"},ul:{listStyleType:"disc"},"ol > li::marker":{fontWeight:"400",color:"var(--tw-prose-counters)"},"ul > li::marker":{color:"var(--tw-prose-bullets)"},dt:{color:"var(--tw-prose-headings)",fontWeight:"600"},hr:{borderColor:"var(--tw-prose-hr)",borderTopWidth:1},blockquote:{fontWeight:"500",fontStyle:"italic",color:"var(--tw-prose-quotes)",borderInlineStartWidth:"0.25rem",borderInlineStartColor:"var(--tw-prose-quote-borders)",quotes:'"\\201C""\\201D""\\2018""\\2019"'},"blockquote p:first-of-type::before":{content:"open-quote"},"blockquote p:last-of-type::after":{content:"close-quote"},h1:{color:"var(--tw-prose-headings)",fontWeight:"800"},"h1 strong":{fontWeight:"900",color:"inherit"},h2:{color:"var(--tw-prose-headings)",fontWeight:"700"},"h2 strong":{fontWeight:"800",color:"inherit"},h3:{color:"var(--tw-prose-headings)",fontWeight:"600"},"h3 strong":{fontWeight:"700",color:"inherit"},h4:{color:"var(--tw-prose-headings)",fontWeight:"600"},"h4 strong":{fontWeight:"700",color:"inherit"},img:{},picture:{display:"block"},video:{},kbd:{fontWeight:"500",fontFamily:"inherit",color:"var(--tw-prose-kbd)",boxShadow:"0 0 0 1px rgb(var(--tw-prose-kbd-shadows) / 10%), 0 3px 0 rgb(var(--tw-prose-kbd-shadows) / 10%)"},code:{color:"var(--tw-prose-code)",fontWeight:"600"},"code::before":{content:'"`"'},"code::after":{content:'"`"'},"a code":{color:"inherit"},"h1 code":{color:"inherit"},"h2 code":{color:"inherit"},"h3 code":{color:"inherit"},"h4 code":{color:"inherit"},"blockquote code":{color:"inherit"},"thead th code":{color:"inherit"},pre:{color:"var(--tw-prose-pre-code)",backgroundColor:"var(--tw-prose-pre-bg)",overflowX:"auto",fontWeight:"400"},"pre code":{backgroundColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0",fontWeight:"inherit",color:"inherit",fontSize:"inherit",fontFamily:"inherit",lineHeight:"inherit"},"pre code::before":{content:"none"},"pre code::after":{content:"none"},table:{width:"100%",tableLayout:"auto",marginTop:i(32,16),marginBottom:i(32,16)},thead:{borderBottomWidth:"1px",borderBottomColor:"var(--tw-prose-th-borders)"},"thead th":{color:"var(--tw-prose-headings)",fontWeight:"600",verticalAlign:"bottom"},"tbody tr":{borderBottomWidth:"1px",borderBottomColor:"var(--tw-prose-td-borders)"},"tbody tr:last-child":{borderBottomWidth:"0"},"tbody td":{verticalAlign:"baseline"},tfoot:{borderTopWidth:"1px",borderTopColor:"var(--tw-prose-th-borders)"},"tfoot td":{verticalAlign:"top"},"th, td":{textAlign:"start"},"figure > *":{},figcaption:{color:"var(--tw-prose-captions)"}},s.gray.css,...s.base.css]},...s},T4}var w4,Qte;function P9e(){if(Qte)return w4;Qte=1;var n="[object Object]";function e(h){var f=!1;if(h!=null&&typeof h.toString!="function")try{f=!!(h+"")}catch{}return f}function t(h,f){return function(m){return h(f(m))}}var i=Function.prototype,r=Object.prototype,s=i.toString,o=r.hasOwnProperty,a=s.call(Object),l=r.toString,c=t(Object.getPrototypeOf,Object);function u(h){return!!h&&typeof h=="object"}function d(h){if(!u(h)||l.call(h)!=n||e(h))return!1;var f=c(h);if(f===null)return!0;var m=o.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==a}return w4=d,w4}var nI={exports:{}},iI={exports:{}},rI={exports:{}},sI={exports:{}},oI={exports:{}},aI={exports:{}},Nc={},lI={exports:{}},Zte;function Obe(){return Zte||(Zte=1,function(n,e){e.__esModule=!0,e.default=r;function t(s){for(var o=s.toLowerCase(),a="",l=!1,c=0;c<6&&o[c]!==void 0;c++){var u=o.charCodeAt(c),d=u>=97&&u<=102||u>=48&&u<=57;if(l=u===32,!d)break;a+=o[c]}if(a.length!==0){var h=parseInt(a,16),f=h>=55296&&h<=57343;return f||h===0||h>1114111?["",a.length+(l?1:0)]:[String.fromCodePoint(h),a.length+(l?1:0)]}}var i=/\\/;function r(s){var o=i.test(s);if(!o)return s;for(var a="",l=0;l<s.length;l++){if(s[l]==="\\"){var c=t(s.slice(l+1,l+7));if(c!==void 0){a+=c[0],l+=c[1];continue}if(s[l+1]==="\\"){a+="\\",l++;continue}s.length===l+1&&(a+=s[l]);continue}a+=s[l]}return a}n.exports=e.default}(lI,lI.exports)),lI.exports}var cI={exports:{}},Jte;function k9e(){return Jte||(Jte=1,function(n,e){e.__esModule=!0,e.default=t;function t(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];for(;s.length>0;){var a=s.shift();if(!i[a])return;i=i[a]}return i}n.exports=e.default}(cI,cI.exports)),cI.exports}var uI={exports:{}},ene;function M9e(){return ene||(ene=1,function(n,e){e.__esModule=!0,e.default=t;function t(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];for(;s.length>0;){var a=s.shift();i[a]||(i[a]={}),i=i[a]}}n.exports=e.default}(uI,uI.exports)),uI.exports}var dI={exports:{}},tne;function F9e(){return tne||(tne=1,function(n,e){e.__esModule=!0,e.default=t;function t(i){for(var r="",s=i.indexOf("/*"),o=0;s>=0;){r=r+i.slice(o,s);var a=i.indexOf("*/",s+2);if(a<0)return r;o=a+2,s=i.indexOf("/*",o)}return r=r+i.slice(o),r}n.exports=e.default}(dI,dI.exports)),dI.exports}var nne;function uM(){if(nne)return Nc;nne=1,Nc.__esModule=!0,Nc.stripComments=Nc.ensureObject=Nc.getProp=Nc.unesc=void 0;var n=r(Obe());Nc.unesc=n.default;var e=r(k9e());Nc.getProp=e.default;var t=r(M9e());Nc.ensureObject=t.default;var i=r(F9e());Nc.stripComments=i.default;function r(s){return s&&s.__esModule?s:{default:s}}return Nc}var ine;function hp(){return ine||(ine=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=uM();function i(a,l){for(var c=0;c<l.length;c++){var u=l[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}function r(a,l,c){return l&&i(a.prototype,l),a}var s=function a(l,c){if(typeof l!="object"||l===null)return l;var u=new l.constructor;for(var d in l)if(l.hasOwnProperty(d)){var h=l[d],f=typeof h;d==="parent"&&f==="object"?c&&(u[d]=c):h instanceof Array?u[d]=h.map(function(m){return a(m,u)}):u[d]=a(h,u)}return u},o=function(){function a(c){c===void 0&&(c={}),Object.assign(this,c),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var l=a.prototype;return l.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},l.replaceWith=function(){if(this.parent){for(var u in arguments)this.parent.insertBefore(this,arguments[u]);this.remove()}return this},l.next=function(){return this.parent.at(this.parent.index(this)+1)},l.prev=function(){return this.parent.at(this.parent.index(this)-1)},l.clone=function(u){u===void 0&&(u={});var d=s(this);for(var h in u)d[h]=u[h];return d},l.appendToPropertyAndEscape=function(u,d,h){this.raws||(this.raws={});var f=this[u],m=this.raws[u];this[u]=f+d,m||h!==d?this.raws[u]=(m||f)+h:delete this.raws[u]},l.setPropertyAndEscape=function(u,d,h){this.raws||(this.raws={}),this[u]=d,this.raws[u]=h},l.setPropertyWithoutEscape=function(u,d){this[u]=d,this.raws&&delete this.raws[u]},l.isAtPosition=function(u,d){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>u||this.source.end.line<u||this.source.start.line===u&&this.source.start.column>d||this.source.end.line===u&&this.source.end.column<d)},l.stringifyProperty=function(u){return this.raws&&this.raws[u]||this[u]},l.valueToString=function(){return String(this.stringifyProperty("value"))},l.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},r(a,[{key:"rawSpaceBefore",get:function(){var u=this.raws&&this.raws.spaces&&this.raws.spaces.before;return u===void 0&&(u=this.spaces&&this.spaces.before),u||""},set:function(u){(0,t.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=u}},{key:"rawSpaceAfter",get:function(){var u=this.raws&&this.raws.spaces&&this.raws.spaces.after;return u===void 0&&(u=this.spaces.after),u||""},set:function(u){(0,t.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=u}}]),a}();e.default=o,n.exports=e.default}(aI,aI.exports)),aI.exports}var tr={},rne;function ta(){if(rne)return tr;rne=1,tr.__esModule=!0,tr.UNIVERSAL=tr.ATTRIBUTE=tr.CLASS=tr.COMBINATOR=tr.COMMENT=tr.ID=tr.NESTING=tr.PSEUDO=tr.ROOT=tr.SELECTOR=tr.STRING=tr.TAG=void 0;var n="tag";tr.TAG=n;var e="string";tr.STRING=e;var t="selector";tr.SELECTOR=t;var i="root";tr.ROOT=i;var r="pseudo";tr.PSEUDO=r;var s="nesting";tr.NESTING=s;var o="id";tr.ID=o;var a="comment";tr.COMMENT=a;var l="combinator";tr.COMBINATOR=l;var c="class";tr.CLASS=c;var u="attribute";tr.ATTRIBUTE=u;var d="universal";return tr.UNIVERSAL=d,tr}var sne;function DY(){return sne||(sne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=o(hp()),i=s(ta());function r(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return r=function(){return g},g}function s(g){if(g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var _=r();if(_&&_.has(g))return _.get(g);var v={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in g)if(Object.prototype.hasOwnProperty.call(g,C)){var y=S?Object.getOwnPropertyDescriptor(g,C):null;y&&(y.get||y.set)?Object.defineProperty(v,C,y):v[C]=g[C]}return v.default=g,_&&_.set(g,v),v}function o(g){return g&&g.__esModule?g:{default:g}}function a(g,_){var v;if(typeof Symbol>"u"||g[Symbol.iterator]==null){if(Array.isArray(g)||(v=l(g))||_){v&&(g=v);var S=0;return function(){return S>=g.length?{done:!0}:{done:!1,value:g[S++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return v=g[Symbol.iterator](),v.next.bind(v)}function l(g,_){if(g){if(typeof g=="string")return c(g,_);var v=Object.prototype.toString.call(g).slice(8,-1);if(v==="Object"&&g.constructor&&(v=g.constructor.name),v==="Map"||v==="Set")return Array.from(g);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return c(g,_)}}function c(g,_){(_==null||_>g.length)&&(_=g.length);for(var v=0,S=new Array(_);v<_;v++)S[v]=g[v];return S}function u(g,_){for(var v=0;v<_.length;v++){var S=_[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function d(g,_,v){return _&&u(g.prototype,_),g}function h(g,_){g.prototype=Object.create(_.prototype),g.prototype.constructor=g,f(g,_)}function f(g,_){return f=Object.setPrototypeOf||function(S,C){return S.__proto__=C,S},f(g,_)}var m=function(g){h(_,g);function _(S){var C;return C=g.call(this,S)||this,C.nodes||(C.nodes=[]),C}var v=_.prototype;return v.append=function(C){return C.parent=this,this.nodes.push(C),this},v.prepend=function(C){return C.parent=this,this.nodes.unshift(C),this},v.at=function(C){return this.nodes[C]},v.index=function(C){return typeof C=="number"?C:this.nodes.indexOf(C)},v.removeChild=function(C){C=this.index(C),this.at(C).parent=void 0,this.nodes.splice(C,1);var y;for(var b in this.indexes)y=this.indexes[b],y>=C&&(this.indexes[b]=y-1);return this},v.removeAll=function(){for(var C=a(this.nodes),y;!(y=C()).done;){var b=y.value;b.parent=void 0}return this.nodes=[],this},v.empty=function(){return this.removeAll()},v.insertAfter=function(C,y){y.parent=this;var b=this.index(C);this.nodes.splice(b+1,0,y),y.parent=this;var w;for(var I in this.indexes)w=this.indexes[I],b<=w&&(this.indexes[I]=w+1);return this},v.insertBefore=function(C,y){y.parent=this;var b=this.index(C);this.nodes.splice(b,0,y),y.parent=this;var w;for(var I in this.indexes)w=this.indexes[I],w<=b&&(this.indexes[I]=w+1);return this},v._findChildAtPosition=function(C,y){var b=void 0;return this.each(function(w){if(w.atPosition){var I=w.atPosition(C,y);if(I)return b=I,!1}else if(w.isAtPosition(C,y))return b=w,!1}),b},v.atPosition=function(C,y){if(this.isAtPosition(C,y))return this._findChildAtPosition(C,y)||this},v._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},Object.assign(this.source.end,this.last.source.end))},v.each=function(C){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var y=this.lastEach;if(this.indexes[y]=0,!!this.length){for(var b,w;this.indexes[y]<this.length&&(b=this.indexes[y],w=C(this.at(b),b),w!==!1);)this.indexes[y]+=1;if(delete this.indexes[y],w===!1)return!1}},v.walk=function(C){return this.each(function(y,b){var w=C(y,b);if(w!==!1&&y.length&&(w=y.walk(C)),w===!1)return!1})},v.walkAttributes=function(C){var y=this;return this.walk(function(b){if(b.type===i.ATTRIBUTE)return C.call(y,b)})},v.walkClasses=function(C){var y=this;return this.walk(function(b){if(b.type===i.CLASS)return C.call(y,b)})},v.walkCombinators=function(C){var y=this;return this.walk(function(b){if(b.type===i.COMBINATOR)return C.call(y,b)})},v.walkComments=function(C){var y=this;return this.walk(function(b){if(b.type===i.COMMENT)return C.call(y,b)})},v.walkIds=function(C){var y=this;return this.walk(function(b){if(b.type===i.ID)return C.call(y,b)})},v.walkNesting=function(C){var y=this;return this.walk(function(b){if(b.type===i.NESTING)return C.call(y,b)})},v.walkPseudos=function(C){var y=this;return this.walk(function(b){if(b.type===i.PSEUDO)return C.call(y,b)})},v.walkTags=function(C){var y=this;return this.walk(function(b){if(b.type===i.TAG)return C.call(y,b)})},v.walkUniversals=function(C){var y=this;return this.walk(function(b){if(b.type===i.UNIVERSAL)return C.call(y,b)})},v.split=function(C){var y=this,b=[];return this.reduce(function(w,I,O){var x=C.call(y,I);return b.push(I),x?(w.push(b),b=[]):O===y.length-1&&w.push(b),w},[])},v.map=function(C){return this.nodes.map(C)},v.reduce=function(C,y){return this.nodes.reduce(C,y)},v.every=function(C){return this.nodes.every(C)},v.some=function(C){return this.nodes.some(C)},v.filter=function(C){return this.nodes.filter(C)},v.sort=function(C){return this.nodes.sort(C)},v.toString=function(){return this.map(String).join("")},d(_,[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}]),_}(t.default);e.default=m,n.exports=e.default}(oI,oI.exports)),oI.exports}var one;function xbe(){return one||(one=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=r(DY()),i=ta();function r(u){return u&&u.__esModule?u:{default:u}}function s(u,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function o(u,d,h){return d&&s(u.prototype,d),u}function a(u,d){u.prototype=Object.create(d.prototype),u.prototype.constructor=u,l(u,d)}function l(u,d){return l=Object.setPrototypeOf||function(f,m){return f.__proto__=m,f},l(u,d)}var c=function(u){a(d,u);function d(f){var m;return m=u.call(this,f)||this,m.type=i.ROOT,m}var h=d.prototype;return h.toString=function(){var m=this.reduce(function(g,_){return g.push(String(_)),g},[]).join(",");return this.trailingComma?m+",":m},h.error=function(m,g){return this._error?this._error(m,g):new Error(m)},o(d,[{key:"errorGenerator",set:function(m){this._error=m}}]),d}(t.default);e.default=c,n.exports=e.default}(sI,sI.exports)),sI.exports}var hI={exports:{}},ane;function Dbe(){return ane||(ane=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=r(DY()),i=ta();function r(l){return l&&l.__esModule?l:{default:l}}function s(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,o(l,c)}function o(l,c){return o=Object.setPrototypeOf||function(d,h){return d.__proto__=h,d},o(l,c)}var a=function(l){s(c,l);function c(u){var d;return d=l.call(this,u)||this,d.type=i.SELECTOR,d}return c}(t.default);e.default=a,n.exports=e.default}(hI,hI.exports)),hI.exports}var fI={exports:{}};/*! https://mths.be/cssesc v3.0.0 by @mathias */var A4,lne;function PY(){if(lne)return A4;lne=1;var n={},e=n.hasOwnProperty,t=function(l,c){if(!l)return c;var u={};for(var d in c)u[d]=e.call(l,d)?l[d]:c[d];return u},i=/[ -,\.\/:-@\[-\^`\{-~]/,r=/[ -,\.\/:-@\[\]\^`\{-~]/,s=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,o=function a(l,c){c=t(c,a.options),c.quotes!="single"&&c.quotes!="double"&&(c.quotes="single");for(var u=c.quotes=="double"?'"':"'",d=c.isIdentifier,h=l.charAt(0),f="",m=0,g=l.length;m<g;){var _=l.charAt(m++),v=_.charCodeAt(),S=void 0;if(v<32||v>126){if(v>=55296&&v<=56319&&m<g){var C=l.charCodeAt(m++);(C&64512)==56320?v=((v&1023)<<10)+(C&1023)+65536:m--}S="\\"+v.toString(16).toUpperCase()+" "}else c.escapeEverything?i.test(_)?S="\\"+_:S="\\"+v.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(_)?S="\\"+v.toString(16).toUpperCase()+" ":_=="\\"||!d&&(_=='"'&&u==_||_=="'"&&u==_)||d&&r.test(_)?S="\\"+_:S=_;f+=S}return d&&(/^-[-\d]/.test(f)?f="\\-"+f.slice(1):/\d/.test(h)&&(f="\\3"+h+" "+f.slice(1))),f=f.replace(s,function(y,b,w){return b&&b.length%2?y:(b||"")+w}),!d&&c.wrap?u+f+u:f};return o.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},o.version="3.0.0",A4=o,A4}var cne;function Pbe(){return cne||(cne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=o(PY()),i=uM(),r=o(hp()),s=ta();function o(h){return h&&h.__esModule?h:{default:h}}function a(h,f){for(var m=0;m<f.length;m++){var g=f[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}function l(h,f,m){return f&&a(h.prototype,f),h}function c(h,f){h.prototype=Object.create(f.prototype),h.prototype.constructor=h,u(h,f)}function u(h,f){return u=Object.setPrototypeOf||function(g,_){return g.__proto__=_,g},u(h,f)}var d=function(h){c(f,h);function f(g){var _;return _=h.call(this,g)||this,_.type=s.CLASS,_._constructed=!0,_}var m=f.prototype;return m.valueToString=function(){return"."+h.prototype.valueToString.call(this)},l(f,[{key:"value",get:function(){return this._value},set:function(_){if(this._constructed){var v=(0,t.default)(_,{isIdentifier:!0});v!==_?((0,i.ensureObject)(this,"raws"),this.raws.value=v):this.raws&&delete this.raws.value}this._value=_}}]),f}(r.default);e.default=d,n.exports=e.default}(fI,fI.exports)),fI.exports}var gI={exports:{}},une;function kbe(){return une||(une=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=r(hp()),i=ta();function r(l){return l&&l.__esModule?l:{default:l}}function s(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,o(l,c)}function o(l,c){return o=Object.setPrototypeOf||function(d,h){return d.__proto__=h,d},o(l,c)}var a=function(l){s(c,l);function c(u){var d;return d=l.call(this,u)||this,d.type=i.COMMENT,d}return c}(t.default);e.default=a,n.exports=e.default}(gI,gI.exports)),gI.exports}var pI={exports:{}},dne;function Mbe(){return dne||(dne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=r(hp()),i=ta();function r(l){return l&&l.__esModule?l:{default:l}}function s(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,o(l,c)}function o(l,c){return o=Object.setPrototypeOf||function(d,h){return d.__proto__=h,d},o(l,c)}var a=function(l){s(c,l);function c(d){var h;return h=l.call(this,d)||this,h.type=i.ID,h}var u=c.prototype;return u.valueToString=function(){return"#"+l.prototype.valueToString.call(this)},c}(t.default);e.default=a,n.exports=e.default}(pI,pI.exports)),pI.exports}var mI={exports:{}},_I={exports:{}},hne;function kY(){return hne||(hne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=s(PY()),i=uM(),r=s(hp());function s(d){return d&&d.__esModule?d:{default:d}}function o(d,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function a(d,h,f){return h&&o(d.prototype,h),d}function l(d,h){d.prototype=Object.create(h.prototype),d.prototype.constructor=d,c(d,h)}function c(d,h){return c=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m},c(d,h)}var u=function(d){l(h,d);function h(){return d.apply(this,arguments)||this}var f=h.prototype;return f.qualifiedName=function(g){return this.namespace?this.namespaceString+"|"+g:g},f.valueToString=function(){return this.qualifiedName(d.prototype.valueToString.call(this))},a(h,[{key:"namespace",get:function(){return this._namespace},set:function(g){if(g===!0||g==="*"||g==="&"){this._namespace=g,this.raws&&delete this.raws.namespace;return}var _=(0,t.default)(g,{isIdentifier:!0});this._namespace=g,_!==g?((0,i.ensureObject)(this,"raws"),this.raws.namespace=_):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(g){this.namespace=g}},{key:"namespaceString",get:function(){if(this.namespace){var g=this.stringifyProperty("namespace");return g===!0?"":g}else return""}}]),h}(r.default);e.default=u,n.exports=e.default}(_I,_I.exports)),_I.exports}var fne;function Fbe(){return fne||(fne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=r(kY()),i=ta();function r(l){return l&&l.__esModule?l:{default:l}}function s(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,o(l,c)}function o(l,c){return o=Object.setPrototypeOf||function(d,h){return d.__proto__=h,d},o(l,c)}var a=function(l){s(c,l);function c(u){var d;return d=l.call(this,u)||this,d.type=i.TAG,d}return c}(t.default);e.default=a,n.exports=e.default}(mI,mI.exports)),mI.exports}var EI={exports:{}},gne;function Bbe(){return gne||(gne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=r(hp()),i=ta();function r(l){return l&&l.__esModule?l:{default:l}}function s(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,o(l,c)}function o(l,c){return o=Object.setPrototypeOf||function(d,h){return d.__proto__=h,d},o(l,c)}var a=function(l){s(c,l);function c(u){var d;return d=l.call(this,u)||this,d.type=i.STRING,d}return c}(t.default);e.default=a,n.exports=e.default}(EI,EI.exports)),EI.exports}var vI={exports:{}},pne;function Ube(){return pne||(pne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=r(DY()),i=ta();function r(l){return l&&l.__esModule?l:{default:l}}function s(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,o(l,c)}function o(l,c){return o=Object.setPrototypeOf||function(d,h){return d.__proto__=h,d},o(l,c)}var a=function(l){s(c,l);function c(d){var h;return h=l.call(this,d)||this,h.type=i.PSEUDO,h}var u=c.prototype;return u.toString=function(){var h=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),h,this.rawSpaceAfter].join("")},c}(t.default);e.default=a,n.exports=e.default}(vI,vI.exports)),vI.exports}var R4={},I4,mne;function B9e(){if(mne)return I4;mne=1,I4=n;function n(t,i){if(e("noDeprecation"))return t;var r=!1;function s(){if(!r){if(e("throwDeprecation"))throw new Error(i);e("traceDeprecation")?console.trace(i):console.warn(i),r=!0}return t.apply(this,arguments)}return s}function e(t){try{if(!uo.localStorage)return!1}catch{return!1}var i=uo.localStorage[t];return i==null?!1:String(i).toLowerCase()==="true"}return I4}var _ne;function Hbe(){return _ne||(_ne=1,function(n){n.__esModule=!0,n.unescapeValue=_,n.default=void 0;var e=o(PY()),t=o(Obe()),i=o(kY()),r=ta(),s;function o(b){return b&&b.__esModule?b:{default:b}}function a(b,w){for(var I=0;I<w.length;I++){var O=w[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}function l(b,w,I){return w&&a(b.prototype,w),b}function c(b,w){b.prototype=Object.create(w.prototype),b.prototype.constructor=b,u(b,w)}function u(b,w){return u=Object.setPrototypeOf||function(O,x){return O.__proto__=x,O},u(b,w)}var d=B9e(),h=/^('|")([^]*)\1$/,f=d(function(){},"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),m=d(function(){},"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),g=d(function(){},"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function _(b){var w=!1,I=null,O=b,x=O.match(h);return x&&(I=x[1],O=x[2]),O=(0,t.default)(O),O!==b&&(w=!0),{deprecatedUsage:w,unescaped:O,quoteMark:I}}function v(b){if(b.quoteMark!==void 0||b.value===void 0)return b;g();var w=_(b.value),I=w.quoteMark,O=w.unescaped;return b.raws||(b.raws={}),b.raws.value===void 0&&(b.raws.value=b.value),b.value=O,b.quoteMark=I,b}var S=function(b){c(w,b);function w(O){var x;return O===void 0&&(O={}),x=b.call(this,v(O))||this,x.type=r.ATTRIBUTE,x.raws=x.raws||{},Object.defineProperty(x.raws,"unquoted",{get:d(function(){return x.value},"attr.raws.unquoted is deprecated. Call attr.value instead."),set:d(function(){return x.value},"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),x._constructed=!0,x}var I=w.prototype;return I.getQuotedValue=function(x){x===void 0&&(x={});var k=this._determineQuoteMark(x),P=C[k],M=(0,e.default)(this._value,P);return M},I._determineQuoteMark=function(x){return x.smart?this.smartQuoteMark(x):this.preferredQuoteMark(x)},I.setValue=function(x,k){k===void 0&&(k={}),this._value=x,this._quoteMark=this._determineQuoteMark(k),this._syncRawValue()},I.smartQuoteMark=function(x){var k=this.value,P=k.replace(/[^']/g,"").length,M=k.replace(/[^"]/g,"").length;if(P+M===0){var W=(0,e.default)(k,{isIdentifier:!0});if(W===k)return w.NO_QUOTE;var F=this.preferredQuoteMark(x);if(F===w.NO_QUOTE){var H=this.quoteMark||x.quoteMark||w.DOUBLE_QUOTE,V=C[H],Y=(0,e.default)(k,V);if(Y.length<W.length)return H}return F}else return M===P?this.preferredQuoteMark(x):M<P?w.DOUBLE_QUOTE:w.SINGLE_QUOTE},I.preferredQuoteMark=function(x){var k=x.preferCurrentQuoteMark?this.quoteMark:x.quoteMark;return k===void 0&&(k=x.preferCurrentQuoteMark?x.quoteMark:this.quoteMark),k===void 0&&(k=w.DOUBLE_QUOTE),k},I._syncRawValue=function(){var x=(0,e.default)(this._value,C[this.quoteMark]);x===this._value?this.raws&&delete this.raws.value:this.raws.value=x},I._handleEscapes=function(x,k){if(this._constructed){var P=(0,e.default)(k,{isIdentifier:!0});P!==k?this.raws[x]=P:delete this.raws[x]}},I._spacesFor=function(x){var k={before:"",after:""},P=this.spaces[x]||{},M=this.raws.spaces&&this.raws.spaces[x]||{};return Object.assign(k,P,M)},I._stringFor=function(x,k,P){k===void 0&&(k=x),P===void 0&&(P=y);var M=this._spacesFor(k);return P(this.stringifyProperty(x),M)},I.offsetOf=function(x){var k=1,P=this._spacesFor("attribute");if(k+=P.before.length,x==="namespace"||x==="ns")return this.namespace?k:-1;if(x==="attributeNS"||(k+=this.namespaceString.length,this.namespace&&(k+=1),x==="attribute"))return k;k+=this.stringifyProperty("attribute").length,k+=P.after.length;var M=this._spacesFor("operator");k+=M.before.length;var W=this.stringifyProperty("operator");if(x==="operator")return W?k:-1;k+=W.length,k+=M.after.length;var F=this._spacesFor("value");k+=F.before.length;var H=this.stringifyProperty("value");if(x==="value")return H?k:-1;k+=H.length,k+=F.after.length;var V=this._spacesFor("insensitive");return k+=V.before.length,x==="insensitive"&&this.insensitive?k:-1},I.toString=function(){var x=this,k=[this.rawSpaceBefore,"["];return k.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||this.value==="")&&(k.push(this._stringFor("operator")),k.push(this._stringFor("value")),k.push(this._stringFor("insensitiveFlag","insensitive",function(P,M){return P.length>0&&!x.quoted&&M.before.length===0&&!(x.spaces.value&&x.spaces.value.after)&&(M.before=" "),y(P,M)}))),k.push("]"),k.push(this.rawSpaceAfter),k.join("")},l(w,[{key:"quoted",get:function(){var x=this.quoteMark;return x==="'"||x==='"'},set:function(x){m()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(x){if(!this._constructed){this._quoteMark=x;return}this._quoteMark!==x&&(this._quoteMark=x,this._syncRawValue())}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(x){if(this._constructed){var k=_(x),P=k.deprecatedUsage,M=k.unescaped,W=k.quoteMark;if(P&&f(),M===this._value&&W===this._quoteMark)return;this._value=M,this._quoteMark=W,this._syncRawValue()}else this._value=x}},{key:"attribute",get:function(){return this._attribute},set:function(x){this._handleEscapes("attribute",x),this._attribute=x}}]),w}(i.default);n.default=S,S.NO_QUOTE=null,S.SINGLE_QUOTE="'",S.DOUBLE_QUOTE='"';var C=(s={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}},s[null]={isIdentifier:!0},s);function y(b,w){return""+w.before+b+w.after}}(R4)),R4}var SI={exports:{}},Ene;function Vbe(){return Ene||(Ene=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=r(kY()),i=ta();function r(l){return l&&l.__esModule?l:{default:l}}function s(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,o(l,c)}function o(l,c){return o=Object.setPrototypeOf||function(d,h){return d.__proto__=h,d},o(l,c)}var a=function(l){s(c,l);function c(u){var d;return d=l.call(this,u)||this,d.type=i.UNIVERSAL,d.value="*",d}return c}(t.default);e.default=a,n.exports=e.default}(SI,SI.exports)),SI.exports}var CI={exports:{}},vne;function Wbe(){return vne||(vne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=r(hp()),i=ta();function r(l){return l&&l.__esModule?l:{default:l}}function s(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,o(l,c)}function o(l,c){return o=Object.setPrototypeOf||function(d,h){return d.__proto__=h,d},o(l,c)}var a=function(l){s(c,l);function c(u){var d;return d=l.call(this,u)||this,d.type=i.COMBINATOR,d}return c}(t.default);e.default=a,n.exports=e.default}(CI,CI.exports)),CI.exports}var yI={exports:{}},Sne;function $be(){return Sne||(Sne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=r(hp()),i=ta();function r(l){return l&&l.__esModule?l:{default:l}}function s(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,o(l,c)}function o(l,c){return o=Object.setPrototypeOf||function(d,h){return d.__proto__=h,d},o(l,c)}var a=function(l){s(c,l);function c(u){var d;return d=l.call(this,u)||this,d.type=i.NESTING,d.value="&",d}return c}(t.default);e.default=a,n.exports=e.default}(yI,yI.exports)),yI.exports}var bI={exports:{}},Cne;function U9e(){return Cne||(Cne=1,function(n,e){e.__esModule=!0,e.default=t;function t(i){return i.sort(function(r,s){return r-s})}n.exports=e.default}(bI,bI.exports)),bI.exports}var N4={},Nt={},yne;function Gbe(){if(yne)return Nt;yne=1,Nt.__esModule=!0,Nt.combinator=Nt.word=Nt.comment=Nt.str=Nt.tab=Nt.newline=Nt.feed=Nt.cr=Nt.backslash=Nt.bang=Nt.slash=Nt.doubleQuote=Nt.singleQuote=Nt.space=Nt.greaterThan=Nt.pipe=Nt.equals=Nt.plus=Nt.caret=Nt.tilde=Nt.dollar=Nt.closeSquare=Nt.openSquare=Nt.closeParenthesis=Nt.openParenthesis=Nt.semicolon=Nt.colon=Nt.comma=Nt.at=Nt.asterisk=Nt.ampersand=void 0;var n=38;Nt.ampersand=n;var e=42;Nt.asterisk=e;var t=64;Nt.at=t;var i=44;Nt.comma=i;var r=58;Nt.colon=r;var s=59;Nt.semicolon=s;var o=40;Nt.openParenthesis=o;var a=41;Nt.closeParenthesis=a;var l=91;Nt.openSquare=l;var c=93;Nt.closeSquare=c;var u=36;Nt.dollar=u;var d=126;Nt.tilde=d;var h=94;Nt.caret=h;var f=43;Nt.plus=f;var m=61;Nt.equals=m;var g=124;Nt.pipe=g;var _=62;Nt.greaterThan=_;var v=32;Nt.space=v;var S=39;Nt.singleQuote=S;var C=34;Nt.doubleQuote=C;var y=47;Nt.slash=y;var b=33;Nt.bang=b;var w=92;Nt.backslash=w;var I=13;Nt.cr=I;var O=12;Nt.feed=O;var x=10;Nt.newline=x;var k=9;Nt.tab=k;var P=S;Nt.str=P;var M=-1;Nt.comment=M;var W=-2;Nt.word=W;var F=-3;return Nt.combinator=F,Nt}var bne;function H9e(){return bne||(bne=1,function(n){n.__esModule=!0,n.default=m,n.FIELDS=void 0;var e=s(Gbe()),t,i;function r(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return r=function(){return g},g}function s(g){if(g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var _=r();if(_&&_.has(g))return _.get(g);var v={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in g)if(Object.prototype.hasOwnProperty.call(g,C)){var y=S?Object.getOwnPropertyDescriptor(g,C):null;y&&(y.get||y.set)?Object.defineProperty(v,C,y):v[C]=g[C]}return v.default=g,_&&_.set(g,v),v}for(var o=(t={},t[e.tab]=!0,t[e.newline]=!0,t[e.cr]=!0,t[e.feed]=!0,t),a=(i={},i[e.space]=!0,i[e.tab]=!0,i[e.newline]=!0,i[e.cr]=!0,i[e.feed]=!0,i[e.ampersand]=!0,i[e.asterisk]=!0,i[e.bang]=!0,i[e.comma]=!0,i[e.colon]=!0,i[e.semicolon]=!0,i[e.openParenthesis]=!0,i[e.closeParenthesis]=!0,i[e.openSquare]=!0,i[e.closeSquare]=!0,i[e.singleQuote]=!0,i[e.doubleQuote]=!0,i[e.plus]=!0,i[e.pipe]=!0,i[e.tilde]=!0,i[e.greaterThan]=!0,i[e.equals]=!0,i[e.dollar]=!0,i[e.caret]=!0,i[e.slash]=!0,i),l={},c="0123456789abcdefABCDEF",u=0;u<c.length;u++)l[c.charCodeAt(u)]=!0;function d(g,_){var v=_,S;do{if(S=g.charCodeAt(v),a[S])return v-1;S===e.backslash?v=h(g,v)+1:v++}while(v<g.length);return v-1}function h(g,_){var v=_,S=g.charCodeAt(v+1);if(!o[S])if(l[S]){var C=0;do v++,C++,S=g.charCodeAt(v+1);while(l[S]&&C<6);C<6&&S===e.space&&v++}else v++;return v}var f={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6};n.FIELDS=f;function m(g){var _=[],v=g.css.valueOf(),S=v,C=S.length,y=-1,b=1,w=0,I=0,O,x,k,P,M,W,F,H,V,Y,$,K,re;function G(J,z){if(g.safe)v+=z,V=v.length-1;else throw g.error("Unclosed "+J,b,w-y,w)}for(;w<C;){switch(O=v.charCodeAt(w),O===e.newline&&(y=w,b+=1),O){case e.space:case e.tab:case e.newline:case e.cr:case e.feed:V=w;do V+=1,O=v.charCodeAt(V),O===e.newline&&(y=V,b+=1);while(O===e.space||O===e.newline||O===e.tab||O===e.cr||O===e.feed);re=e.space,P=b,k=V-y-1,I=V;break;case e.plus:case e.greaterThan:case e.tilde:case e.pipe:V=w;do V+=1,O=v.charCodeAt(V);while(O===e.plus||O===e.greaterThan||O===e.tilde||O===e.pipe);re=e.combinator,P=b,k=w-y,I=V;break;case e.asterisk:case e.ampersand:case e.bang:case e.comma:case e.equals:case e.dollar:case e.caret:case e.openSquare:case e.closeSquare:case e.colon:case e.semicolon:case e.openParenthesis:case e.closeParenthesis:V=w,re=O,P=b,k=w-y,I=V+1;break;case e.singleQuote:case e.doubleQuote:K=O===e.singleQuote?"'":'"',V=w;do for(M=!1,V=v.indexOf(K,V+1),V===-1&&G("quote",K),W=V;v.charCodeAt(W-1)===e.backslash;)W-=1,M=!M;while(M);re=e.str,P=b,k=w-y,I=V+1;break;default:O===e.slash&&v.charCodeAt(w+1)===e.asterisk?(V=v.indexOf("*/",w+2)+1,V===0&&G("comment","*/"),x=v.slice(w,V+1),H=x.split(`
`),F=H.length-1,F>0?(Y=b+F,$=V-H[F].length):(Y=b,$=y),re=e.comment,b=Y,P=Y,k=V-$):O===e.slash?(V=w,re=O,P=b,k=w-y,I=V+1):(V=d(v,w),re=e.word,P=b,k=V-y),I=V+1;break}_.push([re,b,w-y,P,k,w,I]),$&&(y=$,$=null),w=I}return _}}(N4)),N4}var Tne;function V9e(){return Tne||(Tne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=I(xbe()),i=I(Dbe()),r=I(Pbe()),s=I(kbe()),o=I(Mbe()),a=I(Fbe()),l=I(Bbe()),c=I(Ube()),u=w(Hbe()),d=I(Vbe()),h=I(Wbe()),f=I($be()),m=I(U9e()),g=w(H9e()),_=w(Gbe()),v=w(ta()),S=uM(),C,y;function b(){if(typeof WeakMap!="function")return null;var G=new WeakMap;return b=function(){return G},G}function w(G){if(G&&G.__esModule)return G;if(G===null||typeof G!="object"&&typeof G!="function")return{default:G};var J=b();if(J&&J.has(G))return J.get(G);var z={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in G)if(Object.prototype.hasOwnProperty.call(G,ne)){var le=j?Object.getOwnPropertyDescriptor(G,ne):null;le&&(le.get||le.set)?Object.defineProperty(z,ne,le):z[ne]=G[ne]}return z.default=G,J&&J.set(G,z),z}function I(G){return G&&G.__esModule?G:{default:G}}function O(G,J){for(var z=0;z<J.length;z++){var j=J[z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(G,j.key,j)}}function x(G,J,z){return J&&O(G.prototype,J),G}var k=(C={},C[_.space]=!0,C[_.cr]=!0,C[_.feed]=!0,C[_.newline]=!0,C[_.tab]=!0,C),P=Object.assign({},k,(y={},y[_.comment]=!0,y));function M(G){return{line:G[g.FIELDS.START_LINE],column:G[g.FIELDS.START_COL]}}function W(G){return{line:G[g.FIELDS.END_LINE],column:G[g.FIELDS.END_COL]}}function F(G,J,z,j){return{start:{line:G,column:J},end:{line:z,column:j}}}function H(G){return F(G[g.FIELDS.START_LINE],G[g.FIELDS.START_COL],G[g.FIELDS.END_LINE],G[g.FIELDS.END_COL])}function V(G,J){if(G)return F(G[g.FIELDS.START_LINE],G[g.FIELDS.START_COL],J[g.FIELDS.END_LINE],J[g.FIELDS.END_COL])}function Y(G,J){var z=G[J];if(typeof z=="string")return z.indexOf("\\")!==-1&&((0,S.ensureObject)(G,"raws"),G[J]=(0,S.unesc)(z),G.raws[J]===void 0&&(G.raws[J]=z)),G}function $(G,J){for(var z=-1,j=[];(z=G.indexOf(J,z+1))!==-1;)j.push(z);return j}function K(){var G=Array.prototype.concat.apply([],arguments);return G.filter(function(J,z){return z===G.indexOf(J)})}var re=function(){function G(z,j){j===void 0&&(j={}),this.rule=z,this.options=Object.assign({lossy:!1,safe:!1},j),this.position=0,this.css=typeof this.rule=="string"?this.rule:this.rule.selector,this.tokens=(0,g.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var ne=V(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new t.default({source:ne}),this.root.errorGenerator=this._errorGenerator();var le=new i.default({source:{start:{line:1,column:1}}});this.root.append(le),this.current=le,this.loop()}var J=G.prototype;return J._errorGenerator=function(){var j=this;return function(ne,le){return typeof j.rule=="string"?new Error(ne):j.rule.error(ne,le)}},J.attribute=function(){var j=[],ne=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[g.FIELDS.TYPE]!==_.closeSquare;)j.push(this.currToken),this.position++;if(this.currToken[g.FIELDS.TYPE]!==_.closeSquare)return this.expected("closing square bracket",this.currToken[g.FIELDS.START_POS]);var le=j.length,q={source:F(ne[1],ne[2],this.currToken[3],this.currToken[4]),sourceIndex:ne[g.FIELDS.START_POS]};if(le===1&&!~[_.word].indexOf(j[0][g.FIELDS.TYPE]))return this.expected("attribute",j[0][g.FIELDS.START_POS]);for(var he=0,ue="",pe="",Ae=null,me=!1;he<le;){var Te=j[he],Oe=this.content(Te),ft=j[he+1];switch(Te[g.FIELDS.TYPE]){case _.space:if(me=!0,this.options.lossy)break;if(Ae){(0,S.ensureObject)(q,"spaces",Ae);var kt=q.spaces[Ae].after||"";q.spaces[Ae].after=kt+Oe;var Vt=(0,S.getProp)(q,"raws","spaces",Ae,"after")||null;Vt&&(q.raws.spaces[Ae].after=Vt+Oe)}else ue=ue+Oe,pe=pe+Oe;break;case _.asterisk:if(ft[g.FIELDS.TYPE]===_.equals)q.operator=Oe,Ae="operator";else if((!q.namespace||Ae==="namespace"&&!me)&&ft){ue&&((0,S.ensureObject)(q,"spaces","attribute"),q.spaces.attribute.before=ue,ue=""),pe&&((0,S.ensureObject)(q,"raws","spaces","attribute"),q.raws.spaces.attribute.before=ue,pe=""),q.namespace=(q.namespace||"")+Oe;var yt=(0,S.getProp)(q,"raws","namespace")||null;yt&&(q.raws.namespace+=Oe),Ae="namespace"}me=!1;break;case _.dollar:if(Ae==="value"){var vt=(0,S.getProp)(q,"raws","value");q.value+="$",vt&&(q.raws.value=vt+"$");break}case _.caret:ft[g.FIELDS.TYPE]===_.equals&&(q.operator=Oe,Ae="operator"),me=!1;break;case _.combinator:if(Oe==="~"&&ft[g.FIELDS.TYPE]===_.equals&&(q.operator=Oe,Ae="operator"),Oe!=="|"){me=!1;break}ft[g.FIELDS.TYPE]===_.equals?(q.operator=Oe,Ae="operator"):!q.namespace&&!q.attribute&&(q.namespace=!0),me=!1;break;case _.word:if(ft&&this.content(ft)==="|"&&j[he+2]&&j[he+2][g.FIELDS.TYPE]!==_.equals&&!q.operator&&!q.namespace)q.namespace=Oe,Ae="namespace";else if(!q.attribute||Ae==="attribute"&&!me){ue&&((0,S.ensureObject)(q,"spaces","attribute"),q.spaces.attribute.before=ue,ue=""),pe&&((0,S.ensureObject)(q,"raws","spaces","attribute"),q.raws.spaces.attribute.before=pe,pe=""),q.attribute=(q.attribute||"")+Oe;var Yt=(0,S.getProp)(q,"raws","attribute")||null;Yt&&(q.raws.attribute+=Oe),Ae="attribute"}else if(!q.value&&q.value!==""||Ae==="value"&&!me){var _t=(0,S.unesc)(Oe),ae=(0,S.getProp)(q,"raws","value")||"",Se=q.value||"";q.value=Se+_t,q.quoteMark=null,(_t!==Oe||ae)&&((0,S.ensureObject)(q,"raws"),q.raws.value=(ae||Se)+Oe),Ae="value"}else{var De=Oe==="i"||Oe==="I";(q.value||q.value==="")&&(q.quoteMark||me)?(q.insensitive=De,(!De||Oe==="I")&&((0,S.ensureObject)(q,"raws"),q.raws.insensitiveFlag=Oe),Ae="insensitive",ue&&((0,S.ensureObject)(q,"spaces","insensitive"),q.spaces.insensitive.before=ue,ue=""),pe&&((0,S.ensureObject)(q,"raws","spaces","insensitive"),q.raws.spaces.insensitive.before=pe,pe="")):(q.value||q.value==="")&&(Ae="value",q.value+=Oe,q.raws.value&&(q.raws.value+=Oe))}me=!1;break;case _.str:if(!q.attribute||!q.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:Te[g.FIELDS.START_POS]});var je=(0,u.unescapeValue)(Oe),Ye=je.unescaped,ze=je.quoteMark;q.value=Ye,q.quoteMark=ze,Ae="value",(0,S.ensureObject)(q,"raws"),q.raws.value=Oe,me=!1;break;case _.equals:if(!q.attribute)return this.expected("attribute",Te[g.FIELDS.START_POS],Oe);if(q.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:Te[g.FIELDS.START_POS]});q.operator=q.operator?q.operator+Oe:Oe,Ae="operator",me=!1;break;case _.comment:if(Ae)if(me||ft&&ft[g.FIELDS.TYPE]===_.space||Ae==="insensitive"){var lt=(0,S.getProp)(q,"spaces",Ae,"after")||"",Xt=(0,S.getProp)(q,"raws","spaces",Ae,"after")||lt;(0,S.ensureObject)(q,"raws","spaces",Ae),q.raws.spaces[Ae].after=Xt+Oe}else{var Tn=q[Ae]||"",wn=(0,S.getProp)(q,"raws",Ae)||Tn;(0,S.ensureObject)(q,"raws"),q.raws[Ae]=wn+Oe}else pe=pe+Oe;break;default:return this.error('Unexpected "'+Oe+'" found.',{index:Te[g.FIELDS.START_POS]})}he++}Y(q,"attribute"),Y(q,"namespace"),this.newNode(new u.default(q)),this.position++},J.parseWhitespaceEquivalentTokens=function(j){j<0&&(j=this.tokens.length);var ne=this.position,le=[],q="",he=void 0;do if(k[this.currToken[g.FIELDS.TYPE]])this.options.lossy||(q+=this.content());else if(this.currToken[g.FIELDS.TYPE]===_.comment){var ue={};q&&(ue.before=q,q=""),he=new s.default({value:this.content(),source:H(this.currToken),sourceIndex:this.currToken[g.FIELDS.START_POS],spaces:ue}),le.push(he)}while(++this.position<j);if(q){if(he)he.spaces.after=q;else if(!this.options.lossy){var pe=this.tokens[ne],Ae=this.tokens[this.position-1];le.push(new l.default({value:"",source:F(pe[g.FIELDS.START_LINE],pe[g.FIELDS.START_COL],Ae[g.FIELDS.END_LINE],Ae[g.FIELDS.END_COL]),sourceIndex:pe[g.FIELDS.START_POS],spaces:{before:q,after:""}}))}}return le},J.convertWhitespaceNodesToSpace=function(j,ne){var le=this;ne===void 0&&(ne=!1);var q="",he="";j.forEach(function(pe){var Ae=le.lossySpace(pe.spaces.before,ne),me=le.lossySpace(pe.rawSpaceBefore,ne);q+=Ae+le.lossySpace(pe.spaces.after,ne&&Ae.length===0),he+=Ae+pe.value+le.lossySpace(pe.rawSpaceAfter,ne&&me.length===0)}),he===q&&(he=void 0);var ue={space:q,rawSpace:he};return ue},J.isNamedCombinator=function(j){return j===void 0&&(j=this.position),this.tokens[j+0]&&this.tokens[j+0][g.FIELDS.TYPE]===_.slash&&this.tokens[j+1]&&this.tokens[j+1][g.FIELDS.TYPE]===_.word&&this.tokens[j+2]&&this.tokens[j+2][g.FIELDS.TYPE]===_.slash},J.namedCombinator=function(){if(this.isNamedCombinator()){var j=this.content(this.tokens[this.position+1]),ne=(0,S.unesc)(j).toLowerCase(),le={};ne!==j&&(le.value="/"+j+"/");var q=new h.default({value:"/"+ne+"/",source:F(this.currToken[g.FIELDS.START_LINE],this.currToken[g.FIELDS.START_COL],this.tokens[this.position+2][g.FIELDS.END_LINE],this.tokens[this.position+2][g.FIELDS.END_COL]),sourceIndex:this.currToken[g.FIELDS.START_POS],raws:le});return this.position=this.position+3,q}else this.unexpected()},J.combinator=function(){var j=this;if(this.content()==="|")return this.namespace();var ne=this.locateNextMeaningfulToken(this.position);if(ne<0||this.tokens[ne][g.FIELDS.TYPE]===_.comma){var le=this.parseWhitespaceEquivalentTokens(ne);if(le.length>0){var q=this.current.last;if(q){var he=this.convertWhitespaceNodesToSpace(le),ue=he.space,pe=he.rawSpace;pe!==void 0&&(q.rawSpaceAfter+=pe),q.spaces.after+=ue}else le.forEach(function(ae){return j.newNode(ae)})}return}var Ae=this.currToken,me=void 0;ne>this.position&&(me=this.parseWhitespaceEquivalentTokens(ne));var Te;if(this.isNamedCombinator()?Te=this.namedCombinator():this.currToken[g.FIELDS.TYPE]===_.combinator?(Te=new h.default({value:this.content(),source:H(this.currToken),sourceIndex:this.currToken[g.FIELDS.START_POS]}),this.position++):k[this.currToken[g.FIELDS.TYPE]]||me||this.unexpected(),Te){if(me){var Oe=this.convertWhitespaceNodesToSpace(me),ft=Oe.space,kt=Oe.rawSpace;Te.spaces.before=ft,Te.rawSpaceBefore=kt}}else{var Vt=this.convertWhitespaceNodesToSpace(me,!0),yt=Vt.space,vt=Vt.rawSpace;vt||(vt=yt);var Yt={},_t={spaces:{}};yt.endsWith(" ")&&vt.endsWith(" ")?(Yt.before=yt.slice(0,yt.length-1),_t.spaces.before=vt.slice(0,vt.length-1)):yt.startsWith(" ")&&vt.startsWith(" ")?(Yt.after=yt.slice(1),_t.spaces.after=vt.slice(1)):_t.value=vt,Te=new h.default({value:" ",source:V(Ae,this.tokens[this.position-1]),sourceIndex:Ae[g.FIELDS.START_POS],spaces:Yt,raws:_t})}return this.currToken&&this.currToken[g.FIELDS.TYPE]===_.space&&(Te.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(Te)},J.comma=function(){if(this.position===this.tokens.length-1){this.root.trailingComma=!0,this.position++;return}this.current._inferEndPosition();var j=new i.default({source:{start:M(this.tokens[this.position+1])}});this.current.parent.append(j),this.current=j,this.position++},J.comment=function(){var j=this.currToken;this.newNode(new s.default({value:this.content(),source:H(j),sourceIndex:j[g.FIELDS.START_POS]})),this.position++},J.error=function(j,ne){throw this.root.error(j,ne)},J.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[g.FIELDS.START_POS]})},J.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[g.FIELDS.START_POS])},J.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[g.FIELDS.START_POS])},J.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[g.FIELDS.START_POS])},J.namespace=function(){var j=this.prevToken&&this.content(this.prevToken)||!0;if(this.nextToken[g.FIELDS.TYPE]===_.word)return this.position++,this.word(j);if(this.nextToken[g.FIELDS.TYPE]===_.asterisk)return this.position++,this.universal(j)},J.nesting=function(){if(this.nextToken){var j=this.content(this.nextToken);if(j==="|"){this.position++;return}}var ne=this.currToken;this.newNode(new f.default({value:this.content(),source:H(ne),sourceIndex:ne[g.FIELDS.START_POS]})),this.position++},J.parentheses=function(){var j=this.current.last,ne=1;if(this.position++,j&&j.type===v.PSEUDO){var le=new i.default({source:{start:M(this.tokens[this.position-1])}}),q=this.current;for(j.append(le),this.current=le;this.position<this.tokens.length&&ne;)this.currToken[g.FIELDS.TYPE]===_.openParenthesis&&ne++,this.currToken[g.FIELDS.TYPE]===_.closeParenthesis&&ne--,ne?this.parse():(this.current.source.end=W(this.currToken),this.current.parent.source.end=W(this.currToken),this.position++);this.current=q}else{for(var he=this.currToken,ue="(",pe;this.position<this.tokens.length&&ne;)this.currToken[g.FIELDS.TYPE]===_.openParenthesis&&ne++,this.currToken[g.FIELDS.TYPE]===_.closeParenthesis&&ne--,pe=this.currToken,ue+=this.parseParenthesisToken(this.currToken),this.position++;j?j.appendToPropertyAndEscape("value",ue,ue):this.newNode(new l.default({value:ue,source:F(he[g.FIELDS.START_LINE],he[g.FIELDS.START_COL],pe[g.FIELDS.END_LINE],pe[g.FIELDS.END_COL]),sourceIndex:he[g.FIELDS.START_POS]}))}if(ne)return this.expected("closing parenthesis",this.currToken[g.FIELDS.START_POS])},J.pseudo=function(){for(var j=this,ne="",le=this.currToken;this.currToken&&this.currToken[g.FIELDS.TYPE]===_.colon;)ne+=this.content(),this.position++;if(!this.currToken)return this.expected(["pseudo-class","pseudo-element"],this.position-1);if(this.currToken[g.FIELDS.TYPE]===_.word)this.splitWord(!1,function(q,he){ne+=q,j.newNode(new c.default({value:ne,source:V(le,j.currToken),sourceIndex:le[g.FIELDS.START_POS]})),he>1&&j.nextToken&&j.nextToken[g.FIELDS.TYPE]===_.openParenthesis&&j.error("Misplaced parenthesis.",{index:j.nextToken[g.FIELDS.START_POS]})});else return this.expected(["pseudo-class","pseudo-element"],this.currToken[g.FIELDS.START_POS])},J.space=function(){var j=this.content();this.position===0||this.prevToken[g.FIELDS.TYPE]===_.comma||this.prevToken[g.FIELDS.TYPE]===_.openParenthesis||this.current.nodes.every(function(ne){return ne.type==="comment"})?(this.spaces=this.optionalSpace(j),this.position++):this.position===this.tokens.length-1||this.nextToken[g.FIELDS.TYPE]===_.comma||this.nextToken[g.FIELDS.TYPE]===_.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(j),this.position++):this.combinator()},J.string=function(){var j=this.currToken;this.newNode(new l.default({value:this.content(),source:H(j),sourceIndex:j[g.FIELDS.START_POS]})),this.position++},J.universal=function(j){var ne=this.nextToken;if(ne&&this.content(ne)==="|")return this.position++,this.namespace();var le=this.currToken;this.newNode(new d.default({value:this.content(),source:H(le),sourceIndex:le[g.FIELDS.START_POS]}),j),this.position++},J.splitWord=function(j,ne){for(var le=this,q=this.nextToken,he=this.content();q&&~[_.dollar,_.caret,_.equals,_.word].indexOf(q[g.FIELDS.TYPE]);){this.position++;var ue=this.content();if(he+=ue,ue.lastIndexOf("\\")===ue.length-1){var pe=this.nextToken;pe&&pe[g.FIELDS.TYPE]===_.space&&(he+=this.requiredSpace(this.content(pe)),this.position++)}q=this.nextToken}var Ae=$(he,".").filter(function(ft){var kt=he[ft-1]==="\\",Vt=/^\d+\.\d+%$/.test(he);return!kt&&!Vt}),me=$(he,"#").filter(function(ft){return he[ft-1]!=="\\"}),Te=$(he,"#{");Te.length&&(me=me.filter(function(ft){return!~Te.indexOf(ft)}));var Oe=(0,m.default)(K([0].concat(Ae,me)));Oe.forEach(function(ft,kt){var Vt=Oe[kt+1]||he.length,yt=he.slice(ft,Vt);if(kt===0&&ne)return ne.call(le,yt,Oe.length);var vt,Yt=le.currToken,_t=Yt[g.FIELDS.START_POS]+Oe[kt],ae=F(Yt[1],Yt[2]+ft,Yt[3],Yt[2]+(Vt-1));if(~Ae.indexOf(ft)){var Se={value:yt.slice(1),source:ae,sourceIndex:_t};vt=new r.default(Y(Se,"value"))}else if(~me.indexOf(ft)){var De={value:yt.slice(1),source:ae,sourceIndex:_t};vt=new o.default(Y(De,"value"))}else{var je={value:yt,source:ae,sourceIndex:_t};Y(je,"value"),vt=new a.default(je)}le.newNode(vt,j),j=null}),this.position++},J.word=function(j){var ne=this.nextToken;return ne&&this.content(ne)==="|"?(this.position++,this.namespace()):this.splitWord(j)},J.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},J.parse=function(j){switch(this.currToken[g.FIELDS.TYPE]){case _.space:this.space();break;case _.comment:this.comment();break;case _.openParenthesis:this.parentheses();break;case _.closeParenthesis:j&&this.missingParenthesis();break;case _.openSquare:this.attribute();break;case _.dollar:case _.caret:case _.equals:case _.word:this.word();break;case _.colon:this.pseudo();break;case _.comma:this.comma();break;case _.asterisk:this.universal();break;case _.ampersand:this.nesting();break;case _.slash:case _.combinator:this.combinator();break;case _.str:this.string();break;case _.closeSquare:this.missingSquareBracket();case _.semicolon:this.missingBackslash();default:this.unexpected()}},J.expected=function(j,ne,le){if(Array.isArray(j)){var q=j.pop();j=j.join(", ")+" or "+q}var he=/^[aeiou]/.test(j[0])?"an":"a";return le?this.error("Expected "+he+" "+j+', found "'+le+'" instead.',{index:ne}):this.error("Expected "+he+" "+j+".",{index:ne})},J.requiredSpace=function(j){return this.options.lossy?" ":j},J.optionalSpace=function(j){return this.options.lossy?"":j},J.lossySpace=function(j,ne){return this.options.lossy?ne?" ":"":j},J.parseParenthesisToken=function(j){var ne=this.content(j);return j[g.FIELDS.TYPE]===_.space?this.requiredSpace(ne):ne},J.newNode=function(j,ne){return ne&&(/^ +$/.test(ne)&&(this.options.lossy||(this.spaces=(this.spaces||"")+ne),ne=!0),j.namespace=ne,Y(j,"namespace")),this.spaces&&(j.spaces.before=this.spaces,this.spaces=""),this.current.append(j)},J.content=function(j){return j===void 0&&(j=this.currToken),this.css.slice(j[g.FIELDS.START_POS],j[g.FIELDS.END_POS])},J.locateNextMeaningfulToken=function(j){j===void 0&&(j=this.position+1);for(var ne=j;ne<this.tokens.length;)if(P[this.tokens[ne][g.FIELDS.TYPE]]){ne++;continue}else return ne;return-1},x(G,[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}]),G}();e.default=re,n.exports=e.default}(rI,rI.exports)),rI.exports}var wne;function W9e(){return wne||(wne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=i(V9e());function i(s){return s&&s.__esModule?s:{default:s}}var r=function(){function s(a,l){this.func=a||function(){},this.funcRes=null,this.options=l}var o=s.prototype;return o._shouldUpdateSelector=function(l,c){c===void 0&&(c={});var u=Object.assign({},this.options,c);return u.updateSelector===!1?!1:typeof l!="string"},o._isLossy=function(l){l===void 0&&(l={});var c=Object.assign({},this.options,l);return c.lossless===!1},o._root=function(l,c){c===void 0&&(c={});var u=new t.default(l,this._parseOptions(c));return u.root},o._parseOptions=function(l){return{lossy:this._isLossy(l)}},o._run=function(l,c){var u=this;return c===void 0&&(c={}),new Promise(function(d,h){try{var f=u._root(l,c);Promise.resolve(u.func(f)).then(function(m){var g=void 0;return u._shouldUpdateSelector(l,c)&&(g=f.toString(),l.selector=g),{transform:m,root:f,string:g}}).then(d,h)}catch(m){h(m);return}})},o._runSync=function(l,c){c===void 0&&(c={});var u=this._root(l,c),d=this.func(u);if(d&&typeof d.then=="function")throw new Error("Selector processor returned a promise to a synchronous call.");var h=void 0;return c.updateSelector&&typeof l!="string"&&(h=u.toString(),l.selector=h),{transform:d,root:u,string:h}},o.ast=function(l,c){return this._run(l,c).then(function(u){return u.root})},o.astSync=function(l,c){return this._runSync(l,c).root},o.transform=function(l,c){return this._run(l,c).then(function(u){return u.transform})},o.transformSync=function(l,c){return this._runSync(l,c).transform},o.process=function(l,c){return this._run(l,c).then(function(u){return u.string||u.root.toString()})},o.processSync=function(l,c){var u=this._runSync(l,c);return u.string||u.root.toString()},s}();e.default=r,n.exports=e.default}(iI,iI.exports)),iI.exports}var L4={},nr={},Ane;function $9e(){if(Ane)return nr;Ane=1,nr.__esModule=!0,nr.universal=nr.tag=nr.string=nr.selector=nr.root=nr.pseudo=nr.nesting=nr.id=nr.comment=nr.combinator=nr.className=nr.attribute=void 0;var n=h(Hbe()),e=h(Pbe()),t=h(Wbe()),i=h(kbe()),r=h(Mbe()),s=h($be()),o=h(Ube()),a=h(xbe()),l=h(Dbe()),c=h(Bbe()),u=h(Fbe()),d=h(Vbe());function h(x){return x&&x.__esModule?x:{default:x}}var f=function(k){return new n.default(k)};nr.attribute=f;var m=function(k){return new e.default(k)};nr.className=m;var g=function(k){return new t.default(k)};nr.combinator=g;var _=function(k){return new i.default(k)};nr.comment=_;var v=function(k){return new r.default(k)};nr.id=v;var S=function(k){return new s.default(k)};nr.nesting=S;var C=function(k){return new o.default(k)};nr.pseudo=C;var y=function(k){return new a.default(k)};nr.root=y;var b=function(k){return new l.default(k)};nr.selector=b;var w=function(k){return new c.default(k)};nr.string=w;var I=function(k){return new u.default(k)};nr.tag=I;var O=function(k){return new d.default(k)};return nr.universal=O,nr}var xi={},Rne;function G9e(){if(Rne)return xi;Rne=1,xi.__esModule=!0,xi.isNode=i,xi.isPseudoElement=v,xi.isPseudoClass=S,xi.isContainer=C,xi.isNamespace=y,xi.isUniversal=xi.isTag=xi.isString=xi.isSelector=xi.isRoot=xi.isPseudo=xi.isNesting=xi.isIdentifier=xi.isComment=xi.isCombinator=xi.isClassName=xi.isAttribute=void 0;var n=ta(),e,t=(e={},e[n.ATTRIBUTE]=!0,e[n.CLASS]=!0,e[n.COMBINATOR]=!0,e[n.COMMENT]=!0,e[n.ID]=!0,e[n.NESTING]=!0,e[n.PSEUDO]=!0,e[n.ROOT]=!0,e[n.SELECTOR]=!0,e[n.STRING]=!0,e[n.TAG]=!0,e[n.UNIVERSAL]=!0,e);function i(b){return typeof b=="object"&&t[b.type]}function r(b,w){return i(w)&&w.type===b}var s=r.bind(null,n.ATTRIBUTE);xi.isAttribute=s;var o=r.bind(null,n.CLASS);xi.isClassName=o;var a=r.bind(null,n.COMBINATOR);xi.isCombinator=a;var l=r.bind(null,n.COMMENT);xi.isComment=l;var c=r.bind(null,n.ID);xi.isIdentifier=c;var u=r.bind(null,n.NESTING);xi.isNesting=u;var d=r.bind(null,n.PSEUDO);xi.isPseudo=d;var h=r.bind(null,n.ROOT);xi.isRoot=h;var f=r.bind(null,n.SELECTOR);xi.isSelector=f;var m=r.bind(null,n.STRING);xi.isString=m;var g=r.bind(null,n.TAG);xi.isTag=g;var _=r.bind(null,n.UNIVERSAL);xi.isUniversal=_;function v(b){return d(b)&&b.value&&(b.value.startsWith("::")||b.value.toLowerCase()===":before"||b.value.toLowerCase()===":after"||b.value.toLowerCase()===":first-letter"||b.value.toLowerCase()===":first-line")}function S(b){return d(b)&&!v(b)}function C(b){return!!(i(b)&&b.walk)}function y(b){return s(b)||g(b)}return xi}var Ine;function z9e(){return Ine||(Ine=1,function(n){n.__esModule=!0;var e=ta();Object.keys(e).forEach(function(r){r==="default"||r==="__esModule"||r in n&&n[r]===e[r]||(n[r]=e[r])});var t=$9e();Object.keys(t).forEach(function(r){r==="default"||r==="__esModule"||r in n&&n[r]===t[r]||(n[r]=t[r])});var i=G9e();Object.keys(i).forEach(function(r){r==="default"||r==="__esModule"||r in n&&n[r]===i[r]||(n[r]=i[r])})}(L4)),L4}var Nne;function j9e(){return Nne||(Nne=1,function(n,e){e.__esModule=!0,e.default=void 0;var t=o(W9e()),i=s(z9e());function r(){if(typeof WeakMap!="function")return null;var c=new WeakMap;return r=function(){return c},c}function s(c){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var u=r();if(u&&u.has(c))return u.get(c);var d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var m=h?Object.getOwnPropertyDescriptor(c,f):null;m&&(m.get||m.set)?Object.defineProperty(d,f,m):d[f]=c[f]}return d.default=c,u&&u.set(c,d),d}function o(c){return c&&c.__esModule?c:{default:c}}var a=function(u){return new t.default(u)};Object.assign(a,i),delete a.__esModule;var l=a;e.default=l,n.exports=e.default}(nI,nI.exports)),nI.exports}var O4,Lne;function Y9e(){if(Lne)return O4;Lne=1;const n=P9e(),e=j9e(),t=e();return O4={isUsableColor(i,r){return n(r)&&i!=="gray"&&r[600]},commonTrailingPseudos(i){let r=t.astSync(i),s=[];for(let[a,l]of r.nodes.entries())for(const[c,u]of[...l.nodes].reverse().entries()){if(u.type!=="pseudo"||!u.value.startsWith("::"))break;s[c]=s[c]||[],s[c][a]=u}let o=e.selector();for(const a of s){if(!a)continue;if(new Set(a.map(c=>c.value)).size>1)break;a.forEach(c=>c.remove()),o.prepend(a[0])}return o.nodes.length?[o.toString(),r.toString()]:[null,i]}},O4}var x4,One;function K9e(){if(One)return x4;One=1;const n=Lbe(),e=L9e(),t=O9e(),i=D9e(),{commonTrailingPseudos:r}=Y9e(),s={};function o(c,{className:u,modifier:d,prefix:h}){let f=h(`.not-${u}`).slice(1),m=c.startsWith(">")?`${d==="DEFAULT"?`.${u}`:`.${u}-${d}`} `:"",[g,_]=r(c);return g?`:where(${m}${_}):not(:where([class~="${f}"],[class~="${f}"] *))${g}`:`:where(${m}${c}):not(:where([class~="${f}"],[class~="${f}"] *))`}function a(c){return typeof c=="object"&&c!==null}function l(c={},{target:u,className:d,modifier:h,prefix:f}){function m(g,_){return u==="legacy"?[g,_]:Array.isArray(_)?[g,_]:a(_)?Object.values(_).some(a)?[o(g,{className:d,modifier:h,prefix:f}),_,Object.fromEntries(Object.entries(_).map(([S,C])=>m(S,C)))]:[o(g,{className:d,modifier:h,prefix:f}),_]:[g,_]}return Object.fromEntries(Object.entries(e({},...Object.keys(c).filter(g=>s[g]).map(g=>s[g](c[g])),...t(c.css||{}))).map(([g,_])=>m(g,_)))}return x4=n.withOptions(({className:c="prose",target:u="modern"}={})=>function({addVariant:d,addComponents:h,theme:f,prefix:m}){let g=f("typography"),_={className:c,prefix:m};for(let[v,...S]of[["headings","h1","h2","h3","h4","h5","h6","th"],["h1"],["h2"],["h3"],["h4"],["h5"],["h6"],["p"],["a"],["blockquote"],["figure"],["figcaption"],["strong"],["em"],["kbd"],["code"],["pre"],["ol"],["ul"],["li"],["table"],["thead"],["tr"],["th"],["td"],["img"],["video"],["hr"],["lead",'[class~="lead"]']]){S=S.length===0?[v]:S;let C=u==="legacy"?S.map(y=>`& ${y}`):S.join(", ");d(`${c}-${v}`,u==="legacy"?C:`& :is(${o(C,_)})`)}h(Object.keys(g).map(v=>({[v==="DEFAULT"?`.${c}`:`.${c}-${v}`]:l(g[v],{target:u,className:c,modifier:v,prefix:m})})))},()=>({theme:{typography:i}})),x4}K9e();var Ti;(function(n){n.assertEqual=r=>r;function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{const s={};for(const o of r)s[o]=o;return s},n.getValidEnumValues=r=>{const s=n.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),o={};for(const a of s)o[a]=r[a];return n.objectValues(o)},n.objectValues=r=>n.objectKeys(r).map(function(s){return r[s]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.push(o);return s},n.find=(r,s)=>{for(const o of r)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function i(r,s=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=i,n.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(Ti||(Ti={}));var x9;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(x9||(x9={}));const Tt=Ti.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mh=n=>{switch(typeof n){case"undefined":return Tt.undefined;case"string":return Tt.string;case"number":return isNaN(n)?Tt.nan:Tt.number;case"boolean":return Tt.boolean;case"function":return Tt.function;case"bigint":return Tt.bigint;case"symbol":return Tt.symbol;case"object":return Array.isArray(n)?Tt.array:n===null?Tt.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Tt.promise:typeof Map<"u"&&n instanceof Map?Tt.map:typeof Set<"u"&&n instanceof Set?Tt.set:typeof Date<"u"&&n instanceof Date?Tt.date:Tt.object;default:return Tt.unknown}},nt=Ti.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),q9e=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class wl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},i={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)i._errors.push(t(o));else{let a=i,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return r(this),i}static assert(e){if(!(e instanceof wl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ti.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}wl.create=n=>new wl(n);const nC=(n,e)=>{let t;switch(n.code){case nt.invalid_type:n.received===Tt.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case nt.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Ti.jsonStringifyReplacer)}`;break;case nt.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ti.joinValues(n.keys,", ")}`;break;case nt.invalid_union:t="Invalid input";break;case nt.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ti.joinValues(n.options)}`;break;case nt.invalid_enum_value:t=`Invalid enum value. Expected ${Ti.joinValues(n.options)}, received '${n.received}'`;break;case nt.invalid_arguments:t="Invalid function arguments";break;case nt.invalid_return_type:t="Invalid function return type";break;case nt.invalid_date:t="Invalid date";break;case nt.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Ti.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case nt.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case nt.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case nt.custom:t="Invalid input";break;case nt.invalid_intersection_types:t="Intersection results could not be merged";break;case nt.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case nt.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ti.assertNever(n)}return{message:t}};let zbe=nC;function X9e(n){zbe=n}function uO(){return zbe}const dO=n=>{const{data:e,path:t,errorMaps:i,issueData:r}=n,s=[...t,...r.path||[]],o={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let a="";const l=i.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...r,path:s,message:a}},Q9e=[];function Et(n,e){const t=uO(),i=dO({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===nC?void 0:nC].filter(r=>!!r)});n.common.issues.push(i)}class Qo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const r of t){if(r.status==="aborted")return Sn;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const r of t){const s=await r.key,o=await r.value;i.push({key:s,value:o})}return Qo.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const r of t){const{key:s,value:o}=r;if(s.status==="aborted"||o.status==="aborted")return Sn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(i[s.value]=o.value)}return{status:e.value,value:i}}}const Sn=Object.freeze({status:"aborted"}),Nv=n=>({status:"dirty",value:n}),ya=n=>({status:"valid",value:n}),D9=n=>n.status==="aborted",P9=n=>n.status==="dirty",C_=n=>n.status==="valid",t1=n=>typeof Promise<"u"&&n instanceof Promise;function hO(n,e,t,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function jbe(n,e,t,i,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var zt;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(zt||(zt={}));var fT,gT;class _d{constructor(e,t,i,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xne=(n,e)=>{if(C_(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new wl(n.common.issues);return this._error=t,this._error}}};function zn(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:r}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,a)=>{var l,c;const{message:u}=n;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??i)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??t)!==null&&c!==void 0?c:a.defaultError}},description:r}}class ti{get description(){return this._def.description}_getType(e){return mh(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:mh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Qo,ctx:{common:e.parent.common,data:e.data,parsedType:mh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(t1(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){var i;const r={common:{issues:[],async:(i=t==null?void 0:t.async)!==null&&i!==void 0?i:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mh(e)},s=this._parseSync({data:e,path:r.path,parent:r});return xne(r,s)}"~validate"(e){var t,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mh(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return C_(s)?{value:s.value}:{issues:r.common.issues}}catch(s){!((i=(t=s==null?void 0:s.message)===null||t===void 0?void 0:t.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>C_(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mh(e)},r=this._parse({data:e,path:i.path,parent:i}),s=await(t1(r)?r:Promise.resolve(r));return xne(i,s)}refine(e,t){const i=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,s)=>{const o=e(r),a=()=>s.addIssue({code:nt.custom,...i(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof t=="function"?t(i,r):t),!1))}_refinement(e){return new hu({schema:this,typeName:En.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return cd.create(this,this._def)}nullable(){return zg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return nu.create(this)}promise(){return rC.create(this,this._def)}or(e){return s1.create([this,e],this._def)}and(e){return o1.create(this,e,this._def)}transform(e){return new hu({...zn(this._def),schema:this,typeName:En.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new d1({...zn(this._def),innerType:this,defaultValue:t,typeName:En.ZodDefault})}brand(){return new MY({typeName:En.ZodBranded,type:this,...zn(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new h1({...zn(this._def),innerType:this,catchValue:t,typeName:En.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return iA.create(this,e)}readonly(){return f1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Z9e=/^c[^\s-]{8,}$/i,J9e=/^[0-9a-z]+$/,e7e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,t7e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,n7e=/^[a-z0-9_-]{21}$/i,i7e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,r7e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,s7e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,o7e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let D4;const a7e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,l7e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,c7e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,u7e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,d7e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,h7e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ybe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",f7e=new RegExp(`^${Ybe}$`);function Kbe(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function g7e(n){return new RegExp(`^${Kbe(n)}$`)}function qbe(n){let e=`${Ybe}T${Kbe(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function p7e(n,e){return!!((e==="v4"||!e)&&a7e.test(n)||(e==="v6"||!e)&&c7e.test(n))}function m7e(n,e){if(!i7e.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function _7e(n,e){return!!((e==="v4"||!e)&&l7e.test(n)||(e==="v6"||!e)&&u7e.test(n))}class Zc extends ti{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Tt.string){const s=this._getOrReturnCtx(e);return Et(s,{code:nt.invalid_type,expected:Tt.string,received:s.parsedType}),Sn}const i=new Qo;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),Et(r,{code:nt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),Et(r,{code:nt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(r=this._getOrReturnCtx(e,r),o?Et(r,{code:nt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Et(r,{code:nt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")s7e.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"email",code:nt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")D4||(D4=new RegExp(o7e,"u")),D4.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"emoji",code:nt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")t7e.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"uuid",code:nt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")n7e.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"nanoid",code:nt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")Z9e.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"cuid",code:nt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")J9e.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"cuid2",code:nt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")e7e.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"ulid",code:nt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),Et(r,{validation:"url",code:nt.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"regex",code:nt.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),Et(r,{code:nt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),Et(r,{code:nt.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),Et(r,{code:nt.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?qbe(s).test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{code:nt.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?f7e.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{code:nt.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?g7e(s).test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{code:nt.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?r7e.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"duration",code:nt.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?p7e(e.data,s.version)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"ip",code:nt.invalid_string,message:s.message}),i.dirty()):s.kind==="jwt"?m7e(e.data,s.alg)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"jwt",code:nt.invalid_string,message:s.message}),i.dirty()):s.kind==="cidr"?_7e(e.data,s.version)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"cidr",code:nt.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?d7e.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"base64",code:nt.invalid_string,message:s.message}),i.dirty()):s.kind==="base64url"?h7e.test(e.data)||(r=this._getOrReturnCtx(e,r),Et(r,{validation:"base64url",code:nt.invalid_string,message:s.message}),i.dirty()):Ti.assertNever(s);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(r=>e.test(r),{validation:t,code:nt.invalid_string,...zt.errToObj(i)})}_addCheck(e){return new Zc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...zt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...zt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...zt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...zt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...zt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...zt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...zt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...zt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...zt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...zt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...zt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...zt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...zt.errToObj(e)})}datetime(e){var t,i;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(i=e==null?void 0:e.local)!==null&&i!==void 0?i:!1,...zt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...zt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...zt.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...zt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...zt.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...zt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...zt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...zt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...zt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...zt.errToObj(t)})}nonempty(e){return this.min(1,zt.errToObj(e))}trim(){return new Zc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Zc.create=n=>{var e;return new Zc({checks:[],typeName:En.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...zn(n)})};function E7e(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=t>i?t:i,s=parseInt(n.toFixed(r).replace(".","")),o=parseInt(e.toFixed(r).replace(".",""));return s%o/Math.pow(10,r)}class Wg extends ti{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Tt.number){const s=this._getOrReturnCtx(e);return Et(s,{code:nt.invalid_type,expected:Tt.number,received:s.parsedType}),Sn}let i;const r=new Qo;for(const s of this._def.checks)s.kind==="int"?Ti.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),Et(i,{code:nt.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),Et(i,{code:nt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),Et(i,{code:nt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?E7e(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),Et(i,{code:nt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),Et(i,{code:nt.not_finite,message:s.message}),r.dirty()):Ti.assertNever(s);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,zt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,zt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,zt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,zt.toString(t))}setLimit(e,t,i,r){return new Wg({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:zt.toString(r)}]})}_addCheck(e){return new Wg({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:zt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:zt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:zt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:zt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:zt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:zt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:zt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:zt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:zt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ti.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Wg.create=n=>new Wg({checks:[],typeName:En.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...zn(n)});class $g extends ti{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Tt.bigint)return this._getInvalidInput(e);let i;const r=new Qo;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),Et(i,{code:nt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),Et(i,{code:nt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),Et(i,{code:nt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):Ti.assertNever(s);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Et(t,{code:nt.invalid_type,expected:Tt.bigint,received:t.parsedType}),Sn}gte(e,t){return this.setLimit("min",e,!0,zt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,zt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,zt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,zt.toString(t))}setLimit(e,t,i,r){return new $g({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:zt.toString(r)}]})}_addCheck(e){return new $g({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:zt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:zt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:zt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:zt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:zt.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}$g.create=n=>{var e;return new $g({checks:[],typeName:En.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...zn(n)})};class n1 extends ti{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Tt.boolean){const i=this._getOrReturnCtx(e);return Et(i,{code:nt.invalid_type,expected:Tt.boolean,received:i.parsedType}),Sn}return ya(e.data)}}n1.create=n=>new n1({typeName:En.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...zn(n)});class y_ extends ti{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Tt.date){const s=this._getOrReturnCtx(e);return Et(s,{code:nt.invalid_type,expected:Tt.date,received:s.parsedType}),Sn}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Et(s,{code:nt.invalid_date}),Sn}const i=new Qo;let r;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(r=this._getOrReturnCtx(e,r),Et(r,{code:nt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(r=this._getOrReturnCtx(e,r),Et(r,{code:nt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):Ti.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new y_({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:zt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:zt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}y_.create=n=>new y_({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:En.ZodDate,...zn(n)});class fO extends ti{_parse(e){if(this._getType(e)!==Tt.symbol){const i=this._getOrReturnCtx(e);return Et(i,{code:nt.invalid_type,expected:Tt.symbol,received:i.parsedType}),Sn}return ya(e.data)}}fO.create=n=>new fO({typeName:En.ZodSymbol,...zn(n)});class i1 extends ti{_parse(e){if(this._getType(e)!==Tt.undefined){const i=this._getOrReturnCtx(e);return Et(i,{code:nt.invalid_type,expected:Tt.undefined,received:i.parsedType}),Sn}return ya(e.data)}}i1.create=n=>new i1({typeName:En.ZodUndefined,...zn(n)});class r1 extends ti{_parse(e){if(this._getType(e)!==Tt.null){const i=this._getOrReturnCtx(e);return Et(i,{code:nt.invalid_type,expected:Tt.null,received:i.parsedType}),Sn}return ya(e.data)}}r1.create=n=>new r1({typeName:En.ZodNull,...zn(n)});class iC extends ti{constructor(){super(...arguments),this._any=!0}_parse(e){return ya(e.data)}}iC.create=n=>new iC({typeName:En.ZodAny,...zn(n)});class Ym extends ti{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ya(e.data)}}Ym.create=n=>new Ym({typeName:En.ZodUnknown,...zn(n)});class Zh extends ti{_parse(e){const t=this._getOrReturnCtx(e);return Et(t,{code:nt.invalid_type,expected:Tt.never,received:t.parsedType}),Sn}}Zh.create=n=>new Zh({typeName:En.ZodNever,...zn(n)});class gO extends ti{_parse(e){if(this._getType(e)!==Tt.undefined){const i=this._getOrReturnCtx(e);return Et(i,{code:nt.invalid_type,expected:Tt.void,received:i.parsedType}),Sn}return ya(e.data)}}gO.create=n=>new gO({typeName:En.ZodVoid,...zn(n)});class nu extends ti{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),r=this._def;if(t.parsedType!==Tt.array)return Et(t,{code:nt.invalid_type,expected:Tt.array,received:t.parsedType}),Sn;if(r.exactLength!==null){const o=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(o||a)&&(Et(t,{code:o?nt.too_big:nt.too_small,minimum:a?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(Et(t,{code:nt.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(Et(t,{code:nt.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>r.type._parseAsync(new _d(t,o,t.path,a)))).then(o=>Qo.mergeArray(i,o));const s=[...t.data].map((o,a)=>r.type._parseSync(new _d(t,o,t.path,a)));return Qo.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new nu({...this._def,minLength:{value:e,message:zt.toString(t)}})}max(e,t){return new nu({...this._def,maxLength:{value:e,message:zt.toString(t)}})}length(e,t){return new nu({...this._def,exactLength:{value:e,message:zt.toString(t)}})}nonempty(e){return this.min(1,e)}}nu.create=(n,e)=>new nu({type:n,minLength:null,maxLength:null,exactLength:null,typeName:En.ZodArray,...zn(e)});function Tv(n){if(n instanceof Lr){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=cd.create(Tv(i))}return new Lr({...n._def,shape:()=>e})}else return n instanceof nu?new nu({...n._def,type:Tv(n.element)}):n instanceof cd?cd.create(Tv(n.unwrap())):n instanceof zg?zg.create(Tv(n.unwrap())):n instanceof Ed?Ed.create(n.items.map(e=>Tv(e))):n}class Lr extends ti{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Ti.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Tt.object){const c=this._getOrReturnCtx(e);return Et(c,{code:nt.invalid_type,expected:Tt.object,received:c.parsedType}),Sn}const{status:i,ctx:r}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Zh&&this._def.unknownKeys==="strip"))for(const c in r.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],d=r.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new _d(r,d,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof Zh){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(c==="strict")a.length>0&&(Et(r,{code:nt.unrecognized_keys,keys:a}),i.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=r.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new _d(r,d,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Qo.mergeObjectSync(i,c)):Qo.mergeObjectSync(i,l)}get shape(){return this._def.shape()}strict(e){return zt.errToObj,new Lr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var r,s,o,a;const l=(o=(s=(r=this._def).errorMap)===null||s===void 0?void 0:s.call(r,t,i).message)!==null&&o!==void 0?o:i.defaultError;return t.code==="unrecognized_keys"?{message:(a=zt.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Lr({...this._def,unknownKeys:"strip"})}passthrough(){return new Lr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Lr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Lr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:En.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Lr({...this._def,catchall:e})}pick(e){const t={};return Ti.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(t[i]=this.shape[i])}),new Lr({...this._def,shape:()=>t})}omit(e){const t={};return Ti.objectKeys(this.shape).forEach(i=>{e[i]||(t[i]=this.shape[i])}),new Lr({...this._def,shape:()=>t})}deepPartial(){return Tv(this)}partial(e){const t={};return Ti.objectKeys(this.shape).forEach(i=>{const r=this.shape[i];e&&!e[i]?t[i]=r:t[i]=r.optional()}),new Lr({...this._def,shape:()=>t})}required(e){const t={};return Ti.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])t[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof cd;)s=s._def.innerType;t[i]=s}}),new Lr({...this._def,shape:()=>t})}keyof(){return Xbe(Ti.objectKeys(this.shape))}}Lr.create=(n,e)=>new Lr({shape:()=>n,unknownKeys:"strip",catchall:Zh.create(),typeName:En.ZodObject,...zn(e)});Lr.strictCreate=(n,e)=>new Lr({shape:()=>n,unknownKeys:"strict",catchall:Zh.create(),typeName:En.ZodObject,...zn(e)});Lr.lazycreate=(n,e)=>new Lr({shape:n,unknownKeys:"strip",catchall:Zh.create(),typeName:En.ZodObject,...zn(e)});class s1 extends ti{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function r(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new wl(a.ctx.common.issues));return Et(t,{code:nt.invalid_union,unionErrors:o}),Sn}if(t.common.async)return Promise.all(i.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(r);{let s;const o=[];for(const l of i){const c={...t,common:{...t.common,issues:[]},parent:null},u=l._parseSync({data:t.data,path:t.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new wl(l));return Et(t,{code:nt.invalid_union,unionErrors:a}),Sn}}get options(){return this._def.options}}s1.create=(n,e)=>new s1({options:n,typeName:En.ZodUnion,...zn(e)});const nh=n=>n instanceof l1?nh(n.schema):n instanceof hu?nh(n.innerType()):n instanceof c1?[n.value]:n instanceof Gg?n.options:n instanceof u1?Ti.objectValues(n.enum):n instanceof d1?nh(n._def.innerType):n instanceof i1?[void 0]:n instanceof r1?[null]:n instanceof cd?[void 0,...nh(n.unwrap())]:n instanceof zg?[null,...nh(n.unwrap())]:n instanceof MY||n instanceof f1?nh(n.unwrap()):n instanceof h1?nh(n._def.innerType):[];class dM extends ti{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Tt.object)return Et(t,{code:nt.invalid_type,expected:Tt.object,received:t.parsedType}),Sn;const i=this.discriminator,r=t.data[i],s=this.optionsMap.get(r);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(Et(t,{code:nt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Sn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){const r=new Map;for(const s of t){const o=nh(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(r.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);r.set(a,s)}}return new dM({typeName:En.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...zn(i)})}}function k9(n,e){const t=mh(n),i=mh(e);if(n===e)return{valid:!0,data:n};if(t===Tt.object&&i===Tt.object){const r=Ti.objectKeys(e),s=Ti.objectKeys(n).filter(a=>r.indexOf(a)!==-1),o={...n,...e};for(const a of s){const l=k9(n[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(t===Tt.array&&i===Tt.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let s=0;s<n.length;s++){const o=n[s],a=e[s],l=k9(o,a);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return t===Tt.date&&i===Tt.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class o1 extends ti{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=(s,o)=>{if(D9(s)||D9(o))return Sn;const a=k9(s.value,o.value);return a.valid?((P9(s)||P9(o))&&t.dirty(),{status:t.value,value:a.data}):(Et(i,{code:nt.invalid_intersection_types}),Sn)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>r(s,o)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}o1.create=(n,e,t)=>new o1({left:n,right:e,typeName:En.ZodIntersection,...zn(t)});class Ed extends ti{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Tt.array)return Et(i,{code:nt.invalid_type,expected:Tt.array,received:i.parsedType}),Sn;if(i.data.length<this._def.items.length)return Et(i,{code:nt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Sn;!this._def.rest&&i.data.length>this._def.items.length&&(Et(i,{code:nt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...i.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new _d(i,o,i.path,a)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>Qo.mergeArray(t,o)):Qo.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Ed({...this._def,rest:e})}}Ed.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ed({items:n,typeName:En.ZodTuple,rest:null,...zn(e)})};class a1 extends ti{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Tt.object)return Et(i,{code:nt.invalid_type,expected:Tt.object,received:i.parsedType}),Sn;const r=[],s=this._def.keyType,o=this._def.valueType;for(const a in i.data)r.push({key:s._parse(new _d(i,a,i.path,a)),value:o._parse(new _d(i,i.data[a],i.path,a)),alwaysSet:a in i.data});return i.common.async?Qo.mergeObjectAsync(t,r):Qo.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof ti?new a1({keyType:e,valueType:t,typeName:En.ZodRecord,...zn(i)}):new a1({keyType:Zc.create(),valueType:e,typeName:En.ZodRecord,...zn(t)})}}class pO extends ti{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Tt.map)return Et(i,{code:nt.invalid_type,expected:Tt.map,received:i.parsedType}),Sn;const r=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([a,l],c)=>({key:r._parse(new _d(i,a,i.path,[c,"key"])),value:s._parse(new _d(i,l,i.path,[c,"value"]))}));if(i.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Sn;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Sn;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}}}}pO.create=(n,e,t)=>new pO({valueType:e,keyType:n,typeName:En.ZodMap,...zn(t)});class b_ extends ti{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Tt.set)return Et(i,{code:nt.invalid_type,expected:Tt.set,received:i.parsedType}),Sn;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(Et(i,{code:nt.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(Et(i,{code:nt.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Sn;u.status==="dirty"&&t.dirty(),c.add(u.value)}return{status:t.value,value:c}}const a=[...i.data.values()].map((l,c)=>s._parse(new _d(i,l,i.path,c)));return i.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,t){return new b_({...this._def,minSize:{value:e,message:zt.toString(t)}})}max(e,t){return new b_({...this._def,maxSize:{value:e,message:zt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}b_.create=(n,e)=>new b_({valueType:n,minSize:null,maxSize:null,typeName:En.ZodSet,...zn(e)});class yS extends ti{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Tt.function)return Et(t,{code:nt.invalid_type,expected:Tt.function,received:t.parsedType}),Sn;function i(a,l){return dO({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,uO(),nC].filter(c=>!!c),issueData:{code:nt.invalid_arguments,argumentsError:l}})}function r(a,l){return dO({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,uO(),nC].filter(c=>!!c),issueData:{code:nt.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof rC){const a=this;return ya(async function(...l){const c=new wl([]),u=await a._def.args.parseAsync(l,s).catch(f=>{throw c.addIssue(i(l,f)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(f=>{throw c.addIssue(r(d,f)),c})})}else{const a=this;return ya(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new wl([i(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new wl([r(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new yS({...this._def,args:Ed.create(e).rest(Ym.create())})}returns(e){return new yS({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new yS({args:e||Ed.create([]).rest(Ym.create()),returns:t||Ym.create(),typeName:En.ZodFunction,...zn(i)})}}class l1 extends ti{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}l1.create=(n,e)=>new l1({getter:n,typeName:En.ZodLazy,...zn(e)});class c1 extends ti{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Et(t,{received:t.data,code:nt.invalid_literal,expected:this._def.value}),Sn}return{status:"valid",value:e.data}}get value(){return this._def.value}}c1.create=(n,e)=>new c1({value:n,typeName:En.ZodLiteral,...zn(e)});function Xbe(n,e){return new Gg({values:n,typeName:En.ZodEnum,...zn(e)})}class Gg extends ti{constructor(){super(...arguments),fT.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return Et(t,{expected:Ti.joinValues(i),received:t.parsedType,code:nt.invalid_type}),Sn}if(hO(this,fT)||jbe(this,fT,new Set(this._def.values)),!hO(this,fT).has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return Et(t,{received:t.data,code:nt.invalid_enum_value,options:i}),Sn}return ya(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Gg.create(e,{...this._def,...t})}exclude(e,t=this._def){return Gg.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}fT=new WeakMap;Gg.create=Xbe;class u1 extends ti{constructor(){super(...arguments),gT.set(this,void 0)}_parse(e){const t=Ti.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==Tt.string&&i.parsedType!==Tt.number){const r=Ti.objectValues(t);return Et(i,{expected:Ti.joinValues(r),received:i.parsedType,code:nt.invalid_type}),Sn}if(hO(this,gT)||jbe(this,gT,new Set(Ti.getValidEnumValues(this._def.values))),!hO(this,gT).has(e.data)){const r=Ti.objectValues(t);return Et(i,{received:i.data,code:nt.invalid_enum_value,options:r}),Sn}return ya(e.data)}get enum(){return this._def.values}}gT=new WeakMap;u1.create=(n,e)=>new u1({values:n,typeName:En.ZodNativeEnum,...zn(e)});class rC extends ti{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Tt.promise&&t.common.async===!1)return Et(t,{code:nt.invalid_type,expected:Tt.promise,received:t.parsedType}),Sn;const i=t.parsedType===Tt.promise?t.data:Promise.resolve(t.data);return ya(i.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}rC.create=(n,e)=>new rC({type:n,typeName:En.ZodPromise,...zn(e)});class hu extends ti{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===En.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:o=>{Et(i,o),o.fatal?t.abort():t.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const o=r.transform(i.data,s);if(i.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return Sn;const l=await this._def.schema._parseAsync({data:a,path:i.path,parent:i});return l.status==="aborted"?Sn:l.status==="dirty"||t.value==="dirty"?Nv(l.value):l});{if(t.value==="aborted")return Sn;const a=this._def.schema._parseSync({data:o,path:i.path,parent:i});return a.status==="aborted"?Sn:a.status==="dirty"||t.value==="dirty"?Nv(a.value):a}}if(r.type==="refinement"){const o=a=>{const l=r.refinement(a,s);if(i.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Sn:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>a.status==="aborted"?Sn:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(r.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!C_(o))return o;const a=r.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>C_(o)?Promise.resolve(r.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);Ti.assertNever(r)}}hu.create=(n,e,t)=>new hu({schema:n,typeName:En.ZodEffects,effect:e,...zn(t)});hu.createWithPreprocess=(n,e,t)=>new hu({schema:e,effect:{type:"preprocess",transform:n},typeName:En.ZodEffects,...zn(t)});class cd extends ti{_parse(e){return this._getType(e)===Tt.undefined?ya(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cd.create=(n,e)=>new cd({innerType:n,typeName:En.ZodOptional,...zn(e)});class zg extends ti{_parse(e){return this._getType(e)===Tt.null?ya(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zg.create=(n,e)=>new zg({innerType:n,typeName:En.ZodNullable,...zn(e)});class d1 extends ti{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===Tt.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}d1.create=(n,e)=>new d1({innerType:n,typeName:En.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...zn(e)});class h1 extends ti{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return t1(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new wl(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new wl(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}h1.create=(n,e)=>new h1({innerType:n,typeName:En.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...zn(e)});class mO extends ti{_parse(e){if(this._getType(e)!==Tt.nan){const i=this._getOrReturnCtx(e);return Et(i,{code:nt.invalid_type,expected:Tt.nan,received:i.parsedType}),Sn}return{status:"valid",value:e.data}}}mO.create=n=>new mO({typeName:En.ZodNaN,...zn(n)});const v7e=Symbol("zod_brand");class MY extends ti{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class iA extends ti{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?Sn:s.status==="dirty"?(t.dirty(),Nv(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?Sn:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,t){return new iA({in:e,out:t,typeName:En.ZodPipeline})}}class f1 extends ti{_parse(e){const t=this._def.innerType._parse(e),i=r=>(C_(r)&&(r.value=Object.freeze(r.value)),r);return t1(t)?t.then(r=>i(r)):i(t)}unwrap(){return this._def.innerType}}f1.create=(n,e)=>new f1({innerType:n,typeName:En.ZodReadonly,...zn(e)});function Dne(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function Qbe(n,e={},t){return n?iC.create().superRefine((i,r)=>{var s,o;const a=n(i);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const d=Dne(e,i),h=(u=(c=d.fatal)!==null&&c!==void 0?c:t)!==null&&u!==void 0?u:!0;r.addIssue({code:"custom",...d,fatal:h})}});if(!a){const l=Dne(e,i),c=(o=(s=l.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0;r.addIssue({code:"custom",...l,fatal:c})}}):iC.create()}const S7e={object:Lr.lazycreate};var En;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(En||(En={}));const C7e=(n,e={message:`Input not instance of ${n.name}`})=>Qbe(t=>t instanceof n,e),g1=Zc.create,Zbe=Wg.create,y7e=mO.create,b7e=$g.create,Jbe=n1.create,T7e=y_.create,w7e=fO.create,A7e=i1.create,R7e=r1.create,I7e=iC.create,N7e=Ym.create,L7e=Zh.create,O7e=gO.create,x7e=nu.create,FY=Lr.create,D7e=Lr.strictCreate,P7e=s1.create,k7e=dM.create,M7e=o1.create,F7e=Ed.create,B7e=a1.create,U7e=pO.create,H7e=b_.create,V7e=yS.create,W7e=l1.create,$7e=c1.create,G7e=Gg.create,z7e=u1.create,j7e=rC.create,Pne=hu.create,Y7e=cd.create,K7e=zg.create,q7e=hu.createWithPreprocess,X7e=iA.create,Q7e=()=>g1().optional(),Z7e=()=>Zbe().optional(),J7e=()=>Jbe().optional(),e6e={string:n=>Zc.create({...n,coerce:!0}),number:n=>Wg.create({...n,coerce:!0}),boolean:n=>n1.create({...n,coerce:!0}),bigint:n=>$g.create({...n,coerce:!0}),date:n=>y_.create({...n,coerce:!0})},t6e=Sn;var qt=Object.freeze({__proto__:null,defaultErrorMap:nC,setErrorMap:X9e,getErrorMap:uO,makeIssue:dO,EMPTY_PATH:Q9e,addIssueToContext:Et,ParseStatus:Qo,INVALID:Sn,DIRTY:Nv,OK:ya,isAborted:D9,isDirty:P9,isValid:C_,isAsync:t1,get util(){return Ti},get objectUtil(){return x9},ZodParsedType:Tt,getParsedType:mh,ZodType:ti,datetimeRegex:qbe,ZodString:Zc,ZodNumber:Wg,ZodBigInt:$g,ZodBoolean:n1,ZodDate:y_,ZodSymbol:fO,ZodUndefined:i1,ZodNull:r1,ZodAny:iC,ZodUnknown:Ym,ZodNever:Zh,ZodVoid:gO,ZodArray:nu,ZodObject:Lr,ZodUnion:s1,ZodDiscriminatedUnion:dM,ZodIntersection:o1,ZodTuple:Ed,ZodRecord:a1,ZodMap:pO,ZodSet:b_,ZodFunction:yS,ZodLazy:l1,ZodLiteral:c1,ZodEnum:Gg,ZodNativeEnum:u1,ZodPromise:rC,ZodEffects:hu,ZodTransformer:hu,ZodOptional:cd,ZodNullable:zg,ZodDefault:d1,ZodCatch:h1,ZodNaN:mO,BRAND:v7e,ZodBranded:MY,ZodPipeline:iA,ZodReadonly:f1,custom:Qbe,Schema:ti,ZodSchema:ti,late:S7e,get ZodFirstPartyTypeKind(){return En},coerce:e6e,any:I7e,array:x7e,bigint:b7e,boolean:Jbe,date:T7e,discriminatedUnion:k7e,effect:Pne,enum:G7e,function:V7e,instanceof:C7e,intersection:M7e,lazy:W7e,literal:$7e,map:U7e,nan:y7e,nativeEnum:z7e,never:L7e,null:R7e,nullable:K7e,number:Zbe,object:FY,oboolean:J7e,onumber:Z7e,optional:Y7e,ostring:Q7e,pipeline:X7e,preprocess:q7e,promise:j7e,record:B7e,set:H7e,strictObject:D7e,string:g1,symbol:w7e,transformer:Pne,tuple:F7e,undefined:A7e,union:P7e,unknown:N7e,void:O7e,NEVER:t6e,ZodIssueCode:nt,quotelessJson:q9e,ZodError:wl});function n6e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kne(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Mne(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kne(Object(t),!0).forEach(function(i){n6e(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kne(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function i6e(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function r6e(n,e){if(n==null)return{};var t=i6e(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function s6e(n,e){return o6e(n)||a6e(n,e)||l6e(n,e)||c6e()}function o6e(n){if(Array.isArray(n))return n}function a6e(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],i=!0,r=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(i=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));i=!0);}catch(l){r=!0,s=l}finally{try{!i&&o.return!=null&&o.return()}finally{if(r)throw s}}return t}}function l6e(n,e){if(n){if(typeof n=="string")return Fne(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fne(n,e)}}function Fne(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function c6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u6e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bne(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Une(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bne(Object(t),!0).forEach(function(i){u6e(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Bne(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function d6e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){return e.reduceRight(function(r,s){return s(r)},i)}}function pT(n){return function e(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=n.length?n.apply(this,r):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(t,[].concat(r,a))}}}function _O(n){return{}.toString.call(n).includes("Object")}function h6e(n){return!Object.keys(n).length}function p1(n){return typeof n=="function"}function f6e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function g6e(n,e){return _O(e)||Ig("changeType"),Object.keys(e).some(function(t){return!f6e(n,t)})&&Ig("changeField"),e}function p6e(n){p1(n)||Ig("selectorType")}function m6e(n){p1(n)||_O(n)||Ig("handlerType"),_O(n)&&Object.values(n).some(function(e){return!p1(e)})&&Ig("handlersType")}function _6e(n){n||Ig("initialIsRequired"),_O(n)||Ig("initialType"),h6e(n)&&Ig("initialContent")}function E6e(n,e){throw new Error(n[e]||n.default)}var v6e={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ig=pT(E6e)(v6e),TI={changes:g6e,selector:p6e,handler:m6e,initial:_6e};function S6e(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};TI.initial(n),TI.handler(e);var t={current:n},i=pT(b6e)(t,e),r=pT(y6e)(t),s=pT(TI.changes)(n),o=pT(C6e)(t);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return TI.selector(c),c(t.current)}function l(c){d6e(i,r,s,o)(c)}return[a,l]}function C6e(n,e){return p1(e)?e(n.current):e}function y6e(n,e){return n.current=Une(Une({},n.current),e),e}function b6e(n,e,t){return p1(e)?e(n.current):Object.keys(t).forEach(function(i){var r;return(r=e[i])===null||r===void 0?void 0:r.call(e,n.current[i])}),t}var T6e={create:S6e},w6e={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function A6e(n){return function e(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=n.length?n.apply(this,r):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(t,[].concat(r,a))}}}function R6e(n){return{}.toString.call(n).includes("Object")}function I6e(n){return n||Hne("configIsRequired"),R6e(n)||Hne("configType"),n.urls?(N6e(),{paths:{vs:n.urls.monacoBase}}):n}function N6e(){console.warn(eTe.deprecation)}function L6e(n,e){throw new Error(n[e]||n.default)}var eTe={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Hne=A6e(L6e)(eTe),O6e={config:I6e},x6e=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduceRight(function(s,o){return o(s)},r)}};function tTe(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],tTe(n[t],e[t]))}),Mne(Mne({},n),e)}var D6e={type:"cancelation",msg:"operation is manually canceled"};function P4(n){var e=!1,t=new Promise(function(i,r){n.then(function(s){return e?r(D6e):i(s)}),n.catch(r)});return t.cancel=function(){return e=!0},t}var P6e=T6e.create({config:w6e,isInitialized:!1,resolve:null,reject:null,monaco:null}),nTe=s6e(P6e,2),rA=nTe[0],hM=nTe[1];function k6e(n){var e=O6e.config(n),t=e.monaco,i=r6e(e,["monaco"]);hM(function(r){return{config:tTe(r.config,i),monaco:t}})}function M6e(){var n=rA(function(e){var t=e.monaco,i=e.isInitialized,r=e.resolve;return{monaco:t,isInitialized:i,resolve:r}});if(!n.isInitialized){if(hM({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),P4(k4);if(window.monaco&&window.monaco.editor)return iTe(window.monaco),n.resolve(window.monaco),P4(k4);x6e(F6e,U6e)(H6e)}return P4(k4)}function F6e(n){return document.body.appendChild(n)}function B6e(n){var e=document.createElement("script");return n&&(e.src=n),e}function U6e(n){var e=rA(function(i){var r=i.config,s=i.reject;return{config:r,reject:s}}),t=B6e("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function H6e(){var n=rA(function(t){var i=t.config,r=t.resolve,s=t.reject;return{config:i,resolve:r,reject:s}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){iTe(t),n.resolve(t)},function(t){n.reject(t)})}function iTe(n){rA().monaco||hM({monaco:n})}function V6e(){return rA(function(n){var e=n.monaco;return e})}var k4=new Promise(function(n,e){return hM({resolve:n,reject:e})}),BY={config:k6e,init:M6e,__getMonacoInstance:V6e},W6e={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},M4=W6e,$6e={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},G6e=$6e;function z6e({children:n}){return Z.createElement("div",{style:G6e.container},n)}var j6e=z6e,Y6e=j6e;function K6e({width:n,height:e,isEditorReady:t,loading:i,_ref:r,className:s,wrapperProps:o}){return Z.createElement("section",{style:{...M4.wrapper,width:n,height:e},...o},!t&&Z.createElement(Y6e,null,i),Z.createElement("div",{ref:r,style:{...M4.fullWidth,...!t&&M4.hide},className:s}))}var q6e=K6e,rTe=N.memo(q6e);function X6e(n){N.useEffect(n,[])}var sTe=X6e;function Q6e(n,e,t=!0){let i=N.useRef(!0);N.useEffect(i.current||!t?()=>{i.current=!1}:n,e)}var pl=Q6e;function WT(){}function Lv(n,e,t,i){return Z6e(n,i)||J6e(n,e,t,i)}function Z6e(n,e){return n.editor.getModel(oTe(n,e))}function J6e(n,e,t,i){return n.editor.createModel(e,t,i?oTe(n,i):void 0)}function oTe(n,e){return n.Uri.parse(e)}function e8e({original:n,modified:e,language:t,originalLanguage:i,modifiedLanguage:r,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:u="Loading...",options:d={},height:h="100%",width:f="100%",className:m,wrapperProps:g={},beforeMount:_=WT,onMount:v=WT}){let[S,C]=N.useState(!1),[y,b]=N.useState(!0),w=N.useRef(null),I=N.useRef(null),O=N.useRef(null),x=N.useRef(v),k=N.useRef(_),P=N.useRef(!1);sTe(()=>{let H=BY.init();return H.then(V=>(I.current=V)&&b(!1)).catch(V=>(V==null?void 0:V.type)!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>w.current?F():H.cancel()}),pl(()=>{if(w.current&&I.current){let H=w.current.getOriginalEditor(),V=Lv(I.current,n||"",i||t||"text",s||"");V!==H.getModel()&&H.setModel(V)}},[s],S),pl(()=>{if(w.current&&I.current){let H=w.current.getModifiedEditor(),V=Lv(I.current,e||"",r||t||"text",o||"");V!==H.getModel()&&H.setModel(V)}},[o],S),pl(()=>{let H=w.current.getModifiedEditor();H.getOption(I.current.editor.EditorOption.readOnly)?H.setValue(e||""):e!==H.getValue()&&(H.executeEdits("",[{range:H.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),H.pushUndoStop())},[e],S),pl(()=>{var H,V;(V=(H=w.current)==null?void 0:H.getModel())==null||V.original.setValue(n||"")},[n],S),pl(()=>{let{original:H,modified:V}=w.current.getModel();I.current.editor.setModelLanguage(H,i||t||"text"),I.current.editor.setModelLanguage(V,r||t||"text")},[t,i,r],S),pl(()=>{var H;(H=I.current)==null||H.editor.setTheme(c)},[c],S),pl(()=>{var H;(H=w.current)==null||H.updateOptions(d)},[d],S);let M=N.useCallback(()=>{var Y;if(!I.current)return;k.current(I.current);let H=Lv(I.current,n||"",i||t||"text",s||""),V=Lv(I.current,e||"",r||t||"text",o||"");(Y=w.current)==null||Y.setModel({original:H,modified:V})},[t,e,r,n,i,s,o]),W=N.useCallback(()=>{var H;!P.current&&O.current&&(w.current=I.current.editor.createDiffEditor(O.current,{automaticLayout:!0,...d}),M(),(H=I.current)==null||H.editor.setTheme(c),C(!0),P.current=!0)},[d,c,M]);N.useEffect(()=>{S&&x.current(w.current,I.current)},[S]),N.useEffect(()=>{!y&&!S&&W()},[y,S,W]);function F(){var V,Y,$,K;let H=(V=w.current)==null?void 0:V.getModel();a||((Y=H==null?void 0:H.original)==null||Y.dispose()),l||(($=H==null?void 0:H.modified)==null||$.dispose()),(K=w.current)==null||K.dispose()}return Z.createElement(rTe,{width:f,height:h,isEditorReady:S,loading:u,_ref:O,className:m,wrapperProps:g})}var t8e=e8e;N.memo(t8e);function n8e(n){let e=N.useRef();return N.useEffect(()=>{e.current=n},[n]),e.current}var i8e=n8e,wI=new Map;function r8e({defaultValue:n,defaultLanguage:e,defaultPath:t,value:i,language:r,path:s,theme:o="light",line:a,loading:l="Loading...",options:c={},overrideServices:u={},saveViewState:d=!0,keepCurrentModel:h=!1,width:f="100%",height:m="100%",className:g,wrapperProps:_={},beforeMount:v=WT,onMount:S=WT,onChange:C,onValidate:y=WT}){let[b,w]=N.useState(!1),[I,O]=N.useState(!0),x=N.useRef(null),k=N.useRef(null),P=N.useRef(null),M=N.useRef(S),W=N.useRef(v),F=N.useRef(),H=N.useRef(i),V=i8e(s),Y=N.useRef(!1),$=N.useRef(!1);sTe(()=>{let G=BY.init();return G.then(J=>(x.current=J)&&O(!1)).catch(J=>(J==null?void 0:J.type)!=="cancelation"&&console.error("Monaco initialization: error:",J)),()=>k.current?re():G.cancel()}),pl(()=>{var J,z,j,ne;let G=Lv(x.current,n||i||"",e||r||"",s||t||"");G!==((J=k.current)==null?void 0:J.getModel())&&(d&&wI.set(V,(z=k.current)==null?void 0:z.saveViewState()),(j=k.current)==null||j.setModel(G),d&&((ne=k.current)==null||ne.restoreViewState(wI.get(s))))},[s],b),pl(()=>{var G;(G=k.current)==null||G.updateOptions(c)},[c],b),pl(()=>{!k.current||i===void 0||(k.current.getOption(x.current.editor.EditorOption.readOnly)?k.current.setValue(i):i!==k.current.getValue()&&($.current=!0,k.current.executeEdits("",[{range:k.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),k.current.pushUndoStop(),$.current=!1))},[i],b),pl(()=>{var J,z;let G=(J=k.current)==null?void 0:J.getModel();G&&r&&((z=x.current)==null||z.editor.setModelLanguage(G,r))},[r],b),pl(()=>{var G;a!==void 0&&((G=k.current)==null||G.revealLine(a))},[a],b),pl(()=>{var G;(G=x.current)==null||G.editor.setTheme(o)},[o],b);let K=N.useCallback(()=>{var G;if(!(!P.current||!x.current)&&!Y.current){W.current(x.current);let J=s||t,z=Lv(x.current,i||n||"",e||r||"",J||"");k.current=(G=x.current)==null?void 0:G.editor.create(P.current,{model:z,automaticLayout:!0,...c},u),d&&k.current.restoreViewState(wI.get(J)),x.current.editor.setTheme(o),a!==void 0&&k.current.revealLine(a),w(!0),Y.current=!0}},[n,e,t,i,r,s,c,u,d,o,a]);N.useEffect(()=>{b&&M.current(k.current,x.current)},[b]),N.useEffect(()=>{!I&&!b&&K()},[I,b,K]),H.current=i,N.useEffect(()=>{var G,J;b&&C&&((G=F.current)==null||G.dispose(),F.current=(J=k.current)==null?void 0:J.onDidChangeModelContent(z=>{$.current||C(k.current.getValue(),z)}))},[b,C]),N.useEffect(()=>{if(b){let G=x.current.editor.onDidChangeMarkers(J=>{var j;let z=(j=k.current.getModel())==null?void 0:j.uri;if(z&&J.find(ne=>ne.path===z.path)){let ne=x.current.editor.getModelMarkers({resource:z});y==null||y(ne)}});return()=>{G==null||G.dispose()}}return()=>{}},[b,y]);function re(){var G,J;(G=F.current)==null||G.dispose(),h?d&&wI.set(s,k.current.saveViewState()):(J=k.current.getModel())==null||J.dispose(),k.current.dispose()}return Z.createElement(rTe,{width:f,height:m,isEditorReady:b,loading:l,_ref:P,className:g,wrapperProps:_})}var s8e=r8e,o8e=N.memo(s8e);function a8e(n,e,t){e/=100,t/=100;const i=(1-Math.abs(2*t-1))*e,r=i*(1-Math.abs(n/60%2-1)),s=t-i/2;let o=0,a=0,l=0;0<=n&&n<60?(o=i,a=r,l=0):60<=n&&n<120?(o=r,a=i,l=0):120<=n&&n<180?(o=0,a=i,l=r):180<=n&&n<240?(o=0,a=r,l=i):240<=n&&n<300?(o=r,a=0,l=i):300<=n&&n<360&&(o=i,a=0,l=r);const c=u=>{const d=Math.round((u+s)*255).toString(16);return d.length===1?"0"+d:d};return`#${c(o)}${c(a)}${c(l)}`}function _n(n,e){try{const t=getComputedStyle(document.documentElement).getPropertyValue(n).trim();if(!t)return e;if(t.startsWith("#"))return t;const i=t.match(/^(\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)%\s+(\d+(?:\.\d+)?)%$/);if(i&&i[1]&&i[2]&&i[3]){const r=parseFloat(i[1]),s=parseFloat(i[2]),o=parseFloat(i[3]);return a8e(r,s,o)}return e}catch(t){return console.error(`Error getting CSS variable ${n}:`,t),e}}function l8e(){return getComputedStyle(document.documentElement).getPropertyValue("--font-mono").trim()||'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'}function Vne(n){const i=n?{"editorWidget.background":"#1f1f1f","editorWidget.foreground":"#cccccc","editorWidget.border":"#454545","editorSuggestWidget.background":"#252526","list.hoverBackground":"#2a2d2e","list.highlightForeground":"#0097fb","menu.background":"#252526","menu.foreground":"#cccccc","menu.selectionBackground":"#04395e","menu.selectionForeground":"#ffffff","quickInput.background":"#252526","quickInput.foreground":"#cccccc","dropdown.background":"#252526","dropdown.foreground":"#f0f0f0"}:{"editorWidget.background":"#f3f3f3","editorWidget.foreground":"#616161","editorWidget.border":"#c8c8c8","editorSuggestWidget.background":"#f3f3f3","list.hoverBackground":"#e8e8e8","list.highlightForeground":"#0066bf","menu.background":"#f3f3f3","menu.foreground":"#616161","menu.selectionBackground":"#d6ebff","menu.selectionForeground":"#333333","quickInput.background":"#f3f3f3","quickInput.foreground":"#616161","dropdown.background":"#f3f3f3","dropdown.foreground":"#616161"},r={};return r["editorWidget.background"]=_n("--popover",i["editorWidget.background"]),r["editorWidget.foreground"]=_n("--popover-foreground",i["editorWidget.foreground"]),r["editorWidget.border"]=_n("--border",i["editorWidget.border"]),r["editorSuggestWidget.background"]=_n("--popover",i["editorSuggestWidget.background"]),r["list.hoverBackground"]=_n("--accent",i["list.hoverBackground"]),r["list.highlightForeground"]=_n("--primary",i["list.highlightForeground"]),r["menu.background"]=_n("--popover",i["menu.background"]),r["menu.foreground"]=_n("--popover-foreground",i["menu.foreground"]),r["menu.selectionBackground"]=_n("--accent",i["menu.selectionBackground"]),r["menu.selectionForeground"]=_n("--accent-foreground",i["menu.selectionForeground"]),r["quickInput.background"]=_n("--popover",i["quickInput.background"]),r["quickInput.foreground"]=_n("--popover-foreground",i["quickInput.foreground"]),r["dropdown.background"]=_n("--popover",i["dropdown.background"]),r["dropdown.foreground"]=_n("--popover-foreground",i["dropdown.foreground"]),r}function Wne(n){const i=n?{property:"#78AEFF",string:"#FFAD85",number:"#7CD992",keyword:"#C987E8",punctuation:"#A9B1BA"}:{property:"#4B6BDF",string:"#DB745C",number:"#56A64B",keyword:"#A450B5",punctuation:"#6E7781"},r=_n("--background",n?"#1E1E1E":"#FFFFFF"),s=_n("--foreground",n?"#D4D4D4":"#000000"),o=_n("--accent",n?"#264F78":"#ADD6FF"),a=_n("--muted",n?"#2A2A2A":"#F5F5F5"),l=_n("--muted-foreground",n?"#858585":"#888888"),c=_n("--primary",n?"#FFFFFF":"#000000"),u=_n("--popover",n?"#1C2233":"#F3F3F3"),d=_n("--popover-foreground",n?"#FFFFFF":"#616161"),h=_n("--border",n?"#39435E":"#C8C8C8");return{base:n?"vs-dark":"vs",inherit:!0,rules:[{token:"type",foreground:i.property.slice(1)},{token:"string.key.json",foreground:i.property.slice(1)},{token:"key",foreground:i.property.slice(1)},{token:"string.value.json",foreground:i.string.slice(1)},{token:"string",foreground:i.string.slice(1)},{token:"number",foreground:i.number.slice(1)},{token:"keyword",foreground:i.keyword.slice(1)},{token:"delimiter",foreground:i.punctuation.slice(1)},{token:"bracket",foreground:i.punctuation.slice(1)},{token:"",foreground:s.slice(1)}],colors:{"editor.background":r,"editor.foreground":s,"editor.selectionBackground":o,"editor.lineHighlightBackground":a,"editorLineNumber.foreground":l,"editorCursor.foreground":c,"editorWidget.background":u,"editorWidget.foreground":d,"editorWidget.border":h,"editorSuggestWidget.background":u,"editorSuggestWidget.foreground":d,"editorSuggestWidget.border":h,"menu.background":u,"menu.foreground":d,"menu.selectionBackground":o,"menu.selectionForeground":d,"menu.separatorBackground":h,"list.hoverBackground":a,"list.activeSelectionBackground":o,"quickInput.background":u,"quickInput.foreground":d}}}BY.config({paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs"}});const c8e=({className:n,language:e="javascript",theme:t,value:i="",readOnly:r=!1,onMount:s,onChange:o,options:a={},...l})=>{const{theme:c}=NWe(),u=t||(c==="dark"||c==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"vs-dark":"light"),d=N.useRef(null),h=N.useRef(null),f=(_,v)=>{d.current=_,h.current=v,e==="json"&&v.languages.setMonarchTokensProvider("json",{tokenizer:{root:[[/"([^"]*)"(?=\s*:)/,"string.key.json"],[/"([^"]*)"(?!\s*:)/,"string.value.json"],[/-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/,"number"],[/\b(?:true|false|null)\b/,"keyword"],[/[{}[\],:]/,"delimiter"]]}}),v.editor.defineTheme("sqlrooms-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":_n("--background","#ffffff"),"editor.foreground":_n("--foreground","#000000"),"editor.lineHighlightBackground":_n("--muted","#f5f5f5"),"editorCursor.foreground":_n("--primary","#000000"),"editor.selectionBackground":_n("--accent","#e3e3e3"),"editorLineNumber.foreground":_n("--muted-foreground","#888888"),...Vne(!1)}}),v.editor.defineTheme("sqlrooms-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":_n("--background","#1e1e1e"),"editor.foreground":_n("--foreground","#d4d4d4"),"editor.lineHighlightBackground":_n("--muted","#2a2a2a"),"editorCursor.foreground":_n("--primary","#ffffff"),"editor.selectionBackground":_n("--accent","#264f78"),"editorLineNumber.foreground":_n("--muted-foreground","#858585"),...Vne(!0)}}),v.editor.defineTheme("sqlrooms-json-light",Wne(!1)),v.editor.defineTheme("sqlrooms-json-dark",Wne(!0));const S=c==="dark"||c==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;e==="json"?v.editor.setTheme(S?"sqlrooms-json-dark":"sqlrooms-json-light"):v.editor.setTheme(S?"sqlrooms-dark":"sqlrooms-light"),s&&s(_,v)};N.useEffect(()=>{d.current&&d.current.updateOptions({readOnly:r})},[r]),N.useEffect(()=>{if(d.current&&h.current&&!t){const _=c==="dark"||c==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;e==="json"?h.current.editor.setTheme(_?"sqlrooms-json-dark":"sqlrooms-json-light"):h.current.editor.setTheme(_?"sqlrooms-dark":"sqlrooms-light")}},[c,t,e]),N.useEffect(()=>{if(c==="system"&&!t&&h.current){const _=window.matchMedia("(prefers-color-scheme: dark)"),v=()=>{h.current&&(e==="json"?h.current.editor.setTheme(_.matches?"sqlrooms-json-dark":"sqlrooms-json-light"):h.current.editor.setTheme(_.matches?"sqlrooms-dark":"sqlrooms-light"))};return _.addEventListener("change",v),()=>{_.removeEventListener("change",v)}}},[c,t,e]);const m=l8e(),g={minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,readOnly:r,fontFamily:m,fontLigatures:!0,...a};return R.jsx("div",{className:ut("h-[300px] w-full",n),children:R.jsx(o8e,{height:"100%",width:"100%",language:e,theme:u,value:i,options:g,onMount:f,onChange:o,loading:R.jsx(yye,{}),...l})})},M9=["PRAGMA","RETURNING","QUALIFY","PIVOT","UNPIVOT","EXCLUDE","INCLUDE","WINDOW","FILTER","WITHIN","OVER","PARTITION","RANGE","ROWS","GROUPS","PRECEDING","FOLLOWING","CURRENT","ROW","TIES","OTHERS","EXCLUDE","RESPECT","NULLS","FIRST","LAST","MATERIALIZED","RECURSIVE","TEMPORARY","TEMP","UNLOGGED","GLOBAL","LOCAL","STORED","VIRTUAL","DELIMITED","CSV","JSON","COPY","DESCRIBE","EXPLAIN","SUMMARIZE","PROFILE","LOAD","INSTALL","FORCE","PARALLEL","SEQUENTIAL","PRAGMA","SELECT","FROM","WHERE","GROUP","BY","HAVING","ORDER","LIMIT","OFFSET","INSERT","INTO","VALUES","UPDATE","SET","DELETE","CREATE","ALTER","DROP","TABLE","VIEW","INDEX","TRIGGER","PROCEDURE","FUNCTION","DATABASE","SCHEMA","JOIN","INNER","LEFT","RIGHT","FULL","OUTER","CROSS","NATURAL","ON","USING","AND","OR","NOT","NULL","IS","IN","BETWEEN","LIKE","AS","CASE","WHEN","THEN","ELSE","END","DISTINCT","ALL","UNION","INTERSECT","EXCEPT","WITH","CAST","PRIMARY","KEY","FOREIGN","REFERENCES","CONSTRAINT","DEFAULT","CHECK","UNIQUE","INDEX","CASCADE","RESTRICT","ASC","DESC","IF","EXISTS","TRUE","FALSE"],F9=["ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","FIRST","LAST","LIST","MAX","MIN","STRING_AGG","SUM","MEDIAN","QUANTILE","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ROW_NUMBER","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","LAG","LEAD","FIRST_VALUE","LAST_VALUE","NTH_VALUE","AGE","DATE_PART","DATE_TRUNC","EXTRACT","GREATEST","LEAST","NOW","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","EPOCH","STRFTIME","STRPTIME","TO_TIMESTAMP","CONCAT","LENGTH","LOWER","LPAD","LTRIM","REGEXP_MATCHES","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTRING","TRIM","UPPER","LIST_EXTRACT","LIST_ELEMENT","LIST_VALUE","STRUCT_EXTRACT","STRUCT_PACK","MAP","MAP_EXTRACT","ABS","CEIL","CEILING","FLOOR","ROUND","SIGN","SQRT","CBRT","EXP","LN","LOG","POWER","MOD","RANDOM","SETSEED","ACOS","ASIN","ATAN","ATAN2","COS","COT","SIN","TAN","RADIANS","DEGREES","PI","COALESCE","NULLIF","TYPEOF","CURRENT_SCHEMA","CURRENT_USER","HASH","UUID","CHAR_LENGTH","CHARACTER_LENGTH","POSITION","OVERLAY","CONCAT_WS","FORMAT","TO_CHAR","TO_DATE","TO_NUMBER","LOCALTIME","LOCALTIMESTAMP","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","CLOCK_TIMESTAMP","STATEMENT_TIMESTAMP","TRANSACTION_TIMESTAMP"],u8e=["+","-","*","/","%","&","|","^","=","<>","!=",">",">=","<","<=","<<",">>","||","::","->>","->","~","!","@"],d8e=["$1","$2","$3","$4","$5","$6","$7","$8","$9"],h8e=["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],f8e={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:M9,operators:u8e,builtinFunctions:F9,builtinVariables:d8e,pseudoColumns:h8e,tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$]+/,{cases:{"@keywords":"keyword","@operators":"operator","@builtinFunctions":"predefined","@builtinVariables":"predefined","@pseudoColumns":"predefined","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/'/,{token:"string",next:"@string"}],[/"/,{token:"string.double",next:"@stringDouble"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],stringDouble:[[/[^"]+/,"string.double"],[/""/,"string.double"],[/"/,{token:"string.double",next:"@pop"}]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[]}},UY=({customKeywords:n=[],customFunctions:e=[],tableSchemas:t=[],getLatestSchemas:i,onMount:r,className:s,...o})=>{const a=N.useRef(null),l=N.useRef(null),c=N.useRef(null),u=N.useCallback(()=>{if(!a.current||!l.current)return;const h=l.current;c.current&&c.current.dispose();const f=h.languages.registerCompletionItemProvider("sql",{triggerCharacters:[" ",".",",","(","="],provideCompletionItems:(m,g)=>{try{let _=t;i&&(_=i().tableSchemas);const v=[],S=m.getWordUntilPosition(g),C={startLineNumber:g.lineNumber,endLineNumber:g.lineNumber,startColumn:S.startColumn,endColumn:S.endColumn},b=m.getLineContent(g.lineNumber).substring(0,g.column-1).trim().toLowerCase(),w=/\b(from|join|into|update|table)\s+\w*$/.test(b),I=/\b(\w+)\.\w*$/.test(b),O=[...M9,...n],x=[...F9,...e];return I||O.forEach(k=>{v.push({label:k,kind:h.languages.CompletionItemKind.Keyword,insertText:k,range:C,detail:"Keyword",sortText:w?"z"+k:"a"+k})}),I||x.forEach(k=>{v.push({label:k,kind:h.languages.CompletionItemKind.Function,insertText:k,range:C,detail:"Function",sortText:w?"z"+k:"b"+k})}),_.forEach(k=>{const P=k.tableName;v.push({label:P,kind:h.languages.CompletionItemKind.Class,insertText:P,range:C,detail:"Table",documentation:{value:`Table: ${P}`,isTrusted:!0},sortText:w?"a"+P:"c"+P});let M="";if(I){const W=b.match(/\b(\w+)\.\w*$/);W&&W[1]&&(M=W[1])}(!I||M===P)&&k.columns.forEach(W=>{const F=W.name,H=W.type;v.push({label:F,kind:h.languages.CompletionItemKind.Field,insertText:F,range:C,detail:`Column (${H})`,documentation:{value:`Column from table ${P}`,isTrusted:!0},sortText:I&&M===P?"a"+F:"d"+F}),I||v.push({label:`${P}.${F}`,kind:h.languages.CompletionItemKind.Field,insertText:`${P}.${F}`,range:C,detail:`Column (${H})`,documentation:{value:`Column from table ${P}`,isTrusted:!0},sortText:"e"+P+F})})}),{suggestions:v}}catch(_){return console.error("Error in SQL completion provider:",_),{suggestions:[]}}}});c.current=f},[n,e,t,i]);N.useEffect(()=>{a.current&&l.current&&u()},[t,u]);const d=N.useCallback((h,f)=>{a.current=h,l.current=f,f.languages.getLanguages().some(_=>_.id==="sql")||f.languages.register({id:"sql"});const m=[...M9,...n],g=[...F9,...e];f.languages.setMonarchTokensProvider("sql",{...f8e,keywords:m,builtinFunctions:g}),u(),h.onDidDispose(()=>{c.current&&c.current.dispose()}),r&&r(h,f)},[n,e,t,r,u]);return R.jsx(c8e,{language:"sql",onMount:d,className:s,options:{formatOnPaste:!0,formatOnType:!0,wordWrap:"on"},...o})},g8e=/^[a-zA-Z_][a-zA-Z0-9_]{0,62}$/,p8e=FY({tableName:g1().min(1,"Table name is required").regex(g8e,"Only letters, digits and underscores are allowed; should not start with a digit"),query:g1().min(1,"Query is required")}),m8e=n=>{const{editDataSource:e,isOpen:t,onClose:i,onAddOrUpdateSqlQuery:r}=n,s=k_e({resolver:F_e(p8e),values:{tableName:(e==null?void 0:e.tableName)??"",query:(e==null?void 0:e.sqlQuery)??n.query.trim()}}),o=N.useCallback(async a=>{try{const{tableName:l,query:c}=a;await r(l,c,e==null?void 0:e.tableName),s.reset(),i()}catch(l){s.setError("root",{type:"manual",message:`${l}`})}},[r,e==null?void 0:e.tableName,i,s]);return R.jsx(Fj,{open:t,onOpenChange:a=>!a&&i(),children:R.jsx(Ok,{className:"sm:max-w-[800px]",children:R.jsx(_Se,{...s,children:R.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[R.jsxs(xk,{children:[R.jsx(Pk,{children:e?"Edit table query":"Create table from query"}),!e&&R.jsx(Bj,{children:"Create a new table from the results of an SQL query."})]}),s.formState.errors.root&&R.jsx(Nj,{variant:"destructive",children:R.jsx(Lj,{children:s.formState.errors.root.message})}),R.jsx(_9,{control:s.control,name:"tableName",render:({field:a})=>R.jsxs(eO,{children:[R.jsx(tO,{children:"Table name:"}),R.jsx(nO,{children:R.jsx(jk,{...a,className:"font-mono",autoFocus:!0})}),R.jsx(iO,{})]})}),R.jsx(_9,{control:s.control,name:"query",render:({field:a})=>R.jsxs(eO,{children:[R.jsx(tO,{children:"SQL query:"}),R.jsx(nO,{children:R.jsx(UY,{value:a.value,onChange:a.onChange,className:"min-h-[200px]",options:{scrollBeyondLastLine:!1,automaticLayout:!0,minimap:{enabled:!1},wordWrap:"on"}})}),R.jsx(iO,{})]})}),R.jsxs(Dk,{children:[R.jsx(Yr,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),R.jsx(Yr,{type:"submit",disabled:s.formState.isSubmitting,children:e?"Update":"Create"})]})]})})})})},$ne=n=>{let e;const t=new Set,i=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),t.forEach(f=>f(e,h))}},r=()=>e,a={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(i,r,a);return a},_8e=n=>n?$ne(n):$ne,E8e=n=>n;function HY(n,e=E8e){const t=Z.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return Z.useDebugValue(t),t}const v8e=n=>{const e=_8e(n),t=i=>HY(e,i);return Object.assign(t,e),t},S8e=n=>v8e,aTe=N.createContext(null);function C8e(n){const e=N.useContext(aTe);if(!e)throw new Error("Missing ProjectStateProvider in the tree");return HY(e,n)}var EO;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(EO||(EO={}));var $T;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})($T||($T={}));var vO;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(vO||(vO={}));var m1;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(m1||(m1={}));var B9;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(B9||(B9={}));var kn;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Duration=18]="Duration",n[n.LargeBinary=19]="LargeBinary",n[n.LargeUtf8=20]="LargeUtf8",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth",n[n.DurationSecond=-27]="DurationSecond",n[n.DurationMillisecond=-28]="DurationMillisecond",n[n.DurationMicrosecond=-29]="DurationMicrosecond",n[n.DurationNanosecond=-30]="DurationNanosecond"})(kn||(kn={}));var Gne;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(Gne||(Gne={}));function y8e(n){if(typeof n=="bigint"&&(n<Number.MIN_SAFE_INTEGER||n>Number.MAX_SAFE_INTEGER))throw new TypeError(`${n} is not safe to convert to a number.`);return Number(n)}var lTe,cTe,uTe,dTe,hTe,fTe,gTe,pTe,mTe,_Te,ETe,vTe,STe,CTe,yTe,bTe,TTe,wTe,ATe,RTe,ITe,NTe;class Pi{static isNull(e){return(e==null?void 0:e.typeId)===kn.Null}static isInt(e){return(e==null?void 0:e.typeId)===kn.Int}static isFloat(e){return(e==null?void 0:e.typeId)===kn.Float}static isBinary(e){return(e==null?void 0:e.typeId)===kn.Binary}static isLargeBinary(e){return(e==null?void 0:e.typeId)===kn.LargeBinary}static isUtf8(e){return(e==null?void 0:e.typeId)===kn.Utf8}static isLargeUtf8(e){return(e==null?void 0:e.typeId)===kn.LargeUtf8}static isBool(e){return(e==null?void 0:e.typeId)===kn.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===kn.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===kn.Date}static isTime(e){return(e==null?void 0:e.typeId)===kn.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===kn.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===kn.Interval}static isDuration(e){return(e==null?void 0:e.typeId)===kn.Duration}static isList(e){return(e==null?void 0:e.typeId)===kn.List}static isStruct(e){return(e==null?void 0:e.typeId)===kn.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===kn.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===kn.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===kn.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===kn.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===kn.Dictionary}static isDenseUnion(e){return Pi.isUnion(e)&&e.mode===EO.Dense}static isSparseUnion(e){return Pi.isUnion(e)&&e.mode===EO.Sparse}constructor(e){this.typeId=e}}lTe=Symbol.toStringTag;Pi[lTe]=(n=>(n.children=null,n.ArrayType=Array,n.OffsetArrayType=Int32Array,n[Symbol.toStringTag]="DataType"))(Pi.prototype);class zne extends Pi{constructor(){super(kn.Null)}toString(){return"Null"}}cTe=Symbol.toStringTag;zne[cTe]=(n=>n[Symbol.toStringTag]="Null")(zne.prototype);class jne extends Pi{constructor(e,t){super(kn.Int),this.isSigned=e,this.bitWidth=t}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}uTe=Symbol.toStringTag;jne[uTe]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))(jne.prototype);class Yne extends Pi{constructor(e){super(kn.Float),this.precision=e}get ArrayType(){switch(this.precision){case $T.HALF:return Uint16Array;case $T.SINGLE:return Float32Array;case $T.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}dTe=Symbol.toStringTag;Yne[dTe]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(Yne.prototype);class Kne extends Pi{constructor(){super(kn.Binary)}toString(){return"Binary"}}hTe=Symbol.toStringTag;Kne[hTe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(Kne.prototype);class qne extends Pi{constructor(){super(kn.LargeBinary)}toString(){return"LargeBinary"}}fTe=Symbol.toStringTag;qne[fTe]=(n=>(n.ArrayType=Uint8Array,n.OffsetArrayType=BigInt64Array,n[Symbol.toStringTag]="LargeBinary"))(qne.prototype);class Xne extends Pi{constructor(){super(kn.Utf8)}toString(){return"Utf8"}}gTe=Symbol.toStringTag;Xne[gTe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(Xne.prototype);class Qne extends Pi{constructor(){super(kn.LargeUtf8)}toString(){return"LargeUtf8"}}pTe=Symbol.toStringTag;Qne[pTe]=(n=>(n.ArrayType=Uint8Array,n.OffsetArrayType=BigInt64Array,n[Symbol.toStringTag]="LargeUtf8"))(Qne.prototype);class Zne extends Pi{constructor(){super(kn.Bool)}toString(){return"Bool"}}mTe=Symbol.toStringTag;Zne[mTe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(Zne.prototype);let Jne=class extends Pi{constructor(e,t,i=128){super(kn.Decimal),this.scale=e,this.precision=t,this.bitWidth=i}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};_Te=Symbol.toStringTag;Jne[_Te]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(Jne.prototype);class eie extends Pi{constructor(e){super(kn.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${vO[this.unit]}>`}get ArrayType(){return this.unit===vO.DAY?Int32Array:BigInt64Array}}ETe=Symbol.toStringTag;eie[ETe]=(n=>(n.unit=null,n[Symbol.toStringTag]="Date"))(eie.prototype);class tie extends Pi{constructor(e,t){super(kn.Time),this.unit=e,this.bitWidth=t}toString(){return`Time${this.bitWidth}<${m1[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}vTe=Symbol.toStringTag;tie[vTe]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(tie.prototype);class nie extends Pi{constructor(e,t){super(kn.Timestamp),this.unit=e,this.timezone=t}toString(){return`Timestamp<${m1[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}STe=Symbol.toStringTag;nie[STe]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=BigInt64Array,n[Symbol.toStringTag]="Timestamp"))(nie.prototype);class iie extends Pi{constructor(e){super(kn.Interval),this.unit=e}toString(){return`Interval<${B9[this.unit]}>`}}CTe=Symbol.toStringTag;iie[CTe]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(iie.prototype);class rie extends Pi{constructor(e){super(kn.Duration),this.unit=e}toString(){return`Duration<${m1[this.unit]}>`}}yTe=Symbol.toStringTag;rie[yTe]=(n=>(n.unit=null,n.ArrayType=BigInt64Array,n[Symbol.toStringTag]="Duration"))(rie.prototype);let sie=class extends Pi{constructor(e){super(kn.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};bTe=Symbol.toStringTag;sie[bTe]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(sie.prototype);class oie extends Pi{constructor(e){super(kn.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}TTe=Symbol.toStringTag;oie[TTe]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(oie.prototype);class aie extends Pi{constructor(e,t,i){super(kn.Union),this.mode=e,this.children=i,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((r,s,o)=>(r[s]=o)&&r||r,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}wTe=Symbol.toStringTag;aie[wTe]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(aie.prototype);class lie extends Pi{constructor(e){super(kn.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}ATe=Symbol.toStringTag;lie[ATe]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(lie.prototype);class cie extends Pi{constructor(e,t){super(kn.FixedSizeList),this.listSize=e,this.children=[t]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}RTe=Symbol.toStringTag;cie[RTe]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(cie.prototype);class uie extends Pi{constructor(e,t=!1){var i,r,s;if(super(kn.Map),this.children=[e],this.keysSorted=t,e&&(e.name="entries",!((i=e==null?void 0:e.type)===null||i===void 0)&&i.children)){const o=(r=e==null?void 0:e.type)===null||r===void 0?void 0:r.children[0];o&&(o.name="key");const a=(s=e==null?void 0:e.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}ITe=Symbol.toStringTag;uie[ITe]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(uie.prototype);const b8e=(n=>()=>++n)(-1);class die extends Pi{constructor(e,t,i,r){super(kn.Dictionary),this.indices=t,this.dictionary=e,this.isOrdered=r||!1,this.id=i==null?b8e():y8e(i)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}NTe=Symbol.toStringTag;die[NTe]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(die.prototype);function VY(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function LTe(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function sA(){}var _1=.7,SO=1/_1,bS="\\s*([+-]?\\d+)\\s*",E1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ud="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T8e=/^#([0-9a-f]{3,8})$/,w8e=new RegExp(`^rgb\\(${bS},${bS},${bS}\\)$`),A8e=new RegExp(`^rgb\\(${ud},${ud},${ud}\\)$`),R8e=new RegExp(`^rgba\\(${bS},${bS},${bS},${E1}\\)$`),I8e=new RegExp(`^rgba\\(${ud},${ud},${ud},${E1}\\)$`),N8e=new RegExp(`^hsl\\(${E1},${ud},${ud}\\)$`),L8e=new RegExp(`^hsla\\(${E1},${ud},${ud},${E1}\\)$`),hie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VY(sA,v1,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:fie,formatHex:fie,formatHex8:O8e,formatHsl:x8e,formatRgb:gie,toString:gie});function fie(){return this.rgb().formatHex()}function O8e(){return this.rgb().formatHex8()}function x8e(){return OTe(this).formatHsl()}function gie(){return this.rgb().formatRgb()}function v1(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=T8e.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?pie(e):t===3?new Ga(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?AI(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?AI(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=w8e.exec(n))?new Ga(e[1],e[2],e[3],1):(e=A8e.exec(n))?new Ga(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=R8e.exec(n))?AI(e[1],e[2],e[3],e[4]):(e=I8e.exec(n))?AI(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=N8e.exec(n))?Eie(e[1],e[2]/100,e[3]/100,1):(e=L8e.exec(n))?Eie(e[1],e[2]/100,e[3]/100,e[4]):hie.hasOwnProperty(n)?pie(hie[n]):n==="transparent"?new Ga(NaN,NaN,NaN,0):null}function pie(n){return new Ga(n>>16&255,n>>8&255,n&255,1)}function AI(n,e,t,i){return i<=0&&(n=e=t=NaN),new Ga(n,e,t,i)}function D8e(n){return n instanceof sA||(n=v1(n)),n?(n=n.rgb(),new Ga(n.r,n.g,n.b,n.opacity)):new Ga}function U9(n,e,t,i){return arguments.length===1?D8e(n):new Ga(n,e,t,i??1)}function Ga(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}VY(Ga,U9,LTe(sA,{brighter(n){return n=n==null?SO:Math.pow(SO,n),new Ga(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?_1:Math.pow(_1,n),new Ga(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ga(Km(this.r),Km(this.g),Km(this.b),CO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mie,formatHex:mie,formatHex8:P8e,formatRgb:_ie,toString:_ie}));function mie(){return`#${km(this.r)}${km(this.g)}${km(this.b)}`}function P8e(){return`#${km(this.r)}${km(this.g)}${km(this.b)}${km((isNaN(this.opacity)?1:this.opacity)*255)}`}function _ie(){const n=CO(this.opacity);return`${n===1?"rgb(":"rgba("}${Km(this.r)}, ${Km(this.g)}, ${Km(this.b)}${n===1?")":`, ${n})`}`}function CO(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Km(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function km(n){return n=Km(n),(n<16?"0":"")+n.toString(16)}function Eie(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Xc(n,e,t,i)}function OTe(n){if(n instanceof Xc)return new Xc(n.h,n.s,n.l,n.opacity);if(n instanceof sA||(n=v1(n)),!n)return new Xc;if(n instanceof Xc)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=NaN,a=s-r,l=(s+r)/2;return a?(e===s?o=(t-i)/a+(t<i)*6:t===s?o=(i-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Xc(o,a,l,n.opacity)}function k8e(n,e,t,i){return arguments.length===1?OTe(n):new Xc(n,e,t,i??1)}function Xc(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}VY(Xc,k8e,LTe(sA,{brighter(n){return n=n==null?SO:Math.pow(SO,n),new Xc(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?_1:Math.pow(_1,n),new Xc(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new Ga(F4(n>=240?n-240:n+120,r,i),F4(n,r,i),F4(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Xc(vie(this.h),RI(this.s),RI(this.l),CO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=CO(this.opacity);return`${n===1?"hsl(":"hsla("}${vie(this.h)}, ${RI(this.s)*100}%, ${RI(this.l)*100}%${n===1?")":`, ${n})`}`}}));function vie(n){return n=(n||0)%360,n<0?n+360:n}function RI(n){return Math.max(0,Math.min(1,n||0))}function F4(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}function M8e(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function yO(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function sC(n){return n=yO(Math.abs(n)),n?n[1]:NaN}function F8e(n,e){return function(t,i){for(var r=t.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(e)}}function B8e(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var U8e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function S1(n){if(!(e=U8e.exec(n)))throw new Error("invalid format: "+n);var e;return new WY({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}S1.prototype=WY.prototype;function WY(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}WY.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function H8e(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var xTe;function V8e(n,e){var t=yO(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(xTe=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+yO(n,Math.max(0,e+s-1))[0]}function Sie(n,e){var t=yO(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Cie={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:M8e,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>Sie(n*100,e),r:Sie,s:V8e,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function yie(n){return n}var bie=Array.prototype.map,Tie=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function W8e(n){var e=n.grouping===void 0||n.thousands===void 0?yie:F8e(bie.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?yie:B8e(bie.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(d){d=S1(d);var h=d.fill,f=d.align,m=d.sign,g=d.symbol,_=d.zero,v=d.width,S=d.comma,C=d.precision,y=d.trim,b=d.type;b==="n"?(S=!0,b="g"):Cie[b]||(C===void 0&&(C=12),y=!0,b="g"),(_||h==="0"&&f==="=")&&(_=!0,h="0",f="=");var w=g==="$"?t:g==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",I=g==="$"?i:/[%p]/.test(b)?o:"",O=Cie[b],x=/[defgprs%]/.test(b);C=C===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function k(P){var M=w,W=I,F,H,V;if(b==="c")W=O(P)+W,P="";else{P=+P;var Y=P<0||1/P<0;if(P=isNaN(P)?l:O(Math.abs(P),C),y&&(P=H8e(P)),Y&&+P==0&&m!=="+"&&(Y=!1),M=(Y?m==="("?m:a:m==="-"||m==="("?"":m)+M,W=(b==="s"?Tie[8+xTe/3]:"")+W+(Y&&m==="("?")":""),x){for(F=-1,H=P.length;++F<H;)if(V=P.charCodeAt(F),48>V||V>57){W=(V===46?r+P.slice(F+1):P.slice(F))+W,P=P.slice(0,F);break}}}S&&!_&&(P=e(P,1/0));var $=M.length+P.length+W.length,K=$<v?new Array(v-$+1).join(h):"";switch(S&&_&&(P=e(K+P,K.length?v-W.length:1/0),K=""),f){case"<":P=M+P+W+K;break;case"=":P=M+K+P+W;break;case"^":P=K.slice(0,$=K.length>>1)+M+P+W+K.slice($);break;default:P=K+M+P+W;break}return s(P)}return k.toString=function(){return d+""},k}function u(d,h){var f=c((d=S1(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(sC(h)/3)))*3,g=Math.pow(10,-m),_=Tie[8+m/3];return function(v){return f(g*v)+_}}return{format:c,formatPrefix:u}}var II,hy,DTe;$8e({thousands:",",grouping:[3],currency:["$",""]});function $8e(n){return II=W8e(n),hy=II.format,DTe=II.formatPrefix,II}function G8e(n){return Math.max(0,-sC(Math.abs(n)))}function z8e(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sC(e)/3)))*3-sC(Math.abs(n)))}function j8e(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,sC(e)-sC(n))+1}const H9=hy(",.0f");hy(".4~s");hy(",.0s");function Y8e(n,e=10){return n.length<=e?n:`${n.substring(0,e-3)}`}const B4=new Date,U4=new Date;function $s(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),r.range=(s,o,a)=>{const l=[];if(s=r.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),n(s);while(c<s&&s<o);return l},r.filter=s=>$s(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),t&&(r.count=(s,o)=>(B4.setTime(+s),U4.setTime(+o),n(B4),n(U4),Math.floor(t(B4,U4))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?o=>i(o)%s===0:o=>r.count(0,o)%s===0):r)),r}const bO=$s(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);bO.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?$s(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):bO);bO.range;const Lh=1e3,ic=Lh*60,Oh=ic*60,Jh=Oh*24,$Y=Jh*7,wie=Jh*30,H4=Jh*365,Mm=$s(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Lh)},(n,e)=>(e-n)/Lh,n=>n.getUTCSeconds());Mm.range;const GY=$s(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Lh)},(n,e)=>{n.setTime(+n+e*ic)},(n,e)=>(e-n)/ic,n=>n.getMinutes());GY.range;const zY=$s(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*ic)},(n,e)=>(e-n)/ic,n=>n.getUTCMinutes());zY.range;const jY=$s(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Lh-n.getMinutes()*ic)},(n,e)=>{n.setTime(+n+e*Oh)},(n,e)=>(e-n)/Oh,n=>n.getHours());jY.range;const YY=$s(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Oh)},(n,e)=>(e-n)/Oh,n=>n.getUTCHours());YY.range;const oA=$s(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*ic)/Jh,n=>n.getDate()-1);oA.range;const fM=$s(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Jh,n=>n.getUTCDate()-1);fM.range;const PTe=$s(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Jh,n=>Math.floor(n/Jh));PTe.range;function X_(n){return $s(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ic)/$Y)}const gM=X_(0),TO=X_(1),K8e=X_(2),q8e=X_(3),oC=X_(4),X8e=X_(5),Q8e=X_(6);gM.range;TO.range;K8e.range;q8e.range;oC.range;X8e.range;Q8e.range;function Q_(n){return $s(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/$Y)}const pM=Q_(0),wO=Q_(1),Z8e=Q_(2),J8e=Q_(3),aC=Q_(4),e$e=Q_(5),t$e=Q_(6);pM.range;wO.range;Z8e.range;J8e.range;aC.range;e$e.range;t$e.range;const KY=$s(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());KY.range;const qY=$s(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());qY.range;const ef=$s(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());ef.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:$s(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});ef.range;const tf=$s(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());tf.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:$s(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});tf.range;function Ng(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function n$e(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function XY(n){let e,t,i;n.length!==2?(e=Ng,t=(a,l)=>Ng(n(a),l),i=(a,l)=>n(a)-l):(e=n===Ng||n===n$e?n:i$e,t=n,i=n);function r(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;t(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;t(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){const d=r(a,l,c,u-1);return d>c&&i(a[d-1],l)>-i(a[d],l)?d-1:d}return{left:r,center:o,right:s}}function i$e(){return 0}function kTe(n){return n===null?NaN:+n}function*r$e(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const s$e=XY(Ng),aA=s$e.right;XY(kTe).center;class Aie extends Map{constructor(e,t=l$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(Rie(this,e))}has(e){return super.has(Rie(this,e))}set(e,t){return super.set(o$e(this,e),t)}delete(e){return super.delete(a$e(this,e))}}function Rie({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function o$e({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function a$e({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function l$e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function c$e(n=Ng){if(n===Ng)return MTe;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function MTe(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const u$e=Math.sqrt(50),d$e=Math.sqrt(10),h$e=Math.sqrt(2);function AO(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=u$e?10:s>=d$e?5:s>=h$e?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(e*c),a/c<n&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(e/c),a*c<n&&++a,l*c>e&&--l),l<a&&.5<=t&&t<2?AO(n,e,t*2):[a,l,c]}function V9(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,o]=i?AO(e,n,t):AO(n,e,t);if(!(s>=r))return[];const a=s-r+1,l=new Array(a);if(i)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(r+c)/-o;else for(let c=0;c<a;++c)l[c]=(r+c)*o;return l}function W9(n,e,t){return e=+e,n=+n,t=+t,AO(n,e,t)[2]}function $9(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?W9(e,n,t):W9(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function Iie(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function Nie(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function FTe(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?MTe:c$e(r);i>t;){if(i-t>600){const l=i-t+1,c=e-t+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),f=Math.max(t,Math.floor(e-c*d/l+h)),m=Math.min(i,Math.floor(e+(l-c)*d/l+h));FTe(n,e,f,m,r)}const s=n[e];let o=t,a=i;for(Ab(n,t,e),r(n[i],s)>0&&Ab(n,t,i);o<a;){for(Ab(n,o,a),++o,--a;r(n[o],s)<0;)++o;for(;r(n[a],s)>0;)--a}r(n[t],s)===0?Ab(n,t,a):(++a,Ab(n,a,i)),a<=e&&(t=a+1),e<=a&&(i=a-1)}return n}function Ab(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function f$e(n,e,t){if(n=Float64Array.from(r$e(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return Nie(n);if(e>=1)return Iie(n);var i,r=(i-1)*e,s=Math.floor(r),o=Iie(FTe(n,s).subarray(0,s+1)),a=Nie(n.subarray(s+1));return o+(a-o)*(r-s)}}function g$e(n,e,t=kTe){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),o=+t(n[s],s,n),a=+t(n[s+1],s+1,n);return o+(a-o)*(r-s)}}function p$e(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function BTe(n,e,t,i,r,s){const o=[[Mm,1,Lh],[Mm,5,5*Lh],[Mm,15,15*Lh],[Mm,30,30*Lh],[s,1,ic],[s,5,5*ic],[s,15,15*ic],[s,30,30*ic],[r,1,Oh],[r,3,3*Oh],[r,6,6*Oh],[r,12,12*Oh],[i,1,Jh],[i,2,2*Jh],[t,1,$Y],[e,1,wie],[e,3,3*wie],[n,1,H4]];function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&typeof d.range=="function"?d:l(c,u,d),m=f?f.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,d){const h=Math.abs(u-c)/d,f=XY(([,,_])=>_).right(o,h);if(f===o.length)return n.every($9(c/H4,u/H4,d));if(f===0)return bO.every(Math.max($9(c,u,d),1));const[m,g]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return m.every(g)}return[a,l]}const[m$e,_$e]=BTe(tf,qY,pM,PTe,YY,zY),[E$e,v$e]=BTe(ef,KY,gM,oA,jY,GY);function V4(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function W4(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Rb(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function S$e(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=Ib(r),u=Nb(r),d=Ib(s),h=Nb(s),f=Ib(o),m=Nb(o),g=Ib(a),_=Nb(a),v=Ib(l),S=Nb(l),C={a:Y,A:$,b:K,B:re,c:null,d:kie,e:kie,f:$$e,g:J$e,G:tGe,H:H$e,I:V$e,j:W$e,L:UTe,m:G$e,M:z$e,p:G,q:J,Q:Bie,s:Uie,S:j$e,u:Y$e,U:K$e,V:q$e,w:X$e,W:Q$e,x:null,X:null,y:Z$e,Y:eGe,Z:nGe,"%":Fie},y={a:z,A:j,b:ne,B:le,c:null,d:Mie,e:Mie,f:oGe,g:mGe,G:EGe,H:iGe,I:rGe,j:sGe,L:VTe,m:aGe,M:lGe,p:q,q:he,Q:Bie,s:Uie,S:cGe,u:uGe,U:dGe,V:hGe,w:fGe,W:gGe,x:null,X:null,y:pGe,Y:_Ge,Z:vGe,"%":Fie},b={a:k,A:P,b:M,B:W,c:F,d:Die,e:Die,f:M$e,g:xie,G:Oie,H:Pie,I:Pie,j:x$e,L:k$e,m:O$e,M:D$e,p:x,q:L$e,Q:B$e,s:U$e,S:P$e,u:w$e,U:A$e,V:R$e,w:T$e,W:I$e,x:H,X:V,y:xie,Y:Oie,Z:N$e,"%":F$e};C.x=w(t,C),C.X=w(i,C),C.c=w(e,C),y.x=w(t,y),y.X=w(i,y),y.c=w(e,y);function w(ue,pe){return function(Ae){var me=[],Te=-1,Oe=0,ft=ue.length,kt,Vt,yt;for(Ae instanceof Date||(Ae=new Date(+Ae));++Te<ft;)ue.charCodeAt(Te)===37&&(me.push(ue.slice(Oe,Te)),(Vt=Lie[kt=ue.charAt(++Te)])!=null?kt=ue.charAt(++Te):Vt=kt==="e"?" ":"0",(yt=pe[kt])&&(kt=yt(Ae,Vt)),me.push(kt),Oe=Te+1);return me.push(ue.slice(Oe,Te)),me.join("")}}function I(ue,pe){return function(Ae){var me=Rb(1900,void 0,1),Te=O(me,ue,Ae+="",0),Oe,ft;if(Te!=Ae.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(pe&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Oe=W4(Rb(me.y,0,1)),ft=Oe.getUTCDay(),Oe=ft>4||ft===0?wO.ceil(Oe):wO(Oe),Oe=fM.offset(Oe,(me.V-1)*7),me.y=Oe.getUTCFullYear(),me.m=Oe.getUTCMonth(),me.d=Oe.getUTCDate()+(me.w+6)%7):(Oe=V4(Rb(me.y,0,1)),ft=Oe.getDay(),Oe=ft>4||ft===0?TO.ceil(Oe):TO(Oe),Oe=oA.offset(Oe,(me.V-1)*7),me.y=Oe.getFullYear(),me.m=Oe.getMonth(),me.d=Oe.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),ft="Z"in me?W4(Rb(me.y,0,1)).getUTCDay():V4(Rb(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(ft+5)%7:me.w+me.U*7-(ft+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,W4(me)):V4(me)}}function O(ue,pe,Ae,me){for(var Te=0,Oe=pe.length,ft=Ae.length,kt,Vt;Te<Oe;){if(me>=ft)return-1;if(kt=pe.charCodeAt(Te++),kt===37){if(kt=pe.charAt(Te++),Vt=b[kt in Lie?pe.charAt(Te++):kt],!Vt||(me=Vt(ue,Ae,me))<0)return-1}else if(kt!=Ae.charCodeAt(me++))return-1}return me}function x(ue,pe,Ae){var me=c.exec(pe.slice(Ae));return me?(ue.p=u.get(me[0].toLowerCase()),Ae+me[0].length):-1}function k(ue,pe,Ae){var me=f.exec(pe.slice(Ae));return me?(ue.w=m.get(me[0].toLowerCase()),Ae+me[0].length):-1}function P(ue,pe,Ae){var me=d.exec(pe.slice(Ae));return me?(ue.w=h.get(me[0].toLowerCase()),Ae+me[0].length):-1}function M(ue,pe,Ae){var me=v.exec(pe.slice(Ae));return me?(ue.m=S.get(me[0].toLowerCase()),Ae+me[0].length):-1}function W(ue,pe,Ae){var me=g.exec(pe.slice(Ae));return me?(ue.m=_.get(me[0].toLowerCase()),Ae+me[0].length):-1}function F(ue,pe,Ae){return O(ue,e,pe,Ae)}function H(ue,pe,Ae){return O(ue,t,pe,Ae)}function V(ue,pe,Ae){return O(ue,i,pe,Ae)}function Y(ue){return o[ue.getDay()]}function $(ue){return s[ue.getDay()]}function K(ue){return l[ue.getMonth()]}function re(ue){return a[ue.getMonth()]}function G(ue){return r[+(ue.getHours()>=12)]}function J(ue){return 1+~~(ue.getMonth()/3)}function z(ue){return o[ue.getUTCDay()]}function j(ue){return s[ue.getUTCDay()]}function ne(ue){return l[ue.getUTCMonth()]}function le(ue){return a[ue.getUTCMonth()]}function q(ue){return r[+(ue.getUTCHours()>=12)]}function he(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var pe=w(ue+="",C);return pe.toString=function(){return ue},pe},parse:function(ue){var pe=I(ue+="",!1);return pe.toString=function(){return ue},pe},utcFormat:function(ue){var pe=w(ue+="",y);return pe.toString=function(){return ue},pe},utcParse:function(ue){var pe=I(ue+="",!0);return pe.toString=function(){return ue},pe}}}var Lie={"-":"",_:" ",0:"0"},po=/^\s*\d+/,C$e=/^%/,y$e=/[\\^$*+?|[\]().{}]/g;function ki(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function b$e(n){return n.replace(y$e,"\\$&")}function Ib(n){return new RegExp("^(?:"+n.map(b$e).join("|")+")","i")}function Nb(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function T$e(n,e,t){var i=po.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function w$e(n,e,t){var i=po.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function A$e(n,e,t){var i=po.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function R$e(n,e,t){var i=po.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function I$e(n,e,t){var i=po.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function Oie(n,e,t){var i=po.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function xie(n,e,t){var i=po.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function N$e(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function L$e(n,e,t){var i=po.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function O$e(n,e,t){var i=po.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function Die(n,e,t){var i=po.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function x$e(n,e,t){var i=po.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function Pie(n,e,t){var i=po.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function D$e(n,e,t){var i=po.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function P$e(n,e,t){var i=po.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function k$e(n,e,t){var i=po.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function M$e(n,e,t){var i=po.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function F$e(n,e,t){var i=C$e.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function B$e(n,e,t){var i=po.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function U$e(n,e,t){var i=po.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function kie(n,e){return ki(n.getDate(),e,2)}function H$e(n,e){return ki(n.getHours(),e,2)}function V$e(n,e){return ki(n.getHours()%12||12,e,2)}function W$e(n,e){return ki(1+oA.count(ef(n),n),e,3)}function UTe(n,e){return ki(n.getMilliseconds(),e,3)}function $$e(n,e){return UTe(n,e)+"000"}function G$e(n,e){return ki(n.getMonth()+1,e,2)}function z$e(n,e){return ki(n.getMinutes(),e,2)}function j$e(n,e){return ki(n.getSeconds(),e,2)}function Y$e(n){var e=n.getDay();return e===0?7:e}function K$e(n,e){return ki(gM.count(ef(n)-1,n),e,2)}function HTe(n){var e=n.getDay();return e>=4||e===0?oC(n):oC.ceil(n)}function q$e(n,e){return n=HTe(n),ki(oC.count(ef(n),n)+(ef(n).getDay()===4),e,2)}function X$e(n){return n.getDay()}function Q$e(n,e){return ki(TO.count(ef(n)-1,n),e,2)}function Z$e(n,e){return ki(n.getFullYear()%100,e,2)}function J$e(n,e){return n=HTe(n),ki(n.getFullYear()%100,e,2)}function eGe(n,e){return ki(n.getFullYear()%1e4,e,4)}function tGe(n,e){var t=n.getDay();return n=t>=4||t===0?oC(n):oC.ceil(n),ki(n.getFullYear()%1e4,e,4)}function nGe(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ki(e/60|0,"0",2)+ki(e%60,"0",2)}function Mie(n,e){return ki(n.getUTCDate(),e,2)}function iGe(n,e){return ki(n.getUTCHours(),e,2)}function rGe(n,e){return ki(n.getUTCHours()%12||12,e,2)}function sGe(n,e){return ki(1+fM.count(tf(n),n),e,3)}function VTe(n,e){return ki(n.getUTCMilliseconds(),e,3)}function oGe(n,e){return VTe(n,e)+"000"}function aGe(n,e){return ki(n.getUTCMonth()+1,e,2)}function lGe(n,e){return ki(n.getUTCMinutes(),e,2)}function cGe(n,e){return ki(n.getUTCSeconds(),e,2)}function uGe(n){var e=n.getUTCDay();return e===0?7:e}function dGe(n,e){return ki(pM.count(tf(n)-1,n),e,2)}function WTe(n){var e=n.getUTCDay();return e>=4||e===0?aC(n):aC.ceil(n)}function hGe(n,e){return n=WTe(n),ki(aC.count(tf(n),n)+(tf(n).getUTCDay()===4),e,2)}function fGe(n){return n.getUTCDay()}function gGe(n,e){return ki(wO.count(tf(n)-1,n),e,2)}function pGe(n,e){return ki(n.getUTCFullYear()%100,e,2)}function mGe(n,e){return n=WTe(n),ki(n.getUTCFullYear()%100,e,2)}function _Ge(n,e){return ki(n.getUTCFullYear()%1e4,e,4)}function EGe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?aC(n):aC.ceil(n),ki(n.getUTCFullYear()%1e4,e,4)}function vGe(){return"+0000"}function Fie(){return"%"}function Bie(n){return+n}function Uie(n){return Math.floor(+n/1e3)}var iv,lA,$Te;SGe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SGe(n){return iv=S$e(n),lA=iv.format,iv.parse,$Te=iv.utcFormat,iv.utcParse,iv}var qN={exports:{}},CGe=qN.exports,Hie;function yGe(){return Hie||(Hie=1,function(n,e){(function(t,i){n.exports=i()})(CGe,function(){var t=1e3,i=6e4,r=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",f="year",m="date",g="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var H=["th","st","nd","rd"],V=F%100;return"["+F+(H[(V-20)%10]||H[V]||H[0])+"]"}},C=function(F,H,V){var Y=String(F);return!Y||Y.length>=H?F:""+Array(H+1-Y.length).join(V)+F},y={s:C,z:function(F){var H=-F.utcOffset(),V=Math.abs(H),Y=Math.floor(V/60),$=V%60;return(H<=0?"+":"-")+C(Y,2,"0")+":"+C($,2,"0")},m:function F(H,V){if(H.date()<V.date())return-F(V,H);var Y=12*(V.year()-H.year())+(V.month()-H.month()),$=H.clone().add(Y,d),K=V-$<0,re=H.clone().add(Y+(K?-1:1),d);return+(-(Y+(V-$)/(K?$-re:re-$))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:d,y:f,w:u,d:c,D:m,h:l,m:a,s:o,ms:s,Q:h}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},b="en",w={};w[b]=S;var I="$isDayjsObject",O=function(F){return F instanceof M||!(!F||!F[I])},x=function F(H,V,Y){var $;if(!H)return b;if(typeof H=="string"){var K=H.toLowerCase();w[K]&&($=K),V&&(w[K]=V,$=K);var re=H.split("-");if(!$&&re.length>1)return F(re[0])}else{var G=H.name;w[G]=H,$=G}return!Y&&$&&(b=$),$||!Y&&b},k=function(F,H){if(O(F))return F.clone();var V=typeof H=="object"?H:{};return V.date=F,V.args=arguments,new M(V)},P=y;P.l=x,P.i=O,P.w=function(F,H){return k(F,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var M=function(){function F(V){this.$L=x(V.locale,null,!0),this.parse(V),this.$x=this.$x||V.x||{},this[I]=!0}var H=F.prototype;return H.parse=function(V){this.$d=function(Y){var $=Y.date,K=Y.utc;if($===null)return new Date(NaN);if(P.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var re=$.match(_);if(re){var G=re[2]-1||0,J=(re[7]||"0").substring(0,3);return K?new Date(Date.UTC(re[1],G,re[3]||1,re[4]||0,re[5]||0,re[6]||0,J)):new Date(re[1],G,re[3]||1,re[4]||0,re[5]||0,re[6]||0,J)}}return new Date($)}(V),this.init()},H.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},H.$utils=function(){return P},H.isValid=function(){return this.$d.toString()!==g},H.isSame=function(V,Y){var $=k(V);return this.startOf(Y)<=$&&$<=this.endOf(Y)},H.isAfter=function(V,Y){return k(V)<this.startOf(Y)},H.isBefore=function(V,Y){return this.endOf(Y)<k(V)},H.$g=function(V,Y,$){return P.u(V)?this[Y]:this.set($,V)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(V,Y){var $=this,K=!!P.u(Y)||Y,re=P.p(V),G=function(ue,pe){var Ae=P.w($.$u?Date.UTC($.$y,pe,ue):new Date($.$y,pe,ue),$);return K?Ae:Ae.endOf(c)},J=function(ue,pe){return P.w($.toDate()[ue].apply($.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(pe)),$)},z=this.$W,j=this.$M,ne=this.$D,le="set"+(this.$u?"UTC":"");switch(re){case f:return K?G(1,0):G(31,11);case d:return K?G(1,j):G(0,j+1);case u:var q=this.$locale().weekStart||0,he=(z<q?z+7:z)-q;return G(K?ne-he:ne+(6-he),j);case c:case m:return J(le+"Hours",0);case l:return J(le+"Minutes",1);case a:return J(le+"Seconds",2);case o:return J(le+"Milliseconds",3);default:return this.clone()}},H.endOf=function(V){return this.startOf(V,!1)},H.$set=function(V,Y){var $,K=P.p(V),re="set"+(this.$u?"UTC":""),G=($={},$[c]=re+"Date",$[m]=re+"Date",$[d]=re+"Month",$[f]=re+"FullYear",$[l]=re+"Hours",$[a]=re+"Minutes",$[o]=re+"Seconds",$[s]=re+"Milliseconds",$)[K],J=K===c?this.$D+(Y-this.$W):Y;if(K===d||K===f){var z=this.clone().set(m,1);z.$d[G](J),z.init(),this.$d=z.set(m,Math.min(this.$D,z.daysInMonth())).$d}else G&&this.$d[G](J);return this.init(),this},H.set=function(V,Y){return this.clone().$set(V,Y)},H.get=function(V){return this[P.p(V)]()},H.add=function(V,Y){var $,K=this;V=Number(V);var re=P.p(Y),G=function(j){var ne=k(K);return P.w(ne.date(ne.date()+Math.round(j*V)),K)};if(re===d)return this.set(d,this.$M+V);if(re===f)return this.set(f,this.$y+V);if(re===c)return G(1);if(re===u)return G(7);var J=($={},$[a]=i,$[l]=r,$[o]=t,$)[re]||1,z=this.$d.getTime()+V*J;return P.w(z,this)},H.subtract=function(V,Y){return this.add(-1*V,Y)},H.format=function(V){var Y=this,$=this.$locale();if(!this.isValid())return $.invalidDate||g;var K=V||"YYYY-MM-DDTHH:mm:ssZ",re=P.z(this),G=this.$H,J=this.$m,z=this.$M,j=$.weekdays,ne=$.months,le=$.meridiem,q=function(pe,Ae,me,Te){return pe&&(pe[Ae]||pe(Y,K))||me[Ae].slice(0,Te)},he=function(pe){return P.s(G%12||12,pe,"0")},ue=le||function(pe,Ae,me){var Te=pe<12?"AM":"PM";return me?Te.toLowerCase():Te};return K.replace(v,function(pe,Ae){return Ae||function(me){switch(me){case"YY":return String(Y.$y).slice(-2);case"YYYY":return P.s(Y.$y,4,"0");case"M":return z+1;case"MM":return P.s(z+1,2,"0");case"MMM":return q($.monthsShort,z,ne,3);case"MMMM":return q(ne,z);case"D":return Y.$D;case"DD":return P.s(Y.$D,2,"0");case"d":return String(Y.$W);case"dd":return q($.weekdaysMin,Y.$W,j,2);case"ddd":return q($.weekdaysShort,Y.$W,j,3);case"dddd":return j[Y.$W];case"H":return String(G);case"HH":return P.s(G,2,"0");case"h":return he(1);case"hh":return he(2);case"a":return ue(G,J,!0);case"A":return ue(G,J,!1);case"m":return String(J);case"mm":return P.s(J,2,"0");case"s":return String(Y.$s);case"ss":return P.s(Y.$s,2,"0");case"SSS":return P.s(Y.$ms,3,"0");case"Z":return re}return null}(pe)||re.replace(":","")})},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(V,Y,$){var K,re=this,G=P.p(Y),J=k(V),z=(J.utcOffset()-this.utcOffset())*i,j=this-J,ne=function(){return P.m(re,J)};switch(G){case f:K=ne()/12;break;case d:K=ne();break;case h:K=ne()/3;break;case u:K=(j-z)/6048e5;break;case c:K=(j-z)/864e5;break;case l:K=j/r;break;case a:K=j/i;break;case o:K=j/t;break;default:K=j}return $?K:P.a(K)},H.daysInMonth=function(){return this.endOf(d).$D},H.$locale=function(){return w[this.$L]},H.locale=function(V,Y){if(!V)return this.$L;var $=this.clone(),K=x(V,Y,!0);return K&&($.$L=K),$},H.clone=function(){return P.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},F}(),W=M.prototype;return k.prototype=W,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",f],["$D",m]].forEach(function(F){W[F[1]]=function(H){return this.$g(H,F[0],F[1])}}),k.extend=function(F,H){return F.$i||(F(H,M,k),F.$i=!0),k},k.locale=x,k.isDayjs=O,k.unix=function(F){return k(1e3*F)},k.en=w[b],k.Ls=w,k.p={},k})}(qN)),qN.exports}var bGe=yGe();const TGe=Si(bGe);var XN={exports:{}},wGe=XN.exports,Vie;function AGe(){return Vie||(Vie=1,function(n,e){(function(t,i){n.exports=i()})(wGe,function(){return function(t,i,r){t=t||{};var s=i.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return s.fromToBase(c,u,d,h)}r.en.relativeTime=o,s.fromToBase=function(c,u,d,h,f){for(var m,g,_,v=d.$locale().relativeTime||o,S=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=S.length,y=0;y<C;y+=1){var b=S[y];b.d&&(m=h?r(c).diff(d,b.d,!0):d.diff(c,b.d,!0));var w=(t.rounding||Math.round)(Math.abs(m));if(_=m>0,w<=b.r||!b.r){w<=1&&y>0&&(b=S[y-1]);var I=v[b.l];f&&(w=f(""+w)),g=typeof I=="string"?I.replace("%d",w):I(w,u,b.l,_);break}}if(u)return g;var O=_?v.future:v.past;return typeof O=="function"?O(g):O.replace("%s",g)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?r.utc():r()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})}(XN)),XN.exports}var RGe=AGe();const IGe=Si(RGe);TGe.extend(IGe);lA("%I:%M %p");lA("%a %Y-%m-%d %I:%M %p");lA("%Y-%m-%d");var QN={exports:{}},NGe=QN.exports,Wie;function LGe(){return Wie||(Wie=1,function(n){(function(e,t,i){function r(l){var c=this,u=a();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function s(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var u=new r(l),d=c&&c.state,h=u.next;return h.int32=function(){return u.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,d&&(typeof d=="object"&&s(d,u),h.state=function(){return s(u,{})}),h}function a(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return c}t&&t.exports?t.exports=o:this.alea=o})(NGe,n)}(QN)),QN.exports}var ZN={exports:{}},OGe=ZN.exports,$ie;function xGe(){return $ie||($ie=1,function(n){(function(e,t,i){function r(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var c=new r(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(h+f)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}t&&t.exports?t.exports=o:this.xor128=o})(OGe,n)}(ZN)),ZN.exports}var JN={exports:{}},DGe=JN.exports,Gie;function PGe(){return Gie||(Gie=1,function(n){(function(e,t,i){function r(a){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var c=new r(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(h+f)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}t&&t.exports?t.exports=o:this.xorwow=o})(DGe,n)}(JN)),JN.exports}var eL={exports:{}},kGe=eL.exports,zie;function MGe(){return zie||(zie=1,function(n){(function(e,t,i){function r(a){var l=this;l.next=function(){var u=l.x,d=l.i,h,f;return h=u[d],h^=h>>>7,f=h^h<<24,h=u[d+1&7],f^=h^h>>>10,h=u[d+3&7],f^=h^h>>>3,h=u[d+4&7],f^=h^h<<7,h=u[d+7&7],h=h^h<<13,f^=h^h<<9,u[d]=f,l.i=d+1&7,f};function c(u,d){var h,f=[];if(d===(d|0))f[0]=d;else for(d=""+d,h=0;h<d.length;++h)f[h&7]=f[h&7]<<15^d.charCodeAt(h)+f[h+1&7]<<13;for(;f.length<8;)f.push(0);for(h=0;h<8&&f[h]===0;++h);for(h==8?f[7]=-1:f[h],u.x=f,u.i=0,h=256;h>0;--h)u.next()}c(l,a)}function s(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var c=new r(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(h+f)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.x&&s(u,c),d.state=function(){return s(c,{})}),d}t&&t.exports?t.exports=o:this.xorshift7=o})(kGe,n)}(eL)),eL.exports}var tL={exports:{}},FGe=tL.exports,jie;function BGe(){return jie||(jie=1,function(n){(function(e,t,i){function r(a){var l=this;l.next=function(){var u=l.w,d=l.X,h=l.i,f,m;return l.w=u=u+1640531527|0,m=d[h+34&127],f=d[h=h+1&127],m^=m<<13,f^=f<<17,m^=m>>>15,f^=f>>>12,m=d[h]=m^f,l.i=h,m+(u^u>>>16)|0};function c(u,d){var h,f,m,g,_,v=[],S=128;for(d===(d|0)?(f=d,d=null):(d=d+"\0",f=0,S=Math.max(S,d.length)),m=0,g=-32;g<S;++g)d&&(f^=d.charCodeAt((g+32)%d.length)),g===0&&(_=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,g>=0&&(_=_+1640531527|0,h=v[g&127]^=f+_,m=h==0?m+1:0);for(m>=128&&(v[(d&&d.length||0)&127]=-1),m=127,g=4*128;g>0;--g)f=v[m+34&127],h=v[m=m+1&127],f^=f<<13,h^=h<<17,f^=f>>>15,h^=h>>>12,v[m]=f^h;u.w=_,u.X=v,u.i=m}c(l,a)}function s(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var c=new r(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(h+f)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.X&&s(u,c),d.state=function(){return s(c,{})}),d}t&&t.exports?t.exports=o:this.xor4096=o})(FGe,n)}(tL)),tL.exports}var nL={exports:{}},UGe=nL.exports,Yie;function HGe(){return Yie||(Yie=1,function(n){(function(e,t,i){function r(a){var l=this,c="";l.next=function(){var d=l.b,h=l.c,f=l.d,m=l.a;return d=d<<25^d>>>7^h,h=h-f|0,f=f<<24^f>>>8^m,m=m-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-f|0,l.d=f<<16^h>>>16^m,l.a=m-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function s(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var c=new r(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(h+f)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}t&&t.exports?t.exports=o:this.tychei=o})(UGe,n)}(nL)),nL.exports}var iL={exports:{}};const VGe={},WGe=Object.freeze(Object.defineProperty({__proto__:null,default:VGe},Symbol.toStringTag,{value:"Module"})),$Ge=PPe(WGe);var GGe=iL.exports,Kie;function zGe(){return Kie||(Kie=1,function(n){(function(e,t,i){var r=256,s=6,o=52,a="random",l=i.pow(r,s),c=i.pow(2,o),u=c*2,d=r-1,h;function f(y,b,w){var I=[];b=b==!0?{entropy:!0}:b||{};var O=v(_(b.entropy?[y,C(t)]:y??S(),3),I),x=new m(I),k=function(){for(var P=x.g(s),M=l,W=0;P<c;)P=(P+W)*r,M*=r,W=x.g(1);for(;P>=u;)P/=2,M/=2,W>>>=1;return(P+W)/M};return k.int32=function(){return x.g(4)|0},k.quick=function(){return x.g(4)/4294967296},k.double=k,v(C(x.S),t),(b.pass||w||function(P,M,W,F){return F&&(F.S&&g(F,x),P.state=function(){return g(x,{})}),W?(i[a]=P,M):P})(k,O,"global"in b?b.global:this==i,b.state)}function m(y){var b,w=y.length,I=this,O=0,x=I.i=I.j=0,k=I.S=[];for(w||(y=[w++]);O<r;)k[O]=O++;for(O=0;O<r;O++)k[O]=k[x=d&x+y[O%w]+(b=k[O])],k[x]=b;(I.g=function(P){for(var M,W=0,F=I.i,H=I.j,V=I.S;P--;)M=V[F=d&F+1],W=W*r+V[d&(V[F]=V[H=d&H+M])+(V[H]=M)];return I.i=F,I.j=H,W})(r)}function g(y,b){return b.i=y.i,b.j=y.j,b.S=y.S.slice(),b}function _(y,b){var w=[],I=typeof y,O;if(b&&I=="object")for(O in y)try{w.push(_(y[O],b-1))}catch{}return w.length?w:I=="string"?y:y+"\0"}function v(y,b){for(var w=y+"",I,O=0;O<w.length;)b[d&O]=d&(I^=b[d&O]*19)+w.charCodeAt(O++);return C(b)}function S(){try{var y;return h&&(y=h.randomBytes)?y=y(r):(y=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(y)),C(y)}catch{var b=e.navigator,w=b&&b.plugins;return[+new Date,e,w,e.screen,C(t)]}}function C(y){return String.fromCharCode.apply(0,y)}if(v(i.random(),t),n.exports){n.exports=f;try{h=$Ge}catch{}}else i["seed"+a]=f})(typeof self<"u"?self:GGe,[],Math)}(iL)),iL.exports}var $4,qie;function jGe(){if(qie)return $4;qie=1;var n=LGe(),e=xGe(),t=PGe(),i=MGe(),r=BGe(),s=HGe(),o=zGe();return o.alea=n,o.xor128=e,o.xorwow=t,o.xorshift7=i,o.xor4096=r,o.tychei=s,$4=o,$4}jGe();function YGe(n,e){const t=Math.random;return Array.from(function*(){for(let i=0;i<n;i++){const r=Math.floor(t()*62);r<26?yield String.fromCharCode(r+65):r<52?yield String.fromCharCode(r+71):yield String.fromCharCode(r+48)}}()).join("")}const KGe=qt.enum(["read_json","read_ndjson","read_parquet","read_csv","auto","st_read"]),GTe=qt.object({schema:qt.string().optional(),select:qt.array(qt.string()).optional(),where:qt.string().optional(),view:qt.boolean().optional(),temp:qt.boolean().optional(),replace:qt.boolean().optional()}).catchall(qt.unknown()),qGe=GTe.extend({options:qt.union([qt.array(qt.string()),qt.string(),qt.record(qt.unknown())]).optional()}),XGe=qGe.extend({method:qt.literal("st_read")}),QGe=GTe.extend({method:KGe.exclude(["st_read"])}),zTe=qt.discriminatedUnion("method",[QGe,XGe]),mM=qt.enum(["file","url","sql"]),QY=qt.object({type:mM,tableName:qt.string().describe("Unique table name used to store the data loaded from the data source.")}),ZGe=QY.extend({type:qt.literal(mM.enum.file),fileName:qt.string().describe("Currently only CSV and Parquet files are supported."),loadOptions:zTe.optional()}),JGe=QY.extend({type:qt.literal(mM.enum.url),url:qt.string().describe("URL to fetch data from. Currently only CSV and Parquet files are supported."),loadOptions:zTe.optional().describe("Options for loading the file."),httpMethod:qt.string().optional().describe("HTTP method to use for the request."),headers:qt.record(qt.string(),qt.string()).optional().describe("Headers to include in the request.")}),eze=QY.extend({type:qt.literal(mM.enum.sql),sqlQuery:qt.string().describe("SQL query to execute.")}),tze=qt.discriminatedUnion("type",[ZGe,JGe,eze]).describe("Data source specification."),nze="main",jTe=qt.enum(["mosaic"]),ize=qt.enum(["row","column"]),rze=qt.object({direction:ize,splitPercentage:qt.number().optional()}),sze=rze.extend({first:qt.lazy(()=>z9),second:qt.lazy(()=>z9)}),G9=qt.string(),z9=qt.union([G9,sze]),oze=qt.object({type:qt.literal(jTe.enum.mosaic),nodes:z9.nullable(),pinned:qt.array(G9).optional(),fixed:qt.array(G9).optional()}),aze=qt.discriminatedUnion("type",[oze]),lze={type:jTe.enum.mosaic,nodes:nze},cze="Untitled project";qt.object({title:qt.string().default(cze).describe("Project title."),description:qt.string().nullable().optional().describe("Project description."),layout:aze.default(lze).describe("Layout specifies how views are arranged on the screen."),dataSources:qt.array(tze).default([]).describe("Data sources. Each data source must have a unique tableName.")}).describe("Project configuration.");const YTe=n=>{const e=String(n);return e.startsWith('"')&&e.endsWith('"')?e:`"${e.replace(/"/g,'""')}"`};function uze(n,e=0,t=0){var r;const i=(r=typeof e=="number"?n.getChildAt(e):n.getChild(e))==null?void 0:r.get(t);return i==null?NaN:Number(i[0]??i)}qt.object({});function KTe(n){return C8e(e=>n(e))}function dze(){return KTe(e=>e.db.connector)}function hze(){const n=KTe(e=>e.db.getConnector);return{exportToCsv:async(e,t,i=1e5)=>{const r=await n();let s=0;const o=[];let a=!1;for(;;){const c=`(
          ${e}
        ) LIMIT ${i} OFFSET ${s}`,u=await r.query(c);if(u.numRows===0)break;const d=fze(u,!a);o.push(new Blob([d],{type:"text/csv"})),a=!0,s+=i}const l=new Blob(o,{type:"text/csv"});gze(l,t)}}}function fze(n,e){const t=n.schema.fields.map(s=>s.name),i=t.reduce((s,o)=>{const a=n.getChild(o);return a&&(s[o]=a),s},{});let r=e?t.join(",")+`\r
`:"";for(let s=0;s<n.numRows;s++){const o=t.map(a=>{var u;const l=(u=i[a])==null?void 0:u.get(s);if(l==null)return"";let c=String(l);return(c.includes('"')||c.includes(",")||c.includes(`
`))&&(c='"'+c.replace(/"/g,'""')+'"'),c}).join(",");r+=o+`\r
`}return r}function gze(n,e){const t=URL.createObjectURL(n),i=document.createElement("a");i.href=t,i.download=e,document.body.appendChild(i),i.click(),URL.revokeObjectURL(t),document.body.removeChild(i)}function pze({title:n,titleId:e,...t},i){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?N.createElement("title",{id:e},n):null,N.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const mze=N.forwardRef(pze);function _ze({title:n,titleId:e,...t},i){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?N.createElement("title",{id:e},n):null,N.createElement("path",{fillRule:"evenodd",d:"M10.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L12.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z",clipRule:"evenodd"}),N.createElement("path",{fillRule:"evenodd",d:"M4.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L6.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Eze=N.forwardRef(_ze);function vze({title:n,titleId:e,...t},i){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?N.createElement("title",{id:e},n):null,N.createElement("path",{fillRule:"evenodd",d:"M13.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}),N.createElement("path",{fillRule:"evenodd",d:"M19.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const Sze=N.forwardRef(vze);function Cze({title:n,titleId:e,...t},i){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?N.createElement("title",{id:e},n):null,N.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const qTe=N.forwardRef(Cze);function yze({title:n,titleId:e,...t},i){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?N.createElement("title",{id:e},n):null,N.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const bze=N.forwardRef(yze);function Tze({title:n,titleId:e,...t},i){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?N.createElement("title",{id:e},n):null,N.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const wze=N.forwardRef(Tze);function Aze({title:n,titleId:e,...t},i){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?N.createElement("title",{id:e},n):null,N.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const XTe=N.forwardRef(Aze);/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Rze(){return{accessor:(n,e)=>typeof n=="function"?{...e,accessorFn:n}:{...e,accessorKey:n},display:n=>n,group:n=>n}}function pg(n,e){return typeof n=="function"?n(e):n}function Nl(n,e){return t=>{e.setState(i=>({...i,[n]:pg(t,i[n])}))}}function _M(n){return n instanceof Function}function Ize(n){return Array.isArray(n)&&n.every(e=>typeof e=="number")}function Nze(n,e){const t=[],i=r=>{r.forEach(s=>{t.push(s);const o=e(s);o!=null&&o.length&&i(o)})};return i(n),t}function hn(n,e,t){let i=[],r;return s=>{let o;t.key&&t.debug&&(o=Date.now());const a=n(s);if(!(a.length!==i.length||a.some((u,d)=>i[d]!==u)))return r;i=a;let c;if(t.key&&t.debug&&(c=Date.now()),r=e(...a),t==null||t.onChange==null||t.onChange(r),t.key&&t.debug&&t!=null&&t.debug()){const u=Math.round((Date.now()-o)*100)/100,d=Math.round((Date.now()-c)*100)/100,h=d/16,f=(m,g)=>{for(m=String(m);m.length<g;)m=" "+m;return m};console.info(`%c ${f(d,5)} /${f(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,t==null?void 0:t.key)}return r}}function fn(n,e,t,i){return{debug:()=>{var r;return(r=n==null?void 0:n.debugAll)!=null?r:n[e]},key:!1,onChange:i}}function Lze(n,e,t,i){const r=()=>{var o;return(o=s.getValue())!=null?o:n.options.renderFallbackValue},s={id:`${e.id}_${t.id}`,row:e,column:t,getValue:()=>e.getValue(i),renderValue:r,getContext:hn(()=>[n,t,e,s],(o,a,l,c)=>({table:o,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),fn(n.options,"debugCells"))};return n._features.forEach(o=>{o.createCell==null||o.createCell(s,t,e,n)},{}),s}function Oze(n,e,t,i){var r,s;const a={...n._getDefaultColumnDef(),...e},l=a.accessorKey;let c=(r=(s=a.id)!=null?s:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?r:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=h=>{let f=h;for(const g of l.split(".")){var m;f=(m=f)==null?void 0:m[g]}return f}:u=h=>h[a.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:u,parent:i,depth:t,columnDef:a,columns:[],getFlatColumns:hn(()=>[!0],()=>{var h;return[d,...(h=d.columns)==null?void 0:h.flatMap(f=>f.getFlatColumns())]},fn(n.options,"debugColumns")),getLeafColumns:hn(()=>[n._getOrderColumnsFn()],h=>{var f;if((f=d.columns)!=null&&f.length){let m=d.columns.flatMap(g=>g.getLeafColumns());return h(m)}return[d]},fn(n.options,"debugColumns"))};for(const h of n._features)h.createColumn==null||h.createColumn(d,n);return d}const Uo="debugHeaders";function Xie(n,e,t){var i;let s={id:(i=t.id)!=null?i:e.id,column:e,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(s),o},getContext:()=>({table:n,header:s,column:e})};return n._features.forEach(o=>{o.createHeader==null||o.createHeader(s,n)}),s}const xze={createTable:n=>{n.getHeaderGroups=hn(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,i,r)=>{var s,o;const a=(s=i==null?void 0:i.map(d=>t.find(h=>h.id===d)).filter(Boolean))!=null?s:[],l=(o=r==null?void 0:r.map(d=>t.find(h=>h.id===d)).filter(Boolean))!=null?o:[],c=t.filter(d=>!(i!=null&&i.includes(d.id))&&!(r!=null&&r.includes(d.id)));return NI(e,[...a,...c,...l],n)},fn(n.options,Uo)),n.getCenterHeaderGroups=hn(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,i,r)=>(t=t.filter(s=>!(i!=null&&i.includes(s.id))&&!(r!=null&&r.includes(s.id))),NI(e,t,n,"center")),fn(n.options,Uo)),n.getLeftHeaderGroups=hn(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left],(e,t,i)=>{var r;const s=(r=i==null?void 0:i.map(o=>t.find(a=>a.id===o)).filter(Boolean))!=null?r:[];return NI(e,s,n,"left")},fn(n.options,Uo)),n.getRightHeaderGroups=hn(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.right],(e,t,i)=>{var r;const s=(r=i==null?void 0:i.map(o=>t.find(a=>a.id===o)).filter(Boolean))!=null?r:[];return NI(e,s,n,"right")},fn(n.options,Uo)),n.getFooterGroups=hn(()=>[n.getHeaderGroups()],e=>[...e].reverse(),fn(n.options,Uo)),n.getLeftFooterGroups=hn(()=>[n.getLeftHeaderGroups()],e=>[...e].reverse(),fn(n.options,Uo)),n.getCenterFooterGroups=hn(()=>[n.getCenterHeaderGroups()],e=>[...e].reverse(),fn(n.options,Uo)),n.getRightFooterGroups=hn(()=>[n.getRightHeaderGroups()],e=>[...e].reverse(),fn(n.options,Uo)),n.getFlatHeaders=hn(()=>[n.getHeaderGroups()],e=>e.map(t=>t.headers).flat(),fn(n.options,Uo)),n.getLeftFlatHeaders=hn(()=>[n.getLeftHeaderGroups()],e=>e.map(t=>t.headers).flat(),fn(n.options,Uo)),n.getCenterFlatHeaders=hn(()=>[n.getCenterHeaderGroups()],e=>e.map(t=>t.headers).flat(),fn(n.options,Uo)),n.getRightFlatHeaders=hn(()=>[n.getRightHeaderGroups()],e=>e.map(t=>t.headers).flat(),fn(n.options,Uo)),n.getCenterLeafHeaders=hn(()=>[n.getCenterFlatHeaders()],e=>e.filter(t=>{var i;return!((i=t.subHeaders)!=null&&i.length)}),fn(n.options,Uo)),n.getLeftLeafHeaders=hn(()=>[n.getLeftFlatHeaders()],e=>e.filter(t=>{var i;return!((i=t.subHeaders)!=null&&i.length)}),fn(n.options,Uo)),n.getRightLeafHeaders=hn(()=>[n.getRightFlatHeaders()],e=>e.filter(t=>{var i;return!((i=t.subHeaders)!=null&&i.length)}),fn(n.options,Uo)),n.getLeafHeaders=hn(()=>[n.getLeftHeaderGroups(),n.getCenterHeaderGroups(),n.getRightHeaderGroups()],(e,t,i)=>{var r,s,o,a,l,c;return[...(r=(s=e[0])==null?void 0:s.headers)!=null?r:[],...(o=(a=t[0])==null?void 0:a.headers)!=null?o:[],...(l=(c=i[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},fn(n.options,Uo))}};function NI(n,e,t,i){var r,s;let o=0;const a=function(h,f){f===void 0&&(f=1),o=Math.max(o,f),h.filter(m=>m.getIsVisible()).forEach(m=>{var g;(g=m.columns)!=null&&g.length&&a(m.columns,f+1)},0)};a(n);let l=[];const c=(h,f)=>{const m={depth:f,id:[i,`${f}`].filter(Boolean).join("_"),headers:[]},g=[];h.forEach(_=>{const v=[...g].reverse()[0],S=_.column.depth===m.depth;let C,y=!1;if(S&&_.column.parent?C=_.column.parent:(C=_.column,y=!0),v&&(v==null?void 0:v.column)===C)v.subHeaders.push(_);else{const b=Xie(t,C,{id:[i,f,C.id,_==null?void 0:_.id].filter(Boolean).join("_"),isPlaceholder:y,placeholderId:y?`${g.filter(w=>w.column===C).length}`:void 0,depth:f,index:g.length});b.subHeaders.push(_),g.push(b)}m.headers.push(_),_.headerGroup=m}),l.push(m),f>0&&c(g,f-1)},u=e.map((h,f)=>Xie(t,h,{depth:o,index:f}));c(u,o-1),l.reverse();const d=h=>h.filter(m=>m.column.getIsVisible()).map(m=>{let g=0,_=0,v=[0];m.subHeaders&&m.subHeaders.length?(v=[],d(m.subHeaders).forEach(C=>{let{colSpan:y,rowSpan:b}=C;g+=y,v.push(b)})):g=1;const S=Math.min(...v);return _=_+S,m.colSpan=g,m.rowSpan=_,{colSpan:g,rowSpan:_}});return d((r=(s=l[0])==null?void 0:s.headers)!=null?r:[]),l}const ZY=(n,e,t,i,r,s,o)=>{let a={id:e,index:i,original:t,depth:r,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=n.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,i),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=n.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,i),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:n.options.renderFallbackValue},subRows:[],getLeafRows:()=>Nze(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?n.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:hn(()=>[n.getAllLeafColumns()],l=>l.map(c=>Lze(n,a,c,c.id)),fn(n.options,"debugRows")),_getAllCellsByColumnId:hn(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),fn(n.options,"debugRows"))};for(let l=0;l<n._features.length;l++){const c=n._features[l];c==null||c.createRow==null||c.createRow(a,n)}return a},Dze={createColumn:(n,e)=>{n._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,n.id),n.getFacetedRowModel=()=>n._getFacetedRowModel?n._getFacetedRowModel():e.getPreFilteredRowModel(),n._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,n.id),n.getFacetedUniqueValues=()=>n._getFacetedUniqueValues?n._getFacetedUniqueValues():new Map,n._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,n.id),n.getFacetedMinMaxValues=()=>{if(n._getFacetedMinMaxValues)return n._getFacetedMinMaxValues()}}},QTe=(n,e,t)=>{var i,r;const s=t==null||(i=t.toString())==null?void 0:i.toLowerCase();return!!(!((r=n.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(s))};QTe.autoRemove=n=>iu(n);const ZTe=(n,e,t)=>{var i;return!!(!((i=n.getValue(e))==null||(i=i.toString())==null)&&i.includes(t))};ZTe.autoRemove=n=>iu(n);const JTe=(n,e,t)=>{var i;return((i=n.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===(t==null?void 0:t.toLowerCase())};JTe.autoRemove=n=>iu(n);const e0e=(n,e,t)=>{var i;return(i=n.getValue(e))==null?void 0:i.includes(t)};e0e.autoRemove=n=>iu(n);const t0e=(n,e,t)=>!t.some(i=>{var r;return!((r=n.getValue(e))!=null&&r.includes(i))});t0e.autoRemove=n=>iu(n)||!(n!=null&&n.length);const n0e=(n,e,t)=>t.some(i=>{var r;return(r=n.getValue(e))==null?void 0:r.includes(i)});n0e.autoRemove=n=>iu(n)||!(n!=null&&n.length);const i0e=(n,e,t)=>n.getValue(e)===t;i0e.autoRemove=n=>iu(n);const r0e=(n,e,t)=>n.getValue(e)==t;r0e.autoRemove=n=>iu(n);const JY=(n,e,t)=>{let[i,r]=t;const s=n.getValue(e);return s>=i&&s<=r};JY.resolveFilterValue=n=>{let[e,t]=n,i=typeof e!="number"?parseFloat(e):e,r=typeof t!="number"?parseFloat(t):t,s=e===null||Number.isNaN(i)?-1/0:i,o=t===null||Number.isNaN(r)?1/0:r;if(s>o){const a=s;s=o,o=a}return[s,o]};JY.autoRemove=n=>iu(n)||iu(n[0])&&iu(n[1]);const sh={includesString:QTe,includesStringSensitive:ZTe,equalsString:JTe,arrIncludes:e0e,arrIncludesAll:t0e,arrIncludesSome:n0e,equals:i0e,weakEquals:r0e,inNumberRange:JY};function iu(n){return n==null||n===""}const Pze={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:n=>({columnFilters:[],...n}),getDefaultOptions:n=>({onColumnFiltersChange:Nl("columnFilters",n),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(n,e)=>{n.getAutoFilterFn=()=>{const t=e.getCoreRowModel().flatRows[0],i=t==null?void 0:t.getValue(n.id);return typeof i=="string"?sh.includesString:typeof i=="number"?sh.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?sh.equals:Array.isArray(i)?sh.arrIncludes:sh.weakEquals},n.getFilterFn=()=>{var t,i;return _M(n.columnDef.filterFn)?n.columnDef.filterFn:n.columnDef.filterFn==="auto"?n.getAutoFilterFn():(t=(i=e.options.filterFns)==null?void 0:i[n.columnDef.filterFn])!=null?t:sh[n.columnDef.filterFn]},n.getCanFilter=()=>{var t,i,r;return((t=n.columnDef.enableColumnFilter)!=null?t:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!n.accessorFn},n.getIsFiltered=()=>n.getFilterIndex()>-1,n.getFilterValue=()=>{var t;return(t=e.getState().columnFilters)==null||(t=t.find(i=>i.id===n.id))==null?void 0:t.value},n.getFilterIndex=()=>{var t,i;return(t=(i=e.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===n.id))!=null?t:-1},n.setFilterValue=t=>{e.setColumnFilters(i=>{const r=n.getFilterFn(),s=i==null?void 0:i.find(u=>u.id===n.id),o=pg(t,s?s.value:void 0);if(Qie(r,o,n)){var a;return(a=i==null?void 0:i.filter(u=>u.id!==n.id))!=null?a:[]}const l={id:n.id,value:o};if(s){var c;return(c=i==null?void 0:i.map(u=>u.id===n.id?l:u))!=null?c:[]}return i!=null&&i.length?[...i,l]:[l]})}},createRow:(n,e)=>{n.columnFilters={},n.columnFiltersMeta={}},createTable:n=>{n.setColumnFilters=e=>{const t=n.getAllLeafColumns(),i=r=>{var s;return(s=pg(e,r))==null?void 0:s.filter(o=>{const a=t.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(Qie(l,o.value,a))return!1}return!0})};n.options.onColumnFiltersChange==null||n.options.onColumnFiltersChange(i)},n.resetColumnFilters=e=>{var t,i;n.setColumnFilters(e?[]:(t=(i=n.initialState)==null?void 0:i.columnFilters)!=null?t:[])},n.getPreFilteredRowModel=()=>n.getCoreRowModel(),n.getFilteredRowModel=()=>(!n._getFilteredRowModel&&n.options.getFilteredRowModel&&(n._getFilteredRowModel=n.options.getFilteredRowModel(n)),n.options.manualFiltering||!n._getFilteredRowModel?n.getPreFilteredRowModel():n._getFilteredRowModel())}};function Qie(n,e,t){return(n&&n.autoRemove?n.autoRemove(e,t):!1)||typeof e>"u"||typeof e=="string"&&!e}const kze=(n,e,t)=>t.reduce((i,r)=>{const s=r.getValue(n);return i+(typeof s=="number"?s:0)},0),Mze=(n,e,t)=>{let i;return t.forEach(r=>{const s=r.getValue(n);s!=null&&(i>s||i===void 0&&s>=s)&&(i=s)}),i},Fze=(n,e,t)=>{let i;return t.forEach(r=>{const s=r.getValue(n);s!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}),i},Bze=(n,e,t)=>{let i,r;return t.forEach(s=>{const o=s.getValue(n);o!=null&&(i===void 0?o>=o&&(i=r=o):(i>o&&(i=o),r<o&&(r=o)))}),[i,r]},Uze=(n,e)=>{let t=0,i=0;if(e.forEach(r=>{let s=r.getValue(n);s!=null&&(s=+s)>=s&&(++t,i+=s)}),t)return i/t},Hze=(n,e)=>{if(!e.length)return;const t=e.map(s=>s.getValue(n));if(!Ize(t))return;if(t.length===1)return t[0];const i=Math.floor(t.length/2),r=t.sort((s,o)=>s-o);return t.length%2!==0?r[i]:(r[i-1]+r[i])/2},Vze=(n,e)=>Array.from(new Set(e.map(t=>t.getValue(n))).values()),Wze=(n,e)=>new Set(e.map(t=>t.getValue(n))).size,$ze=(n,e)=>e.length,G4={sum:kze,min:Mze,max:Fze,extent:Bze,mean:Uze,median:Hze,unique:Vze,uniqueCount:Wze,count:$ze},Gze={getDefaultColumnDef:()=>({aggregatedCell:n=>{var e,t;return(e=(t=n.getValue())==null||t.toString==null?void 0:t.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:n=>({grouping:[],...n}),getDefaultOptions:n=>({onGroupingChange:Nl("grouping",n),groupedColumnMode:"reorder"}),createColumn:(n,e)=>{n.toggleGrouping=()=>{e.setGrouping(t=>t!=null&&t.includes(n.id)?t.filter(i=>i!==n.id):[...t??[],n.id])},n.getCanGroup=()=>{var t,i;return((t=n.columnDef.enableGrouping)!=null?t:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!n.accessorFn||!!n.columnDef.getGroupingValue)},n.getIsGrouped=()=>{var t;return(t=e.getState().grouping)==null?void 0:t.includes(n.id)},n.getGroupedIndex=()=>{var t;return(t=e.getState().grouping)==null?void 0:t.indexOf(n.id)},n.getToggleGroupingHandler=()=>{const t=n.getCanGroup();return()=>{t&&n.toggleGrouping()}},n.getAutoAggregationFn=()=>{const t=e.getCoreRowModel().flatRows[0],i=t==null?void 0:t.getValue(n.id);if(typeof i=="number")return G4.sum;if(Object.prototype.toString.call(i)==="[object Date]")return G4.extent},n.getAggregationFn=()=>{var t,i;if(!n)throw new Error;return _M(n.columnDef.aggregationFn)?n.columnDef.aggregationFn:n.columnDef.aggregationFn==="auto"?n.getAutoAggregationFn():(t=(i=e.options.aggregationFns)==null?void 0:i[n.columnDef.aggregationFn])!=null?t:G4[n.columnDef.aggregationFn]}},createTable:n=>{n.setGrouping=e=>n.options.onGroupingChange==null?void 0:n.options.onGroupingChange(e),n.resetGrouping=e=>{var t,i;n.setGrouping(e?[]:(t=(i=n.initialState)==null?void 0:i.grouping)!=null?t:[])},n.getPreGroupedRowModel=()=>n.getFilteredRowModel(),n.getGroupedRowModel=()=>(!n._getGroupedRowModel&&n.options.getGroupedRowModel&&(n._getGroupedRowModel=n.options.getGroupedRowModel(n)),n.options.manualGrouping||!n._getGroupedRowModel?n.getPreGroupedRowModel():n._getGroupedRowModel())},createRow:(n,e)=>{n.getIsGrouped=()=>!!n.groupingColumnId,n.getGroupingValue=t=>{if(n._groupingValuesCache.hasOwnProperty(t))return n._groupingValuesCache[t];const i=e.getColumn(t);return i!=null&&i.columnDef.getGroupingValue?(n._groupingValuesCache[t]=i.columnDef.getGroupingValue(n.original),n._groupingValuesCache[t]):n.getValue(t)},n._groupingValuesCache={}},createCell:(n,e,t,i)=>{n.getIsGrouped=()=>e.getIsGrouped()&&e.id===t.groupingColumnId,n.getIsPlaceholder=()=>!n.getIsGrouped()&&e.getIsGrouped(),n.getIsAggregated=()=>{var r;return!n.getIsGrouped()&&!n.getIsPlaceholder()&&!!((r=t.subRows)!=null&&r.length)}}};function zze(n,e,t){if(!(e!=null&&e.length)||!t)return n;const i=n.filter(s=>!e.includes(s.id));return t==="remove"?i:[...e.map(s=>n.find(o=>o.id===s)).filter(Boolean),...i]}const jze={getInitialState:n=>({columnOrder:[],...n}),getDefaultOptions:n=>({onColumnOrderChange:Nl("columnOrder",n)}),createColumn:(n,e)=>{n.getIndex=hn(t=>[GT(e,t)],t=>t.findIndex(i=>i.id===n.id),fn(e.options,"debugColumns")),n.getIsFirstColumn=t=>{var i;return((i=GT(e,t)[0])==null?void 0:i.id)===n.id},n.getIsLastColumn=t=>{var i;const r=GT(e,t);return((i=r[r.length-1])==null?void 0:i.id)===n.id}},createTable:n=>{n.setColumnOrder=e=>n.options.onColumnOrderChange==null?void 0:n.options.onColumnOrderChange(e),n.resetColumnOrder=e=>{var t;n.setColumnOrder(e?[]:(t=n.initialState.columnOrder)!=null?t:[])},n._getOrderColumnsFn=hn(()=>[n.getState().columnOrder,n.getState().grouping,n.options.groupedColumnMode],(e,t,i)=>r=>{let s=[];if(!(e!=null&&e.length))s=r;else{const o=[...e],a=[...r];for(;a.length&&o.length;){const l=o.shift(),c=a.findIndex(u=>u.id===l);c>-1&&s.push(a.splice(c,1)[0])}s=[...s,...a]}return zze(s,t,i)},fn(n.options,"debugTable"))}},z4=()=>({left:[],right:[]}),Yze={getInitialState:n=>({columnPinning:z4(),...n}),getDefaultOptions:n=>({onColumnPinningChange:Nl("columnPinning",n)}),createColumn:(n,e)=>{n.pin=t=>{const i=n.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var s,o;if(t==="right"){var a,l;return{left:((a=r==null?void 0:r.left)!=null?a:[]).filter(d=>!(i!=null&&i.includes(d))),right:[...((l=r==null?void 0:r.right)!=null?l:[]).filter(d=>!(i!=null&&i.includes(d))),...i]}}if(t==="left"){var c,u;return{left:[...((c=r==null?void 0:r.left)!=null?c:[]).filter(d=>!(i!=null&&i.includes(d))),...i],right:((u=r==null?void 0:r.right)!=null?u:[]).filter(d=>!(i!=null&&i.includes(d)))}}return{left:((s=r==null?void 0:r.left)!=null?s:[]).filter(d=>!(i!=null&&i.includes(d))),right:((o=r==null?void 0:r.right)!=null?o:[]).filter(d=>!(i!=null&&i.includes(d)))}})},n.getCanPin=()=>n.getLeafColumns().some(i=>{var r,s,o;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),n.getIsPinned=()=>{const t=n.getLeafColumns().map(a=>a.id),{left:i,right:r}=e.getState().columnPinning,s=t.some(a=>i==null?void 0:i.includes(a)),o=t.some(a=>r==null?void 0:r.includes(a));return s?"left":o?"right":!1},n.getPinnedIndex=()=>{var t,i;const r=n.getIsPinned();return r?(t=(i=e.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(n.id))!=null?t:-1:0}},createRow:(n,e)=>{n.getCenterVisibleCells=hn(()=>[n._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,i,r)=>{const s=[...i??[],...r??[]];return t.filter(o=>!s.includes(o.column.id))},fn(e.options,"debugRows")),n.getLeftVisibleCells=hn(()=>[n._getAllVisibleCells(),e.getState().columnPinning.left],(t,i)=>(i??[]).map(s=>t.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),fn(e.options,"debugRows")),n.getRightVisibleCells=hn(()=>[n._getAllVisibleCells(),e.getState().columnPinning.right],(t,i)=>(i??[]).map(s=>t.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),fn(e.options,"debugRows"))},createTable:n=>{n.setColumnPinning=e=>n.options.onColumnPinningChange==null?void 0:n.options.onColumnPinningChange(e),n.resetColumnPinning=e=>{var t,i;return n.setColumnPinning(e?z4():(t=(i=n.initialState)==null?void 0:i.columnPinning)!=null?t:z4())},n.getIsSomeColumnsPinned=e=>{var t;const i=n.getState().columnPinning;if(!e){var r,s;return!!((r=i.left)!=null&&r.length||(s=i.right)!=null&&s.length)}return!!((t=i[e])!=null&&t.length)},n.getLeftLeafColumns=hn(()=>[n.getAllLeafColumns(),n.getState().columnPinning.left],(e,t)=>(t??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),fn(n.options,"debugColumns")),n.getRightLeafColumns=hn(()=>[n.getAllLeafColumns(),n.getState().columnPinning.right],(e,t)=>(t??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),fn(n.options,"debugColumns")),n.getCenterLeafColumns=hn(()=>[n.getAllLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,i)=>{const r=[...t??[],...i??[]];return e.filter(s=>!r.includes(s.id))},fn(n.options,"debugColumns"))}};function Kze(n){return n||(typeof document<"u"?document:null)}const LI={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},j4=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),qze={getDefaultColumnDef:()=>LI,getInitialState:n=>({columnSizing:{},columnSizingInfo:j4(),...n}),getDefaultOptions:n=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Nl("columnSizing",n),onColumnSizingInfoChange:Nl("columnSizingInfo",n)}),createColumn:(n,e)=>{n.getSize=()=>{var t,i,r;const s=e.getState().columnSizing[n.id];return Math.min(Math.max((t=n.columnDef.minSize)!=null?t:LI.minSize,(i=s??n.columnDef.size)!=null?i:LI.size),(r=n.columnDef.maxSize)!=null?r:LI.maxSize)},n.getStart=hn(t=>[t,GT(e,t),e.getState().columnSizing],(t,i)=>i.slice(0,n.getIndex(t)).reduce((r,s)=>r+s.getSize(),0),fn(e.options,"debugColumns")),n.getAfter=hn(t=>[t,GT(e,t),e.getState().columnSizing],(t,i)=>i.slice(n.getIndex(t)+1).reduce((r,s)=>r+s.getSize(),0),fn(e.options,"debugColumns")),n.resetSize=()=>{e.setColumnSizing(t=>{let{[n.id]:i,...r}=t;return r})},n.getCanResize=()=>{var t,i;return((t=n.columnDef.enableResizing)!=null?t:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},n.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===n.id},createHeader:(n,e)=>{n.getSize=()=>{let t=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var s;t+=(s=r.column.getSize())!=null?s:0}};return i(n),t},n.getStart=()=>{if(n.index>0){const t=n.headerGroup.headers[n.index-1];return t.getStart()+t.getSize()}return 0},n.getResizeHandler=t=>{const i=e.getColumn(n.column.id),r=i==null?void 0:i.getCanResize();return s=>{if(!i||!r||(s.persist==null||s.persist(),Y4(s)&&s.touches&&s.touches.length>1))return;const o=n.getSize(),a=n?n.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[i.id,i.getSize()]],l=Y4(s)?Math.round(s.touches[0].clientX):s.clientX,c={},u=(v,S)=>{typeof S=="number"&&(e.setColumnSizingInfo(C=>{var y,b;const w=e.options.columnResizeDirection==="rtl"?-1:1,I=(S-((y=C==null?void 0:C.startOffset)!=null?y:0))*w,O=Math.max(I/((b=C==null?void 0:C.startSize)!=null?b:0),-.999999);return C.columnSizingStart.forEach(x=>{let[k,P]=x;c[k]=Math.round(Math.max(P+P*O,0)*100)/100}),{...C,deltaOffset:I,deltaPercentage:O}}),(e.options.columnResizeMode==="onChange"||v==="end")&&e.setColumnSizing(C=>({...C,...c})))},d=v=>u("move",v),h=v=>{u("end",v),e.setColumnSizingInfo(S=>({...S,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f=Kze(t),m={moveHandler:v=>d(v.clientX),upHandler:v=>{f==null||f.removeEventListener("mousemove",m.moveHandler),f==null||f.removeEventListener("mouseup",m.upHandler),h(v.clientX)}},g={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),d(v.touches[0].clientX),!1),upHandler:v=>{var S;f==null||f.removeEventListener("touchmove",g.moveHandler),f==null||f.removeEventListener("touchend",g.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),h((S=v.touches[0])==null?void 0:S.clientX)}},_=Xze()?{passive:!1}:!1;Y4(s)?(f==null||f.addEventListener("touchmove",g.moveHandler,_),f==null||f.addEventListener("touchend",g.upHandler,_)):(f==null||f.addEventListener("mousemove",m.moveHandler,_),f==null||f.addEventListener("mouseup",m.upHandler,_)),e.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:i.id}))}}},createTable:n=>{n.setColumnSizing=e=>n.options.onColumnSizingChange==null?void 0:n.options.onColumnSizingChange(e),n.setColumnSizingInfo=e=>n.options.onColumnSizingInfoChange==null?void 0:n.options.onColumnSizingInfoChange(e),n.resetColumnSizing=e=>{var t;n.setColumnSizing(e?{}:(t=n.initialState.columnSizing)!=null?t:{})},n.resetHeaderSizeInfo=e=>{var t;n.setColumnSizingInfo(e?j4():(t=n.initialState.columnSizingInfo)!=null?t:j4())},n.getTotalSize=()=>{var e,t;return(e=(t=n.getHeaderGroups()[0])==null?void 0:t.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},n.getLeftTotalSize=()=>{var e,t;return(e=(t=n.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},n.getCenterTotalSize=()=>{var e,t;return(e=(t=n.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},n.getRightTotalSize=()=>{var e,t;return(e=(t=n.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0}}};let OI=null;function Xze(){if(typeof OI=="boolean")return OI;let n=!1;try{const e={get passive(){return n=!0,!1}},t=()=>{};window.addEventListener("test",t,e),window.removeEventListener("test",t)}catch{n=!1}return OI=n,OI}function Y4(n){return n.type==="touchstart"}const Qze={getInitialState:n=>({columnVisibility:{},...n}),getDefaultOptions:n=>({onColumnVisibilityChange:Nl("columnVisibility",n)}),createColumn:(n,e)=>{n.toggleVisibility=t=>{n.getCanHide()&&e.setColumnVisibility(i=>({...i,[n.id]:t??!n.getIsVisible()}))},n.getIsVisible=()=>{var t,i;const r=n.columns;return(t=r.length?r.some(s=>s.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[n.id])!=null?t:!0},n.getCanHide=()=>{var t,i;return((t=n.columnDef.enableHiding)!=null?t:!0)&&((i=e.options.enableHiding)!=null?i:!0)},n.getToggleVisibilityHandler=()=>t=>{n.toggleVisibility==null||n.toggleVisibility(t.target.checked)}},createRow:(n,e)=>{n._getAllVisibleCells=hn(()=>[n.getAllCells(),e.getState().columnVisibility],t=>t.filter(i=>i.column.getIsVisible()),fn(e.options,"debugRows")),n.getVisibleCells=hn(()=>[n.getLeftVisibleCells(),n.getCenterVisibleCells(),n.getRightVisibleCells()],(t,i,r)=>[...t,...i,...r],fn(e.options,"debugRows"))},createTable:n=>{const e=(t,i)=>hn(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),fn(n.options,"debugColumns"));n.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>n.getAllFlatColumns()),n.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>n.getAllLeafColumns()),n.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>n.getLeftLeafColumns()),n.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>n.getRightLeafColumns()),n.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>n.getCenterLeafColumns()),n.setColumnVisibility=t=>n.options.onColumnVisibilityChange==null?void 0:n.options.onColumnVisibilityChange(t),n.resetColumnVisibility=t=>{var i;n.setColumnVisibility(t?{}:(i=n.initialState.columnVisibility)!=null?i:{})},n.toggleAllColumnsVisible=t=>{var i;t=(i=t)!=null?i:!n.getIsAllColumnsVisible(),n.setColumnVisibility(n.getAllLeafColumns().reduce((r,s)=>({...r,[s.id]:t||!(s.getCanHide!=null&&s.getCanHide())}),{}))},n.getIsAllColumnsVisible=()=>!n.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),n.getIsSomeColumnsVisible=()=>n.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),n.getToggleAllColumnsVisibilityHandler=()=>t=>{var i;n.toggleAllColumnsVisible((i=t.target)==null?void 0:i.checked)}}};function GT(n,e){return e?e==="center"?n.getCenterVisibleLeafColumns():e==="left"?n.getLeftVisibleLeafColumns():n.getRightVisibleLeafColumns():n.getVisibleLeafColumns()}const Zze={createTable:n=>{n._getGlobalFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,"__global__"),n.getGlobalFacetedRowModel=()=>n.options.manualFiltering||!n._getGlobalFacetedRowModel?n.getPreFilteredRowModel():n._getGlobalFacetedRowModel(),n._getGlobalFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,"__global__"),n.getGlobalFacetedUniqueValues=()=>n._getGlobalFacetedUniqueValues?n._getGlobalFacetedUniqueValues():new Map,n._getGlobalFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,"__global__"),n.getGlobalFacetedMinMaxValues=()=>{if(n._getGlobalFacetedMinMaxValues)return n._getGlobalFacetedMinMaxValues()}}},Jze={getInitialState:n=>({globalFilter:void 0,...n}),getDefaultOptions:n=>({onGlobalFilterChange:Nl("globalFilter",n),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var t;const i=(t=n.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[e.id])==null?void 0:t.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(n,e)=>{n.getCanGlobalFilter=()=>{var t,i,r,s;return((t=n.columnDef.enableGlobalFilter)!=null?t:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(n))!=null?s:!0)&&!!n.accessorFn}},createTable:n=>{n.getGlobalAutoFilterFn=()=>sh.includesString,n.getGlobalFilterFn=()=>{var e,t;const{globalFilterFn:i}=n.options;return _M(i)?i:i==="auto"?n.getGlobalAutoFilterFn():(e=(t=n.options.filterFns)==null?void 0:t[i])!=null?e:sh[i]},n.setGlobalFilter=e=>{n.options.onGlobalFilterChange==null||n.options.onGlobalFilterChange(e)},n.resetGlobalFilter=e=>{n.setGlobalFilter(e?void 0:n.initialState.globalFilter)}}},eje={getInitialState:n=>({expanded:{},...n}),getDefaultOptions:n=>({onExpandedChange:Nl("expanded",n),paginateExpandedRows:!0}),createTable:n=>{let e=!1,t=!1;n._autoResetExpanded=()=>{var i,r;if(!e){n._queue(()=>{e=!0});return}if((i=(r=n.options.autoResetAll)!=null?r:n.options.autoResetExpanded)!=null?i:!n.options.manualExpanding){if(t)return;t=!0,n._queue(()=>{n.resetExpanded(),t=!1})}},n.setExpanded=i=>n.options.onExpandedChange==null?void 0:n.options.onExpandedChange(i),n.toggleAllRowsExpanded=i=>{i??!n.getIsAllRowsExpanded()?n.setExpanded(!0):n.setExpanded({})},n.resetExpanded=i=>{var r,s;n.setExpanded(i?{}:(r=(s=n.initialState)==null?void 0:s.expanded)!=null?r:{})},n.getCanSomeRowsExpand=()=>n.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),n.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),n.toggleAllRowsExpanded()},n.getIsSomeRowsExpanded=()=>{const i=n.getState().expanded;return i===!0||Object.values(i).some(Boolean)},n.getIsAllRowsExpanded=()=>{const i=n.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||n.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},n.getExpandedDepth=()=>{let i=0;return(n.getState().expanded===!0?Object.keys(n.getRowModel().rowsById):Object.keys(n.getState().expanded)).forEach(s=>{const o=s.split(".");i=Math.max(i,o.length)}),i},n.getPreExpandedRowModel=()=>n.getSortedRowModel(),n.getExpandedRowModel=()=>(!n._getExpandedRowModel&&n.options.getExpandedRowModel&&(n._getExpandedRowModel=n.options.getExpandedRowModel(n)),n.options.manualExpanding||!n._getExpandedRowModel?n.getPreExpandedRowModel():n._getExpandedRowModel())},createRow:(n,e)=>{n.toggleExpanded=t=>{e.setExpanded(i=>{var r;const s=i===!0?!0:!!(i!=null&&i[n.id]);let o={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=i,t=(r=t)!=null?r:!s,!s&&t)return{...o,[n.id]:!0};if(s&&!t){const{[n.id]:a,...l}=o;return l}return i})},n.getIsExpanded=()=>{var t;const i=e.getState().expanded;return!!((t=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(n))!=null?t:i===!0||i!=null&&i[n.id])},n.getCanExpand=()=>{var t,i,r;return(t=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(n))!=null?t:((i=e.options.enableExpanding)!=null?i:!0)&&!!((r=n.subRows)!=null&&r.length)},n.getIsAllParentsExpanded=()=>{let t=!0,i=n;for(;t&&i.parentId;)i=e.getRow(i.parentId,!0),t=i.getIsExpanded();return t},n.getToggleExpandedHandler=()=>{const t=n.getCanExpand();return()=>{t&&n.toggleExpanded()}}}},j9=0,Y9=10,K4=()=>({pageIndex:j9,pageSize:Y9}),tje={getInitialState:n=>({...n,pagination:{...K4(),...n==null?void 0:n.pagination}}),getDefaultOptions:n=>({onPaginationChange:Nl("pagination",n)}),createTable:n=>{let e=!1,t=!1;n._autoResetPageIndex=()=>{var i,r;if(!e){n._queue(()=>{e=!0});return}if((i=(r=n.options.autoResetAll)!=null?r:n.options.autoResetPageIndex)!=null?i:!n.options.manualPagination){if(t)return;t=!0,n._queue(()=>{n.resetPageIndex(),t=!1})}},n.setPagination=i=>{const r=s=>pg(i,s);return n.options.onPaginationChange==null?void 0:n.options.onPaginationChange(r)},n.resetPagination=i=>{var r;n.setPagination(i?K4():(r=n.initialState.pagination)!=null?r:K4())},n.setPageIndex=i=>{n.setPagination(r=>{let s=pg(i,r.pageIndex);const o=typeof n.options.pageCount>"u"||n.options.pageCount===-1?Number.MAX_SAFE_INTEGER:n.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...r,pageIndex:s}})},n.resetPageIndex=i=>{var r,s;n.setPageIndex(i?j9:(r=(s=n.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?r:j9)},n.resetPageSize=i=>{var r,s;n.setPageSize(i?Y9:(r=(s=n.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?r:Y9)},n.setPageSize=i=>{n.setPagination(r=>{const s=Math.max(1,pg(i,r.pageSize)),o=r.pageSize*r.pageIndex,a=Math.floor(o/s);return{...r,pageIndex:a,pageSize:s}})},n.setPageCount=i=>n.setPagination(r=>{var s;let o=pg(i,(s=n.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...r,pageCount:o}}),n.getPageOptions=hn(()=>[n.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((s,o)=>o)),r},fn(n.options,"debugTable")),n.getCanPreviousPage=()=>n.getState().pagination.pageIndex>0,n.getCanNextPage=()=>{const{pageIndex:i}=n.getState().pagination,r=n.getPageCount();return r===-1?!0:r===0?!1:i<r-1},n.previousPage=()=>n.setPageIndex(i=>i-1),n.nextPage=()=>n.setPageIndex(i=>i+1),n.firstPage=()=>n.setPageIndex(0),n.lastPage=()=>n.setPageIndex(n.getPageCount()-1),n.getPrePaginationRowModel=()=>n.getExpandedRowModel(),n.getPaginationRowModel=()=>(!n._getPaginationRowModel&&n.options.getPaginationRowModel&&(n._getPaginationRowModel=n.options.getPaginationRowModel(n)),n.options.manualPagination||!n._getPaginationRowModel?n.getPrePaginationRowModel():n._getPaginationRowModel()),n.getPageCount=()=>{var i;return(i=n.options.pageCount)!=null?i:Math.ceil(n.getRowCount()/n.getState().pagination.pageSize)},n.getRowCount=()=>{var i;return(i=n.options.rowCount)!=null?i:n.getPrePaginationRowModel().rows.length}}},q4=()=>({top:[],bottom:[]}),nje={getInitialState:n=>({rowPinning:q4(),...n}),getDefaultOptions:n=>({onRowPinningChange:Nl("rowPinning",n)}),createRow:(n,e)=>{n.pin=(t,i,r)=>{const s=i?n.getLeafRows().map(l=>{let{id:c}=l;return c}):[],o=r?n.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...o,n.id,...s]);e.setRowPinning(l=>{var c,u;if(t==="bottom"){var d,h;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(g=>!(a!=null&&a.has(g))),bottom:[...((h=l==null?void 0:l.bottom)!=null?h:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)]}}if(t==="top"){var f,m;return{top:[...((f=l==null?void 0:l.top)!=null?f:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)],bottom:((m=l==null?void 0:l.bottom)!=null?m:[]).filter(g=>!(a!=null&&a.has(g)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(g=>!(a!=null&&a.has(g))),bottom:((u=l==null?void 0:l.bottom)!=null?u:[]).filter(g=>!(a!=null&&a.has(g)))}})},n.getCanPin=()=>{var t;const{enableRowPinning:i,enablePinning:r}=e.options;return typeof i=="function"?i(n):(t=i??r)!=null?t:!0},n.getIsPinned=()=>{const t=[n.id],{top:i,bottom:r}=e.getState().rowPinning,s=t.some(a=>i==null?void 0:i.includes(a)),o=t.some(a=>r==null?void 0:r.includes(a));return s?"top":o?"bottom":!1},n.getPinnedIndex=()=>{var t,i;const r=n.getIsPinned();if(!r)return-1;const s=(t=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:t.map(o=>{let{id:a}=o;return a});return(i=s==null?void 0:s.indexOf(n.id))!=null?i:-1}},createTable:n=>{n.setRowPinning=e=>n.options.onRowPinningChange==null?void 0:n.options.onRowPinningChange(e),n.resetRowPinning=e=>{var t,i;return n.setRowPinning(e?q4():(t=(i=n.initialState)==null?void 0:i.rowPinning)!=null?t:q4())},n.getIsSomeRowsPinned=e=>{var t;const i=n.getState().rowPinning;if(!e){var r,s;return!!((r=i.top)!=null&&r.length||(s=i.bottom)!=null&&s.length)}return!!((t=i[e])!=null&&t.length)},n._getPinnedRows=(e,t,i)=>{var r;return((r=n.options.keepPinnedRows)==null||r?(t??[]).map(o=>{const a=n.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(t??[]).map(o=>e.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:i}))},n.getTopRows=hn(()=>[n.getRowModel().rows,n.getState().rowPinning.top],(e,t)=>n._getPinnedRows(e,t,"top"),fn(n.options,"debugRows")),n.getBottomRows=hn(()=>[n.getRowModel().rows,n.getState().rowPinning.bottom],(e,t)=>n._getPinnedRows(e,t,"bottom"),fn(n.options,"debugRows")),n.getCenterRows=hn(()=>[n.getRowModel().rows,n.getState().rowPinning.top,n.getState().rowPinning.bottom],(e,t,i)=>{const r=new Set([...t??[],...i??[]]);return e.filter(s=>!r.has(s.id))},fn(n.options,"debugRows"))}},ije={getInitialState:n=>({rowSelection:{},...n}),getDefaultOptions:n=>({onRowSelectionChange:Nl("rowSelection",n),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:n=>{n.setRowSelection=e=>n.options.onRowSelectionChange==null?void 0:n.options.onRowSelectionChange(e),n.resetRowSelection=e=>{var t;return n.setRowSelection(e?{}:(t=n.initialState.rowSelection)!=null?t:{})},n.toggleAllRowsSelected=e=>{n.setRowSelection(t=>{e=typeof e<"u"?e:!n.getIsAllRowsSelected();const i={...t},r=n.getPreGroupedRowModel().flatRows;return e?r.forEach(s=>{s.getCanSelect()&&(i[s.id]=!0)}):r.forEach(s=>{delete i[s.id]}),i})},n.toggleAllPageRowsSelected=e=>n.setRowSelection(t=>{const i=typeof e<"u"?e:!n.getIsAllPageRowsSelected(),r={...t};return n.getRowModel().rows.forEach(s=>{K9(r,s.id,i,!0,n)}),r}),n.getPreSelectedRowModel=()=>n.getCoreRowModel(),n.getSelectedRowModel=hn(()=>[n.getState().rowSelection,n.getCoreRowModel()],(e,t)=>Object.keys(e).length?X4(n,t):{rows:[],flatRows:[],rowsById:{}},fn(n.options,"debugTable")),n.getFilteredSelectedRowModel=hn(()=>[n.getState().rowSelection,n.getFilteredRowModel()],(e,t)=>Object.keys(e).length?X4(n,t):{rows:[],flatRows:[],rowsById:{}},fn(n.options,"debugTable")),n.getGroupedSelectedRowModel=hn(()=>[n.getState().rowSelection,n.getSortedRowModel()],(e,t)=>Object.keys(e).length?X4(n,t):{rows:[],flatRows:[],rowsById:{}},fn(n.options,"debugTable")),n.getIsAllRowsSelected=()=>{const e=n.getFilteredRowModel().flatRows,{rowSelection:t}=n.getState();let i=!!(e.length&&Object.keys(t).length);return i&&e.some(r=>r.getCanSelect()&&!t[r.id])&&(i=!1),i},n.getIsAllPageRowsSelected=()=>{const e=n.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:t}=n.getState();let i=!!e.length;return i&&e.some(r=>!t[r.id])&&(i=!1),i},n.getIsSomeRowsSelected=()=>{var e;const t=Object.keys((e=n.getState().rowSelection)!=null?e:{}).length;return t>0&&t<n.getFilteredRowModel().flatRows.length},n.getIsSomePageRowsSelected=()=>{const e=n.getPaginationRowModel().flatRows;return n.getIsAllPageRowsSelected()?!1:e.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},n.getToggleAllRowsSelectedHandler=()=>e=>{n.toggleAllRowsSelected(e.target.checked)},n.getToggleAllPageRowsSelectedHandler=()=>e=>{n.toggleAllPageRowsSelected(e.target.checked)}},createRow:(n,e)=>{n.toggleSelected=(t,i)=>{const r=n.getIsSelected();e.setRowSelection(s=>{var o;if(t=typeof t<"u"?t:!r,n.getCanSelect()&&r===t)return s;const a={...s};return K9(a,n.id,t,(o=i==null?void 0:i.selectChildren)!=null?o:!0,e),a})},n.getIsSelected=()=>{const{rowSelection:t}=e.getState();return eK(n,t)},n.getIsSomeSelected=()=>{const{rowSelection:t}=e.getState();return q9(n,t)==="some"},n.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=e.getState();return q9(n,t)==="all"},n.getCanSelect=()=>{var t;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(n):(t=e.options.enableRowSelection)!=null?t:!0},n.getCanSelectSubRows=()=>{var t;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(n):(t=e.options.enableSubRowSelection)!=null?t:!0},n.getCanMultiSelect=()=>{var t;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(n):(t=e.options.enableMultiRowSelection)!=null?t:!0},n.getToggleSelectedHandler=()=>{const t=n.getCanSelect();return i=>{var r;t&&n.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},K9=(n,e,t,i,r)=>{var s;const o=r.getRow(e,!0);t?(o.getCanMultiSelect()||Object.keys(n).forEach(a=>delete n[a]),o.getCanSelect()&&(n[e]=!0)):delete n[e],i&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>K9(n,a.id,t,i,r))};function X4(n,e){const t=n.getState().rowSelection,i=[],r={},s=function(o,a){return o.map(l=>{var c;const u=eK(l,t);if(u&&(i.push(l),r[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:s(l.subRows)}),u)return l}).filter(Boolean)};return{rows:s(e.rows),flatRows:i,rowsById:r}}function eK(n,e){var t;return(t=e[n.id])!=null?t:!1}function q9(n,e,t){var i;if(!((i=n.subRows)!=null&&i.length))return!1;let r=!0,s=!1;return n.subRows.forEach(o=>{if(!(s&&!r)&&(o.getCanSelect()&&(eK(o,e)?s=!0:r=!1),o.subRows&&o.subRows.length)){const a=q9(o,e);a==="all"?s=!0:(a==="some"&&(s=!0),r=!1)}}),r?"all":s?"some":!1}const X9=/([0-9]+)/gm,rje=(n,e,t)=>s0e(jg(n.getValue(t)).toLowerCase(),jg(e.getValue(t)).toLowerCase()),sje=(n,e,t)=>s0e(jg(n.getValue(t)),jg(e.getValue(t))),oje=(n,e,t)=>tK(jg(n.getValue(t)).toLowerCase(),jg(e.getValue(t)).toLowerCase()),aje=(n,e,t)=>tK(jg(n.getValue(t)),jg(e.getValue(t))),lje=(n,e,t)=>{const i=n.getValue(t),r=e.getValue(t);return i>r?1:i<r?-1:0},cje=(n,e,t)=>tK(n.getValue(t),e.getValue(t));function tK(n,e){return n===e?0:n>e?1:-1}function jg(n){return typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?"":String(n):typeof n=="string"?n:""}function s0e(n,e){const t=n.split(X9).filter(Boolean),i=e.split(X9).filter(Boolean);for(;t.length&&i.length;){const r=t.shift(),s=i.shift(),o=parseInt(r,10),a=parseInt(s,10),l=[o,a].sort();if(isNaN(l[0])){if(r>s)return 1;if(s>r)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return t.length-i.length}const Lb={alphanumeric:rje,alphanumericCaseSensitive:sje,text:oje,textCaseSensitive:aje,datetime:lje,basic:cje},uje={getInitialState:n=>({sorting:[],...n}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:n=>({onSortingChange:Nl("sorting",n),isMultiSortEvent:e=>e.shiftKey}),createColumn:(n,e)=>{n.getAutoSortingFn=()=>{const t=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of t){const s=r==null?void 0:r.getValue(n.id);if(Object.prototype.toString.call(s)==="[object Date]")return Lb.datetime;if(typeof s=="string"&&(i=!0,s.split(X9).length>1))return Lb.alphanumeric}return i?Lb.text:Lb.basic},n.getAutoSortDir=()=>{const t=e.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(n.id))=="string"?"asc":"desc"},n.getSortingFn=()=>{var t,i;if(!n)throw new Error;return _M(n.columnDef.sortingFn)?n.columnDef.sortingFn:n.columnDef.sortingFn==="auto"?n.getAutoSortingFn():(t=(i=e.options.sortingFns)==null?void 0:i[n.columnDef.sortingFn])!=null?t:Lb[n.columnDef.sortingFn]},n.toggleSorting=(t,i)=>{const r=n.getNextSortingOrder(),s=typeof t<"u"&&t!==null;e.setSorting(o=>{const a=o==null?void 0:o.find(f=>f.id===n.id),l=o==null?void 0:o.findIndex(f=>f.id===n.id);let c=[],u,d=s?t:r==="desc";if(o!=null&&o.length&&n.getCanMultiSort()&&i?a?u="toggle":u="add":o!=null&&o.length&&l!==o.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(s||r||(u="remove")),u==="add"){var h;c=[...o,{id:n.id,desc:d}],c.splice(0,c.length-((h=e.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=o.map(f=>f.id===n.id?{...f,desc:d}:f):u==="remove"?c=o.filter(f=>f.id!==n.id):c=[{id:n.id,desc:d}];return c})},n.getFirstSortDir=()=>{var t,i;return((t=(i=n.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?t:n.getAutoSortDir()==="desc")?"desc":"asc"},n.getNextSortingOrder=t=>{var i,r;const s=n.getFirstSortDir(),o=n.getIsSorted();return o?o!==s&&((i=e.options.enableSortingRemoval)==null||i)&&(!(t&&(r=e.options.enableMultiRemove)!=null)||r)?!1:o==="desc"?"asc":"desc":s},n.getCanSort=()=>{var t,i;return((t=n.columnDef.enableSorting)!=null?t:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!n.accessorFn},n.getCanMultiSort=()=>{var t,i;return(t=(i=n.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?t:!!n.accessorFn},n.getIsSorted=()=>{var t;const i=(t=e.getState().sorting)==null?void 0:t.find(r=>r.id===n.id);return i?i.desc?"desc":"asc":!1},n.getSortIndex=()=>{var t,i;return(t=(i=e.getState().sorting)==null?void 0:i.findIndex(r=>r.id===n.id))!=null?t:-1},n.clearSorting=()=>{e.setSorting(t=>t!=null&&t.length?t.filter(i=>i.id!==n.id):[])},n.getToggleSortingHandler=()=>{const t=n.getCanSort();return i=>{t&&(i.persist==null||i.persist(),n.toggleSorting==null||n.toggleSorting(void 0,n.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:n=>{n.setSorting=e=>n.options.onSortingChange==null?void 0:n.options.onSortingChange(e),n.resetSorting=e=>{var t,i;n.setSorting(e?[]:(t=(i=n.initialState)==null?void 0:i.sorting)!=null?t:[])},n.getPreSortedRowModel=()=>n.getGroupedRowModel(),n.getSortedRowModel=()=>(!n._getSortedRowModel&&n.options.getSortedRowModel&&(n._getSortedRowModel=n.options.getSortedRowModel(n)),n.options.manualSorting||!n._getSortedRowModel?n.getPreSortedRowModel():n._getSortedRowModel())}},dje=[xze,Qze,jze,Yze,Dze,Pze,Zze,Jze,uje,Gze,eje,tje,nje,ije,qze];function hje(n){var e,t;const i=[...dje,...(e=n._features)!=null?e:[]];let r={_features:i};const s=r._features.reduce((h,f)=>Object.assign(h,f.getDefaultOptions==null?void 0:f.getDefaultOptions(r)),{}),o=h=>r.options.mergeOptions?r.options.mergeOptions(s,h):{...s,...h};let l={...{},...(t=n.initialState)!=null?t:{}};r._features.forEach(h=>{var f;l=(f=h.getInitialState==null?void 0:h.getInitialState(l))!=null?f:l});const c=[];let u=!1;const d={_features:i,options:{...s,...n},initialState:l,_queue:h=>{c.push(h),u||(u=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();u=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{r.setState(r.initialState)},setOptions:h=>{const f=pg(h,r.options);r.options=o(f)},getState:()=>r.options.state,setState:h=>{r.options.onStateChange==null||r.options.onStateChange(h)},_getRowId:(h,f,m)=>{var g;return(g=r.options.getRowId==null?void 0:r.options.getRowId(h,f,m))!=null?g:`${m?[m.id,f].join("."):f}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(h,f)=>{let m=(f?r.getPrePaginationRowModel():r.getRowModel()).rowsById[h];if(!m&&(m=r.getCoreRowModel().rowsById[h],!m))throw new Error;return m},_getDefaultColumnDef:hn(()=>[r.options.defaultColumn],h=>{var f;return h=(f=h)!=null?f:{},{header:m=>{const g=m.header.column.columnDef;return g.accessorKey?g.accessorKey:g.accessorFn?g.id:null},cell:m=>{var g,_;return(g=(_=m.renderValue())==null||_.toString==null?void 0:_.toString())!=null?g:null},...r._features.reduce((m,g)=>Object.assign(m,g.getDefaultColumnDef==null?void 0:g.getDefaultColumnDef()),{}),...h}},fn(n,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:hn(()=>[r._getColumnDefs()],h=>{const f=function(m,g,_){return _===void 0&&(_=0),m.map(v=>{const S=Oze(r,v,_,g),C=v;return S.columns=C.columns?f(C.columns,S,_+1):[],S})};return f(h)},fn(n,"debugColumns")),getAllFlatColumns:hn(()=>[r.getAllColumns()],h=>h.flatMap(f=>f.getFlatColumns()),fn(n,"debugColumns")),_getAllFlatColumnsById:hn(()=>[r.getAllFlatColumns()],h=>h.reduce((f,m)=>(f[m.id]=m,f),{}),fn(n,"debugColumns")),getAllLeafColumns:hn(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(h,f)=>{let m=h.flatMap(g=>g.getLeafColumns());return f(m)},fn(n,"debugColumns")),getColumn:h=>r._getAllFlatColumnsById()[h]};Object.assign(r,d);for(let h=0;h<r._features.length;h++){const f=r._features[h];f==null||f.createTable==null||f.createTable(r)}return r}function nK(){return n=>hn(()=>[n.options.data],e=>{const t={rows:[],flatRows:[],rowsById:{}},i=function(r,s,o){s===void 0&&(s=0);const a=[];for(let c=0;c<r.length;c++){const u=ZY(n,n._getRowId(r[c],c,o),r[c],c,s,void 0,o==null?void 0:o.id);if(t.flatRows.push(u),t.rowsById[u.id]=u,a.push(u),n.options.getSubRows){var l;u.originalSubRows=n.options.getSubRows(r[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=i(u.originalSubRows,s+1,u))}}return a};return t.rows=i(e),t},fn(n.options,"debugTable","getRowModel",()=>n._autoResetPageIndex()))}function fje(n){const e=[],t=i=>{var r;e.push(i),(r=i.subRows)!=null&&r.length&&i.getIsExpanded()&&i.subRows.forEach(t)};return n.rows.forEach(t),{rows:e,flatRows:n.flatRows,rowsById:n.rowsById}}function gje(n,e,t){return t.options.filterFromLeafRows?pje(n,e,t):mje(n,e,t)}function pje(n,e,t){var i;const r=[],s={},o=(i=t.options.maxLeafRowFilterDepth)!=null?i:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let h=0;h<l.length;h++){var d;let f=l[h];const m=ZY(t,f.id,f.original,f.index,f.depth,void 0,f.parentId);if(m.columnFilters=f.columnFilters,(d=f.subRows)!=null&&d.length&&c<o){if(m.subRows=a(f.subRows,c+1),f=m,e(f)&&!m.subRows.length){u.push(f),s[f.id]=f,r.push(f);continue}if(e(f)||m.subRows.length){u.push(f),s[f.id]=f,r.push(f);continue}}else f=m,e(f)&&(u.push(f),s[f.id]=f,r.push(f))}return u};return{rows:a(n),flatRows:r,rowsById:s}}function mje(n,e,t){var i;const r=[],s={},o=(i=t.options.maxLeafRowFilterDepth)!=null?i:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let h=0;h<l.length;h++){let f=l[h];if(e(f)){var d;if((d=f.subRows)!=null&&d.length&&c<o){const g=ZY(t,f.id,f.original,f.index,f.depth,void 0,f.parentId);g.subRows=a(f.subRows,c+1),f=g}u.push(f),r.push(f),s[f.id]=f}}return u};return{rows:a(n),flatRows:r,rowsById:s}}function _je(){return n=>hn(()=>[n.getPreFilteredRowModel(),n.getState().columnFilters,n.getState().globalFilter],(e,t,i)=>{if(!e.rows.length||!(t!=null&&t.length)&&!i){for(let h=0;h<e.flatRows.length;h++)e.flatRows[h].columnFilters={},e.flatRows[h].columnFiltersMeta={};return e}const r=[],s=[];(t??[]).forEach(h=>{var f;const m=n.getColumn(h.id);if(!m)return;const g=m.getFilterFn();g&&r.push({id:h.id,filterFn:g,resolvedValue:(f=g.resolveFilterValue==null?void 0:g.resolveFilterValue(h.value))!=null?f:h.value})});const o=(t??[]).map(h=>h.id),a=n.getGlobalFilterFn(),l=n.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());i&&a&&l.length&&(o.push("__global__"),l.forEach(h=>{var f;s.push({id:h.id,filterFn:a,resolvedValue:(f=a.resolveFilterValue==null?void 0:a.resolveFilterValue(i))!=null?f:i})}));let c,u;for(let h=0;h<e.flatRows.length;h++){const f=e.flatRows[h];if(f.columnFilters={},r.length)for(let m=0;m<r.length;m++){c=r[m];const g=c.id;f.columnFilters[g]=c.filterFn(f,g,c.resolvedValue,_=>{f.columnFiltersMeta[g]=_})}if(s.length){for(let m=0;m<s.length;m++){u=s[m];const g=u.id;if(u.filterFn(f,g,u.resolvedValue,_=>{f.columnFiltersMeta[g]=_})){f.columnFilters.__global__=!0;break}}f.columnFilters.__global__!==!0&&(f.columnFilters.__global__=!1)}}const d=h=>{for(let f=0;f<o.length;f++)if(h.columnFilters[o[f]]===!1)return!1;return!0};return gje(e.rows,d,n)},fn(n.options,"debugTable","getFilteredRowModel",()=>n._autoResetPageIndex()))}function Eje(n){return e=>hn(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(t,i)=>{if(!i.rows.length)return i;const{pageSize:r,pageIndex:s}=t;let{rows:o,flatRows:a,rowsById:l}=i;const c=r*s,u=c+r;o=o.slice(c,u);let d;e.options.paginateExpandedRows?d={rows:o,flatRows:a,rowsById:l}:d=fje({rows:o,flatRows:a,rowsById:l}),d.flatRows=[];const h=f=>{d.flatRows.push(f),f.subRows.length&&f.subRows.forEach(h)};return d.rows.forEach(h),d},fn(e.options,"debugTable"))}function iK(){return n=>hn(()=>[n.getState().sorting,n.getPreSortedRowModel()],(e,t)=>{if(!t.rows.length||!(e!=null&&e.length))return t;const i=n.getState().sorting,r=[],s=i.filter(l=>{var c;return(c=n.getColumn(l.id))==null?void 0:c.getCanSort()}),o={};s.forEach(l=>{const c=n.getColumn(l.id);c&&(o[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(u=>({...u}));return c.sort((u,d)=>{for(let f=0;f<s.length;f+=1){var h;const m=s[f],g=o[m.id],_=g.sortUndefined,v=(h=m==null?void 0:m.desc)!=null?h:!1;let S=0;if(_){const C=u.getValue(m.id),y=d.getValue(m.id),b=C===void 0,w=y===void 0;if(b||w){if(_==="first")return b?-1:1;if(_==="last")return b?1:-1;S=b&&w?0:b?_:-_}}if(S===0&&(S=g.sortingFn(u,d,m.id)),S!==0)return v&&(S*=-1),g.invertSorting&&(S*=-1),S}return u.index-d.index}),c.forEach(u=>{var d;r.push(u),(d=u.subRows)!=null&&d.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(t.rows),flatRows:r,rowsById:t.rowsById}},fn(n.options,"debugTable","getSortedRowModel",()=>n._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function lC(n,e){return n?vje(n)?N.createElement(n,e):n:null}function vje(n){return Sje(n)||typeof n=="function"||Cje(n)}function Sje(n){return typeof n=="function"&&(()=>{const e=Object.getPrototypeOf(n);return e.prototype&&e.prototype.isReactComponent})()}function Cje(n){return typeof n=="object"&&typeof n.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(n.$$typeof.description)}function rK(n){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...n},[t]=N.useState(()=>({current:hje(e)})),[i,r]=N.useState(()=>t.current.initialState);return t.current.setOptions(s=>({...s,...n,state:{...i,...n.state},onStateChange:o=>{r(o),n.onStateChange==null||n.onStateChange(o)}})),t.current}function yje({data:n,columns:e,pageCount:t,numRows:i,pagination:r,sorting:s,onPaginationChange:o,onSortingChange:a,onExport:l,isExporting:c,isFetching:u}){const d=N.useMemo(()=>[],[]),h=rK({data:n??d,columns:e??[],pageCount:t??-1,getSortedRowModel:iK(),onSortingChange:g=>{a&&s&&typeof g=="function"&&a(g(s))},onPaginationChange:g=>{o&&r&&typeof g=="function"&&o(g(r))},getCoreRowModel:nK(),manualPagination:!0,state:{pagination:r,sorting:s}}),[f,m]=N.useState((r==null?void 0:r.pageIndex)??0);return N.useEffect(()=>{m((r==null?void 0:r.pageIndex)??0)},[r==null?void 0:r.pageIndex]),R.jsxs("div",{className:"relative flex h-full w-full flex-col",children:[R.jsx("div",{className:"border-border flex-1 overflow-hidden border font-mono",children:R.jsx("div",{className:"h-full overflow-auto",children:R.jsxs(SY,{disableWrapper:!0,children:[R.jsx(CY,{children:h.getHeaderGroups().map(g=>R.jsxs(Pm,{children:[R.jsx(CS,{className:"bg-background sticky left-0 top-[-1px] z-20 w-auto whitespace-nowrap border-r py-2 text-center",children:u?R.jsx("div",{className:"border-primary h-4 w-4 animate-spin rounded-full border-2 border-t-transparent"}):null}),g.headers.map(_=>{const v=_.column.columnDef.meta;return R.jsx(CS,{colSpan:_.colSpan,className:`bg-background hover:bg-muted sticky top-[-1px] z-10 w-auto cursor-pointer whitespace-nowrap border-r py-2 ${v!=null&&v.isNumeric?"text-right":"text-left"} `,onClick:_.column.getToggleSortingHandler(),children:R.jsxs("div",{className:"flex items-center gap-2",children:[_.isPlaceholder?null:R.jsx("div",{children:lC(_.column.columnDef.header,_.getContext())}),_.column.getIsSorted()?_.column.getIsSorted()==="desc"?R.jsx(qTe,{className:"h-4 w-4"}):R.jsx(XTe,{className:"h-4 w-4"}):null,R.jsx("div",{className:"flex-1"}),R.jsx(hEe,{variant:"outline",className:"max-w-[400px] truncate text-xs opacity-30",children:String(v==null?void 0:v.type)})]})},_.id)}),R.jsx(CS,{className:"bg-background sticky top-0 w-full whitespace-nowrap border-r border-t py-2"})]},g.id))}),R.jsx(yY,{children:h.getRowModel().rows.map((g,_)=>R.jsxs(Pm,{className:"hover:bg-muted bg-background",children:[R.jsx(gg,{className:"bg-background text-muted-foreground sticky left-0 border-r text-center text-xs",children:r?`${r.pageIndex*r.pageSize+_+1}`:""}),g.getVisibleCells().map(v=>{const S=v.column.columnDef.meta;return R.jsx(gg,{className:`max-w-[500px] overflow-hidden truncate border-r px-7 text-xs ${S!=null&&S.isNumeric?"text-right":"text-left"} `,children:lC(v.column.columnDef.cell,v.getContext())},v.id)}),R.jsx(gg,{className:"border-r",children:""})]},g.id))})]})})}),R.jsxs("div",{className:"bg-background sticky bottom-0 left-0 flex flex-wrap items-center gap-2 border border-t-0 p-2",children:[R.jsx(Yr,{variant:"outline",size:"icon",onClick:()=>h.setPageIndex(0),disabled:!h.getCanPreviousPage(),children:R.jsx(Eze,{className:"h-4 w-4"})}),R.jsx(Yr,{variant:"outline",size:"icon",onClick:()=>h.previousPage(),disabled:!h.getCanPreviousPage(),children:R.jsx(bze,{className:"h-4 w-4"})}),R.jsxs("div",{className:"ml-1 flex items-center gap-1 text-sm",children:[R.jsx("div",{children:"Page"}),R.jsx(jk,{type:"number",min:1,max:h.getPageCount(),className:"h-8 w-16",value:f+1,onChange:g=>{const _=g.target.value;if(_){const v=Math.max(0,Math.min(h.getPageCount()-1,Number(_)-1));m(v)}},onBlur:()=>{f!==(r==null?void 0:r.pageIndex)&&h.setPageIndex(f)}}),R.jsx("div",{children:`of ${H9(h.getPageCount())}`})]}),R.jsx(Yr,{variant:"outline",size:"icon",onClick:()=>h.nextPage(),disabled:!h.getCanNextPage(),children:R.jsx(wze,{className:"h-4 w-4"})}),R.jsx(Yr,{variant:"outline",size:"icon",onClick:()=>h.setPageIndex(h.getPageCount()-1),disabled:!h.getCanNextPage(),children:R.jsx(Sze,{className:"h-4 w-4"})}),R.jsxs(zVe,{value:String(h.getState().pagination.pageSize),onValueChange:g=>h.setPageSize(Number(g)),children:[R.jsx(nye,{className:"h-8 w-[110px]",children:R.jsx(jVe,{})}),R.jsx(sye,{children:[10,50,100,500,1e3].map(g=>R.jsx(oye,{value:String(g),children:`${g} rows`},g))})]}),R.jsx("div",{className:"flex-1"}),i!==void 0&&isFinite(i)?R.jsx("div",{className:"text-sm font-normal",children:`${H9(i)} rows`}):null,l?R.jsxs(Yr,{variant:"outline",size:"sm",onClick:l,disabled:c,children:[c?R.jsx("div",{className:"border-primary mr-2 h-4 w-4 animate-spin rounded-full border-2 border-t-transparent"}):R.jsx(mze,{className:"mr-2 h-4 w-4"}),"Export CSV"]}):null]}),u?R.jsx("div",{className:"bg-background/80 absolute inset-0 animate-pulse"}):null]})}function bje({title:n,titleId:e,...t},i){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?N.createElement("title",{id:e},n):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))}const Tje=N.forwardRef(bje),wje=Rze(),Zie=64;function Aje(n,e){if(e==null)return"NULL";if(Pi.isTimestamp(n))switch(typeof e){case"number":case"bigint":return new Date(Number(e)).toISOString();case"string":return new Date(e).toISOString()}if(Pi.isTime(n))switch(typeof e){case"number":case"bigint":return new Date(Number(e)/1e3).toISOString().substring(11,19);case"string":return new Date(e).toISOString().substring(11,19)}return Pi.isDate(n)&&e instanceof Date?e.toISOString():String(e)}function o0e(n){const e=N.useMemo(()=>({length:(n==null?void 0:n.numRows)??0}),[n]),t=N.useMemo(()=>{if(!n)return;const i=[];for(const r of n.schema.fields)i.push(wje.accessor((s,o)=>{var a;return(a=n.getChild(r.name))==null?void 0:a.get(o)},{cell:s=>{const o=s.getValue(),a=Aje(r.type,o);return a.length>Zie?R.jsxs(R3e,{children:[R.jsx(I3e,{asChild:!0,children:R.jsx("span",{className:"cursor-pointer",children:Y8e(`${a}`,Zie)})}),R.jsx(OSe,{className:"w-auto max-w-[500px] font-mono text-xs",children:R.jsxs("div",{className:"space-y-2",children:[R.jsx("div",{className:"font-medium",children:`"${r.name}" (${r.type})`}),R.jsxs("div",{className:"relative",children:[a,R.jsx(Yr,{variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-6 w-6",onClick:()=>navigator.clipboard.writeText(a),children:R.jsx(Tje,{className:"h-3 w-3"})})]})]})})]}):a},header:r.name,meta:{type:r.type,isNumeric:Pi.isFloat(r.type)||Pi.isDecimal(r.type)||Pi.isInt(r.type)}}));return i},[n]);return e&&t?{data:e,columns:t}:void 0}const Rje=({query:n})=>{const e=dze(),{exportToCsv:t}=hze(),[i,r]=N.useState([]),[s,o]=N.useState({pageIndex:0,pageSize:100}),[a,l]=N.useState(void 0),[c,u]=N.useState(null),[d,h]=N.useState(!1),[f,m]=N.useState(!1),g=N.useMemo(()=>n.trim().replace(/;+$/,"").replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"").replace(/\s+/g," "),[n]);N.useEffect(()=>{(async()=>{try{h(!0);const C=`SELECT COUNT(*)::int FROM (${g})`,y=await e.query(C);l(uze(y))}catch(C){console.error("Error fetching count:",C)}finally{h(!1)}})()},[e,g]),N.useEffect(()=>{(async()=>{try{h(!0);const C=await e.query(`SELECT * FROM (
            ${g}
          ) ${i.length>0?`ORDER BY ${i.map(y=>`${YTe(y.id)}${y.desc?" DESC":""}`).join(", ")}`:""}
          OFFSET ${s.pageIndex*s.pageSize}
          LIMIT ${s.pageSize}`);u(C)}catch(C){console.error("Error fetching data:",C)}finally{h(!1)}})()},[s,i,e,g]);const _=o0e(c),v=async()=>{if(n)try{m(!0),await t(n,`export-${YGe(5)}.csv`)}finally{m(!1)}};return R.jsx(yje,{..._,pageCount:Math.ceil((a??0)/s.pageSize),numRows:a,isFetching:d,pagination:s,onPaginationChange:o,sorting:i,onSortingChange:r,onExport:v,isExporting:f})},Ije=n=>R.jsx(N.Suspense,{fallback:R.jsx(lO,{className:"h-full w-full"}),children:N.createElement(Rje,{...n,key:n.query})});function hm(){return hm=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hm.apply(this,arguments)}function Nje(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var Lje=["bottom","height","left","right","top","width"],Oje=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Lje.some(function(i){return e[i]!==t[i]})},jf=new Map,a0e,xje=function n(){var e=[];jf.forEach(function(t,i){var r=i.getBoundingClientRect();Oje(r,t.rect)&&(t.rect=r,e.push(t))}),e.forEach(function(t){t.callbacks.forEach(function(i){return i(t.rect)})}),a0e=window.requestAnimationFrame(n)};function Dje(n,e){return{observe:function(){var i=jf.size===0;jf.has(n)?jf.get(n).callbacks.push(e):jf.set(n,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),i&&xje()},unobserve:function(){var i=jf.get(n);if(i){var r=i.callbacks.indexOf(e);r>=0&&i.callbacks.splice(r,1),i.callbacks.length||jf.delete(n),jf.size||cancelAnimationFrame(a0e)}}}}var RO=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function Pje(n,e){e===void 0&&(e={width:0,height:0});var t=Z.useState(n.current),i=t[0],r=t[1],s=Z.useReducer(kje,e),o=s[0],a=s[1],l=Z.useRef(!1);return RO(function(){n.current!==i&&r(n.current)}),RO(function(){if(i&&!l.current){l.current=!0;var c=i.getBoundingClientRect();a({rect:c})}},[i]),Z.useEffect(function(){if(i){var c=Dje(i,function(u){a({rect:u})});return c.observe(),function(){c.unobserve()}}},[i]),o}function kje(n,e){var t=e.rect;return n.height!==t.height||n.width!==t.width?t:n}var Mje=function(){return 50},Fje=function(e){return e},Bje=function(e,t){var i=t?"offsetWidth":"offsetHeight";return e[i]},Uje=function(e){for(var t=Math.max(e.start-e.overscan,0),i=Math.min(e.end+e.overscan,e.size-1),r=[],s=t;s<=i;s++)r.push(s);return r};function Hje(n){var e,t=n.size,i=t===void 0?0:t,r=n.estimateSize,s=r===void 0?Mje:r,o=n.overscan,a=o===void 0?1:o,l=n.paddingStart,c=l===void 0?0:l,u=n.paddingEnd,d=u===void 0?0:u,h=n.parentRef,f=n.horizontal,m=n.scrollToFn,g=n.useObserver,_=n.initialRect,v=n.onScrollElement,S=n.scrollOffsetFn,C=n.keyExtractor,y=C===void 0?Fje:C,b=n.measureSize,w=b===void 0?Bje:b,I=n.rangeExtractor,O=I===void 0?Uje:I,x=f?"width":"height",k=f?"scrollLeft":"scrollTop",P=Z.useRef({scrollOffset:0,measurements:[]}),M=Z.useState(0),W=M[0],F=M[1];P.current.scrollOffset=W;var H=g||Pje,V=H(h,_),Y=V[x];P.current.outerSize=Y;var $=Z.useCallback(function(vt){h.current&&(h.current[k]=vt)},[h,k]),K=m||$;m=Z.useCallback(function(vt){K(vt,$)},[$,K]);var re=Z.useState({}),G=re[0],J=re[1],z=Z.useCallback(function(){return J({})},[]),j=Z.useRef([]),ne=Z.useMemo(function(){var vt=j.current.length>0?Math.min.apply(Math,j.current):0;j.current=[];for(var Yt=P.current.measurements.slice(0,vt),_t=vt;_t<i;_t++){var ae=y(_t),Se=G[ae],De=Yt[_t-1]?Yt[_t-1].end:c,je=typeof Se=="number"?Se:s(_t),Ye=De+je;Yt[_t]={index:_t,start:De,size:je,end:Ye,key:ae}}return Yt},[s,G,c,i,y]),le=(((e=ne[i-1])==null?void 0:e.end)||c)+d;P.current.measurements=ne,P.current.totalSize=le;var q=v?v.current:h.current,he=Z.useRef(S);he.current=S,RO(function(){if(!q){F(0);return}var vt=function(_t){var ae=he.current?he.current(_t):q[k];F(ae)};return vt(),q.addEventListener("scroll",vt,{capture:!1,passive:!0}),function(){q.removeEventListener("scroll",vt)}},[q,k]);var ue=Wje(P.current),pe=ue.start,Ae=ue.end,me=Z.useMemo(function(){return O({start:pe,end:Ae,overscan:a,size:ne.length})},[pe,Ae,a,ne.length,O]),Te=Z.useRef(w);Te.current=w;var Oe=Z.useMemo(function(){for(var vt=[],Yt=function(De,je){var Ye=me[De],ze=ne[Ye],lt=hm(hm({},ze),{},{measureRef:function(Tn){if(Tn){var wn=Te.current(Tn,f);if(wn!==lt.size){var fs=P.current.scrollOffset;lt.start<fs&&$(fs+(wn-lt.size)),j.current.push(Ye),J(function(gs){var Ci;return hm(hm({},gs),{},(Ci={},Ci[lt.key]=wn,Ci))})}}}});vt.push(lt)},_t=0,ae=me.length;_t<ae;_t++)Yt(_t);return vt},[me,$,f,ne]),ft=Z.useRef(!1);RO(function(){ft.current&&J({}),ft.current=!0},[s]);var kt=Z.useCallback(function(vt,Yt){var _t=Yt===void 0?{}:Yt,ae=_t.align,Se=ae===void 0?"start":ae,De=P.current,je=De.scrollOffset,Ye=De.outerSize;Se==="auto"&&(vt<=je?Se="start":vt>=je+Ye?Se="end":Se="start"),Se==="start"?m(vt):Se==="end"?m(vt-Ye):Se==="center"&&m(vt-Ye/2)},[m]),Vt=Z.useCallback(function(vt,Yt){var _t=Yt===void 0?{}:Yt,ae=_t.align,Se=ae===void 0?"auto":ae,De=Nje(_t,["align"]),je=P.current,Ye=je.measurements,ze=je.scrollOffset,lt=je.outerSize,Xt=Ye[Math.max(0,Math.min(vt,i-1))];if(Xt){if(Se==="auto")if(Xt.end>=ze+lt)Se="end";else if(Xt.start<=ze)Se="start";else return;var Tn=Se==="center"?Xt.start+Xt.size/2:Se==="end"?Xt.end:Xt.start;kt(Tn,hm({align:Se},De))}},[kt,i]),yt=Z.useCallback(function(){for(var vt=arguments.length,Yt=new Array(vt),_t=0;_t<vt;_t++)Yt[_t]=arguments[_t];Vt.apply(void 0,Yt),requestAnimationFrame(function(){Vt.apply(void 0,Yt)})},[Vt]);return{virtualItems:Oe,totalSize:le,scrollToOffset:kt,scrollToIndex:yt,measure:z}}var Vje=function(e,t,i,r){for(;e<=t;){var s=(e+t)/2|0,o=i(s);if(o<r)e=s+1;else if(o>r)t=s-1;else return s}return e>0?e-1:0};function Wje(n){for(var e=n.measurements,t=n.outerSize,i=n.scrollOffset,r=e.length-1,s=function(c){return e[c].start},o=Vje(0,r,s,i),a=o;a<r&&e[a].end<i+t;)a++;return{start:o,end:a}}const $je=N.memo(function({data:e,columns:t,isPreview:i}){var m,g;const[r,s]=N.useState([]),o=rK({columns:t,data:e,onSortingChange:s,getCoreRowModel:nK(),getSortedRowModel:iK(),state:{sorting:r}}),a=N.useRef(null),{rows:l}=o.getRowModel(),c=Hje({parentRef:a,size:l.length,overscan:20}),{virtualItems:u,totalSize:d}=c,h=u.length>0&&((m=u==null?void 0:u[0])==null?void 0:m.start)||0,f=u.length>0?d-(((g=u==null?void 0:u[u.length-1])==null?void 0:g.end)||0):0;return R.jsxs("div",{className:"flex flex-col overflow-hidden",children:[R.jsx("div",{className:"border-border overflow-hidden border",children:R.jsx("div",{ref:a,className:"h-full overflow-auto",children:R.jsxs(SY,{disableWrapper:!0,children:[R.jsx(CY,{children:o.getHeaderGroups().map(_=>R.jsxs(Pm,{children:[R.jsx(CS,{className:"bg-background sticky left-0 top-0 z-20 w-auto whitespace-nowrap border-r py-2 text-center"}),_.headers.map(v=>{const S=v.column.columnDef.meta;return R.jsx(CS,{className:`bg-background hover:bg-muted/80 sticky top-0 z-10 cursor-pointer whitespace-nowrap border-r px-7 py-2 font-mono ${S!=null&&S.isNumeric?"text-right":"text-left"} `,onClick:v.column.getToggleSortingHandler(),children:R.jsxs("div",{className:`flex items-center gap-1 ${S!=null&&S.isNumeric?"justify-end":"justify-start"}`,children:[lC(v.column.columnDef.header,v.getContext()),v.column.getIsSorted()?v.column.getIsSorted()==="desc"?R.jsx(qTe,{className:"h-4 w-4"}):R.jsx(XTe,{className:"h-4 w-4"}):null,R.jsx("div",{className:"flex-1"}),R.jsx(hEe,{variant:"outline",className:"text-[9px] opacity-30",children:String(S==null?void 0:S.type)})]})},v.id)})]},_.id))}),R.jsxs(yY,{children:[h>0&&R.jsx(Pm,{children:R.jsx(gg,{style:{height:`${h}px`}})}),u.map(_=>{const v=l[_.index];return v?R.jsxs(Pm,{className:"hover:bg-muted/50",children:[R.jsx(gg,{className:"bg-muted text-muted-foreground sticky left-0 border-r text-center text-xs",children:_.index+1}),v.getVisibleCells().map(S=>{const C=S.column.columnDef.meta;return R.jsx(gg,{className:`max-w-[500px] overflow-hidden truncate border-r px-7 text-xs ${C!=null&&C.isNumeric?"text-right":"text-left"} `,children:lC(S.column.columnDef.cell,S.getContext())},S.id)})]},v.id):null}),f>0&&R.jsx(Pm,{children:R.jsx(gg,{style:{height:`${f}px`}})})]})]})})}),R.jsx("div",{className:"bg-background sticky bottom-0 left-0 border border-t-0 px-4 py-2 font-mono text-xs",children:`${i?"Preview of the first ":""}${H9(e.length)} rows`})]})});function Gje(n){const{isPreview:e,isFetching:t,error:i,...r}=n,{data:s,columns:o}=r;return i?R.jsx(gSe,{error:i}):t?R.jsx(lO,{h:"100%"}):s&&o?R.jsx($je,{data:s,columns:o,isPreview:e}):null}/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zje=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l0e=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jje={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yje=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>N.createElement("svg",{ref:l,...jje,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:l0e("lucide",r),...a},[...o.map(([c,u])=>N.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=(n,e)=>{const t=N.forwardRef(({className:i,...r},s)=>N.createElement(Yje,{ref:s,iconNode:e,className:l0e(`lucide-${zje(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kje=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jie=fy("BookOpen",Kje);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qje=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Xje=fy("Download",qje);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qje=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Zje=fy("EllipsisVertical",Qje);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jje=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],eYe=fy("Play",Jje);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tYe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ere=fy("Plus",tYe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nYe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],iYe=fy("Table",nYe),rYe=({isOpen:n,onClose:e,onConfirm:t})=>R.jsx(Fj,{open:n,onOpenChange:i=>!i&&e(),children:R.jsxs(Ok,{children:[R.jsxs(xk,{children:[R.jsx(Pk,{children:"Delete Query"}),R.jsx(Bj,{children:"Are you sure you want to delete this query? This action cannot be undone."})]}),R.jsxs(Dk,{children:[R.jsx(Yr,{variant:"outline",onClick:e,children:"Cancel"}),R.jsx(Yr,{variant:"destructive",onClick:t,children:"Delete"})]})]})}),sYe=FY({queryName:g1().min(1,"Query name is required")}),oYe=({isOpen:n,onClose:e,initialName:t,onRename:i})=>{const r=k_e({resolver:F_e(sYe),defaultValues:{queryName:t}});function s(o){i(o.queryName),e()}return R.jsx(Fj,{open:n,onOpenChange:o=>!o&&e(),children:R.jsxs(Ok,{children:[R.jsx(xk,{children:R.jsx(Pk,{children:"Rename Query"})}),R.jsx(_Se,{...r,children:R.jsxs("form",{onSubmit:r.handleSubmit(s),className:"space-y-4",children:[R.jsx(_9,{control:r.control,name:"queryName",render:({field:o})=>R.jsxs(eO,{children:[R.jsx(tO,{children:"Query Name"}),R.jsx(nO,{children:R.jsx(jk,{...o,autoFocus:!0,placeholder:"Enter query name"})}),R.jsx(iO,{})]})}),R.jsxs(Dk,{children:[R.jsx(Yr,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),R.jsx(Yr,{type:"submit",children:"Save"})]})]})})]})})};var Q4,tre;function c0e(){if(tre)return Q4;tre=1;var n=typeof uo=="object"&&uo&&uo.Object===Object&&uo;return Q4=n,Q4}var Z4,nre;function Id(){if(nre)return Z4;nre=1;var n=c0e(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Z4=t,Z4}var J4,ire;function cA(){if(ire)return J4;ire=1;var n=Id(),e=n.Symbol;return J4=e,J4}var e5,rre;function aYe(){if(rre)return e5;rre=1;var n=cA(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,r=n?n.toStringTag:void 0;function s(o){var a=t.call(o,r),l=o[r];try{o[r]=void 0;var c=!0}catch{}var u=i.call(o);return c&&(a?o[r]=l:delete o[r]),u}return e5=s,e5}var t5,sre;function lYe(){if(sre)return t5;sre=1;var n=Object.prototype,e=n.toString;function t(i){return e.call(i)}return t5=t,t5}var n5,ore;function lf(){if(ore)return n5;ore=1;var n=cA(),e=aYe(),t=lYe(),i="[object Null]",r="[object Undefined]",s=n?n.toStringTag:void 0;function o(a){return a==null?a===void 0?r:i:s&&s in Object(a)?e(a):t(a)}return n5=o,n5}var i5,are;function fp(){if(are)return i5;are=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return i5=n,i5}var r5,lre;function sK(){if(lre)return r5;lre=1;var n=lf(),e=fp(),t="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=n(a);return l==i||l==r||l==t||l==s}return r5=o,r5}var s5,cre;function cYe(){if(cre)return s5;cre=1;var n=Id(),e=n["__core-js_shared__"];return s5=e,s5}var o5,ure;function uYe(){if(ure)return o5;ure=1;var n=cYe(),e=function(){var i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function t(i){return!!e&&e in i}return o5=t,o5}var a5,dre;function u0e(){if(dre)return a5;dre=1;var n=Function.prototype,e=n.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return a5=t,a5}var l5,hre;function dYe(){if(hre)return l5;hre=1;var n=sK(),e=uYe(),t=fp(),i=u0e(),r=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=RegExp("^"+l.call(c).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!t(h)||e(h))return!1;var f=n(h)?u:s;return f.test(i(h))}return l5=d,l5}var c5,fre;function hYe(){if(fre)return c5;fre=1;function n(e,t){return e==null?void 0:e[t]}return c5=n,c5}var u5,gre;function Z_(){if(gre)return u5;gre=1;var n=dYe(),e=hYe();function t(i,r){var s=e(i,r);return n(s)?s:void 0}return u5=t,u5}var d5,pre;function d0e(){if(pre)return d5;pre=1;var n=Z_(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return d5=e,d5}var h5,mre;function fYe(){if(mre)return h5;mre=1;var n=d0e();function e(t,i,r){i=="__proto__"&&n?n(t,i,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[i]=r}return h5=e,h5}var f5,_re;function gYe(){if(_re)return f5;_re=1;function n(e){return function(t,i,r){for(var s=-1,o=Object(t),a=r(t),l=a.length;l--;){var c=a[e?l:++s];if(i(o[c],c,o)===!1)break}return t}}return f5=n,f5}var g5,Ere;function pYe(){if(Ere)return g5;Ere=1;var n=gYe(),e=n();return g5=e,g5}var p5,vre;function mYe(){if(vre)return p5;vre=1;function n(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}return p5=n,p5}var m5,Sre;function cf(){if(Sre)return m5;Sre=1;function n(e){return e!=null&&typeof e=="object"}return m5=n,m5}var _5,Cre;function _Ye(){if(Cre)return _5;Cre=1;var n=lf(),e=cf(),t="[object Arguments]";function i(r){return e(r)&&n(r)==t}return _5=i,_5}var E5,yre;function oK(){if(yre)return E5;yre=1;var n=_Ye(),e=cf(),t=Object.prototype,i=t.hasOwnProperty,r=t.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(o){return e(o)&&i.call(o,"callee")&&!r.call(o,"callee")};return E5=s,E5}var v5,bre;function Ja(){if(bre)return v5;bre=1;var n=Array.isArray;return v5=n,v5}var mT={exports:{}},S5,Tre;function EYe(){if(Tre)return S5;Tre=1;function n(){return!1}return S5=n,S5}mT.exports;var wre;function h0e(){return wre||(wre=1,function(n,e){var t=Id(),i=EYe(),r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,o=s&&s.exports===r,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||i;n.exports=c}(mT,mT.exports)),mT.exports}var C5,Are;function aK(){if(Are)return C5;Are=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,r){var s=typeof i;return r=r??n,!!r&&(s=="number"||s!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<r}return C5=t,C5}var y5,Rre;function lK(){if(Rre)return y5;Rre=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return y5=e,y5}var b5,Ire;function vYe(){if(Ire)return b5;Ire=1;var n=lf(),e=lK(),t=cf(),i="[object Arguments]",r="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",h="[object RegExp]",f="[object Set]",m="[object String]",g="[object WeakMap]",_="[object ArrayBuffer]",v="[object DataView]",S="[object Float32Array]",C="[object Float64Array]",y="[object Int8Array]",b="[object Int16Array]",w="[object Int32Array]",I="[object Uint8Array]",O="[object Uint8ClampedArray]",x="[object Uint16Array]",k="[object Uint32Array]",P={};P[S]=P[C]=P[y]=P[b]=P[w]=P[I]=P[O]=P[x]=P[k]=!0,P[i]=P[r]=P[_]=P[s]=P[v]=P[o]=P[a]=P[l]=P[c]=P[u]=P[d]=P[h]=P[f]=P[m]=P[g]=!1;function M(W){return t(W)&&e(W.length)&&!!P[n(W)]}return b5=M,b5}var T5,Nre;function f0e(){if(Nre)return T5;Nre=1;function n(e){return function(t){return e(t)}}return T5=n,T5}var _T={exports:{}};_T.exports;var Lre;function SYe(){return Lre||(Lre=1,function(n,e){var t=c0e(),i=e&&!e.nodeType&&e,r=i&&!0&&n&&!n.nodeType&&n,s=r&&r.exports===i,o=s&&t.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();n.exports=a}(_T,_T.exports)),_T.exports}var w5,Ore;function g0e(){if(Ore)return w5;Ore=1;var n=vYe(),e=f0e(),t=SYe(),i=t&&t.isTypedArray,r=i?e(i):n;return w5=r,w5}var A5,xre;function CYe(){if(xre)return A5;xre=1;var n=mYe(),e=oK(),t=Ja(),i=h0e(),r=aK(),s=g0e(),o=Object.prototype,a=o.hasOwnProperty;function l(c,u){var d=t(c),h=!d&&e(c),f=!d&&!h&&i(c),m=!d&&!h&&!f&&s(c),g=d||h||f||m,_=g?n(c.length,String):[],v=_.length;for(var S in c)(u||a.call(c,S))&&!(g&&(S=="length"||f&&(S=="offset"||S=="parent")||m&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||r(S,v)))&&_.push(S);return _}return A5=l,A5}var R5,Dre;function yYe(){if(Dre)return R5;Dre=1;var n=Object.prototype;function e(t){var i=t&&t.constructor,r=typeof i=="function"&&i.prototype||n;return t===r}return R5=e,R5}var I5,Pre;function p0e(){if(Pre)return I5;Pre=1;function n(e,t){return function(i){return e(t(i))}}return I5=n,I5}var N5,kre;function bYe(){if(kre)return N5;kre=1;var n=p0e(),e=n(Object.keys,Object);return N5=e,N5}var L5,Mre;function TYe(){if(Mre)return L5;Mre=1;var n=yYe(),e=bYe(),t=Object.prototype,i=t.hasOwnProperty;function r(s){if(!n(s))return e(s);var o=[];for(var a in Object(s))i.call(s,a)&&a!="constructor"&&o.push(a);return o}return L5=r,L5}var O5,Fre;function uA(){if(Fre)return O5;Fre=1;var n=sK(),e=lK();function t(i){return i!=null&&e(i.length)&&!n(i)}return O5=t,O5}var x5,Bre;function EM(){if(Bre)return x5;Bre=1;var n=CYe(),e=TYe(),t=uA();function i(r){return t(r)?n(r):e(r)}return x5=i,x5}var D5,Ure;function m0e(){if(Ure)return D5;Ure=1;var n=pYe(),e=EM();function t(i,r){return i&&n(i,r,e)}return D5=t,D5}var P5,Hre;function wYe(){if(Hre)return P5;Hre=1;var n=uA();function e(t,i){return function(r,s){if(r==null)return r;if(!n(r))return t(r,s);for(var o=r.length,a=i?o:-1,l=Object(r);(i?a--:++a<o)&&s(l[a],a,l)!==!1;);return r}}return P5=e,P5}var k5,Vre;function cK(){if(Vre)return k5;Vre=1;var n=m0e(),e=wYe(),t=e(n);return k5=t,k5}var M5,Wre;function AYe(){if(Wre)return M5;Wre=1;function n(){this.__data__=[],this.size=0}return M5=n,M5}var F5,$re;function uK(){if($re)return F5;$re=1;function n(e,t){return e===t||e!==e&&t!==t}return F5=n,F5}var B5,Gre;function vM(){if(Gre)return B5;Gre=1;var n=uK();function e(t,i){for(var r=t.length;r--;)if(n(t[r][0],i))return r;return-1}return B5=e,B5}var U5,zre;function RYe(){if(zre)return U5;zre=1;var n=vM(),e=Array.prototype,t=e.splice;function i(r){var s=this.__data__,o=n(s,r);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():t.call(s,o,1),--this.size,!0}return U5=i,U5}var H5,jre;function IYe(){if(jre)return H5;jre=1;var n=vM();function e(t){var i=this.__data__,r=n(i,t);return r<0?void 0:i[r][1]}return H5=e,H5}var V5,Yre;function NYe(){if(Yre)return V5;Yre=1;var n=vM();function e(t){return n(this.__data__,t)>-1}return V5=e,V5}var W5,Kre;function LYe(){if(Kre)return W5;Kre=1;var n=vM();function e(t,i){var r=this.__data__,s=n(r,t);return s<0?(++this.size,r.push([t,i])):r[s][1]=i,this}return W5=e,W5}var $5,qre;function SM(){if(qre)return $5;qre=1;var n=AYe(),e=RYe(),t=IYe(),i=NYe(),r=LYe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=i,s.prototype.set=r,$5=s,$5}var G5,Xre;function OYe(){if(Xre)return G5;Xre=1;var n=SM();function e(){this.__data__=new n,this.size=0}return G5=e,G5}var z5,Qre;function xYe(){if(Qre)return z5;Qre=1;function n(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return z5=n,z5}var j5,Zre;function DYe(){if(Zre)return j5;Zre=1;function n(e){return this.__data__.get(e)}return j5=n,j5}var Y5,Jre;function PYe(){if(Jre)return Y5;Jre=1;function n(e){return this.__data__.has(e)}return Y5=n,Y5}var K5,ese;function dK(){if(ese)return K5;ese=1;var n=Z_(),e=Id(),t=n(e,"Map");return K5=t,K5}var q5,tse;function CM(){if(tse)return q5;tse=1;var n=Z_(),e=n(Object,"create");return q5=e,q5}var X5,nse;function kYe(){if(nse)return X5;nse=1;var n=CM();function e(){this.__data__=n?n(null):{},this.size=0}return X5=e,X5}var Q5,ise;function MYe(){if(ise)return Q5;ise=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Q5=n,Q5}var Z5,rse;function FYe(){if(rse)return Z5;rse=1;var n=CM(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function r(s){var o=this.__data__;if(n){var a=o[s];return a===e?void 0:a}return i.call(o,s)?o[s]:void 0}return Z5=r,Z5}var J5,sse;function BYe(){if(sse)return J5;sse=1;var n=CM(),e=Object.prototype,t=e.hasOwnProperty;function i(r){var s=this.__data__;return n?s[r]!==void 0:t.call(s,r)}return J5=i,J5}var eU,ose;function UYe(){if(ose)return eU;ose=1;var n=CM(),e="__lodash_hash_undefined__";function t(i,r){var s=this.__data__;return this.size+=this.has(i)?0:1,s[i]=n&&r===void 0?e:r,this}return eU=t,eU}var tU,ase;function HYe(){if(ase)return tU;ase=1;var n=kYe(),e=MYe(),t=FYe(),i=BYe(),r=UYe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=i,s.prototype.set=r,tU=s,tU}var nU,lse;function VYe(){if(lse)return nU;lse=1;var n=HYe(),e=SM(),t=dK();function i(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return nU=i,nU}var iU,cse;function WYe(){if(cse)return iU;cse=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return iU=n,iU}var rU,use;function yM(){if(use)return rU;use=1;var n=WYe();function e(t,i){var r=t.__data__;return n(i)?r[typeof i=="string"?"string":"hash"]:r.map}return rU=e,rU}var sU,dse;function $Ye(){if(dse)return sU;dse=1;var n=yM();function e(t){var i=n(this,t).delete(t);return this.size-=i?1:0,i}return sU=e,sU}var oU,hse;function GYe(){if(hse)return oU;hse=1;var n=yM();function e(t){return n(this,t).get(t)}return oU=e,oU}var aU,fse;function zYe(){if(fse)return aU;fse=1;var n=yM();function e(t){return n(this,t).has(t)}return aU=e,aU}var lU,gse;function jYe(){if(gse)return lU;gse=1;var n=yM();function e(t,i){var r=n(this,t),s=r.size;return r.set(t,i),this.size+=r.size==s?0:1,this}return lU=e,lU}var cU,pse;function hK(){if(pse)return cU;pse=1;var n=VYe(),e=$Ye(),t=GYe(),i=zYe(),r=jYe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=i,s.prototype.set=r,cU=s,cU}var uU,mse;function YYe(){if(mse)return uU;mse=1;var n=SM(),e=dK(),t=hK(),i=200;function r(s,o){var a=this.__data__;if(a instanceof n){var l=a.__data__;if(!e||l.length<i-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new t(l)}return a.set(s,o),this.size=a.size,this}return uU=r,uU}var dU,_se;function _0e(){if(_se)return dU;_se=1;var n=SM(),e=OYe(),t=xYe(),i=DYe(),r=PYe(),s=YYe();function o(a){var l=this.__data__=new n(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=i,o.prototype.has=r,o.prototype.set=s,dU=o,dU}var hU,Ese;function KYe(){if(Ese)return hU;Ese=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return hU=e,hU}var fU,vse;function qYe(){if(vse)return fU;vse=1;function n(e){return this.__data__.has(e)}return fU=n,fU}var gU,Sse;function E0e(){if(Sse)return gU;Sse=1;var n=hK(),e=KYe(),t=qYe();function i(r){var s=-1,o=r==null?0:r.length;for(this.__data__=new n;++s<o;)this.add(r[s])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,gU=i,gU}var pU,Cse;function v0e(){if(Cse)return pU;Cse=1;function n(e,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}return pU=n,pU}var mU,yse;function S0e(){if(yse)return mU;yse=1;function n(e,t){return e.has(t)}return mU=n,mU}var _U,bse;function C0e(){if(bse)return _U;bse=1;var n=E0e(),e=v0e(),t=S0e(),i=1,r=2;function s(o,a,l,c,u,d){var h=l&i,f=o.length,m=a.length;if(f!=m&&!(h&&m>f))return!1;var g=d.get(o),_=d.get(a);if(g&&_)return g==a&&_==o;var v=-1,S=!0,C=l&r?new n:void 0;for(d.set(o,a),d.set(a,o);++v<f;){var y=o[v],b=a[v];if(c)var w=h?c(b,y,v,a,o,d):c(y,b,v,o,a,d);if(w!==void 0){if(w)continue;S=!1;break}if(C){if(!e(a,function(I,O){if(!t(C,O)&&(y===I||u(y,I,l,c,d)))return C.push(O)})){S=!1;break}}else if(!(y===b||u(y,b,l,c,d))){S=!1;break}}return d.delete(o),d.delete(a),S}return _U=s,_U}var EU,Tse;function XYe(){if(Tse)return EU;Tse=1;var n=Id(),e=n.Uint8Array;return EU=e,EU}var vU,wse;function QYe(){if(wse)return vU;wse=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r,s){i[++t]=[s,r]}),i}return vU=n,vU}var SU,Ase;function fK(){if(Ase)return SU;Ase=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r){i[++t]=r}),i}return SU=n,SU}var CU,Rse;function ZYe(){if(Rse)return CU;Rse=1;var n=cA(),e=XYe(),t=uK(),i=C0e(),r=QYe(),s=fK(),o=1,a=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",h="[object Number]",f="[object RegExp]",m="[object Set]",g="[object String]",_="[object Symbol]",v="[object ArrayBuffer]",S="[object DataView]",C=n?n.prototype:void 0,y=C?C.valueOf:void 0;function b(w,I,O,x,k,P,M){switch(O){case S:if(w.byteLength!=I.byteLength||w.byteOffset!=I.byteOffset)return!1;w=w.buffer,I=I.buffer;case v:return!(w.byteLength!=I.byteLength||!P(new e(w),new e(I)));case l:case c:case h:return t(+w,+I);case u:return w.name==I.name&&w.message==I.message;case f:case g:return w==I+"";case d:var W=r;case m:var F=x&o;if(W||(W=s),w.size!=I.size&&!F)return!1;var H=M.get(w);if(H)return H==I;x|=a,M.set(w,I);var V=i(W(w),W(I),x,k,P,M);return M.delete(w),V;case _:if(y)return y.call(w)==y.call(I)}return!1}return CU=b,CU}var yU,Ise;function y0e(){if(Ise)return yU;Ise=1;function n(e,t){for(var i=-1,r=t.length,s=e.length;++i<r;)e[s+i]=t[i];return e}return yU=n,yU}var bU,Nse;function JYe(){if(Nse)return bU;Nse=1;var n=y0e(),e=Ja();function t(i,r,s){var o=r(i);return e(i)?o:n(o,s(i))}return bU=t,bU}var TU,Lse;function eKe(){if(Lse)return TU;Lse=1;function n(e,t){for(var i=-1,r=e==null?0:e.length,s=0,o=[];++i<r;){var a=e[i];t(a,i,e)&&(o[s++]=a)}return o}return TU=n,TU}var wU,Ose;function tKe(){if(Ose)return wU;Ose=1;function n(){return[]}return wU=n,wU}var AU,xse;function nKe(){if(xse)return AU;xse=1;var n=eKe(),e=tKe(),t=Object.prototype,i=t.propertyIsEnumerable,r=Object.getOwnPropertySymbols,s=r?function(o){return o==null?[]:(o=Object(o),n(r(o),function(a){return i.call(o,a)}))}:e;return AU=s,AU}var RU,Dse;function iKe(){if(Dse)return RU;Dse=1;var n=JYe(),e=nKe(),t=EM();function i(r){return n(r,t,e)}return RU=i,RU}var IU,Pse;function rKe(){if(Pse)return IU;Pse=1;var n=iKe(),e=1,t=Object.prototype,i=t.hasOwnProperty;function r(s,o,a,l,c,u){var d=a&e,h=n(s),f=h.length,m=n(o),g=m.length;if(f!=g&&!d)return!1;for(var _=f;_--;){var v=h[_];if(!(d?v in o:i.call(o,v)))return!1}var S=u.get(s),C=u.get(o);if(S&&C)return S==o&&C==s;var y=!0;u.set(s,o),u.set(o,s);for(var b=d;++_<f;){v=h[_];var w=s[v],I=o[v];if(l)var O=d?l(I,w,v,o,s,u):l(w,I,v,s,o,u);if(!(O===void 0?w===I||c(w,I,a,l,u):O)){y=!1;break}b||(b=v=="constructor")}if(y&&!b){var x=s.constructor,k=o.constructor;x!=k&&"constructor"in s&&"constructor"in o&&!(typeof x=="function"&&x instanceof x&&typeof k=="function"&&k instanceof k)&&(y=!1)}return u.delete(s),u.delete(o),y}return IU=r,IU}var NU,kse;function sKe(){if(kse)return NU;kse=1;var n=Z_(),e=Id(),t=n(e,"DataView");return NU=t,NU}var LU,Mse;function oKe(){if(Mse)return LU;Mse=1;var n=Z_(),e=Id(),t=n(e,"Promise");return LU=t,LU}var OU,Fse;function b0e(){if(Fse)return OU;Fse=1;var n=Z_(),e=Id(),t=n(e,"Set");return OU=t,OU}var xU,Bse;function aKe(){if(Bse)return xU;Bse=1;var n=Z_(),e=Id(),t=n(e,"WeakMap");return xU=t,xU}var DU,Use;function lKe(){if(Use)return DU;Use=1;var n=sKe(),e=dK(),t=oKe(),i=b0e(),r=aKe(),s=lf(),o=u0e(),a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",h="[object DataView]",f=o(n),m=o(e),g=o(t),_=o(i),v=o(r),S=s;return(n&&S(new n(new ArrayBuffer(1)))!=h||e&&S(new e)!=a||t&&S(t.resolve())!=c||i&&S(new i)!=u||r&&S(new r)!=d)&&(S=function(C){var y=s(C),b=y==l?C.constructor:void 0,w=b?o(b):"";if(w)switch(w){case f:return h;case m:return a;case g:return c;case _:return u;case v:return d}return y}),DU=S,DU}var PU,Hse;function cKe(){if(Hse)return PU;Hse=1;var n=_0e(),e=C0e(),t=ZYe(),i=rKe(),r=lKe(),s=Ja(),o=h0e(),a=g0e(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",h=Object.prototype,f=h.hasOwnProperty;function m(g,_,v,S,C,y){var b=s(g),w=s(_),I=b?u:r(g),O=w?u:r(_);I=I==c?d:I,O=O==c?d:O;var x=I==d,k=O==d,P=I==O;if(P&&o(g)){if(!o(_))return!1;b=!0,x=!1}if(P&&!x)return y||(y=new n),b||a(g)?e(g,_,v,S,C,y):t(g,_,I,v,S,C,y);if(!(v&l)){var M=x&&f.call(g,"__wrapped__"),W=k&&f.call(_,"__wrapped__");if(M||W){var F=M?g.value():g,H=W?_.value():_;return y||(y=new n),C(F,H,v,S,y)}}return P?(y||(y=new n),i(g,_,v,S,C,y)):!1}return PU=m,PU}var kU,Vse;function gK(){if(Vse)return kU;Vse=1;var n=cKe(),e=cf();function t(i,r,s,o,a){return i===r?!0:i==null||r==null||!e(i)&&!e(r)?i!==i&&r!==r:n(i,r,s,o,t,a)}return kU=t,kU}var MU,Wse;function uKe(){if(Wse)return MU;Wse=1;var n=_0e(),e=gK(),t=1,i=2;function r(s,o,a,l){var c=a.length,u=c,d=!l;if(s==null)return!u;for(s=Object(s);c--;){var h=a[c];if(d&&h[2]?h[1]!==s[h[0]]:!(h[0]in s))return!1}for(;++c<u;){h=a[c];var f=h[0],m=s[f],g=h[1];if(d&&h[2]){if(m===void 0&&!(f in s))return!1}else{var _=new n;if(l)var v=l(m,g,f,s,o,_);if(!(v===void 0?e(g,m,t|i,l,_):v))return!1}}return!0}return MU=r,MU}var FU,$se;function T0e(){if($se)return FU;$se=1;var n=fp();function e(t){return t===t&&!n(t)}return FU=e,FU}var BU,Gse;function dKe(){if(Gse)return BU;Gse=1;var n=T0e(),e=EM();function t(i){for(var r=e(i),s=r.length;s--;){var o=r[s],a=i[o];r[s]=[o,a,n(a)]}return r}return BU=t,BU}var UU,zse;function w0e(){if(zse)return UU;zse=1;function n(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return UU=n,UU}var HU,jse;function hKe(){if(jse)return HU;jse=1;var n=uKe(),e=dKe(),t=w0e();function i(r){var s=e(r);return s.length==1&&s[0][2]?t(s[0][0],s[0][1]):function(o){return o===r||n(o,r,s)}}return HU=i,HU}var VU,Yse;function gy(){if(Yse)return VU;Yse=1;var n=lf(),e=cf(),t="[object Symbol]";function i(r){return typeof r=="symbol"||e(r)&&n(r)==t}return VU=i,VU}var WU,Kse;function pK(){if(Kse)return WU;Kse=1;var n=Ja(),e=gy(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,o){if(n(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:i.test(s)||!t.test(s)||o!=null&&s in Object(o)}return WU=r,WU}var $U,qse;function A0e(){if(qse)return $U;qse=1;var n=hK(),e="Expected a function";function t(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(e);var s=function(){var o=arguments,a=r?r.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var c=i.apply(this,o);return s.cache=l.set(a,c)||l,c};return s.cache=new(t.Cache||n),s}return t.Cache=n,$U=t,$U}var GU,Xse;function fKe(){if(Xse)return GU;Xse=1;var n=A0e(),e=500;function t(i){var r=n(i,function(o){return s.size===e&&s.clear(),o}),s=r.cache;return r}return GU=t,GU}var zU,Qse;function gKe(){if(Qse)return zU;Qse=1;var n=fKe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=n(function(r){var s=[];return r.charCodeAt(0)===46&&s.push(""),r.replace(e,function(o,a,l,c){s.push(l?c.replace(t,"$1"):a||o)}),s});return zU=i,zU}var jU,Zse;function mK(){if(Zse)return jU;Zse=1;function n(e,t){for(var i=-1,r=e==null?0:e.length,s=Array(r);++i<r;)s[i]=t(e[i],i,e);return s}return jU=n,jU}var YU,Jse;function pKe(){if(Jse)return YU;Jse=1;var n=cA(),e=mK(),t=Ja(),i=gy(),r=n?n.prototype:void 0,s=r?r.toString:void 0;function o(a){if(typeof a=="string")return a;if(t(a))return e(a,o)+"";if(i(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return YU=o,YU}var KU,eoe;function R0e(){if(eoe)return KU;eoe=1;var n=pKe();function e(t){return t==null?"":n(t)}return KU=e,KU}var qU,toe;function I0e(){if(toe)return qU;toe=1;var n=Ja(),e=pK(),t=gKe(),i=R0e();function r(s,o){return n(s)?s:e(s,o)?[s]:t(i(s))}return qU=r,qU}var XU,noe;function bM(){if(noe)return XU;noe=1;var n=gy();function e(t){if(typeof t=="string"||n(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return XU=e,XU}var QU,ioe;function _K(){if(ioe)return QU;ioe=1;var n=I0e(),e=bM();function t(i,r){r=n(r,i);for(var s=0,o=r.length;i!=null&&s<o;)i=i[e(r[s++])];return s&&s==o?i:void 0}return QU=t,QU}var ZU,roe;function N0e(){if(roe)return ZU;roe=1;var n=_K();function e(t,i,r){var s=t==null?void 0:n(t,i);return s===void 0?r:s}return ZU=e,ZU}var JU,soe;function mKe(){if(soe)return JU;soe=1;function n(e,t){return e!=null&&t in Object(e)}return JU=n,JU}var eH,ooe;function _Ke(){if(ooe)return eH;ooe=1;var n=I0e(),e=oK(),t=Ja(),i=aK(),r=lK(),s=bM();function o(a,l,c){l=n(l,a);for(var u=-1,d=l.length,h=!1;++u<d;){var f=s(l[u]);if(!(h=a!=null&&c(a,f)))break;a=a[f]}return h||++u!=d?h:(d=a==null?0:a.length,!!d&&r(d)&&i(f,d)&&(t(a)||e(a)))}return eH=o,eH}var tH,aoe;function EKe(){if(aoe)return tH;aoe=1;var n=mKe(),e=_Ke();function t(i,r){return i!=null&&e(i,r,n)}return tH=t,tH}var nH,loe;function vKe(){if(loe)return nH;loe=1;var n=gK(),e=N0e(),t=EKe(),i=pK(),r=T0e(),s=w0e(),o=bM(),a=1,l=2;function c(u,d){return i(u)&&r(d)?s(o(u),d):function(h){var f=e(h,u);return f===void 0&&f===d?t(h,u):n(d,f,a|l)}}return nH=c,nH}var iH,coe;function py(){if(coe)return iH;coe=1;function n(e){return e}return iH=n,iH}var rH,uoe;function SKe(){if(uoe)return rH;uoe=1;function n(e){return function(t){return t==null?void 0:t[e]}}return rH=n,rH}var sH,doe;function CKe(){if(doe)return sH;doe=1;var n=_K();function e(t){return function(i){return n(i,t)}}return sH=e,sH}var oH,hoe;function yKe(){if(hoe)return oH;hoe=1;var n=SKe(),e=CKe(),t=pK(),i=bM();function r(s){return t(s)?n(i(s)):e(s)}return oH=r,oH}var aH,foe;function Nd(){if(foe)return aH;foe=1;var n=hKe(),e=vKe(),t=py(),i=Ja(),r=yKe();function s(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?i(o)?e(o[0],o[1]):n(o):r(o)}return aH=s,aH}var lH,goe;function bKe(){if(goe)return lH;goe=1;var n=p0e(),e=n(Object.getPrototypeOf,Object);return lH=e,lH}var cH={exports:{}},uH,poe;function TKe(){if(poe)return uH;poe=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uH=n,uH}var dH,moe;function wKe(){if(moe)return dH;moe=1;var n=TKe();function e(){}function t(){}return t.resetWarningCache=e,dH=function(){function i(o,a,l,c,u,d){if(d!==n){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},dH}var _oe;function AKe(){return _oe||(_oe=1,cH.exports=wKe()()),cH.exports}var RKe=AKe();const Ui=Si(RKe);var xI={exports:{}},Eoe;function L0e(){if(Eoe)return xI.exports;Eoe=1;var n=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(n){var e=new Uint8Array(16);xI.exports=function(){return n(e),e}}else{var t=new Array(16);xI.exports=function(){for(var r=0,s;r<16;r++)(r&3)===0&&(s=Math.random()*4294967296),t[r]=s>>>((r&3)<<3)&255;return t}}return xI.exports}var hH,voe;function O0e(){if(voe)return hH;voe=1;for(var n=[],e=0;e<256;++e)n[e]=(e+256).toString(16).substr(1);function t(i,r){var s=r||0,o=n;return[o[i[s++]],o[i[s++]],o[i[s++]],o[i[s++]],"-",o[i[s++]],o[i[s++]],"-",o[i[s++]],o[i[s++]],"-",o[i[s++]],o[i[s++]],"-",o[i[s++]],o[i[s++]],o[i[s++]],o[i[s++]],o[i[s++]],o[i[s++]]].join("")}return hH=t,hH}var fH,Soe;function IKe(){if(Soe)return fH;Soe=1;var n=L0e(),e=O0e(),t,i,r=0,s=0;function o(a,l,c){var u=l&&c||0,d=l||[];a=a||{};var h=a.node||t,f=a.clockseq!==void 0?a.clockseq:i;if(h==null||f==null){var m=n();h==null&&(h=t=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),f==null&&(f=i=(m[6]<<8|m[7])&16383)}var g=a.msecs!==void 0?a.msecs:new Date().getTime(),_=a.nsecs!==void 0?a.nsecs:s+1,v=g-r+(_-s)/1e4;if(v<0&&a.clockseq===void 0&&(f=f+1&16383),(v<0||g>r)&&a.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=g,s=_,i=f,g+=122192928e5;var S=((g&268435455)*1e4+_)%4294967296;d[u++]=S>>>24&255,d[u++]=S>>>16&255,d[u++]=S>>>8&255,d[u++]=S&255;var C=g/4294967296*1e4&268435455;d[u++]=C>>>8&255,d[u++]=C&255,d[u++]=C>>>24&15|16,d[u++]=C>>>16&255,d[u++]=f>>>8|128,d[u++]=f&255;for(var y=0;y<6;++y)d[u+y]=h[y];return l||e(d)}return fH=o,fH}var gH,Coe;function NKe(){if(Coe)return gH;Coe=1;var n=L0e(),e=O0e();function t(i,r,s){var o=r&&s||0;typeof i=="string"&&(r=i==="binary"?new Array(16):null,i=null),i=i||{};var a=i.random||(i.rng||n)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,r)for(var l=0;l<16;++l)r[o+l]=a[l];return r||e(a)}return gH=t,gH}var pH,yoe;function LKe(){if(yoe)return pH;yoe=1;var n=IKe(),e=NKe(),t=e;return t.v1=n,t.v4=e,pH=t,pH}var mH,boe;function OKe(){if(boe)return mH;boe=1;var n=cA(),e=oK(),t=Ja(),i=n?n.isConcatSpreadable:void 0;function r(s){return t(s)||e(s)||!!(i&&s&&s[i])}return mH=r,mH}var _H,Toe;function x0e(){if(Toe)return _H;Toe=1;var n=y0e(),e=OKe();function t(i,r,s,o,a){var l=-1,c=i.length;for(s||(s=e),a||(a=[]);++l<c;){var u=i[l];r>0&&s(u)?r>1?t(u,r-1,s,o,a):n(a,u):o||(a[a.length]=u)}return a}return _H=t,_H}var EH,woe;function xKe(){if(woe)return EH;woe=1;var n=/\s/;function e(t){for(var i=t.length;i--&&n.test(t.charAt(i)););return i}return EH=e,EH}var vH,Aoe;function DKe(){if(Aoe)return vH;Aoe=1;var n=xKe(),e=/^\s+/;function t(i){return i&&i.slice(0,n(i)+1).replace(e,"")}return vH=t,vH}var SH,Roe;function D0e(){if(Roe)return SH;Roe=1;var n=DKe(),e=fp(),t=gy(),i=NaN,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(t(c))return i;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=n(c);var d=s.test(c);return d||o.test(c)?a(c.slice(2),d?2:8):r.test(c)?i:+c}return SH=l,SH}var CH,Ioe;function PKe(){if(Ioe)return CH;Ioe=1;var n=Id(),e=function(){return n.Date.now()};return CH=e,CH}var yH,Noe;function kKe(){if(Noe)return yH;Noe=1;var n=fp(),e=PKe(),t=D0e(),i="Expected a function",r=Math.max,s=Math.min;function o(a,l,c){var u,d,h,f,m,g,_=0,v=!1,S=!1,C=!0;if(typeof a!="function")throw new TypeError(i);l=t(l)||0,n(c)&&(v=!!c.leading,S="maxWait"in c,h=S?r(t(c.maxWait)||0,l):h,C="trailing"in c?!!c.trailing:C);function y(W){var F=u,H=d;return u=d=void 0,_=W,f=a.apply(H,F),f}function b(W){return _=W,m=setTimeout(O,l),v?y(W):f}function w(W){var F=W-g,H=W-_,V=l-F;return S?s(V,h-H):V}function I(W){var F=W-g,H=W-_;return g===void 0||F>=l||F<0||S&&H>=h}function O(){var W=e();if(I(W))return x(W);m=setTimeout(O,w(W))}function x(W){return m=void 0,C&&u?y(W):(u=d=void 0,f)}function k(){m!==void 0&&clearTimeout(m),_=0,u=g=d=m=void 0}function P(){return m===void 0?f:x(e())}function M(){var W=e(),F=I(W);if(u=arguments,d=this,g=W,F){if(m===void 0)return b(g);if(S)return clearTimeout(m),m=setTimeout(O,l),y(g)}return m===void 0&&(m=setTimeout(O,l)),f}return M.cancel=k,M.flush=P,M}return yH=o,yH}var bH,Loe;function MKe(){if(Loe)return bH;Loe=1;var n=kKe(),e=fp(),t="Expected a function";function i(r,s,o){var a=!0,l=!0;if(typeof r!="function")throw new TypeError(t);return e(o)&&(a="leading"in o?!!o.leading:a,l="trailing"in o?!!o.trailing:l),n(r,s,{leading:a,maxWait:s,trailing:l})}return bH=i,bH}var TH,Ooe;function FKe(){if(Ooe)return TH;Ooe=1;function n(){}return TH=n,TH}var wH,xoe;function BKe(){if(xoe)return wH;xoe=1;function n(e,t,i){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),i=i>s?s:i,i<0&&(i+=s),s=t>i?0:i-t>>>0,t>>>=0;for(var o=Array(s);++r<s;)o[r]=e[r+t];return o}return wH=n,wH}var AH,Doe;function P0e(){if(Doe)return AH;Doe=1;var n=D0e(),e=1/0,t=17976931348623157e292;function i(r){if(!r)return r===0?r:0;if(r=n(r),r===e||r===-1/0){var s=r<0?-1:1;return s*t}return r===r?r:0}return AH=i,AH}var RH,Poe;function UKe(){if(Poe)return RH;Poe=1;var n=P0e();function e(t){var i=n(t),r=i%1;return i===i?r?i-r:i:0}return RH=e,RH}var IH,koe;function HKe(){if(koe)return IH;koe=1;var n=gK();function e(t,i){return n(t,i)}return IH=e,IH}var NH,Moe;function VKe(){if(Moe)return NH;Moe=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return NH=n,NH}var LH,Foe;function WKe(){if(Foe)return LH;Foe=1;function n(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return LH=n,LH}var OH,Boe;function $Ke(){if(Boe)return OH;Boe=1;var n=WKe(),e=Math.max;function t(i,r,s){return r=e(r===void 0?i.length-1:r,0),function(){for(var o=arguments,a=-1,l=e(o.length-r,0),c=Array(l);++a<l;)c[a]=o[r+a];a=-1;for(var u=Array(r+1);++a<r;)u[a]=o[a];return u[r]=s(c),n(i,this,u)}}return OH=t,OH}var xH,Uoe;function GKe(){if(Uoe)return xH;Uoe=1;function n(e){return function(){return e}}return xH=n,xH}var DH,Hoe;function zKe(){if(Hoe)return DH;Hoe=1;var n=GKe(),e=d0e(),t=py(),i=e?function(r,s){return e(r,"toString",{configurable:!0,enumerable:!1,value:n(s),writable:!0})}:t;return DH=i,DH}var PH,Voe;function jKe(){if(Voe)return PH;Voe=1;var n=800,e=16,t=Date.now;function i(r){var s=0,o=0;return function(){var a=t(),l=e-(a-o);if(o=a,l>0){if(++s>=n)return arguments[0]}else s=0;return r.apply(void 0,arguments)}}return PH=i,PH}var kH,Woe;function YKe(){if(Woe)return kH;Woe=1;var n=zKe(),e=jKe(),t=e(n);return kH=t,kH}var MH,$oe;function KKe(){if($oe)return MH;$oe=1;var n=py(),e=$Ke(),t=YKe();function i(r,s){return t(e(r,s,n),r+"")}return MH=i,MH}var Goe;(function(n){n.PENDING="PENDING",n.FETCHING="FETCHING",n.READY="READY",n.ERROR="ERROR"})(Goe||(Goe={}));function k0e(n){const e=N.useContext(aTe);if(!e)throw new Error("Missing ProjectStateProvider in the tree");return HY(e,n)}var rL={exports:{}},qKe=rL.exports,zoe;function XKe(){return zoe||(zoe=1,function(n,e){(function(t,i){i()})(qKe,function(){function t(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function i(c,u,d){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,u,d)},h.onerror=function(){console.error("could not download file")},h.send()}function r(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof uo=="object"&&uo.global===uo?uo:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,u,d){var h=o.URL||o.webkitURL,f=document.createElement("a");u=u||c.name||"download",f.download=u,f.rel="noopener",typeof c=="string"?(f.href=c,f.origin===location.origin?s(f):r(f.href)?i(c,u,d):s(f,f.target="_blank")):(f.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(f.href)},4e4),setTimeout(function(){s(f)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,d){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,d),u);else if(r(c))i(c,u,d);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){s(h)})}}:function(c,u,d,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return i(c,u,d);var f=c.type==="application/octet-stream",m=/constructor/i.test(o.HTMLElement)||o.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||f&&m||a)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var C=_.result;C=g?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=C:location=C,h=null},_.readAsDataURL(c)}else{var v=o.URL||o.webkitURL,S=v.createObjectURL(c);h?h.location=S:location.href=S,h=null,setTimeout(function(){v.revokeObjectURL(S)},4e4)}});o.saveAs=l.saveAs=l,n.exports=l})}(rL)),rL.exports}XKe();qt.object({sqlEditor:qt.object({queries:qt.array(qt.object({id:qt.string().describe("Query identifier."),name:qt.string().describe("Query name."),query:qt.string().describe("SQL query to execute.")})),selectedQueryId:qt.string().default("default").describe("The id of the currently selected query.")})});function Ql(n){return k0e(e=>n(e))}const QKe=n=>{const{tableNames:e,selectedTable:t,onSelect:i,renderTableButton:r=(s,o)=>R.jsxs(Yr,{className:"min-h-[25px] w-full select-text justify-start overflow-hidden whitespace-normal break-words text-left text-sm font-normal",variant:t===s?"secondary":"ghost",size:"sm",onClick:()=>o(s),children:[R.jsx(iYe,{className:"h-4 w-4"}),s]})}=n;return R.jsx("div",{className:"bg-background/10 h-full overflow-auto px-2 py-4",children:R.jsx("ul",{className:"space-y-1",children:e.map((s,o)=>R.jsx("li",{children:R.jsx("div",{className:"flex items-center gap-1",children:r(s,i)})},o))})})};function ZKe(){const n=Ql(h=>h.db.tables),e=N.useMemo(()=>n.map(h=>h.tableName),[n]),t=Ql(h=>h.db.refreshTableSchemas),i=N.useMemo(()=>n||[],[n]),[r,s]=N.useState(!1),[o,a]=N.useState(null),[l,c]=N.useState(),u=N.useCallback(h=>{c(h)},[]),d=N.useCallback(async()=>{try{s(!0),a(null),t&&await t()}catch(h){console.error("Error refreshing tables:",h),a(h)}finally{s(!1)}},[t]);return{tables:e,tablesLoading:r,tablesError:o,tableSchemas:i,selectedTable:l,fetchTables:d,handleSelectTable:u}}function JKe(n="main"){const[e,t]=N.useState(),i=o0e(e),[r,s]=N.useState(!1),[o,a]=N.useState(null),l=Ql(f=>f.sqlEditor.executeQuery),c=Ql(f=>f.sqlEditor.exportResultsToCsv),u=N.useCallback(async f=>{try{s(!0),a(null);const{results:m,error:g}=await l(f,n);return g?(a(g),t(void 0)):m&&t(m),m}finally{s(!1)}},[l,n]),d=N.useCallback(()=>{e&&c(e)},[c,e]),h=N.useCallback(()=>{t(void 0),a(null)},[]);return{results:e,resultsTableData:i,loading:r,error:o,runQuery:u,exportResults:d,clearResults:h}}function eqe(){const[n,e]=N.useState({}),t=N.useRef(async()=>{}),i=N.useCallback(o=>{t.current=o},[]),r=N.useCallback((o,a,l,c)=>{e(u=>({...u,[l]:o})),o.addCommand(a.KeyMod.CtrlCmd|a.KeyCode.Enter,()=>{t.current()})},[]),s=N.useCallback((o,a)=>{const l=n[o];if(!l)return a;const c=l.getSelection();return c&&!c.isEmpty()&&typeof l.getModel().getValueInRange=="function"?l.getModel().getValueInRange(c):a},[n]);return N.useEffect(()=>{const o=a=>{a instanceof KeyboardEvent&&a.key==="Enter"&&(a.metaKey||a.ctrlKey||a.shiftKey)&&(a.target.closest(".monaco-editor")||t.current())};return globalThis.addEventListener("keydown",o),()=>{globalThis.removeEventListener("keydown",o)}},[]),{editorInstances:n,handleEditorMount:r,getQueryText:s,setRunQueryHandler:i}}const joe="",tqe=n=>{const{schema:e="main",documentationPanel:t}=n,i=k0e(Te=>Te.project.addOrUpdateSqlQueryDataSource),r=Ql(Te=>Te.config.sqlEditor.queries),s=Ql(Te=>Te.config.sqlEditor.selectedQueryId),o=Ql(Te=>Te.sqlEditor.getCurrentQuery),a=Ql(Te=>Te.sqlEditor.setSelectedQueryId),l=Ql(Te=>Te.sqlEditor.updateQueryText),c=Ql(Te=>Te.sqlEditor.createQueryTab),u=Ql(Te=>Te.sqlEditor.deleteQueryTab),d=Ql(Te=>Te.sqlEditor.renameQueryTab),[h,f]=N.useState(!1),[m,g]=N.useState(!1),[_,v]=N.useState(""),[S,C]=N.useState(null),[y,b]=N.useState(null),{tables:w,tablesLoading:I,tablesError:O,tableSchemas:x,selectedTable:k,fetchTables:P,handleSelectTable:M}=ZKe(),{results:W,resultsTableData:F,loading:H,error:V,runQuery:Y,exportResults:$}=JKe(e),{handleEditorMount:K,getQueryText:re,setRunQueryHandler:G}=eqe(),J=o(joe),z=N.useCallback(Te=>{a(Te)},[a]),j=N.useCallback(Te=>{Te&&l(s,Te)},[s,l]),ne=N.useCallback(()=>c(joe),[c]),le=N.useCallback((Te,Oe,ft)=>{ft.preventDefault(),b({id:Te,name:Oe})},[]),q=N.useCallback(Te=>{y&&d(y.id,Te),b(null)},[y,d]),he=N.useCallback((Te,Oe)=>{Oe.stopPropagation(),C(Te)},[]),ue=N.useCallback(()=>{S&&(u(S),C(null))},[S,u]),pe=N.useCallback(async()=>{M(void 0);const Te=re(s,J);v(Te),await Y(Te)},[M,re,s,J,Y,v]);N.useEffect(()=>{G(pe)},[pe,G]),N.useEffect(()=>{Object.keys(x).length===0&&P()},[P,x]);const Ae=N.useCallback(()=>{f(!h)},[h]),me=N.useCallback(()=>{g(!0)},[]);return R.jsxs("div",{className:"relative flex h-full w-full flex-col overflow-hidden",children:[R.jsx("div",{className:"absolute right-12 top-0",children:t?R.jsxs(Yr,{size:"sm",variant:h?"secondary":"outline",onClick:Ae,children:[R.jsx(Jie,{className:"mr-2 h-4 w-4"}),"SQL reference"]}):R.jsx("a",{href:"https://duckdb.org/docs/sql/introduction",target:"_blank",rel:"noreferrer",children:R.jsxs(Yr,{size:"sm",variant:"outline",children:[R.jsx(Jie,{className:"mr-2 h-4 w-4"}),"SQL reference"]})})}),R.jsxs("div",{className:"flex h-full w-full flex-col gap-2",children:[R.jsx("div",{className:"mb-2 ml-1 mr-10 flex items-center gap-2",children:R.jsx("h2",{className:"text-lg font-semibold",children:"SQL Editor"})}),R.jsx("div",{className:"bg-muted h-full flex-grow",children:R.jsxs(m4,{direction:"horizontal",className:"h-full",children:[R.jsx(nv,{defaultSize:h?70:100,children:R.jsxs(m4,{direction:"vertical",className:"h-full",children:[R.jsx(nv,{defaultSize:50,className:"flex flex-row",children:R.jsxs(m4,{direction:"horizontal",children:[R.jsx(nv,{defaultSize:20,children:I?R.jsx(lO,{h:"100%"}):O?R.jsxs("div",{className:"p-4 text-red-500",children:["Error loading tables: ",O.message]}):R.jsx(QKe,{schema:"information_schema",tableNames:w,selectedTable:k,onSelect:M})}),R.jsx(_4,{withHandle:!0}),R.jsx(nv,{defaultSize:80,className:"flex flex-col overflow-hidden",children:R.jsxs(wWe,{value:s,onValueChange:z,className:"flex h-full flex-col overflow-hidden",children:[R.jsxs("div",{className:"border-border flex items-center gap-2 border-b",children:[R.jsxs(Yr,{size:"sm",onClick:()=>void pe(),className:"uppercase",children:[R.jsx(eYe,{className:"mr-2 h-4 w-4"}),"Run"]}),R.jsx(Hye,{className:"flex-1",children:r.map(Te=>R.jsxs("div",{className:"relative",children:[R.jsx(Vye,{value:Te.id,className:"min-w-[60px] px-6 pr-8",children:Te.name}),R.jsxs(i3e,{children:[R.jsx(r3e,{asChild:!0,children:R.jsx("div",{className:"hover:bg-accent absolute right-0 top-1/2 flex h-6 w-6 -translate-y-1/2 cursor-pointer items-center justify-center rounded-sm",onClick:Oe=>Oe.stopPropagation(),children:R.jsx(Zje,{className:"h-3 w-3"})})}),R.jsxs(fSe,{children:[R.jsx(m9,{onClick:Oe=>{Oe.stopPropagation(),le(Te.id,Te.name,Oe)},children:"Rename"}),r.length>1&&R.jsx(m9,{onClick:Oe=>{Oe.stopPropagation(),he(Te.id,Oe)},className:"text-red-500",children:"Delete"})]})]})]},Te.id))}),R.jsx(Yr,{size:"icon",variant:"ghost",onClick:ne,className:"ml-2",children:R.jsx(ere,{className:"h-4 w-4"})})]}),r.map(Te=>R.jsx(Wye,{value:Te.id,className:"relative h-full flex-grow flex-col data-[state=active]:flex",children:R.jsx("div",{className:"absolute inset-0 h-full w-full flex-grow",children:R.jsx(UY,{value:Te.query,onChange:j,className:"h-full w-full flex-grow",options:{scrollBeyondLastLine:!1,automaticLayout:!0,minimap:{enabled:!1},wordWrap:"on",quickSuggestions:!0,suggestOnTriggerCharacters:!0},onMount:(Oe,ft)=>{K(Oe,ft,Te.id,pe)},tableSchemas:x,getLatestSchemas:()=>(Object.keys(x).length===0&&P(),{tableSchemas:x})})})},Te.id))]})})]})}),R.jsx(_4,{withHandle:!0}),R.jsx(nv,{defaultSize:50,className:"bg-muted overflow-hidden text-sm",children:H?R.jsx(lO,{h:"100%"}):k?R.jsx(Ije,{query:`SELECT * FROM ${e}.${YTe(k)}`}):V?R.jsx("div",{className:"h-full w-full overflow-auto p-5",children:R.jsx("pre",{className:"text-xs leading-tight text-red-500",children:V})}):F?R.jsxs("div",{className:"relative flex h-full w-full flex-grow flex-col overflow-hidden",children:[R.jsx(Gje,{...F}),R.jsxs("div",{className:"absolute bottom-0 right-0 flex gap-2",children:[R.jsxs(Yr,{size:"sm",disabled:!F,onClick:me,children:[R.jsx(ere,{className:"mr-2 h-4 w-4"}),"Create table"]}),R.jsxs(Yr,{size:"sm",disabled:!W,onClick:$,children:[R.jsx(Xje,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}):null})]})}),h&&R.jsxs(R.Fragment,{children:[R.jsx(_4,{withHandle:!0}),R.jsx(nv,{defaultSize:30,children:t})]})]})}),R.jsx(m8e,{query:_||J,isOpen:m,onClose:()=>g(!1),onAddOrUpdateSqlQuery:i}),R.jsx(rYe,{isOpen:S!==null,onClose:()=>C(null),onConfirm:ue}),R.jsx(oYe,{isOpen:y!==null,onClose:()=>b(null),initialName:(y==null?void 0:y.name)??"",onRename:q})]})]})};Z.memo(tqe);const Yoe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_AUTH_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0X3VzZXJAZXhhbXBsZS5jb20iLCJleHAiOjIwNjE1MDkyMDV9.6QRUaU0gjAhaqWdmZyq5lm9lXVTh6aspFPN-SCF_X6M"},Q9=new Map,DI=n=>{const e=Q9.get(n);return e?Object.fromEntries(Object.entries(e.stores).map(([t,i])=>[t,i.getState()])):{}},nqe=(n,e,t)=>{if(n===void 0)return{type:"untracked",connection:e.connect(t)};const i=Q9.get(t.name);if(i)return{type:"tracked",store:n,...i};const r={connection:e.connect(t),stores:{}};return Q9.set(t.name,r),{type:"tracked",store:n,...r}},iqe=(n,e={})=>(t,i,r)=>{const{enabled:s,anonymousActionType:o,store:a,...l}=e;let c;try{c=(s??(Yoe?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return n(t,i,r);const{connection:u,...d}=nqe(a,c,l);let h=!0;r.setState=(g,_,v)=>{const S=t(g,_);if(!h)return S;const C=v===void 0?{type:o||"anonymous"}:typeof v=="string"?{type:v}:v;return a===void 0?(u==null||u.send(C,i()),S):(u==null||u.send({...C,type:`${a}/${C.type}`},{...DI(l.name),[a]:r.getState()}),S)};const f=(...g)=>{const _=h;h=!1,t(...g),h=_},m=n(r.setState,i,r);if(d.type==="untracked"?u==null||u.init(m):(d.stores[d.store]=r,u==null||u.init(Object.fromEntries(Object.entries(d.stores).map(([g,_])=>[g,g===d.store?m:_.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let g=!1;const _=r.dispatch;r.dispatch=(...v)=>{(Yoe?"production":void 0)!=="production"&&v[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),_(...v)}}return u.subscribe(g=>{var _;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return FH(g.payload,v=>{if(v.type==="__setState"){if(a===void 0){f(v.state);return}Object.keys(v.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const S=v.state[a];if(S==null)return;JSON.stringify(r.getState())!==JSON.stringify(S)&&f(S);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(v)});case"DISPATCH":switch(g.payload.type){case"RESET":return f(m),a===void 0?u==null?void 0:u.init(r.getState()):u==null?void 0:u.init(DI(l.name));case"COMMIT":if(a===void 0){u==null||u.init(r.getState());return}return u==null?void 0:u.init(DI(l.name));case"ROLLBACK":return FH(g.state,v=>{if(a===void 0){f(v),u==null||u.init(r.getState());return}f(v[a]),u==null||u.init(DI(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return FH(g.state,v=>{if(a===void 0){f(v);return}JSON.stringify(r.getState())!==JSON.stringify(v[a])&&f(v[a])});case"IMPORT_STATE":{const{nextLiftedState:v}=g.payload,S=(_=v.computedStates.slice(-1)[0])==null?void 0:_.state;if(!S)return;f(a===void 0?S:S[a]),u==null||u.send(null,v);return}case"PAUSE_RECORDING":return h=!h}return}}),m},rqe=iqe,FH=(n,e)=>{let t;try{t=JSON.parse(n)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}t!==void 0&&e(t)};function M0e(n,e){let t;try{t=n()}catch{return}return{getItem:r=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=t.getItem(r))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(r,s)=>t.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>t.removeItem(r)}}const Z9=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return Z9(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Z9(i)(t)}}}},sqe=(n,e)=>(t,i,r)=>{let s={storage:M0e(()=>localStorage),partialize:g=>g,version:0,merge:(g,_)=>({..._,...g}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return n((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...g)},i,r);const u=()=>{const g=s.partialize({...i()});return c.setItem(s.name,{state:g,version:s.version})},d=r.setState;r.setState=(g,_)=>{d(g,_),u()};const h=n((...g)=>{t(...g),u()},i,r);r.getInitialState=()=>h;let f;const m=()=>{var g,_;if(!c)return;o=!1,a.forEach(S=>{var C;return S((C=i())!=null?C:h)});const v=((_=s.onRehydrateStorage)==null?void 0:_.call(s,(g=i())!=null?g:h))||void 0;return Z9(c.getItem.bind(c))(s.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==s.version){if(s.migrate){const C=s.migrate(S.state,S.version);return C instanceof Promise?C.then(y=>[!0,y]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var C;const[y,b]=S;if(f=s.merge(b,(C=i())!=null?C:h),t(f,!0),y)return u()}).then(()=>{v==null||v(f,void 0),f=i(),o=!0,l.forEach(S=>S(f))}).catch(S=>{v==null||v(void 0,S)})};return r.persist={setOptions:g=>{s={...s,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},s.skipHydration||m(),f||h},oqe=sqe;var aqe=LKe();const PI="",BH=()=>({id:aqe.v4(),name:`Query ${new Date().toLocaleTimeString()}`,query:"SELECT * FROM ...;",result:null,error:null,isRunning:!1}),lqe=()=>{try{const n=localStorage.getItem("layoutSizes"),e=localStorage.getItem("collapsedPanels");return{layoutSizes:n?JSON.parse(n):{},collapsedPanels:e?JSON.parse(e):{}}}catch(n){return console.error("Failed to load layout from localStorage",n),{layoutSizes:{},collapsedPanels:{}}}},Koe=n=>{try{n.layoutSizes&&localStorage.setItem("layoutSizes",JSON.stringify(n.layoutSizes)),n.collapsedPanels&&localStorage.setItem("collapsedPanels",JSON.stringify(n.collapsedPanels))}catch(e){console.error("Failed to save layout to localStorage",e)}},In=S8e()(rqe(oqe((n,e)=>({authToken:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0X3VzZXJAZXhhbXBsZS5jb20iLCJleHAiOjIwNjE1MDkyMDV9.6QRUaU0gjAhaqWdmZyq5lm9lXVTh6aspFPN-SCF_X6M",fullSchemaData:null,isFetchingFullSchema:!1,fullSchemaError:null,availableDatabases:[],selectedDatabase:null,tables:[],tableSchemas:{},currentQuery:"SELECT * FROM ...;",queryResult:null,queryError:null,isQueryRunning:!1,showVisualization:!1,selectedChartType:"bar",queryHistory:[],queryLimit:500,chartConfig:{xAxis:null,yAxis:null,yAxes:[],aggregation:null,groupBy:null,labelKey:null,valueKey:null},tabs:[BH()],activeTabId:null,...lqe(),isGenerateQueryModalOpen:!1,generateQueryLoading:!1,generateQueryError:null,generateQueryPrompt:"",setAuthToken:t=>n({authToken:t}),fetchFullSchema:async()=>{const t=e().authToken;if(!t){n({fullSchemaError:"Authentication token is missing.",isFetchingFullSchema:!1});return}n({isFetchingFullSchema:!0,fullSchemaError:null});try{const i=await fetch(`${PI}/api/schema`,{headers:{Authorization:`Bearer ${t}`}});if(!i.ok){const c=await i.json().catch(()=>({message:`HTTP error! Status: ${i.status}`}));throw new Error(c.message||`Failed to fetch full schema. Status: ${i.status}`)}const r=await i.json(),s=r.databases.map(c=>({name:c.name,db_type:c.db_type}));let o=[],a={};const l=e().selectedDatabase;if(l){const c=r.databases.find(u=>u.name===l);c&&(o=c.tables.map(u=>({name:u.table_name})),a=c.tables.reduce((u,d)=>(u[d.table_name]=d,u),{}))}n({fullSchemaData:r,isFetchingFullSchema:!1,availableDatabases:s,tables:o,tableSchemas:a,fullSchemaError:null})}catch(i){console.error("Failed to fetch full schema:",i);const r=i instanceof Error?i.message:"An unknown error occurred";n({fullSchemaError:r,isFetchingFullSchema:!1})}},setSelectedDatabase:t=>{const i=e().fullSchemaData;let r=[],s={};if(t&&i){const o=i.databases.find(a=>a.name===t);o&&(r=o.tables.map(a=>({name:a.table_name})),s=o.tables.reduce((a,l)=>(a[l.table_name]=l,a),{}))}n({selectedDatabase:t,tables:r,tableSchemas:s})},setCurrentQuery:t=>n({currentQuery:t}),executeQuery:async()=>{const t=e().selectedDatabase,i=e().currentQuery,r=e().authToken;if(!t||!i||!r){n({queryError:"Missing database selection, query, or authentication token."});return}n({isQueryRunning:!0,queryResult:null,queryError:null});const s=e().addQueryToHistory;s?s(i):console.warn("addQueryToHistory action not found in store"),console.log(`Executing query on ${t}: ${i}`);try{const o=await fetch(`${PI}/api/execute-query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({db_name:t,query:i})}),a=await o.json();if(!o.ok)throw new Error(a.error||a.message||`Query execution failed. Status: ${o.status}`);n({queryResult:a,isQueryRunning:!1})}catch(o){console.error("Query execution failed:",o);const a=o instanceof Error?o.message:"An unknown error occurred during query execution.";n({queryError:a,isQueryRunning:!1})}},addQueryToHistory:t=>n(i=>({queryHistory:[t,...i.queryHistory.slice(0,49)]})),setQueryLimit:t=>n({queryLimit:t}),setShowVisualization:t=>{n({showVisualization:t}),t||n({selectedChartType:"bar"})},setSelectedChartType:t=>n({selectedChartType:t}),setLayoutSizes:(t,i)=>{n(r=>{const s={layoutSizes:{...r.layoutSizes,[t]:i}};return Koe(s),s})},togglePanelCollapse:t=>{n(i=>{const r={collapsedPanels:{...i.collapsedPanels,[t]:!i.collapsedPanels[t]}};return Koe(r),r})},setChartConfig:t=>n(i=>({chartConfig:{...i.chartConfig,...t}})),addTab:(t=!0)=>{const i=BH();return n(r=>({tabs:[...r.tabs,i]})),t&&n({activeTabId:i.id}),i.id},closeTab:t=>{n(i=>{const r=i.tabs.filter(o=>o.id!==t);let s=i.activeTabId;if(i.activeTabId===t){const o=i.tabs.findIndex(a=>a.id===t);r.length>0?s=r[Math.max(0,o-1)].id:s=null}if(r.length===0){const o=BH();return{tabs:[o],activeTabId:o.id}}return{tabs:r,activeTabId:s}})},setActiveTab:t=>n({activeTabId:t}),updateQueryInTab:(t,i)=>{n(r=>({tabs:r.tabs.map(s=>s.id===t?{...s,query:i}:s)}))},updateTabName:(t,i)=>{n(r=>({tabs:r.tabs.map(s=>s.id===t?{...s,name:i}:s)}))},executeQueryForTab:async(t,i)=>{const r=e(),s=r.tabs.find(c=>c.id===t),o=r.selectedDatabase,a=r.authToken;if(!s){console.error(`Tab with ID ${t} not found for execution.`);return}if(!o){n(c=>({tabs:c.tabs.map(u=>u.id===t?{...u,error:"No database selected.",isRunning:!1}:u)}));return}if(!a){n(c=>({tabs:c.tabs.map(u=>u.id===t?{...u,error:"Authentication token is missing.",isRunning:!1}:u)}));return}if(!s.query){n(c=>({tabs:c.tabs.map(u=>u.id===t?{...u,error:"Query is empty.",isRunning:!1}:u)}));return}n(c=>({tabs:c.tabs.map(u=>u.id===t?{...u,isRunning:!0,error:null,result:null}:u)}));const l=performance.now();try{const c=await fetch(`${PI}/api/execute-query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({query:s.query,db_name:o,limit:i})}),d=(performance.now()-l)/1e3;if(!c.ok){const m=await c.json().catch(()=>({message:c.statusText})),g=typeof m=="object"&&m!==null&&"message"in m&&typeof m.message=="string"?m.message:`HTTP error ${c.status}`;throw new Error(g)}const h=await c.json();let f;if(Array.isArray(h)){console.warn("Backend returned raw array, wrapping in { result: [...] }");const m=h.every(g=>typeof g=="object"&&g!==null)?h:[];f={result:m.length>0?m:null,executionTime:d},m.length===0&&(f.message="Query executed successfully, 0 rows returned.")}else if(typeof h=="object"&&h!==null)f={...h,executionTime:d},f.result&&!Array.isArray(f.result)?(console.error("Backend object response has non-array result field:",f.result),f.result=null):f.result&&Array.isArray(f.result)&&!f.result.every(m=>typeof m=="object"&&m!==null)&&(console.error("Backend object response has result array with non-object elements:",f.result),f.result=null);else throw console.error("Unexpected response format from /api/execute-query:",h),new Error("Received unexpected data format from server.");n(m=>({tabs:m.tabs.map(g=>g.id===t?{...g,isRunning:!1,result:f,error:null}:g),queryHistory:[s.query,...m.queryHistory.filter(g=>g!==s.query)].slice(0,50)}))}catch(c){const u=c instanceof Error?c.message:"Failed to execute query";n(d=>({tabs:d.tabs.map(h=>h.id===t?{...h,isRunning:!1,error:u,result:null}:h)}))}},openGenerateQueryModal:()=>n({isGenerateQueryModalOpen:!0,generateQueryPrompt:"",generateQueryError:null}),closeGenerateQueryModal:()=>n({isGenerateQueryModalOpen:!1}),setGenerateQueryPrompt:t=>n({generateQueryPrompt:t}),generateQuery:async()=>{const t=e(),i=t.authToken,r=t.selectedDatabase,s=t.generateQueryPrompt,o=t.activeTabId;if(!o){n({generateQueryError:"No active query tab found."});return}if(!r){n({generateQueryError:"No database selected."});return}if(!s||!s.trim()){n({generateQueryError:"Prompt cannot be empty."});return}if(!i){n({generateQueryError:"Authentication token is missing."});return}n({generateQueryLoading:!0,generateQueryError:null});try{const a=await fetch(`${PI}/api/gen-query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({db_name:r,prompt:s})});if(!a.ok){const u=await a.json().catch(()=>({message:`HTTP error ${a.status}`}));throw new Error(u.message||u.error||`Failed to generate query. Status: ${a.status}`)}const c=(await a.json()).query;if(!c)throw new Error("AI did not return a query.");t.updateQueryInTab(o,c),n({generateQueryLoading:!1,isGenerateQueryModalOpen:!1,generateQueryPrompt:""})}catch(a){console.error("AI Query generation failed:",a);const l=a instanceof Error?a.message:"An unknown error occurred during AI query generation.";n({generateQueryError:l,generateQueryLoading:!1})}},init:()=>{var i;const t=((i=e().tabs[0])==null?void 0:i.id)??null;t&&!e().activeTabId&&n({activeTabId:t}),e().fetchFullSchema()}}),{name:"app-storage",storage:M0e(()=>localStorage),partialize:n=>({authToken:n.authToken,selectedDatabase:n.selectedDatabase,queryHistory:n.queryHistory,tabs:n.tabs.map(e=>({id:e.id,name:e.name,query:e.query,result:null,error:null,isRunning:!1})),activeTabId:n.activeTabId,layoutSizes:n.layoutSizes,collapsedPanels:n.collapsedPanels})}))),TM=()=>{const n=In(t=>t.tabs),e=In(t=>t.activeTabId);return n.find(t=>t.id===e)||null};function ol(n,e=0){return n[n.length-(1+e)]}function cqe(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function Mr(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function uqe(n,e){const t=n.length-1;e<t&&(n[e]=n[t]),n.pop()}function dqe(n,e,t){return hqe(n.length,i=>t(n[i],e))}function hqe(n,e){let t=0,i=n-1;for(;t<=i;){const r=(t+i)/2|0,s=e(r);if(s<0)t=r+1;else if(s>0)i=r-1;else return r}return-(t+1)}function*EK(n,e){let t,i;for(const r of n)i!==void 0&&e(i,r)?t.push(r):(t&&(yield t),t=[r]),i=r;t&&(yield t)}function F0e(n,e){for(let t=0;t<=n.length;t++)e(t===0?void 0:n[t-1],t===n.length?void 0:n[t])}function fqe(n,e){for(let t=0;t<n.length;t++)e(t===0?void 0:n[t-1],n[t],t+1===n.length?void 0:n[t+1])}function vK(n){return n.filter(e=>!!e)}function qoe(n){let e=0;for(let t=0;t<n.length;t++)n[t]&&(n[e]=n[t],e+=1);n.length=e}function gqe(n){return!Array.isArray(n)||n.length===0}function wM(n){return Array.isArray(n)&&n.length>0}function T_(n,e=t=>t){const t=new Set;return n.filter(i=>{const r=e(i);return t.has(r)?!1:(t.add(r),!0)})}function SK(n,e){return n.length>0?n[0]:e}function Vo(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);const i=[];if(t<=e)for(let r=t;r<e;r++)i.push(r);else for(let r=t;r>e;r--)i.push(r);return i}function AM(n,e,t){const i=n.slice(0,e),r=n.slice(e);return i.concat(t,r)}function UH(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function kI(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function J9(n,e){for(const t of e)n.push(t)}function pqe(n,e,t){const i=B0e(n,e),r=n.length,s=t.length;n.length=r+s;for(let o=r-1;o>=i;o--)n[o+s]=n[o];for(let o=0;o<s;o++)n[o+i]=t[o]}function Xoe(n,e,t,i){const r=B0e(n,e);let s=n.splice(r,t);return s===void 0&&(s=[]),pqe(n,r,i),s}function B0e(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}var C1;(function(n){function e(s){return s<0}n.isLessThan=e;function t(s){return s<=0}n.isLessThanOrEqual=t;function i(s){return s>0}n.isGreaterThan=i;function r(s){return s===0}n.isNeitherLessOrGreaterThan=r,n.greaterThan=1,n.lessThan=-1,n.neitherLessOrGreaterThan=0})(C1||(C1={}));function lc(n,e){return(t,i)=>e(n(t),n(i))}function mqe(...n){return(e,t)=>{for(const i of n){const r=i(e,t);if(!C1.isNeitherLessOrGreaterThan(r))return r}return C1.neitherLessOrGreaterThan}}const Lg=(n,e)=>n-e,_qe=(n,e)=>Lg(n?1:0,e?1:0);function Eqe(n){return(e,t)=>-n(e,t)}class nf{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}const rS=class rS{constructor(e){this.iterate=e}toArray(){const e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new rS(t=>this.iterate(i=>e(i)?t(i):!0))}map(e){return new rS(t=>this.iterate(i=>t(e(i))))}findLast(e){let t;return this.iterate(i=>(e(i)&&(t=i),!0)),t}findLastMaxBy(e){let t,i=!0;return this.iterate(r=>((i||C1.isGreaterThan(e(r,t)))&&(i=!1,t=r),!0)),t}};rS.empty=new rS(e=>{});let qm=rS;function Ka(n){return typeof n=="string"}function Yo(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function vqe(n){const e=Object.getPrototypeOf(Uint8Array);return typeof n=="object"&&n instanceof e}function my(n){return typeof n=="number"&&!isNaN(n)}function Qoe(n){return!!n&&typeof n[Symbol.iterator]=="function"}function U0e(n){return n===!0||n===!1}function Cl(n){return typeof n>"u"}function cC(n){return!Wa(n)}function Wa(n){return Cl(n)||n===null}function Og(n,e){if(!n)throw new Error("Unexpected type")}function H0e(n){if(Wa(n))throw new Error("Assertion Failed: argument is undefined or null");return n}function IO(n){return typeof n=="function"}function Sqe(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)Cqe(n[i],e[i])}function Cqe(n,e){if(Ka(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(IO(e)){try{if(n instanceof e)return}catch{}if(!Wa(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Qf(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const e=Array.isArray(n)?[]:{};return Object.entries(n).forEach(([t,i])=>{e[t]=i&&typeof i=="object"?Qf(i):i}),e}function yqe(n){if(!n||typeof n!="object")return n;const e=[n];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if(V0e.call(t,i)){const r=t[i];typeof r=="object"&&!Object.isFrozen(r)&&!vqe(r)&&e.push(r)}}return n}const V0e=Object.prototype.hasOwnProperty;function W0e(n,e){return e7(n,e,new Set)}function e7(n,e,t){if(Wa(n))return n;const i=e(n);if(typeof i<"u")return i;if(Array.isArray(n)){const r=[];for(const s of n)r.push(e7(s,e,t));return r}if(Yo(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);const r={};for(const s in n)V0e.call(n,s)&&(r[s]=e7(n[s],e,t));return t.delete(n),r}return n}function va(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!va(n[t],e[t]))return!1}else{const r=[];for(i in n)r.push(i);r.sort();const s=[];for(i in e)s.push(i);if(s.sort(),!va(r,s))return!1;for(t=0;t<r.length;t++)if(!va(n[r[t]],e[r[t]]))return!1}return!0}function bqe(n){let e=[];for(;Object.prototype!==n;)e=e.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return e}function t7(n){const e=[];for(const t of bqe(n))typeof n[t]=="function"&&e.push(t);return e}function Tqe(n,e){const t=r=>function(){const s=Array.prototype.slice.call(arguments,0);return e(r,s)},i={};for(const r of n)i[r]=t(r);return i}function $0e(){return globalThis._VSCODE_NLS_MESSAGES}function CK(){return globalThis._VSCODE_NLS_LANGUAGE}const wqe=CK()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function Zoe(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(i,r)=>{const s=r[0],o=e[s];let a=i;return typeof o=="string"?a=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(a=String(o)),a}),wqe&&(t=""+t.replace(/[aouei]/g,"$&$&")+""),t}function A(n,e,...t){return Zoe(typeof n=="number"?Aqe(n,e):e,t)}function Aqe(n,e){var i;const t=(i=$0e())==null?void 0:i[n];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${n} !!!`)}return t}const Ov="en";let NO=!1,LO=!1,sL=!1,G0e=!1,yK=!1,bK=!1,z0e=!1,MI,HH=Ov,Joe=Ov,Rqe,Pc;const Hh=globalThis;let Co;var e_e;typeof Hh.vscode<"u"&&typeof Hh.vscode.process<"u"?Co=Hh.vscode.process:typeof process<"u"&&typeof((e_e=process==null?void 0:process.versions)==null?void 0:e_e.node)=="string"&&(Co=process);var t_e;const Iqe=typeof((t_e=Co==null?void 0:Co.versions)==null?void 0:t_e.electron)=="string",Nqe=Iqe&&(Co==null?void 0:Co.type)==="renderer";var n_e;if(typeof Co=="object"){NO=Co.platform==="win32",LO=Co.platform==="darwin",sL=Co.platform==="linux",sL&&Co.env.SNAP&&Co.env.SNAP_REVISION,Co.env.CI||Co.env.BUILD_ARTIFACTSTAGINGDIRECTORY,MI=Ov,HH=Ov;const n=Co.env.VSCODE_NLS_CONFIG;if(n)try{const e=JSON.parse(n);MI=e.userLocale,Joe=e.osLocale,HH=e.resolvedLanguage||Ov,Rqe=(n_e=e.languagePack)==null?void 0:n_e.translationsConfigFile}catch{}G0e=!0}else typeof navigator=="object"&&!Nqe?(Pc=navigator.userAgent,NO=Pc.indexOf("Windows")>=0,LO=Pc.indexOf("Macintosh")>=0,bK=(Pc.indexOf("Macintosh")>=0||Pc.indexOf("iPad")>=0||Pc.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,sL=Pc.indexOf("Linux")>=0,z0e=(Pc==null?void 0:Pc.indexOf("Mobi"))>=0,yK=!0,HH=CK()||Ov,MI=navigator.language.toLowerCase(),Joe=MI):console.error("Unable to resolve platform.");const ba=NO,bn=LO,Zo=sL,OO=G0e,_y=yK,Lqe=yK&&typeof Hh.importScripts=="function",Oqe=Lqe?Hh.origin:void 0,w_=bK,j0e=z0e,vd=Pc,xqe=typeof Hh.postMessage=="function"&&!Hh.importScripts,Y0e=(()=>{if(xqe){const n=[];Hh.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,r=n.length;i<r;i++){const s=n[i];if(s.id===t.data.vscodeScheduleAsyncWork){n.splice(i,1),s.callback();return}}});let e=0;return t=>{const i=++e;n.push({id:i,callback:t}),Hh.postMessage({vscodeScheduleAsyncWork:i},"*")}}return n=>setTimeout(n)})(),rc=LO||bK?2:NO?1:3;let eae=!0,tae=!1;function Dqe(){if(!tae){tae=!0;const n=new Uint8Array(2);n[0]=1,n[1]=2,eae=new Uint16Array(n.buffer)[0]===513}return eae}const K0e=!!(vd&&vd.indexOf("Chrome")>=0),Pqe=!!(vd&&vd.indexOf("Firefox")>=0),kqe=!!(!K0e&&vd&&vd.indexOf("Safari")>=0),Mqe=!!(vd&&vd.indexOf("Edg/")>=0),Fqe=!!(vd&&vd.indexOf("Android")>=0),Fs={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var Mn;(function(n){function e(y){return y&&typeof y=="object"&&typeof y[Symbol.iterator]=="function"}n.is=e;const t=Object.freeze([]);function i(){return t}n.empty=i;function*r(y){yield y}n.single=r;function s(y){return e(y)?y:r(y)}n.wrap=s;function o(y){return y||t}n.from=o;function*a(y){for(let b=y.length-1;b>=0;b--)yield y[b]}n.reverse=a;function l(y){return!y||y[Symbol.iterator]().next().done===!0}n.isEmpty=l;function c(y){return y[Symbol.iterator]().next().value}n.first=c;function u(y,b){let w=0;for(const I of y)if(b(I,w++))return!0;return!1}n.some=u;function d(y,b){for(const w of y)if(b(w))return w}n.find=d;function*h(y,b){for(const w of y)b(w)&&(yield w)}n.filter=h;function*f(y,b){let w=0;for(const I of y)yield b(I,w++)}n.map=f;function*m(y,b){let w=0;for(const I of y)yield*b(I,w++)}n.flatMap=m;function*g(...y){for(const b of y)yield*b}n.concat=g;function _(y,b,w){let I=w;for(const O of y)I=b(I,O);return I}n.reduce=_;function*v(y,b,w=y.length){for(b<0&&(b+=y.length),w<0?w+=y.length:w>y.length&&(w=y.length);b<w;b++)yield y[b]}n.slice=v;function S(y,b=Number.POSITIVE_INFINITY){const w=[];if(b===0)return[w,y];const I=y[Symbol.iterator]();for(let O=0;O<b;O++){const x=I.next();if(x.done)return[w,n.empty()];w.push(x.value)}return[w,{[Symbol.iterator](){return I}}]}n.consume=S;async function C(y){const b=[];for await(const w of y)b.push(w);return Promise.resolve(b)}n.asyncToArray=C})(Mn||(Mn={}));var Bh;let Nr=(Bh=class{constructor(e){this.element=e,this.next=Bh.Undefined,this.prev=Bh.Undefined}},Bh.Undefined=new Bh(void 0),Bh);class pa{constructor(){this._first=Nr.Undefined,this._last=Nr.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Nr.Undefined}clear(){let e=this._first;for(;e!==Nr.Undefined;){const t=e.next;e.prev=Nr.Undefined,e.next=Nr.Undefined,e=t}this._first=Nr.Undefined,this._last=Nr.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new Nr(e);if(this._first===Nr.Undefined)this._first=i,this._last=i;else if(t){const s=this._last;this._last=i,i.prev=s,s.next=i}else{const s=this._first;this._first=i,i.next=s,s.prev=i}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(i))}}shift(){if(this._first!==Nr.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Nr.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Nr.Undefined&&e.next!==Nr.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Nr.Undefined&&e.next===Nr.Undefined?(this._first=Nr.Undefined,this._last=Nr.Undefined):e.next===Nr.Undefined?(this._last=this._last.prev,this._last.next=Nr.Undefined):e.prev===Nr.Undefined&&(this._first=this._first.next,this._first.prev=Nr.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Nr.Undefined;)yield e.element,e=e.next}}const q0e="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function Bqe(n=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const t of q0e)n.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}const TK=Bqe();function wK(n){let e=TK;if(n&&n instanceof RegExp)if(n.global)e=n;else{let t="g";n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.unicode&&(t+="u"),e=new RegExp(n.source,t)}return e.lastIndex=0,e}const X0e=new pa;X0e.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function y1(n,e,t,i,r){if(e=wK(e),r||(r=Mn.first(X0e)),t.length>r.maxLen){let c=n-r.maxLen/2;return c<0?c=0:i+=c,t=t.substring(c,n+r.maxLen/2),y1(n,e,t,i,r)}const s=Date.now(),o=n-1-i;let a=-1,l=null;for(let c=1;!(Date.now()-s>=r.timeBudget);c++){const u=o-r.windowSize*c;e.lastIndex=Math.max(0,u);const d=Uqe(e,t,o,a);if(!d&&l||(l=d,u<=0))break;a=u}if(l){const c={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function Uqe(n,e,t,i){let r;for(;r=n.exec(e);){const s=r.index||0;if(s<=t&&n.lastIndex>=t)return r;if(i>0&&s>i)return null}return null}const Uu=8;class Q0e{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class Z0e{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class Ai{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}applyUpdate(e,t){return RM(e,t)}compute(e,t,i){return i}}class zT{constructor(e,t){this.newValue=e,this.didChange=t}}function RM(n,e){if(typeof n!="object"||typeof e!="object"||!n||!e)return new zT(e,n!==e);if(Array.isArray(n)||Array.isArray(e)){const i=Array.isArray(n)&&Array.isArray(e)&&Mr(n,e);return new zT(e,!i)}let t=!1;for(const i in e)if(e.hasOwnProperty(i)){const r=RM(n[i],e[i]);r.didChange&&(n[i]=r.newValue,t=!0)}return new zT(n,t)}class dA{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return RM(e,t)}validate(e){return this.defaultValue}}class Ey{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}applyUpdate(e,t){return RM(e,t)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,i){return i}}function Je(n,e){return typeof n>"u"?e:n==="false"?!1:!!n}class un extends Ey{constructor(e,t,i,r=void 0){typeof r<"u"&&(r.type="boolean",r.default=i),super(e,t,i,r)}validate(e){return Je(e,this.defaultValue)}}function nm(n,e,t,i){if(typeof n>"u")return e;let r=parseInt(n,10);return isNaN(r)?e:(r=Math.max(t,r),r=Math.min(i,r),r|0)}class ui extends Ey{static clampedInt(e,t,i,r){return nm(e,t,i,r)}constructor(e,t,i,r,s,o=void 0){typeof o<"u"&&(o.type="integer",o.default=i,o.minimum=r,o.maximum=s),super(e,t,i,o),this.minimum=r,this.maximum=s}validate(e){return ui.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}function Hqe(n,e,t,i){if(typeof n>"u")return e;const r=za.float(n,e);return za.clamp(r,t,i)}class za extends Ey{static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;const i=parseFloat(e);return isNaN(i)?t:i}constructor(e,t,i,r,s){typeof s<"u"&&(s.type="number",s.default=i),super(e,t,i,s),this.validationFn=r}validate(e){return this.validationFn(za.float(e,this.defaultValue))}}class ao extends Ey{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,r=void 0){typeof r<"u"&&(r.type="string",r.default=i),super(e,t,i,r)}validate(e){return ao.string(e,this.defaultValue)}}function $i(n,e,t,i){return typeof n!="string"?e:i&&n in i?i[n]:t.indexOf(n)===-1?e:n}class Hi extends Ey{constructor(e,t,i,r,s=void 0){typeof s<"u"&&(s.type="string",s.enum=r,s.default=i),super(e,t,i,s),this._allowedValues=r}validate(e){return $i(e,this.defaultValue,this._allowedValues)}}class FI extends Ai{constructor(e,t,i,r,s,o,a=void 0){typeof a<"u"&&(a.type="string",a.enum=s,a.default=r),super(e,t,i,a),this._allowedValues=s,this._convert=o}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function Vqe(n){switch(n){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class Wqe extends Ai{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[A("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),A("accessibilitySupport.on","Optimize for usage with a Screen Reader."),A("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:A("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}}class $qe extends Ai{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:A("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:A("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertSpace:Je(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:Je(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function Gqe(n){switch(n){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var is;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(is||(is={}));function zqe(n){switch(n){case"line":return is.Line;case"block":return is.Block;case"underline":return is.Underline;case"line-thin":return is.LineThin;case"block-outline":return is.BlockOutline;case"underline-thin":return is.UnderlineThin}}class jqe extends dA{constructor(){super(143)}compute(e,t,i){const r=["monaco-editor"];return t.get(39)&&r.push(t.get(39)),e.extraEditorClassName&&r.push(e.extraEditorClassName),t.get(74)==="default"?r.push("mouse-default"):t.get(74)==="copy"&&r.push("mouse-copy"),t.get(112)&&r.push("showUnused"),t.get(141)&&r.push("showDeprecated"),r.join(" ")}}class Yqe extends un{constructor(){super(37,"emptySelectionClipboard",!0,{description:A("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}class Kqe extends Ai{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:A("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[A("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),A("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),A("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:A("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[A("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),A("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),A("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:A("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:A("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:bn},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:A("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:A("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{cursorMoveOnType:Je(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":$i(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":$i(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:Je(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:Je(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:Je(t.loop,this.defaultValue.loop)}}}const dh=class dh extends Ai{constructor(){super(51,"fontLigatures",dh.OFF,{anyOf:[{type:"boolean",description:A("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:A("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:A("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"||e.length===0?dh.OFF:e==="true"?dh.ON:e:e?dh.ON:dh.OFF}};dh.OFF='"liga" off, "calt" off',dh.ON='"liga" on, "calt" on';let A_=dh;const hh=class hh extends Ai{constructor(){super(54,"fontVariations",hh.OFF,{anyOf:[{type:"boolean",description:A("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:A("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:A("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?hh.OFF:e==="true"?hh.TRANSLATE:e:e?hh.TRANSLATE:hh.OFF}compute(e,t,i){return e.fontInfo.fontVariationSettings}};hh.OFF="normal",hh.TRANSLATE="translate";let b1=hh;class qqe extends dA{constructor(){super(50)}compute(e,t,i){return e.fontInfo}}class Xqe extends Ey{constructor(){super(52,"fontSize",qa.fontSize,{type:"number",minimum:6,maximum:100,default:qa.fontSize,description:A("fontSize","Controls the font size in pixels.")})}validate(e){const t=za.float(e,this.defaultValue);return t===0?qa.fontSize:za.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}const $u=class $u extends Ai{constructor(){super(53,"fontWeight",qa.fontWeight,{anyOf:[{type:"number",minimum:$u.MINIMUM_VALUE,maximum:$u.MAXIMUM_VALUE,errorMessage:A("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:$u.SUGGESTION_VALUES}],default:qa.fontWeight,description:A("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(ui.clampedInt(e,qa.fontWeight,$u.MINIMUM_VALUE,$u.MAXIMUM_VALUE))}};$u.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],$u.MINIMUM_VALUE=1,$u.MAXIMUM_VALUE=1e3;let n7=$u;class Qqe extends Ai{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",multipleTests:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:"",alternativeTestsCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[A("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),A("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),A("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:A("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:A("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleTypeDefinitions":{description:A("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleDeclarations":{description:A("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleImplementations":{description:A("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleReferences":{description:A("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...t},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:A("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:A("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:A("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:A("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:A("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{multiple:$i(t.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:t.multipleDefinitions??$i(t.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:t.multipleTypeDefinitions??$i(t.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:t.multipleDeclarations??$i(t.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:t.multipleImplementations??$i(t.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:t.multipleReferences??$i(t.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),multipleTests:t.multipleTests??$i(t.multipleTests,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:ao.string(t.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:ao.string(t.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:ao.string(t.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:ao.string(t.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:ao.string(t.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand),alternativeTestsCommand:ao.string(t.alternativeTestsCommand,this.defaultValue.alternativeTestsCommand)}}}class Zqe extends Ai{constructor(){const e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:A("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:A("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:A("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:A("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:A("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Je(t.enabled,this.defaultValue.enabled),delay:ui.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:Je(t.sticky,this.defaultValue.sticky),hidingDelay:ui.clampedInt(t.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:Je(t.above,this.defaultValue.above)}}}class TS extends dA{constructor(){super(146)}compute(e,t,i){return TS.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=Math.floor(e.paddingTop/e.lineHeight);let r=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(r=Math.max(r,t-1));const s=(i+e.viewLineCount+r)/(e.pixelRatio*e.height),o=Math.floor(e.viewLineCount/s);return{typicalViewportLineCount:t,extraLinesBeforeFirstLine:i,extraLinesBeyondLastLine:r,desiredRatio:s,minimapLineCount:o}}static _computeMinimapLayout(e,t){const i=e.outerWidth,r=e.outerHeight,s=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(s*r),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:r};const o=t.stableMinimapLayoutInput,a=o&&e.outerHeight===o.outerHeight&&e.lineHeight===o.lineHeight&&e.typicalHalfwidthCharacterWidth===o.typicalHalfwidthCharacterWidth&&e.pixelRatio===o.pixelRatio&&e.scrollBeyondLastLine===o.scrollBeyondLastLine&&e.paddingTop===o.paddingTop&&e.paddingBottom===o.paddingBottom&&e.minimap.enabled===o.minimap.enabled&&e.minimap.side===o.minimap.side&&e.minimap.size===o.minimap.size&&e.minimap.showSlider===o.minimap.showSlider&&e.minimap.renderCharacters===o.minimap.renderCharacters&&e.minimap.maxColumn===o.minimap.maxColumn&&e.minimap.scale===o.minimap.scale&&e.verticalScrollbarWidth===o.verticalScrollbarWidth&&e.isViewportWrapping===o.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,u=e.scrollBeyondLastLine,d=e.minimap.renderCharacters;let h=s>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const f=e.minimap.maxColumn,m=e.minimap.size,g=e.minimap.side,_=e.verticalScrollbarWidth,v=e.viewLineCount,S=e.remainingWidth,C=e.isViewportWrapping,y=d?2:3;let b=Math.floor(s*r);const w=b/s;let I=!1,O=!1,x=y*h,k=h/s,P=1;if(m==="fill"||m==="fit"){const{typicalViewportLineCount:$,extraLinesBeforeFirstLine:K,extraLinesBeyondLastLine:re,desiredRatio:G,minimapLineCount:J}=TS.computeContainedMinimapLineCount({viewLineCount:v,scrollBeyondLastLine:u,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:r,lineHeight:l,pixelRatio:s});if(v/J>1)I=!0,O=!0,h=1,x=1,k=h/s;else{let j=!1,ne=h+1;if(m==="fit"){const le=Math.ceil((K+v+re)*x);C&&a&&S<=t.stableFitRemainingWidth?(j=!0,ne=t.stableFitMaxMinimapScale):j=le>b}if(m==="fill"||j){I=!0;const le=h;x=Math.min(l*s,Math.max(1,Math.floor(1/G))),C&&a&&S<=t.stableFitRemainingWidth&&(ne=t.stableFitMaxMinimapScale),h=Math.min(ne,Math.max(1,Math.floor(x/y))),h>le&&(P=Math.min(2,h/le)),k=h/s/P,b=Math.ceil(Math.max($,K+v+re)*x),C?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=S,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const M=Math.floor(f*k),W=Math.min(M,Math.max(0,Math.floor((S-_-2)*k/(c+k)))+Uu);let F=Math.floor(s*W);const H=F/s;F=Math.floor(F*P);const V=d?1:2,Y=g==="left"?0:i-W-_;return{renderMinimap:V,minimapLeft:Y,minimapWidth:W,minimapHeightIsEditorHeight:I,minimapIsSampling:O,minimapScale:h,minimapLineHeight:x,minimapCanvasInnerWidth:F,minimapCanvasInnerHeight:b,minimapCanvasOuterWidth:H,minimapCanvasOuterHeight:w}}static computeLayout(e,t){const i=t.outerWidth|0,r=t.outerHeight|0,s=t.lineHeight|0,o=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,u=t.viewLineCount,d=e.get(138),h=d==="inherit"?e.get(137):d,f=h==="inherit"?e.get(133):h,m=e.get(136),g=t.isDominatedByLongLines,_=e.get(57),v=e.get(68).renderType!==0,S=e.get(69),C=e.get(106),y=e.get(84),b=e.get(73),w=e.get(104),I=w.verticalScrollbarSize,O=w.verticalHasArrows,x=w.arrowSize,k=w.horizontalScrollbarSize,P=e.get(43),M=e.get(111)!=="never";let W=e.get(66);P&&M&&(W+=16);let F=0;if(v){const he=Math.max(o,S);F=Math.round(he*l)}let H=0;_&&(H=s*t.glyphMarginDecorationLaneCount);let V=0,Y=V+H,$=Y+F,K=$+W;const re=i-H-F-W;let G=!1,J=!1,z=-1;h==="inherit"&&g?(G=!0,J=!0):f==="on"||f==="bounded"?J=!0:f==="wordWrapColumn"&&(z=m);const j=TS._computeMinimapLayout({outerWidth:i,outerHeight:r,lineHeight:s,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:C,paddingTop:y.top,paddingBottom:y.bottom,minimap:b,verticalScrollbarWidth:I,viewLineCount:u,remainingWidth:re,isViewportWrapping:J},t.memory||new Z0e);j.renderMinimap!==0&&j.minimapLeft===0&&(V+=j.minimapWidth,Y+=j.minimapWidth,$+=j.minimapWidth,K+=j.minimapWidth);const ne=re-j.minimapWidth,le=Math.max(1,Math.floor((ne-I-2)/a)),q=O?x:0;return J&&(z=Math.max(1,le),f==="bounded"&&(z=Math.min(z,m))),{width:i,height:r,glyphMarginLeft:V,glyphMarginWidth:H,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount,lineNumbersLeft:Y,lineNumbersWidth:F,decorationsLeft:$,decorationsWidth:W,contentLeft:K,contentWidth:ne,minimap:j,viewportColumn:le,isWordWrapMinified:G,isViewportWrapping:J,wrappingColumn:z,verticalScrollbarWidth:I,horizontalScrollbarHeight:k,overviewRuler:{top:q,width:I,height:r-2*q,right:0}}}}class Jqe extends Ai{constructor(){super(140,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[A("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),A("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:A("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return $i(e,"simple",["simple","advanced"])}compute(e,t,i){return t.get(2)===2?"advanced":i}}var oh;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(oh||(oh={}));class eXe extends Ai{constructor(){const e={enabled:oh.OnCode};super(65,"lightbulb",e,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[oh.Off,oh.OnCode,oh.On],default:e.enabled,enumDescriptions:[A("editor.lightbulb.enabled.off","Disable the code action menu."),A("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),A("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:A("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:$i(e.enabled,this.defaultValue.enabled,[oh.Off,oh.OnCode,oh.On])}}}class tXe extends Ai{constructor(){const e={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(116,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:A("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:20,description:A("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:A("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:A("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Je(t.enabled,this.defaultValue.enabled),maxLineCount:ui.clampedInt(t.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:$i(t.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:Je(t.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class nXe extends Ai{constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(142,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:A("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[A("editor.inlayHints.on","Inlay hints are enabled"),A("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",bn?"Ctrl+Option":"Ctrl+Alt"),A("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",bn?"Ctrl+Option":"Ctrl+Alt"),A("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:A("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:A("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:A("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return typeof t.enabled=="boolean"&&(t.enabled=t.enabled?"on":"off"),{enabled:$i(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:ui.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:ao.string(t.fontFamily,this.defaultValue.fontFamily),padding:Je(t.padding,this.defaultValue.padding)}}}class iXe extends Ai{constructor(){super(66,"lineDecorationsWidth",10)}validate(e){return typeof e=="string"&&/^\d+(\.\d+)?ch$/.test(e)?-parseFloat(e.substring(0,e.length-2)):ui.clampedInt(e,this.defaultValue,0,1e3)}compute(e,t,i){return i<0?ui.clampedInt(-i*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):i}}class rXe extends za{constructor(){super(67,"lineHeight",qa.lineHeight,e=>za.clamp(e,0,150),{markdownDescription:A("lineHeight",`Controls the line height.
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}}class sXe extends Ai{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9,sectionHeaderLetterSpacing:1};super(73,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:A("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:A("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[A("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),A("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),A("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:A("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:A("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:A("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:A("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:A("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:A("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:e.showRegionSectionHeaders,description:A("minimap.showRegionSectionHeaders","Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:e.showMarkSectionHeaders,description:A("minimap.showMarkSectionHeaders","Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:e.sectionHeaderFontSize,description:A("minimap.sectionHeaderFontSize","Controls the font size of section headers in the minimap.")},"editor.minimap.sectionHeaderLetterSpacing":{type:"number",default:e.sectionHeaderLetterSpacing,description:A("minimap.sectionHeaderLetterSpacing","Controls the amount of space (in pixels) between characters of section header. This helps the readability of the header in small font sizes.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Je(t.enabled,this.defaultValue.enabled),autohide:Je(t.autohide,this.defaultValue.autohide),size:$i(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:$i(t.side,this.defaultValue.side,["right","left"]),showSlider:$i(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:Je(t.renderCharacters,this.defaultValue.renderCharacters),scale:ui.clampedInt(t.scale,1,1,3),maxColumn:ui.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:Je(t.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:Je(t.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:za.clamp(t.sectionHeaderFontSize??this.defaultValue.sectionHeaderFontSize,4,32),sectionHeaderLetterSpacing:za.clamp(t.sectionHeaderLetterSpacing??this.defaultValue.sectionHeaderLetterSpacing,0,5)}}}function oXe(n){return n==="ctrlCmd"?bn?"metaKey":"ctrlKey":"altKey"}class aXe extends Ai{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:A("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:A("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{top:ui.clampedInt(t.top,0,0,1e3),bottom:ui.clampedInt(t.bottom,0,0,1e3)}}}class lXe extends Ai{constructor(){const e={enabled:!0,cycle:!0};super(86,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:A("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:A("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Je(t.enabled,this.defaultValue.enabled),cycle:Je(t.cycle,this.defaultValue.cycle)}}}class cXe extends dA{constructor(){super(144)}compute(e,t,i){return e.pixelRatio}}class uXe extends Ai{constructor(){super(88,"placeholder",void 0)}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e:this.defaultValue}}class dXe extends Ai{constructor(){const e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[A("on","Quick suggestions show inside the suggest widget"),A("inline","Quick suggestions show as ghost text"),A("off","Quick suggestions are disabled")]}];super(90,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:A("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:A("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:A("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:A("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the {0}-setting which controls if suggestions are triggered by special characters.","`#editor.suggestOnTriggerCharacters#`")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){const c=e?"on":"off";return{comments:c,strings:c,other:c}}if(!e||typeof e!="object")return this.defaultValue;const{other:t,comments:i,strings:r}=e,s=["on","inline","off"];let o,a,l;return typeof t=="boolean"?o=t?"on":"off":o=$i(t,this.defaultValue.other,s),typeof i=="boolean"?a=i?"on":"off":a=$i(i,this.defaultValue.comments,s),typeof r=="boolean"?l=r?"on":"off":l=$i(r,this.defaultValue.strings,s),{other:o,comments:a,strings:l}}}class hXe extends Ai{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[A("lineNumbers.off","Line numbers are not rendered."),A("lineNumbers.on","Line numbers are rendered as absolute number."),A("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),A("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:A("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}}function xO(n){const e=n.get(99);return e==="editable"?n.get(92):e!=="on"}class fXe extends Ai{constructor(){const e=[],t={type:"number",description:A("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(103,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:A("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:A("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(const i of e)if(typeof i=="number")t.push({column:ui.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){const r=i;t.push({column:ui.clampedInt(r.column,0,0,1e4),color:r.color})}return t.sort((i,r)=>i.column-r.column),t}return this.defaultValue}}class gXe extends Ai{constructor(){super(93,"readOnlyMessage",void 0)}validate(e){return!e||typeof e!="object"?this.defaultValue:e}}function nae(n,e){if(typeof n!="string")return e;switch(n){case"hidden":return 2;case"visible":return 3;default:return 1}}let pXe=class extends Ai{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(104,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[A("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),A("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),A("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:A("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[A("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),A("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),A("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:A("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:A("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:A("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:A("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:e.ignoreHorizontalScrollbarInContentHeight,description:A("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e,i=ui.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),r=ui.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:ui.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:nae(t.vertical,this.defaultValue.vertical),horizontal:nae(t.horizontal,this.defaultValue.horizontal),useShadows:Je(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:Je(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:Je(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:Je(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:Je(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:ui.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:r,verticalSliderSize:ui.clampedInt(t.verticalSliderSize,r,0,1e3),scrollByPage:Je(t.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:Je(t.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}};const Lc="inUntrustedWorkspace",Wp={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class mXe extends Ai{constructor(){const e={nonBasicASCII:Lc,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Lc,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(126,"unicodeHighlight",e,{[Wp.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Lc],default:e.nonBasicASCII,description:A("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Wp.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:A("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Wp.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:A("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Wp.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Lc],default:e.includeComments,description:A("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[Wp.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Lc],default:e.includeStrings,description:A("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[Wp.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:A("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Wp.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:A("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&e&&(va(e.allowedCharacters,t.allowedCharacters)||(e={...e,allowedCharacters:t.allowedCharacters},i=!0)),t.allowedLocales&&e&&(va(e.allowedLocales,t.allowedLocales)||(e={...e,allowedLocales:t.allowedLocales},i=!0));const r=super.applyUpdate(e,t);return i?new zT(r.newValue,!0):r}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{nonBasicASCII:wS(t.nonBasicASCII,Lc,[!0,!1,Lc]),invisibleCharacters:Je(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:Je(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:wS(t.includeComments,Lc,[!0,!1,Lc]),includeStrings:wS(t.includeStrings,Lc,[!0,!1,Lc]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;const i={};for(const[r,s]of Object.entries(e))s===!0&&(i[r]=!0);return i}}class _Xe extends Ai{constructor(){const e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:A("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[A("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),A("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),A("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:A("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:A("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:e.fontFamily,description:A("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Je(t.enabled,this.defaultValue.enabled),mode:$i(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:$i(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:Je(t.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:Je(t.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:ao.string(t.fontFamily,this.defaultValue.fontFamily)}}}class EXe extends Ai{constructor(){const e={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1};super(63,"experimentalInlineEdit",e,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:e.enabled,description:A("inlineEdit.enabled","Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[A("inlineEdit.showToolbar.always","Show the inline edit toolbar whenever an inline suggestion is shown."),A("inlineEdit.showToolbar.onHover","Show the inline edit toolbar when hovering over an inline suggestion."),A("inlineEdit.showToolbar.never","Never show the inline edit toolbar.")],description:A("inlineEdit.showToolbar","Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:e.fontFamily,description:A("inlineEdit.fontFamily","Controls the font family of the inline edit.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Je(t.enabled,this.defaultValue.enabled),showToolbar:$i(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:ao.string(t.fontFamily,this.defaultValue.fontFamily),keepOnBlur:Je(t.keepOnBlur,this.defaultValue.keepOnBlur)}}}class vXe extends Ai{constructor(){const e={enabled:Fs.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:Fs.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:A("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:A("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Je(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:Je(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class SXe extends Ai{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[A("editor.guides.bracketPairs.true","Enables bracket pair guides."),A("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),A("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:A("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[A("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),A("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),A("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:A("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:A("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:A("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[A("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),A("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),A("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:A("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{bracketPairs:wS(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:wS(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:Je(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:Je(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:wS(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function wS(n,e,t){const i=t.indexOf(n);return i===-1?e:t[i]}class CXe extends Ai{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(119,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[A("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),A("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:A("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:A("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:A("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:A("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[A("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),A("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),A("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),A("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:A("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions ({0} and {1}) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.","`#editor.quickSuggestions#`","`#editor.suggestOnTriggerCharacters#`")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:A("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:A("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:A("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:A("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:A("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:A("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:A("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:A("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertMode:$i(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:Je(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:Je(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:Je(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:Je(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:$i(t.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:Je(t.showIcons,this.defaultValue.showIcons),showStatusBar:Je(t.showStatusBar,this.defaultValue.showStatusBar),preview:Je(t.preview,this.defaultValue.preview),previewMode:$i(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:Je(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:Je(t.showMethods,this.defaultValue.showMethods),showFunctions:Je(t.showFunctions,this.defaultValue.showFunctions),showConstructors:Je(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:Je(t.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:Je(t.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:Je(t.showFields,this.defaultValue.showFields),showVariables:Je(t.showVariables,this.defaultValue.showVariables),showClasses:Je(t.showClasses,this.defaultValue.showClasses),showStructs:Je(t.showStructs,this.defaultValue.showStructs),showInterfaces:Je(t.showInterfaces,this.defaultValue.showInterfaces),showModules:Je(t.showModules,this.defaultValue.showModules),showProperties:Je(t.showProperties,this.defaultValue.showProperties),showEvents:Je(t.showEvents,this.defaultValue.showEvents),showOperators:Je(t.showOperators,this.defaultValue.showOperators),showUnits:Je(t.showUnits,this.defaultValue.showUnits),showValues:Je(t.showValues,this.defaultValue.showValues),showConstants:Je(t.showConstants,this.defaultValue.showConstants),showEnums:Je(t.showEnums,this.defaultValue.showEnums),showEnumMembers:Je(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:Je(t.showKeywords,this.defaultValue.showKeywords),showWords:Je(t.showWords,this.defaultValue.showWords),showColors:Je(t.showColors,this.defaultValue.showColors),showFiles:Je(t.showFiles,this.defaultValue.showFiles),showReferences:Je(t.showReferences,this.defaultValue.showReferences),showFolders:Je(t.showFolders,this.defaultValue.showFolders),showTypeParameters:Je(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:Je(t.showSnippets,this.defaultValue.showSnippets),showUsers:Je(t.showUsers,this.defaultValue.showUsers),showIssues:Je(t.showIssues,this.defaultValue.showIssues)}}}class yXe extends Ai{constructor(){super(114,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:A("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:A("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:Je(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:Je(e.selectSubwords,this.defaultValue.selectSubwords)}}}class bXe extends Ai{constructor(){const e=[];super(131,"wordSegmenterLocales",e,{anyOf:[{description:A("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:A("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})}validate(e){if(typeof e=="string"&&(e=[e]),Array.isArray(e)){const t=[];for(const i of e)if(typeof i=="string")try{Intl.Segmenter.supportedLocalesOf(i).length>0&&t.push(i)}catch{}return t}return this.defaultValue}}class TXe extends Ai{constructor(){super(139,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[A("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),A("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),A("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),A("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:A("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,t,i){return t.get(2)===2?0:i}}class wXe extends dA{constructor(){super(147)}compute(e,t,i){const r=t.get(146);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:r.isWordWrapMinified,isViewportWrapping:r.isViewportWrapping,wrappingColumn:r.wrappingColumn}}}class AXe extends Ai{constructor(){const e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:A("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:A("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[A("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),A("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Je(t.enabled,this.defaultValue.enabled),showDropSelector:$i(t.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class RXe extends Ai{constructor(){const e={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:A("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:A("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[A("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),A("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Je(t.enabled,this.defaultValue.enabled),showPasteSelector:$i(t.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const IXe="Consolas, 'Courier New', monospace",NXe="Menlo, Monaco, 'Courier New', monospace",LXe="'Droid Sans Mono', 'monospace', monospace",qa={fontFamily:bn?NXe:Zo?LXe:IXe,fontWeight:"normal",fontSize:bn?12:14,lineHeight:0,letterSpacing:0},xv=[];function xe(n){return xv[n.id]=n,n}const J_={acceptSuggestionOnCommitCharacter:xe(new un(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:A("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:xe(new Hi(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",A("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:A("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:xe(new Wqe),accessibilityPageSize:xe(new ui(3,"accessibilityPageSize",10,1,1073741824,{description:A("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:xe(new ao(4,"ariaLabel",A("editorViewAccessibleLabel","Editor content"))),ariaRequired:xe(new un(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:xe(new un(8,"screenReaderAnnounceInlineSuggestion",!0,{description:A("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:xe(new Hi(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",A("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),A("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:A("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:xe(new Hi(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",A("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),A("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:A("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:xe(new Hi(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",A("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:A("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:xe(new Hi(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",A("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:A("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:xe(new Hi(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",A("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),A("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:A("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:xe(new FI(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],Vqe,{enumDescriptions:[A("editor.autoIndent.none","The editor will not insert indentation automatically."),A("editor.autoIndent.keep","The editor will keep the current line's indentation."),A("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),A("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),A("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:A("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:xe(new un(13,"automaticLayout",!1)),autoSurround:xe(new Hi(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[A("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),A("editor.autoSurround.quotes","Surround with quotes but not brackets."),A("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:A("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:xe(new vXe),bracketPairGuides:xe(new SXe),stickyTabStops:xe(new un(117,"stickyTabStops",!1,{description:A("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:xe(new un(17,"codeLens",!0,{description:A("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:xe(new ao(18,"codeLensFontFamily","",{description:A("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:xe(new ui(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:A("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:xe(new un(20,"colorDecorators",!0,{description:A("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:xe(new Hi(149,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[A("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),A("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),A("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:A("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:xe(new ui(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:A("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:xe(new un(22,"columnSelection",!1,{description:A("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:xe(new $qe),contextmenu:xe(new un(24,"contextmenu",!0)),copyWithSyntaxHighlighting:xe(new un(25,"copyWithSyntaxHighlighting",!0,{description:A("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:xe(new FI(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],Gqe,{description:A("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:xe(new Hi(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[A("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),A("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),A("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:A("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:xe(new FI(28,"cursorStyle",is.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],zqe,{description:A("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:xe(new ui(29,"cursorSurroundingLines",0,0,1073741824,{description:A("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:xe(new Hi(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[A("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),A("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:A("cursorSurroundingLinesStyle","Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:xe(new ui(31,"cursorWidth",0,0,1073741824,{markdownDescription:A("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:xe(new un(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:xe(new un(33,"disableMonospaceOptimizations",!1)),domReadOnly:xe(new un(34,"domReadOnly",!1)),dragAndDrop:xe(new un(35,"dragAndDrop",!0,{description:A("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:xe(new Yqe),dropIntoEditor:xe(new AXe),stickyScroll:xe(new tXe),experimentalWhitespaceRendering:xe(new Hi(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[A("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),A("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),A("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:A("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:xe(new ao(39,"extraEditorClassName","")),fastScrollSensitivity:xe(new za(40,"fastScrollSensitivity",5,n=>n<=0?5:n,{markdownDescription:A("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:xe(new Kqe),fixedOverflowWidgets:xe(new un(42,"fixedOverflowWidgets",!1)),folding:xe(new un(43,"folding",!0,{description:A("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:xe(new Hi(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[A("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),A("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:A("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:xe(new un(45,"foldingHighlight",!0,{description:A("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:xe(new un(46,"foldingImportsByDefault",!1,{description:A("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:xe(new ui(47,"foldingMaximumRegions",5e3,10,65e3,{description:A("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:xe(new un(48,"unfoldOnClickAfterEndOfLine",!1,{description:A("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:xe(new ao(49,"fontFamily",qa.fontFamily,{description:A("fontFamily","Controls the font family.")})),fontInfo:xe(new qqe),fontLigatures2:xe(new A_),fontSize:xe(new Xqe),fontWeight:xe(new n7),fontVariations:xe(new b1),formatOnPaste:xe(new un(55,"formatOnPaste",!1,{description:A("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:xe(new un(56,"formatOnType",!1,{description:A("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:xe(new un(57,"glyphMargin",!0,{description:A("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:xe(new Qqe),hideCursorInOverviewRuler:xe(new un(59,"hideCursorInOverviewRuler",!1,{description:A("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:xe(new Zqe),inDiffEditor:xe(new un(61,"inDiffEditor",!1)),letterSpacing:xe(new za(64,"letterSpacing",qa.letterSpacing,n=>za.clamp(n,-5,20),{description:A("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:xe(new eXe),lineDecorationsWidth:xe(new iXe),lineHeight:xe(new rXe),lineNumbers:xe(new hXe),lineNumbersMinChars:xe(new ui(69,"lineNumbersMinChars",5,1,300)),linkedEditing:xe(new un(70,"linkedEditing",!1,{description:A("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:xe(new un(71,"links",!0,{description:A("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:xe(new Hi(72,"matchBrackets","always",["always","near","never"],{description:A("matchBrackets","Highlight matching brackets.")})),minimap:xe(new sXe),mouseStyle:xe(new Hi(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:xe(new za(75,"mouseWheelScrollSensitivity",1,n=>n===0?1:n,{markdownDescription:A("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:xe(new un(76,"mouseWheelZoom",!1,{markdownDescription:bn?A("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):A("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:xe(new un(77,"multiCursorMergeOverlapping",!0,{description:A("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:xe(new FI(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],oXe,{markdownEnumDescriptions:[A("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),A("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:A({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:xe(new Hi(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[A("multiCursorPaste.spread","Each cursor pastes a single line of the text."),A("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:A("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:xe(new ui(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:A("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:xe(new Hi(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[A("occurrencesHighlight.off","Does not highlight occurrences."),A("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),A("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:A("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:xe(new un(82,"overviewRulerBorder",!0,{description:A("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:xe(new ui(83,"overviewRulerLanes",3,0,3)),padding:xe(new aXe),pasteAs:xe(new RXe),parameterHints:xe(new lXe),peekWidgetDefaultFocus:xe(new Hi(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[A("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),A("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:A("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),placeholder:xe(new uXe),definitionLinkOpensInPeek:xe(new un(89,"definitionLinkOpensInPeek",!1,{description:A("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:xe(new dXe),quickSuggestionsDelay:xe(new ui(91,"quickSuggestionsDelay",10,0,1073741824,{description:A("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:xe(new un(92,"readOnly",!1)),readOnlyMessage:xe(new gXe),renameOnType:xe(new un(94,"renameOnType",!1,{description:A("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:A("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:xe(new un(95,"renderControlCharacters",!0,{description:A("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:xe(new Hi(96,"renderFinalNewline",Zo?"dimmed":"on",["off","on","dimmed"],{description:A("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:xe(new Hi(97,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",A("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:A("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:xe(new un(98,"renderLineHighlightOnlyWhenFocus",!1,{description:A("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:xe(new Hi(99,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:xe(new Hi(100,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",A("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),A("renderWhitespace.selection","Render whitespace characters only on selected text."),A("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:A("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:xe(new ui(101,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:xe(new un(102,"roundedSelection",!0,{description:A("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:xe(new fXe),scrollbar:xe(new pXe),scrollBeyondLastColumn:xe(new ui(105,"scrollBeyondLastColumn",4,0,1073741824,{description:A("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:xe(new un(106,"scrollBeyondLastLine",!0,{description:A("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:xe(new un(107,"scrollPredominantAxis",!0,{description:A("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:xe(new un(108,"selectionClipboard",!0,{description:A("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Zo})),selectionHighlight:xe(new un(109,"selectionHighlight",!0,{description:A("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:xe(new un(110,"selectOnLineNumbers",!0)),showFoldingControls:xe(new Hi(111,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[A("showFoldingControls.always","Always show the folding controls."),A("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),A("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:A("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:xe(new un(112,"showUnused",!0,{description:A("showUnused","Controls fading out of unused code.")})),showDeprecated:xe(new un(141,"showDeprecated",!0,{description:A("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:xe(new nXe),snippetSuggestions:xe(new Hi(113,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[A("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),A("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),A("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),A("snippetSuggestions.none","Do not show snippet suggestions.")],description:A("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:xe(new yXe),smoothScrolling:xe(new un(115,"smoothScrolling",!1,{description:A("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:xe(new ui(118,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:xe(new CXe),inlineSuggest:xe(new _Xe),inlineEdit:xe(new EXe),inlineCompletionsAccessibilityVerbose:xe(new un(150,"inlineCompletionsAccessibilityVerbose",!1,{description:A("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:xe(new ui(120,"suggestFontSize",0,0,1e3,{markdownDescription:A("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:xe(new ui(121,"suggestLineHeight",0,0,1e3,{markdownDescription:A("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:xe(new un(122,"suggestOnTriggerCharacters",!0,{description:A("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:xe(new Hi(123,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[A("suggestSelection.first","Always select the first suggestion."),A("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),A("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:A("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:xe(new Hi(124,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[A("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),A("tabCompletion.off","Disable tab completions."),A("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:A("tabCompletion","Enables tab completions.")})),tabIndex:xe(new ui(125,"tabIndex",0,-1,1073741824)),unicodeHighlight:xe(new mXe),unusualLineTerminators:xe(new Hi(127,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[A("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),A("unusualLineTerminators.off","Unusual line terminators are ignored."),A("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:A("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:xe(new un(128,"useShadowDOM",!0)),useTabStops:xe(new un(129,"useTabStops",!0,{description:A("useTabStops","Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:xe(new Hi(130,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[A("wordBreak.normal","Use the default line break rule."),A("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:A("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:xe(new bXe),wordSeparators:xe(new ao(132,"wordSeparators",q0e,{description:A("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:xe(new Hi(133,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[A("wordWrap.off","Lines will never wrap."),A("wordWrap.on","Lines will wrap at the viewport width."),A({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),A({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:A({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:xe(new ao(134,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;")),wordWrapBreakBeforeCharacters:xe(new ao(135,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:xe(new ui(136,"wordWrapColumn",80,1,1073741824,{markdownDescription:A({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:xe(new Hi(137,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:xe(new Hi(138,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:xe(new jqe),defaultColorDecorators:xe(new un(148,"defaultColorDecorators",!1,{markdownDescription:A("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:xe(new cXe),tabFocusMode:xe(new un(145,"tabFocusMode",!1,{markdownDescription:A("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:xe(new TS),wrappingInfo:xe(new wXe),wrappingIndent:xe(new TXe),wrappingStrategy:xe(new Jqe)};class OXe{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?uC.isErrorNoTelemetry(e)?new uC(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const J0e=new OXe;function hi(n){hA(n)||J0e.onUnexpectedError(n)}function AK(n){hA(n)||J0e.onUnexpectedExternalError(n)}function iae(n){if(n instanceof Error){const{name:e,message:t}=n,i=n.stacktrace||n.stack;return{$isError:!0,name:e,message:t,stack:i,noTelemetry:uC.isErrorNoTelemetry(n)}}return n}const DO="Canceled";function hA(n){return n instanceof fA?!0:n instanceof Error&&n.name===DO&&n.message===DO}class fA extends Error{constructor(){super(DO),this.name=this.message}}function xXe(){const n=new Error(DO);return n.name=n.message,n}function IM(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function RK(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class DXe extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class uC extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof uC)return e;const t=new uC;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}}class Kn extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,Kn.prototype)}}function dC(n,e){const t=this;let i=!1,r;return function(){return i||(i=!0,r=n.apply(t,arguments)),r}}function e1e(n){return typeof n=="object"&&n!==null&&typeof n.dispose=="function"&&n.dispose.length===0}function As(n){if(Mn.is(n)){const e=[];for(const t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function dd(...n){return Ht(()=>As(n))}function Ht(n){return{dispose:dC(()=>{n()})}}const pP=class pP{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{As(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?pP.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}deleteAndLeak(e){e&&this._toDispose.has(e)&&this._toDispose.delete(e)}};pP.DISABLE_DISPOSED_WARNING=!1;let at=pP;const zQ=class zQ{constructor(){this._store=new at,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};zQ.None=Object.freeze({dispose(){}});let Ne=zQ;class rf{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)==null||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)==null||e.dispose(),this._value=void 0}}class PXe{constructor(e){this.object=e}dispose(){}}class IK{constructor(){this._store=new Map,this._isDisposed=!1}dispose(){this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{As(this._store.values())}finally{this._store.clear()}}get(e){return this._store.get(e)}set(e,t,i=!1){var r;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||(r=this._store.get(e))==null||r.dispose(),this._store.set(e,t)}deleteAndDispose(e){var t;(t=this._store.get(e))==null||t.dispose(),this._store.delete(e)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}const kXe=globalThis.performance&&typeof globalThis.performance.now=="function";class eE{static create(e){return new eE(e)}constructor(e){this._now=kXe&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}var Ue;(function(n){n.None=()=>Ne.None;function e(W,F){return h(W,()=>{},0,void 0,!0,void 0,F)}n.defer=e;function t(W){return(F,H=null,V)=>{let Y=!1,$;return $=W(K=>{if(!Y)return $?$.dispose():Y=!0,F.call(H,K)},null,V),Y&&$.dispose(),$}}n.once=t;function i(W,F){return n.once(n.filter(W,F))}n.onceIf=i;function r(W,F,H){return u((V,Y=null,$)=>W(K=>V.call(Y,F(K)),null,$),H)}n.map=r;function s(W,F,H){return u((V,Y=null,$)=>W(K=>{F(K),V.call(Y,K)},null,$),H)}n.forEach=s;function o(W,F,H){return u((V,Y=null,$)=>W(K=>F(K)&&V.call(Y,K),null,$),H)}n.filter=o;function a(W){return W}n.signal=a;function l(...W){return(F,H=null,V)=>{const Y=dd(...W.map($=>$(K=>F.call(H,K))));return d(Y,V)}}n.any=l;function c(W,F,H,V){let Y=H;return r(W,$=>(Y=F(Y,$),Y),V)}n.reduce=c;function u(W,F){let H;const V={onWillAddFirstListener(){H=W(Y.fire,Y)},onDidRemoveLastListener(){H==null||H.dispose()}},Y=new ge(V);return F==null||F.add(Y),Y.event}function d(W,F){return F instanceof Array?F.push(W):F&&F.add(W),W}function h(W,F,H=100,V=!1,Y=!1,$,K){let re,G,J,z=0,j;const ne={leakWarningThreshold:$,onWillAddFirstListener(){re=W(q=>{z++,G=F(G,q),V&&!J&&(le.fire(G),G=void 0),j=()=>{const he=G;G=void 0,J=void 0,(!V||z>1)&&le.fire(he),z=0},typeof H=="number"?(clearTimeout(J),J=setTimeout(j,H)):J===void 0&&(J=0,queueMicrotask(j))})},onWillRemoveListener(){Y&&z>0&&(j==null||j())},onDidRemoveLastListener(){j=void 0,re.dispose()}},le=new ge(ne);return K==null||K.add(le),le.event}n.debounce=h;function f(W,F=0,H){return n.debounce(W,(V,Y)=>V?(V.push(Y),V):[Y],F,void 0,!0,void 0,H)}n.accumulate=f;function m(W,F=(V,Y)=>V===Y,H){let V=!0,Y;return o(W,$=>{const K=V||!F($,Y);return V=!1,Y=$,K},H)}n.latch=m;function g(W,F,H){return[n.filter(W,F,H),n.filter(W,V=>!F(V),H)]}n.split=g;function _(W,F=!1,H=[],V){let Y=H.slice(),$=W(G=>{Y?Y.push(G):re.fire(G)});V&&V.add($);const K=()=>{Y==null||Y.forEach(G=>re.fire(G)),Y=null},re=new ge({onWillAddFirstListener(){$||($=W(G=>re.fire(G)),V&&V.add($))},onDidAddFirstListener(){Y&&(F?setTimeout(K):K())},onDidRemoveLastListener(){$&&$.dispose(),$=null}});return V&&V.add(re),re.event}n.buffer=_;function v(W,F){return(V,Y,$)=>{const K=F(new C);return W(function(re){const G=K.evaluate(re);G!==S&&V.call(Y,G)},void 0,$)}}n.chain=v;const S=Symbol("HaltChainable");class C{constructor(){this.steps=[]}map(F){return this.steps.push(F),this}forEach(F){return this.steps.push(H=>(F(H),H)),this}filter(F){return this.steps.push(H=>F(H)?H:S),this}reduce(F,H){let V=H;return this.steps.push(Y=>(V=F(V,Y),V)),this}latch(F=(H,V)=>H===V){let H=!0,V;return this.steps.push(Y=>{const $=H||!F(Y,V);return H=!1,V=Y,$?Y:S}),this}evaluate(F){for(const H of this.steps)if(F=H(F),F===S)break;return F}}function y(W,F,H=V=>V){const V=(...re)=>K.fire(H(...re)),Y=()=>W.on(F,V),$=()=>W.removeListener(F,V),K=new ge({onWillAddFirstListener:Y,onDidRemoveLastListener:$});return K.event}n.fromNodeEventEmitter=y;function b(W,F,H=V=>V){const V=(...re)=>K.fire(H(...re)),Y=()=>W.addEventListener(F,V),$=()=>W.removeEventListener(F,V),K=new ge({onWillAddFirstListener:Y,onDidRemoveLastListener:$});return K.event}n.fromDOMEventEmitter=b;function w(W){return new Promise(F=>t(W)(F))}n.toPromise=w;function I(W){const F=new ge;return W.then(H=>{F.fire(H)},()=>{F.fire(void 0)}).finally(()=>{F.dispose()}),F.event}n.fromPromise=I;function O(W,F){return W(H=>F.fire(H))}n.forward=O;function x(W,F,H){return F(H),W(V=>F(V))}n.runAndSubscribe=x;class k{constructor(F,H){this._observable=F,this._counter=0,this._hasChanged=!1;const V={onWillAddFirstListener:()=>{F.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{F.removeObserver(this)}};this.emitter=new ge(V),H&&H.add(this.emitter)}beginUpdate(F){this._counter++}handlePossibleChange(F){}handleChange(F,H){this._hasChanged=!0}endUpdate(F){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function P(W,F){return new k(W,F).emitter.event}n.fromObservable=P;function M(W){return(F,H,V)=>{let Y=0,$=!1;const K={beginUpdate(){Y++},endUpdate(){Y--,Y===0&&(W.reportChanges(),$&&($=!1,F.call(H)))},handlePossibleChange(){},handleChange(){$=!0}};W.addObserver(K),W.reportChanges();const re={dispose(){W.removeObserver(K)}};return V instanceof at?V.add(re):Array.isArray(V)&&V.push(re),re}}n.fromObservableLight=M})(Ue||(Ue={}));const sS=class sS{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${sS._idPool++}`,sS.all.add(this)}start(e){this._stopWatch=new eE,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}};sS.all=new Set,sS._idPool=0;let i7=sS,MXe=-1;const mP=class mP{constructor(e,t,i=(mP._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e,this.threshold=t,this.name=i,this._warnCountdown=0}dispose(){var e;(e=this._stacks)==null||e.clear()}check(e,t){const i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);const r=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,r+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;const[s,o]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${o}):`;console.warn(a),console.warn(s);const l=new FXe(a,s);this._errorHandler(l)}return()=>{const s=this._stacks.get(e.value)||0;this._stacks.set(e.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(const[i,r]of this._stacks)(!e||t<r)&&(e=[i,r],t=r);return e}};mP._idPool=1;let r7=mP;class NK{static create(){const e=new Error;return new NK(e.stack??"")}constructor(e){this.value=e}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class FXe extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}}class BXe extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}}class VH{constructor(e){this.value=e}}const UXe=2;class ge{constructor(e){var t,i,r,s;this._size=0,this._options=e,this._leakageMon=(t=this._options)!=null&&t.leakWarningThreshold?new r7((e==null?void 0:e.onListenerError)??hi,((i=this._options)==null?void 0:i.leakWarningThreshold)??MXe):void 0,this._perfMon=(r=this._options)!=null&&r._profName?new i7(this._options._profName):void 0,this._deliveryQueue=(s=this._options)==null?void 0:s.deliveryQueue}dispose(){var e,t,i,r;this._disposed||(this._disposed=!0,((e=this._deliveryQueue)==null?void 0:e.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(i=(t=this._options)==null?void 0:t.onDidRemoveLastListener)==null||i.call(t),(r=this._leakageMon)==null||r.dispose())}get event(){return this._event??(this._event=(e,t,i)=>{var a,l,c,u,d;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const h=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(h);const f=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],m=new BXe(`${h}. HINT: Stack shows most frequent listener (${f[1]}-times)`,f[0]);return(((a=this._options)==null?void 0:a.onListenerError)||hi)(m),Ne.None}if(this._disposed)return Ne.None;t&&(e=e.bind(t));const r=new VH(e);let s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(r.stack=NK.create(),s=this._leakageMon.check(r.stack,this._size+1)),this._listeners?this._listeners instanceof VH?(this._deliveryQueue??(this._deliveryQueue=new t1e),this._listeners=[this._listeners,r]):this._listeners.push(r):((c=(l=this._options)==null?void 0:l.onWillAddFirstListener)==null||c.call(l,this),this._listeners=r,(d=(u=this._options)==null?void 0:u.onDidAddFirstListener)==null||d.call(u,this)),this._size++;const o=Ht(()=>{s==null||s(),this._removeListener(r)});return i instanceof at?i.add(o):Array.isArray(i)&&i.push(o),o}),this._event}_removeListener(e){var s,o,a,l;if((o=(s=this._options)==null?void 0:s.onWillRemoveListener)==null||o.call(s,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(l=(a=this._options)==null?void 0:a.onDidRemoveLastListener)==null||l.call(a,this),this._size=0;return}const t=this._listeners,i=t.indexOf(e);if(i===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[i]=void 0;const r=this._deliveryQueue.current===this;if(this._size*UXe<=t.length){let c=0;for(let u=0;u<t.length;u++)t[u]?t[c++]=t[u]:r&&(this._deliveryQueue.end--,c<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=c}}_deliver(e,t){var r;if(!e)return;const i=((r=this._options)==null?void 0:r.onListenerError)||hi;if(!i){e.value(t);return}try{e.value(t)}catch(s){i(s)}}_deliverQueue(e){const t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){var t,i,r,s;if((t=this._deliveryQueue)!=null&&t.current&&(this._deliverQueue(this._deliveryQueue),(i=this._perfMon)==null||i.stop()),(r=this._perfMon)==null||r.start(this._size),this._listeners)if(this._listeners instanceof VH)this._deliver(this._listeners,e);else{const o=this._deliveryQueue;o.enqueue(this,e,this._listeners.length),this._deliverQueue(o)}(s=this._perfMon)==null||s.stop()}hasListeners(){return this._size>0}}const HXe=()=>new t1e;class t1e{constructor(){this.i=-1,this.end=0}enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class T1 extends ge{constructor(e){super(e),this._isPaused=0,this._eventQueue=new pa,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class n1e extends T1{constructor(e){super(e),this._delay=e.delay??100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class VXe extends ge{constructor(e){super(e),this._queuedEvents=[],this._mergeFn=e==null?void 0:e.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}}class WXe{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new ge({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(e){const t={event:e,listener:null};return this.events.push(t),this.hasListeners&&this.hook(t),Ht(dC(()=>{this.hasListeners&&this.unhook(t);const r=this.events.indexOf(t);this.events.splice(r,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(e=>this.hook(e))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(e=>this.unhook(e))}hook(e){e.listener=e.event(t=>this.emitter.fire(t))}unhook(e){var t;(t=e.listener)==null||t.dispose(),e.listener=null}dispose(){var e;this.emitter.dispose();for(const t of this.events)(e=t.listener)==null||e.dispose();this.events=[]}}class gA{constructor(){this.data=[]}wrapEvent(e,t,i){return(r,s,o)=>e(a=>{const l=this.data[this.data.length-1];if(!t){l?l.buffers.push(()=>r.call(s,a)):r.call(s,a);return}const c=l;if(!c){r.call(s,t(i,a));return}c.items??(c.items=[]),c.items.push(a),c.buffers.length===0&&l.buffers.push(()=>{c.reducedResult??(c.reducedResult=i?c.items.reduce(t,i):c.items.reduce(t)),r.call(s,c.reducedResult)})},void 0,o)}bufferEvents(e){const t={buffers:new Array};this.data.push(t);const i=e();return this.data.pop(),t.buffers.forEach(r=>r()),i}}class rae{constructor(){this.listening=!1,this.inputEvent=Ue.None,this.inputEventListener=Ne.None,this.emitter=new ge({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const i1e=Object.freeze(function(n,e){const t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}});var uc;(function(n){function e(t){return t===n.None||t===n.Cancelled||t instanceof oL?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}n.isCancellationToken=e,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ue.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i1e})})(uc||(uc={}));class oL{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i1e:(this._emitter||(this._emitter=new ge),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class vy{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new oL),this._token}cancel(){this._token?this._token instanceof oL&&this._token.cancel():this._token=uc.Cancelled}dispose(e=!1){var t;e&&this.cancel(),(t=this._parentListener)==null||t.dispose(),this._token?this._token instanceof oL&&this._token.dispose():this._token=uc.None}}class LK{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const aL=new LK,s7=new LK,o7=new LK,r1e=new Array(230),$Xe=Object.create(null),GXe=Object.create(null),OK=[];for(let n=0;n<=193;n++)OK[n]=-1;(function(){const n="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],i=[];for(const r of e){const[s,o,a,l,c,u,d,h,f]=r;if(i[o]||(i[o]=!0,$Xe[a]=o,GXe[a.toLowerCase()]=o,s&&(OK[o]=l)),!t[l]){if(t[l]=!0,!c)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);aL.define(l,c),s7.define(l,h||c),o7.define(l,f||h||c)}u&&(r1e[u]=l)}})();var yh;(function(n){function e(a){return aL.keyCodeToStr(a)}n.toString=e;function t(a){return aL.strToKeyCode(a)}n.fromString=t;function i(a){return s7.keyCodeToStr(a)}n.toUserSettingsUS=i;function r(a){return o7.keyCodeToStr(a)}n.toUserSettingsGeneral=r;function s(a){return s7.strToKeyCode(a)||o7.strToKeyCode(a)}n.fromUserSettings=s;function o(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return aL.keyCodeToStr(a)}n.toElectronAccelerator=o})(yh||(yh={}));function zXe(n,e){const t=(e&65535)<<16>>>0;return(n|t)>>>0}var sae={};let AS;const WH=globalThis.vscode;var i_e;if(typeof WH<"u"&&typeof WH.process<"u"){const n=WH.process;AS={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"&&typeof((i_e=process==null?void 0:process.versions)==null?void 0:i_e.node)=="string"?AS={get platform(){return process.platform},get arch(){return process.arch},get env(){return sae},cwd(){return sae.VSCODE_CWD||process.cwd()}}:AS={get platform(){return ba?"win32":bn?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const PO=AS.cwd,a7=AS.env,jXe=AS.platform,YXe=65,KXe=97,qXe=90,XXe=122,xg=46,no=47,Ma=92,Hf=58,QXe=63;class s1e extends Error{constructor(e,t,i){let r;typeof t=="string"&&t.indexOf("not ")===0?(r="must not be",t=t.replace(/^not /,"")):r="must be";const s=e.indexOf(".")!==-1?"property":"argument";let o=`The "${e}" ${s} ${r} of type ${t}`;o+=`. Received type ${typeof i}`,super(o),this.code="ERR_INVALID_ARG_TYPE"}}function ZXe(n,e){if(n===null||typeof n!="object")throw new s1e(e,"Object",n)}function $r(n,e){if(typeof n!="string")throw new s1e(e,"string",n)}const uf=jXe==="win32";function Yn(n){return n===no||n===Ma}function l7(n){return n===no}function Vf(n){return n>=YXe&&n<=qXe||n>=KXe&&n<=XXe}function kO(n,e,t,i){let r="",s=0,o=-1,a=0,l=0;for(let c=0;c<=n.length;++c){if(c<n.length)l=n.charCodeAt(c);else{if(i(l))break;l=no}if(i(l)){if(!(o===c-1||a===1))if(a===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==xg||r.charCodeAt(r.length-2)!==xg){if(r.length>2){const u=r.lastIndexOf(t);u===-1?(r="",s=0):(r=r.slice(0,u),s=r.length-1-r.lastIndexOf(t)),o=c,a=0;continue}else if(r.length!==0){r="",s=0,o=c,a=0;continue}}e&&(r+=r.length>0?`${t}..`:"..",s=2)}else r.length>0?r+=`${t}${n.slice(o+1,c)}`:r=n.slice(o+1,c),s=c-o-1;o=c,a=0}else l===xg&&a!==-1?++a:a=-1}return r}function JXe(n){return n?`${n[0]==="."?"":"."}${n}`:""}function o1e(n,e){ZXe(e,"pathObject");const t=e.dir||e.root,i=e.base||`${e.name||""}${JXe(e.ext)}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}const qo={resolve(...n){let e="",t="",i=!1;for(let r=n.length-1;r>=-1;r--){let s;if(r>=0){if(s=n[r],$r(s,`paths[${r}]`),s.length===0)continue}else e.length===0?s=PO():(s=a7[`=${e}`]||PO(),(s===void 0||s.slice(0,2).toLowerCase()!==e.toLowerCase()&&s.charCodeAt(2)===Ma)&&(s=`${e}\\`));const o=s.length;let a=0,l="",c=!1;const u=s.charCodeAt(0);if(o===1)Yn(u)&&(a=1,c=!0);else if(Yn(u))if(c=!0,Yn(s.charCodeAt(1))){let d=2,h=d;for(;d<o&&!Yn(s.charCodeAt(d));)d++;if(d<o&&d!==h){const f=s.slice(h,d);for(h=d;d<o&&Yn(s.charCodeAt(d));)d++;if(d<o&&d!==h){for(h=d;d<o&&!Yn(s.charCodeAt(d));)d++;(d===o||d!==h)&&(l=`\\\\${f}\\${s.slice(h,d)}`,a=d)}}}else a=1;else Vf(u)&&s.charCodeAt(1)===Hf&&(l=s.slice(0,2),a=2,o>2&&Yn(s.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${s.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=kO(t,!i,"\\",Yn),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){$r(n,"path");const e=n.length;if(e===0)return".";let t=0,i,r=!1;const s=n.charCodeAt(0);if(e===1)return l7(s)?"\\":n;if(Yn(s))if(r=!0,Yn(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!Yn(n.charCodeAt(a));)a++;if(a<e&&a!==l){const c=n.slice(l,a);for(l=a;a<e&&Yn(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!Yn(n.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${n.slice(l,a)}`,t=a)}}}else t=1;else Vf(s)&&n.charCodeAt(1)===Hf&&(i=n.slice(0,2),t=2,e>2&&Yn(n.charCodeAt(2))&&(r=!0,t=3));let o=t<e?kO(n.slice(t),!r,"\\",Yn):"";return o.length===0&&!r&&(o="."),o.length>0&&Yn(n.charCodeAt(e-1))&&(o+="\\"),i===void 0?r?`\\${o}`:o:r?`${i}\\${o}`:`${i}${o}`},isAbsolute(n){$r(n,"path");const e=n.length;if(e===0)return!1;const t=n.charCodeAt(0);return Yn(t)||e>2&&Vf(t)&&n.charCodeAt(1)===Hf&&Yn(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let s=0;s<n.length;++s){const o=n[s];$r(o,"path"),o.length>0&&(e===void 0?e=t=o:e+=`\\${o}`)}if(e===void 0)return".";let i=!0,r=0;if(typeof t=="string"&&Yn(t.charCodeAt(0))){++r;const s=t.length;s>1&&Yn(t.charCodeAt(1))&&(++r,s>2&&(Yn(t.charCodeAt(2))?++r:i=!1))}if(i){for(;r<e.length&&Yn(e.charCodeAt(r));)r++;r>=2&&(e=`\\${e.slice(r)}`)}return qo.normalize(e)},relative(n,e){if($r(n,"from"),$r(e,"to"),n===e)return"";const t=qo.resolve(n),i=qo.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let r=0;for(;r<n.length&&n.charCodeAt(r)===Ma;)r++;let s=n.length;for(;s-1>r&&n.charCodeAt(s-1)===Ma;)s--;const o=s-r;let a=0;for(;a<e.length&&e.charCodeAt(a)===Ma;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===Ma;)l--;const c=l-a,u=o<c?o:c;let d=-1,h=0;for(;h<u;h++){const m=n.charCodeAt(r+h);if(m!==e.charCodeAt(a+h))break;m===Ma&&(d=h)}if(h!==u){if(d===-1)return i}else{if(c>u){if(e.charCodeAt(a+h)===Ma)return i.slice(a+h+1);if(h===2)return i.slice(a+h)}o>u&&(n.charCodeAt(r+h)===Ma?d=h:h===2&&(d=3)),d===-1&&(d=0)}let f="";for(h=r+d+1;h<=s;++h)(h===s||n.charCodeAt(h)===Ma)&&(f+=f.length===0?"..":"\\..");return a+=d,f.length>0?`${f}${i.slice(a,l)}`:(i.charCodeAt(a)===Ma&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;const e=qo.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===Ma){if(e.charCodeAt(1)===Ma){const t=e.charCodeAt(2);if(t!==QXe&&t!==xg)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Vf(e.charCodeAt(0))&&e.charCodeAt(1)===Hf&&e.charCodeAt(2)===Ma)return`\\\\?\\${e}`;return n},dirname(n){$r(n,"path");const e=n.length;if(e===0)return".";let t=-1,i=0;const r=n.charCodeAt(0);if(e===1)return Yn(r)?n:".";if(Yn(r)){if(t=i=1,Yn(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!Yn(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&Yn(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!Yn(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else Vf(r)&&n.charCodeAt(1)===Hf&&(t=e>2&&Yn(n.charCodeAt(2))?3:2,i=t);let s=-1,o=!0;for(let a=e-1;a>=i;--a)if(Yn(n.charCodeAt(a))){if(!o){s=a;break}}else o=!1;if(s===-1){if(t===-1)return".";s=t}return n.slice(0,s)},basename(n,e){e!==void 0&&$r(e,"suffix"),$r(n,"path");let t=0,i=-1,r=!0,s;if(n.length>=2&&Vf(n.charCodeAt(0))&&n.charCodeAt(1)===Hf&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let o=e.length-1,a=-1;for(s=n.length-1;s>=t;--s){const l=n.charCodeAt(s);if(Yn(l)){if(!r){t=s+1;break}}else a===-1&&(r=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(s=n.length-1;s>=t;--s)if(Yn(n.charCodeAt(s))){if(!r){t=s+1;break}}else i===-1&&(r=!1,i=s+1);return i===-1?"":n.slice(t,i)},extname(n){$r(n,"path");let e=0,t=-1,i=0,r=-1,s=!0,o=0;n.length>=2&&n.charCodeAt(1)===Hf&&Vf(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){const l=n.charCodeAt(a);if(Yn(l)){if(!s){i=a+1;break}continue}r===-1&&(s=!1,r=a+1),l===xg?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||r===-1||o===0||o===1&&t===r-1&&t===i+1?"":n.slice(t,r)},format:o1e.bind(null,"\\"),parse(n){$r(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.length;let i=0,r=n.charCodeAt(0);if(t===1)return Yn(r)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(Yn(r)){if(i=1,Yn(n.charCodeAt(1))){let d=2,h=d;for(;d<t&&!Yn(n.charCodeAt(d));)d++;if(d<t&&d!==h){for(h=d;d<t&&Yn(n.charCodeAt(d));)d++;if(d<t&&d!==h){for(h=d;d<t&&!Yn(n.charCodeAt(d));)d++;d===t?i=d:d!==h&&(i=d+1)}}}}else if(Vf(r)&&n.charCodeAt(1)===Hf){if(t<=2)return e.root=e.dir=n,e;if(i=2,Yn(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let s=-1,o=i,a=-1,l=!0,c=n.length-1,u=0;for(;c>=i;--c){if(r=n.charCodeAt(c),Yn(r)){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===xg?s===-1?s=c:u!==1&&(u=1):s!==-1&&(u=-1)}return a!==-1&&(s===-1||u===0||u===1&&s===a-1&&s===o+1?e.base=e.name=n.slice(o,a):(e.name=n.slice(o,s),e.base=n.slice(o,a),e.ext=n.slice(s,a))),o>0&&o!==i?e.dir=n.slice(0,o-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},eQe=(()=>{if(uf){const n=/\\/g;return()=>{const e=PO().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>PO()})(),or={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){const r=i>=0?n[i]:eQe();$r(r,`paths[${i}]`),r.length!==0&&(e=`${r}/${e}`,t=r.charCodeAt(0)===no)}return e=kO(e,!t,"/",l7),t?`/${e}`:e.length>0?e:"."},normalize(n){if($r(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===no,t=n.charCodeAt(n.length-1)===no;return n=kO(n,!e,"/",l7),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return $r(n,"path"),n.length>0&&n.charCodeAt(0)===no},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const i=n[t];$r(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":or.normalize(e)},relative(n,e){if($r(n,"from"),$r(e,"to"),n===e||(n=or.resolve(n),e=or.resolve(e),n===e))return"";const t=1,i=n.length,r=i-t,s=1,o=e.length-s,a=r<o?r:o;let l=-1,c=0;for(;c<a;c++){const d=n.charCodeAt(t+c);if(d!==e.charCodeAt(s+c))break;d===no&&(l=c)}if(c===a)if(o>a){if(e.charCodeAt(s+c)===no)return e.slice(s+c+1);if(c===0)return e.slice(s+c)}else r>a&&(n.charCodeAt(t+c)===no?l=c:c===0&&(l=0));let u="";for(c=t+l+1;c<=i;++c)(c===i||n.charCodeAt(c)===no)&&(u+=u.length===0?"..":"/..");return`${u}${e.slice(s+l)}`},toNamespacedPath(n){return n},dirname(n){if($r(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===no;let t=-1,i=!0;for(let r=n.length-1;r>=1;--r)if(n.charCodeAt(r)===no){if(!i){t=r;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&$r(e,"ext"),$r(n,"path");let t=0,i=-1,r=!0,s;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let o=e.length-1,a=-1;for(s=n.length-1;s>=0;--s){const l=n.charCodeAt(s);if(l===no){if(!r){t=s+1;break}}else a===-1&&(r=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===no){if(!r){t=s+1;break}}else i===-1&&(r=!1,i=s+1);return i===-1?"":n.slice(t,i)},extname(n){$r(n,"path");let e=-1,t=0,i=-1,r=!0,s=0;for(let o=n.length-1;o>=0;--o){const a=n.charCodeAt(o);if(a===no){if(!r){t=o+1;break}continue}i===-1&&(r=!1,i=o+1),a===xg?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:o1e.bind(null,"/"),parse(n){$r(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.charCodeAt(0)===no;let i;t?(e.root="/",i=1):i=0;let r=-1,s=0,o=-1,a=!0,l=n.length-1,c=0;for(;l>=i;--l){const u=n.charCodeAt(l);if(u===no){if(!a){s=l+1;break}continue}o===-1&&(a=!1,o=l+1),u===xg?r===-1?r=l:c!==1&&(c=1):r!==-1&&(c=-1)}if(o!==-1){const u=s===0&&t?1:s;r===-1||c===0||c===1&&r===o-1&&r===s+1?e.base=e.name=n.slice(u,o):(e.name=n.slice(u,r),e.base=n.slice(u,o),e.ext=n.slice(r,o))}return s>0?e.dir=n.slice(0,s-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};or.win32=qo.win32=qo;or.posix=qo.posix=or;const a1e=uf?qo.normalize:or.normalize,tQe=uf?qo.join:or.join,nQe=uf?qo.resolve:or.resolve,iQe=uf?qo.relative:or.relative,rQe=uf?qo.dirname:or.dirname,l1e=uf?qo.basename:or.basename,sQe=uf?qo.extname:or.extname,Dg=uf?qo.sep:or.sep,oQe=/^\w[\w\d+.-]*$/,aQe=/^\//,lQe=/^\/\//;function cQe(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!oQe.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!aQe.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(lQe.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function uQe(n,e){return!n&&!e?"file":n}function dQe(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==Gc&&(e=Gc+e):e=Gc;break}return e}const ir="",Gc="/",hQe=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class en{static isUri(e){return e instanceof en?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}constructor(e,t,i,r,s,o=!1){typeof e=="object"?(this.scheme=e.scheme||ir,this.authority=e.authority||ir,this.path=e.path||ir,this.query=e.query||ir,this.fragment=e.fragment||ir):(this.scheme=uQe(e,o),this.authority=t||ir,this.path=dQe(this.scheme,i||ir),this.query=r||ir,this.fragment=s||ir,cQe(this,o))}get fsPath(){return MO(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:r,query:s,fragment:o}=e;return t===void 0?t=this.scheme:t===null&&(t=ir),i===void 0?i=this.authority:i===null&&(i=ir),r===void 0?r=this.path:r===null&&(r=ir),s===void 0?s=this.query:s===null&&(s=ir),o===void 0?o=this.fragment:o===null&&(o=ir),t===this.scheme&&i===this.authority&&r===this.path&&s===this.query&&o===this.fragment?this:new rv(t,i,r,s,o)}static parse(e,t=!1){const i=hQe.exec(e);return i?new rv(i[2]||ir,BI(i[4]||ir),BI(i[5]||ir),BI(i[7]||ir),BI(i[9]||ir),t):new rv(ir,ir,ir,ir,ir)}static file(e){let t=ir;if(ba&&(e=e.replace(/\\/g,Gc)),e[0]===Gc&&e[1]===Gc){const i=e.indexOf(Gc,2);i===-1?(t=e.substring(2),e=Gc):(t=e.substring(2,i),e=e.substring(i)||Gc)}return new rv("file",t,e,ir,ir)}static from(e,t){return new rv(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return ba&&e.scheme==="file"?i=en.file(qo.join(MO(e,!0),...t)).path:i=or.join(e.path,...t),e.with({path:i})}toString(e=!1){return c7(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof en)return e;{const t=new rv(e);return t._formatted=e.external??null,t._fsPath=e._sep===c1e?e.fsPath??null:null,t}}else return e}}const c1e=ba?1:void 0;class rv extends en{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=MO(this,!1)),this._fsPath}toString(e=!1){return e?c7(this,!0):(this._formatted||(this._formatted=c7(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=c1e),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const u1e={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function oae(n,e,t){let i,r=-1;for(let s=0;s<n.length;s++){const o=n.charCodeAt(s);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47||t&&o===91||t&&o===93||t&&o===58)r!==-1&&(i+=encodeURIComponent(n.substring(r,s)),r=-1),i!==void 0&&(i+=n.charAt(s));else{i===void 0&&(i=n.substr(0,s));const a=u1e[o];a!==void 0?(r!==-1&&(i+=encodeURIComponent(n.substring(r,s)),r=-1),i+=a):r===-1&&(r=s)}}return r!==-1&&(i+=encodeURIComponent(n.substring(r))),i!==void 0?i:n}function fQe(n){let e;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=u1e[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function MO(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,ba&&(t=t.replace(/\//g,"\\")),t}function c7(n,e){const t=e?fQe:oae;let i="",{scheme:r,authority:s,path:o,query:a,fragment:l}=n;if(r&&(i+=r,i+=":"),(s||r==="file")&&(i+=Gc,i+=Gc),s){let c=s.indexOf("@");if(c!==-1){const u=s.substr(0,c);s=s.substr(c+1),c=u.lastIndexOf(":"),c===-1?i+=t(u,!1,!1):(i+=t(u.substr(0,c),!1,!1),i+=":",i+=t(u.substr(c+1),!1,!0)),i+="@"}s=s.toLowerCase(),c=s.lastIndexOf(":"),c===-1?i+=t(s,!1,!0):(i+=t(s.substr(0,c),!1,!0),i+=s.substr(c))}if(o){if(o.length>=3&&o.charCodeAt(0)===47&&o.charCodeAt(2)===58){const c=o.charCodeAt(1);c>=65&&c<=90&&(o=`/${String.fromCharCode(c+32)}:${o.substr(3)}`)}else if(o.length>=2&&o.charCodeAt(1)===58){const c=o.charCodeAt(0);c>=65&&c<=90&&(o=`${String.fromCharCode(c+32)}:${o.substr(2)}`)}i+=t(o,!0,!1)}return a&&(i+="?",i+=t(a,!1,!1)),l&&(i+="#",i+=e?l:oae(l,!1,!1)),i}function d1e(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+d1e(n.substr(3)):n}}const aae=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function BI(n){return n.match(aae)?n.replace(aae,e=>d1e(e)):n}class Ee{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new Ee(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return Ee.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return Ee.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return Ee.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){const i=e.lineNumber|0,r=t.lineNumber|0;if(i===r){const s=e.column|0,o=t.column|0;return s-o}return i-r}clone(){return new Ee(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new Ee(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}let ce=class es{constructor(e,t,i,r){e>i||e===i&&t>r?(this.startLineNumber=i,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=r)}isEmpty(){return es.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return es.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return es.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return es.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return es.plusRange(this,e)}static plusRange(e,t){let i,r,s,o;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(s=t.endLineNumber,o=t.endColumn):t.endLineNumber===e.endLineNumber?(s=t.endLineNumber,o=Math.max(t.endColumn,e.endColumn)):(s=e.endLineNumber,o=e.endColumn),new es(i,r,s,o)}intersectRanges(e){return es.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn;const a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,u=t.endColumn;return i<a?(i=a,r=l):i===a&&(r=Math.max(r,l)),s>c?(s=c,o=u):s===c&&(o=Math.min(o,u)),i>s||i===s&&r>o?null:new es(i,r,s,o)}equalsRange(e){return es.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t?!0:!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return es.getEndPosition(this)}static getEndPosition(e){return new Ee(e.endLineNumber,e.endColumn)}getStartPosition(){return es.getStartPosition(this)}static getStartPosition(e){return new Ee(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new es(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new es(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return es.collapseToStart(this)}static collapseToStart(e){return new es(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return es.collapseToEnd(this)}static collapseToEnd(e){return new es(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new es(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new es(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new es(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const s=e.startLineNumber|0,o=t.startLineNumber|0;if(s===o){const a=e.startColumn|0,l=t.startColumn|0;if(a===l){const c=e.endLineNumber|0,u=t.endLineNumber|0;if(c===u){const d=e.endColumn|0,h=t.endColumn|0;return d-h}return c-u}return a-l}return s-o}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}};class vn extends ce{constructor(e,t,i,r){super(e,t,i,r),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=r}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return vn.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new vn(this.startLineNumber,this.startColumn,e,t):new vn(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new Ee(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new Ee(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new vn(e,t,this.endLineNumber,this.endColumn):new vn(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new vn(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new vn(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new vn(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new vn(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,r,s){return s===0?new vn(e,t,i,r):new vn(i,r,e,t)}}const u7=Object.create(null);function B(n,e){if(Ka(e)){const t=u7[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return u7[n]=e,{id:n}}function h1e(){return u7}const gQe={add:B("add",6e4),plus:B("plus",6e4),gistNew:B("gist-new",6e4),repoCreate:B("repo-create",6e4),lightbulb:B("lightbulb",60001),lightBulb:B("light-bulb",60001),repo:B("repo",60002),repoDelete:B("repo-delete",60002),gistFork:B("gist-fork",60003),repoForked:B("repo-forked",60003),gitPullRequest:B("git-pull-request",60004),gitPullRequestAbandoned:B("git-pull-request-abandoned",60004),recordKeys:B("record-keys",60005),keyboard:B("keyboard",60005),tag:B("tag",60006),gitPullRequestLabel:B("git-pull-request-label",60006),tagAdd:B("tag-add",60006),tagRemove:B("tag-remove",60006),person:B("person",60007),personFollow:B("person-follow",60007),personOutline:B("person-outline",60007),personFilled:B("person-filled",60007),gitBranch:B("git-branch",60008),gitBranchCreate:B("git-branch-create",60008),gitBranchDelete:B("git-branch-delete",60008),sourceControl:B("source-control",60008),mirror:B("mirror",60009),mirrorPublic:B("mirror-public",60009),star:B("star",60010),starAdd:B("star-add",60010),starDelete:B("star-delete",60010),starEmpty:B("star-empty",60010),comment:B("comment",60011),commentAdd:B("comment-add",60011),alert:B("alert",60012),warning:B("warning",60012),search:B("search",60013),searchSave:B("search-save",60013),logOut:B("log-out",60014),signOut:B("sign-out",60014),logIn:B("log-in",60015),signIn:B("sign-in",60015),eye:B("eye",60016),eyeUnwatch:B("eye-unwatch",60016),eyeWatch:B("eye-watch",60016),circleFilled:B("circle-filled",60017),primitiveDot:B("primitive-dot",60017),closeDirty:B("close-dirty",60017),debugBreakpoint:B("debug-breakpoint",60017),debugBreakpointDisabled:B("debug-breakpoint-disabled",60017),debugHint:B("debug-hint",60017),terminalDecorationSuccess:B("terminal-decoration-success",60017),primitiveSquare:B("primitive-square",60018),edit:B("edit",60019),pencil:B("pencil",60019),info:B("info",60020),issueOpened:B("issue-opened",60020),gistPrivate:B("gist-private",60021),gitForkPrivate:B("git-fork-private",60021),lock:B("lock",60021),mirrorPrivate:B("mirror-private",60021),close:B("close",60022),removeClose:B("remove-close",60022),x:B("x",60022),repoSync:B("repo-sync",60023),sync:B("sync",60023),clone:B("clone",60024),desktopDownload:B("desktop-download",60024),beaker:B("beaker",60025),microscope:B("microscope",60025),vm:B("vm",60026),deviceDesktop:B("device-desktop",60026),file:B("file",60027),fileText:B("file-text",60027),more:B("more",60028),ellipsis:B("ellipsis",60028),kebabHorizontal:B("kebab-horizontal",60028),mailReply:B("mail-reply",60029),reply:B("reply",60029),organization:B("organization",60030),organizationFilled:B("organization-filled",60030),organizationOutline:B("organization-outline",60030),newFile:B("new-file",60031),fileAdd:B("file-add",60031),newFolder:B("new-folder",60032),fileDirectoryCreate:B("file-directory-create",60032),trash:B("trash",60033),trashcan:B("trashcan",60033),history:B("history",60034),clock:B("clock",60034),folder:B("folder",60035),fileDirectory:B("file-directory",60035),symbolFolder:B("symbol-folder",60035),logoGithub:B("logo-github",60036),markGithub:B("mark-github",60036),github:B("github",60036),terminal:B("terminal",60037),console:B("console",60037),repl:B("repl",60037),zap:B("zap",60038),symbolEvent:B("symbol-event",60038),error:B("error",60039),stop:B("stop",60039),variable:B("variable",60040),symbolVariable:B("symbol-variable",60040),array:B("array",60042),symbolArray:B("symbol-array",60042),symbolModule:B("symbol-module",60043),symbolPackage:B("symbol-package",60043),symbolNamespace:B("symbol-namespace",60043),symbolObject:B("symbol-object",60043),symbolMethod:B("symbol-method",60044),symbolFunction:B("symbol-function",60044),symbolConstructor:B("symbol-constructor",60044),symbolBoolean:B("symbol-boolean",60047),symbolNull:B("symbol-null",60047),symbolNumeric:B("symbol-numeric",60048),symbolNumber:B("symbol-number",60048),symbolStructure:B("symbol-structure",60049),symbolStruct:B("symbol-struct",60049),symbolParameter:B("symbol-parameter",60050),symbolTypeParameter:B("symbol-type-parameter",60050),symbolKey:B("symbol-key",60051),symbolText:B("symbol-text",60051),symbolReference:B("symbol-reference",60052),goToFile:B("go-to-file",60052),symbolEnum:B("symbol-enum",60053),symbolValue:B("symbol-value",60053),symbolRuler:B("symbol-ruler",60054),symbolUnit:B("symbol-unit",60054),activateBreakpoints:B("activate-breakpoints",60055),archive:B("archive",60056),arrowBoth:B("arrow-both",60057),arrowDown:B("arrow-down",60058),arrowLeft:B("arrow-left",60059),arrowRight:B("arrow-right",60060),arrowSmallDown:B("arrow-small-down",60061),arrowSmallLeft:B("arrow-small-left",60062),arrowSmallRight:B("arrow-small-right",60063),arrowSmallUp:B("arrow-small-up",60064),arrowUp:B("arrow-up",60065),bell:B("bell",60066),bold:B("bold",60067),book:B("book",60068),bookmark:B("bookmark",60069),debugBreakpointConditionalUnverified:B("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:B("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:B("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:B("debug-breakpoint-data-unverified",60072),debugBreakpointData:B("debug-breakpoint-data",60073),debugBreakpointDataDisabled:B("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:B("debug-breakpoint-log-unverified",60074),debugBreakpointLog:B("debug-breakpoint-log",60075),debugBreakpointLogDisabled:B("debug-breakpoint-log-disabled",60075),briefcase:B("briefcase",60076),broadcast:B("broadcast",60077),browser:B("browser",60078),bug:B("bug",60079),calendar:B("calendar",60080),caseSensitive:B("case-sensitive",60081),check:B("check",60082),checklist:B("checklist",60083),chevronDown:B("chevron-down",60084),chevronLeft:B("chevron-left",60085),chevronRight:B("chevron-right",60086),chevronUp:B("chevron-up",60087),chromeClose:B("chrome-close",60088),chromeMaximize:B("chrome-maximize",60089),chromeMinimize:B("chrome-minimize",60090),chromeRestore:B("chrome-restore",60091),circleOutline:B("circle-outline",60092),circle:B("circle",60092),debugBreakpointUnverified:B("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:B("terminal-decoration-incomplete",60092),circleSlash:B("circle-slash",60093),circuitBoard:B("circuit-board",60094),clearAll:B("clear-all",60095),clippy:B("clippy",60096),closeAll:B("close-all",60097),cloudDownload:B("cloud-download",60098),cloudUpload:B("cloud-upload",60099),code:B("code",60100),collapseAll:B("collapse-all",60101),colorMode:B("color-mode",60102),commentDiscussion:B("comment-discussion",60103),creditCard:B("credit-card",60105),dash:B("dash",60108),dashboard:B("dashboard",60109),database:B("database",60110),debugContinue:B("debug-continue",60111),debugDisconnect:B("debug-disconnect",60112),debugPause:B("debug-pause",60113),debugRestart:B("debug-restart",60114),debugStart:B("debug-start",60115),debugStepInto:B("debug-step-into",60116),debugStepOut:B("debug-step-out",60117),debugStepOver:B("debug-step-over",60118),debugStop:B("debug-stop",60119),debug:B("debug",60120),deviceCameraVideo:B("device-camera-video",60121),deviceCamera:B("device-camera",60122),deviceMobile:B("device-mobile",60123),diffAdded:B("diff-added",60124),diffIgnored:B("diff-ignored",60125),diffModified:B("diff-modified",60126),diffRemoved:B("diff-removed",60127),diffRenamed:B("diff-renamed",60128),diff:B("diff",60129),diffSidebyside:B("diff-sidebyside",60129),discard:B("discard",60130),editorLayout:B("editor-layout",60131),emptyWindow:B("empty-window",60132),exclude:B("exclude",60133),extensions:B("extensions",60134),eyeClosed:B("eye-closed",60135),fileBinary:B("file-binary",60136),fileCode:B("file-code",60137),fileMedia:B("file-media",60138),filePdf:B("file-pdf",60139),fileSubmodule:B("file-submodule",60140),fileSymlinkDirectory:B("file-symlink-directory",60141),fileSymlinkFile:B("file-symlink-file",60142),fileZip:B("file-zip",60143),files:B("files",60144),filter:B("filter",60145),flame:B("flame",60146),foldDown:B("fold-down",60147),foldUp:B("fold-up",60148),fold:B("fold",60149),folderActive:B("folder-active",60150),folderOpened:B("folder-opened",60151),gear:B("gear",60152),gift:B("gift",60153),gistSecret:B("gist-secret",60154),gist:B("gist",60155),gitCommit:B("git-commit",60156),gitCompare:B("git-compare",60157),compareChanges:B("compare-changes",60157),gitMerge:B("git-merge",60158),githubAction:B("github-action",60159),githubAlt:B("github-alt",60160),globe:B("globe",60161),grabber:B("grabber",60162),graph:B("graph",60163),gripper:B("gripper",60164),heart:B("heart",60165),home:B("home",60166),horizontalRule:B("horizontal-rule",60167),hubot:B("hubot",60168),inbox:B("inbox",60169),issueReopened:B("issue-reopened",60171),issues:B("issues",60172),italic:B("italic",60173),jersey:B("jersey",60174),json:B("json",60175),kebabVertical:B("kebab-vertical",60176),key:B("key",60177),law:B("law",60178),lightbulbAutofix:B("lightbulb-autofix",60179),linkExternal:B("link-external",60180),link:B("link",60181),listOrdered:B("list-ordered",60182),listUnordered:B("list-unordered",60183),liveShare:B("live-share",60184),loading:B("loading",60185),location:B("location",60186),mailRead:B("mail-read",60187),mail:B("mail",60188),markdown:B("markdown",60189),megaphone:B("megaphone",60190),mention:B("mention",60191),milestone:B("milestone",60192),gitPullRequestMilestone:B("git-pull-request-milestone",60192),mortarBoard:B("mortar-board",60193),move:B("move",60194),multipleWindows:B("multiple-windows",60195),mute:B("mute",60196),noNewline:B("no-newline",60197),note:B("note",60198),octoface:B("octoface",60199),openPreview:B("open-preview",60200),package:B("package",60201),paintcan:B("paintcan",60202),pin:B("pin",60203),play:B("play",60204),run:B("run",60204),plug:B("plug",60205),preserveCase:B("preserve-case",60206),preview:B("preview",60207),project:B("project",60208),pulse:B("pulse",60209),question:B("question",60210),quote:B("quote",60211),radioTower:B("radio-tower",60212),reactions:B("reactions",60213),references:B("references",60214),refresh:B("refresh",60215),regex:B("regex",60216),remoteExplorer:B("remote-explorer",60217),remote:B("remote",60218),remove:B("remove",60219),replaceAll:B("replace-all",60220),replace:B("replace",60221),repoClone:B("repo-clone",60222),repoForcePush:B("repo-force-push",60223),repoPull:B("repo-pull",60224),repoPush:B("repo-push",60225),report:B("report",60226),requestChanges:B("request-changes",60227),rocket:B("rocket",60228),rootFolderOpened:B("root-folder-opened",60229),rootFolder:B("root-folder",60230),rss:B("rss",60231),ruby:B("ruby",60232),saveAll:B("save-all",60233),saveAs:B("save-as",60234),save:B("save",60235),screenFull:B("screen-full",60236),screenNormal:B("screen-normal",60237),searchStop:B("search-stop",60238),server:B("server",60240),settingsGear:B("settings-gear",60241),settings:B("settings",60242),shield:B("shield",60243),smiley:B("smiley",60244),sortPrecedence:B("sort-precedence",60245),splitHorizontal:B("split-horizontal",60246),splitVertical:B("split-vertical",60247),squirrel:B("squirrel",60248),starFull:B("star-full",60249),starHalf:B("star-half",60250),symbolClass:B("symbol-class",60251),symbolColor:B("symbol-color",60252),symbolConstant:B("symbol-constant",60253),symbolEnumMember:B("symbol-enum-member",60254),symbolField:B("symbol-field",60255),symbolFile:B("symbol-file",60256),symbolInterface:B("symbol-interface",60257),symbolKeyword:B("symbol-keyword",60258),symbolMisc:B("symbol-misc",60259),symbolOperator:B("symbol-operator",60260),symbolProperty:B("symbol-property",60261),wrench:B("wrench",60261),wrenchSubaction:B("wrench-subaction",60261),symbolSnippet:B("symbol-snippet",60262),tasklist:B("tasklist",60263),telescope:B("telescope",60264),textSize:B("text-size",60265),threeBars:B("three-bars",60266),thumbsdown:B("thumbsdown",60267),thumbsup:B("thumbsup",60268),tools:B("tools",60269),triangleDown:B("triangle-down",60270),triangleLeft:B("triangle-left",60271),triangleRight:B("triangle-right",60272),triangleUp:B("triangle-up",60273),twitter:B("twitter",60274),unfold:B("unfold",60275),unlock:B("unlock",60276),unmute:B("unmute",60277),unverified:B("unverified",60278),verified:B("verified",60279),versions:B("versions",60280),vmActive:B("vm-active",60281),vmOutline:B("vm-outline",60282),vmRunning:B("vm-running",60283),watch:B("watch",60284),whitespace:B("whitespace",60285),wholeWord:B("whole-word",60286),window:B("window",60287),wordWrap:B("word-wrap",60288),zoomIn:B("zoom-in",60289),zoomOut:B("zoom-out",60290),listFilter:B("list-filter",60291),listFlat:B("list-flat",60292),listSelection:B("list-selection",60293),selection:B("selection",60293),listTree:B("list-tree",60294),debugBreakpointFunctionUnverified:B("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:B("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:B("debug-breakpoint-function-disabled",60296),debugStackframeActive:B("debug-stackframe-active",60297),circleSmallFilled:B("circle-small-filled",60298),debugStackframeDot:B("debug-stackframe-dot",60298),terminalDecorationMark:B("terminal-decoration-mark",60298),debugStackframe:B("debug-stackframe",60299),debugStackframeFocused:B("debug-stackframe-focused",60299),debugBreakpointUnsupported:B("debug-breakpoint-unsupported",60300),symbolString:B("symbol-string",60301),debugReverseContinue:B("debug-reverse-continue",60302),debugStepBack:B("debug-step-back",60303),debugRestartFrame:B("debug-restart-frame",60304),debugAlt:B("debug-alt",60305),callIncoming:B("call-incoming",60306),callOutgoing:B("call-outgoing",60307),menu:B("menu",60308),expandAll:B("expand-all",60309),feedback:B("feedback",60310),gitPullRequestReviewer:B("git-pull-request-reviewer",60310),groupByRefType:B("group-by-ref-type",60311),ungroupByRefType:B("ungroup-by-ref-type",60312),account:B("account",60313),gitPullRequestAssignee:B("git-pull-request-assignee",60313),bellDot:B("bell-dot",60314),debugConsole:B("debug-console",60315),library:B("library",60316),output:B("output",60317),runAll:B("run-all",60318),syncIgnored:B("sync-ignored",60319),pinned:B("pinned",60320),githubInverted:B("github-inverted",60321),serverProcess:B("server-process",60322),serverEnvironment:B("server-environment",60323),pass:B("pass",60324),issueClosed:B("issue-closed",60324),stopCircle:B("stop-circle",60325),playCircle:B("play-circle",60326),record:B("record",60327),debugAltSmall:B("debug-alt-small",60328),vmConnect:B("vm-connect",60329),cloud:B("cloud",60330),merge:B("merge",60331),export:B("export",60332),graphLeft:B("graph-left",60333),magnet:B("magnet",60334),notebook:B("notebook",60335),redo:B("redo",60336),checkAll:B("check-all",60337),pinnedDirty:B("pinned-dirty",60338),passFilled:B("pass-filled",60339),circleLargeFilled:B("circle-large-filled",60340),circleLarge:B("circle-large",60341),circleLargeOutline:B("circle-large-outline",60341),combine:B("combine",60342),gather:B("gather",60342),table:B("table",60343),variableGroup:B("variable-group",60344),typeHierarchy:B("type-hierarchy",60345),typeHierarchySub:B("type-hierarchy-sub",60346),typeHierarchySuper:B("type-hierarchy-super",60347),gitPullRequestCreate:B("git-pull-request-create",60348),runAbove:B("run-above",60349),runBelow:B("run-below",60350),notebookTemplate:B("notebook-template",60351),debugRerun:B("debug-rerun",60352),workspaceTrusted:B("workspace-trusted",60353),workspaceUntrusted:B("workspace-untrusted",60354),workspaceUnknown:B("workspace-unknown",60355),terminalCmd:B("terminal-cmd",60356),terminalDebian:B("terminal-debian",60357),terminalLinux:B("terminal-linux",60358),terminalPowershell:B("terminal-powershell",60359),terminalTmux:B("terminal-tmux",60360),terminalUbuntu:B("terminal-ubuntu",60361),terminalBash:B("terminal-bash",60362),arrowSwap:B("arrow-swap",60363),copy:B("copy",60364),personAdd:B("person-add",60365),filterFilled:B("filter-filled",60366),wand:B("wand",60367),debugLineByLine:B("debug-line-by-line",60368),inspect:B("inspect",60369),layers:B("layers",60370),layersDot:B("layers-dot",60371),layersActive:B("layers-active",60372),compass:B("compass",60373),compassDot:B("compass-dot",60374),compassActive:B("compass-active",60375),azure:B("azure",60376),issueDraft:B("issue-draft",60377),gitPullRequestClosed:B("git-pull-request-closed",60378),gitPullRequestDraft:B("git-pull-request-draft",60379),debugAll:B("debug-all",60380),debugCoverage:B("debug-coverage",60381),runErrors:B("run-errors",60382),folderLibrary:B("folder-library",60383),debugContinueSmall:B("debug-continue-small",60384),beakerStop:B("beaker-stop",60385),graphLine:B("graph-line",60386),graphScatter:B("graph-scatter",60387),pieChart:B("pie-chart",60388),bracket:B("bracket",60175),bracketDot:B("bracket-dot",60389),bracketError:B("bracket-error",60390),lockSmall:B("lock-small",60391),azureDevops:B("azure-devops",60392),verifiedFilled:B("verified-filled",60393),newline:B("newline",60394),layout:B("layout",60395),layoutActivitybarLeft:B("layout-activitybar-left",60396),layoutActivitybarRight:B("layout-activitybar-right",60397),layoutPanelLeft:B("layout-panel-left",60398),layoutPanelCenter:B("layout-panel-center",60399),layoutPanelJustify:B("layout-panel-justify",60400),layoutPanelRight:B("layout-panel-right",60401),layoutPanel:B("layout-panel",60402),layoutSidebarLeft:B("layout-sidebar-left",60403),layoutSidebarRight:B("layout-sidebar-right",60404),layoutStatusbar:B("layout-statusbar",60405),layoutMenubar:B("layout-menubar",60406),layoutCentered:B("layout-centered",60407),target:B("target",60408),indent:B("indent",60409),recordSmall:B("record-small",60410),errorSmall:B("error-small",60411),terminalDecorationError:B("terminal-decoration-error",60411),arrowCircleDown:B("arrow-circle-down",60412),arrowCircleLeft:B("arrow-circle-left",60413),arrowCircleRight:B("arrow-circle-right",60414),arrowCircleUp:B("arrow-circle-up",60415),layoutSidebarRightOff:B("layout-sidebar-right-off",60416),layoutPanelOff:B("layout-panel-off",60417),layoutSidebarLeftOff:B("layout-sidebar-left-off",60418),blank:B("blank",60419),heartFilled:B("heart-filled",60420),map:B("map",60421),mapHorizontal:B("map-horizontal",60421),foldHorizontal:B("fold-horizontal",60421),mapFilled:B("map-filled",60422),mapHorizontalFilled:B("map-horizontal-filled",60422),foldHorizontalFilled:B("fold-horizontal-filled",60422),circleSmall:B("circle-small",60423),bellSlash:B("bell-slash",60424),bellSlashDot:B("bell-slash-dot",60425),commentUnresolved:B("comment-unresolved",60426),gitPullRequestGoToChanges:B("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:B("git-pull-request-new-changes",60428),searchFuzzy:B("search-fuzzy",60429),commentDraft:B("comment-draft",60430),send:B("send",60431),sparkle:B("sparkle",60432),insert:B("insert",60433),mic:B("mic",60434),thumbsdownFilled:B("thumbsdown-filled",60435),thumbsupFilled:B("thumbsup-filled",60436),coffee:B("coffee",60437),snake:B("snake",60438),game:B("game",60439),vr:B("vr",60440),chip:B("chip",60441),piano:B("piano",60442),music:B("music",60443),micFilled:B("mic-filled",60444),repoFetch:B("repo-fetch",60445),copilot:B("copilot",60446),lightbulbSparkle:B("lightbulb-sparkle",60447),robot:B("robot",60448),sparkleFilled:B("sparkle-filled",60449),diffSingle:B("diff-single",60450),diffMultiple:B("diff-multiple",60451),surroundWith:B("surround-with",60452),share:B("share",60453),gitStash:B("git-stash",60454),gitStashApply:B("git-stash-apply",60455),gitStashPop:B("git-stash-pop",60456),vscode:B("vscode",60457),vscodeInsiders:B("vscode-insiders",60458),codeOss:B("code-oss",60459),runCoverage:B("run-coverage",60460),runAllCoverage:B("run-all-coverage",60461),coverage:B("coverage",60462),githubProject:B("github-project",60463),mapVertical:B("map-vertical",60464),foldVertical:B("fold-vertical",60464),mapVerticalFilled:B("map-vertical-filled",60465),foldVerticalFilled:B("fold-vertical-filled",60465),goToSearch:B("go-to-search",60466),percentage:B("percentage",60467),sortPercentage:B("sort-percentage",60467),attach:B("attach",60468)},pQe={dialogError:B("dialog-error","error"),dialogWarning:B("dialog-warning","warning"),dialogInfo:B("dialog-info","info"),dialogClose:B("dialog-close","close"),treeItemExpanded:B("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:B("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:B("tree-filter-on-type-off","list-selection"),treeFilterClear:B("tree-filter-clear","close"),treeItemLoading:B("tree-item-loading","loading"),menuSelection:B("menu-selection","check"),menuSubmenu:B("menu-submenu","chevron-right"),menuBarMore:B("menubar-more","more"),scrollbarButtonLeft:B("scrollbar-button-left","triangle-left"),scrollbarButtonRight:B("scrollbar-button-right","triangle-right"),scrollbarButtonUp:B("scrollbar-button-up","triangle-up"),scrollbarButtonDown:B("scrollbar-button-down","triangle-down"),toolBarMore:B("toolbar-more","more"),quickInputBack:B("quick-input-back","arrow-left"),dropDownButton:B("drop-down-button",60084),symbolCustomColor:B("symbol-customcolor",60252),exportIcon:B("export",60332),workspaceUnspecified:B("workspace-unspecified",60355),newLine:B("newline",60394),thumbsDownFilled:B("thumbsdown-filled",60435),thumbsUpFilled:B("thumbsup-filled",60436),gitFetch:B("git-fetch",60445),lightbulbSparkleAutofix:B("lightbulb-sparkle-autofix",60447),debugBreakpointPending:B("debug-breakpoint-pending",60377)},tt={...gQe,...pQe};let f1e=class{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new ge,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._tokenizationSupports.set(e,t),this.handleChange([e]),Ht(()=>{this._tokenizationSupports.get(e)===t&&(this._tokenizationSupports.delete(e),this.handleChange([e]))})}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){var r;(r=this._factories.get(e))==null||r.dispose();const i=new mQe(this,e,t);return this._factories.set(e,i),Ht(()=>{const s=this._factories.get(e);!s||s!==i||(this._factories.delete(e),s.dispose())})}async getOrCreate(e){const t=this.get(e);if(t)return t;const i=this._factories.get(e);return!i||i.isResolved?null:(await i.resolve(),this.get(e))}isResolved(e){if(this.get(e))return!0;const i=this._factories.get(e);return!!(!i||i.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};class mQe extends Ne{get isResolved(){return this._isResolved}constructor(e,t,i){super(),this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const e=await this._factory.tokenizationSupport;this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))}}let w1=class{constructor(e,t,i){this.offset=e,this.type=t,this.language=i,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}};class xK{constructor(e,t){this.tokens=e,this.endState=t,this._tokenizationResultBrand=void 0}}class NM{constructor(e,t){this.tokens=e,this.endState=t,this._encodedTokenizationResultBrand=void 0}}var lae;(function(n){n[n.Increase=0]="Increase",n[n.Decrease=1]="Decrease"})(lae||(lae={}));var cae;(function(n){const e=new Map;e.set(0,tt.symbolMethod),e.set(1,tt.symbolFunction),e.set(2,tt.symbolConstructor),e.set(3,tt.symbolField),e.set(4,tt.symbolVariable),e.set(5,tt.symbolClass),e.set(6,tt.symbolStruct),e.set(7,tt.symbolInterface),e.set(8,tt.symbolModule),e.set(9,tt.symbolProperty),e.set(10,tt.symbolEvent),e.set(11,tt.symbolOperator),e.set(12,tt.symbolUnit),e.set(13,tt.symbolValue),e.set(15,tt.symbolEnum),e.set(14,tt.symbolConstant),e.set(15,tt.symbolEnum),e.set(16,tt.symbolEnumMember),e.set(17,tt.symbolKeyword),e.set(27,tt.symbolSnippet),e.set(18,tt.symbolText),e.set(19,tt.symbolColor),e.set(20,tt.symbolFile),e.set(21,tt.symbolReference),e.set(22,tt.symbolCustomColor),e.set(23,tt.symbolFolder),e.set(24,tt.symbolTypeParameter),e.set(25,tt.account),e.set(26,tt.issues);function t(s){let o=e.get(s);return o||(console.info("No codicon found for CompletionItemKind "+s),o=tt.symbolProperty),o}n.toIcon=t;const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26);function r(s,o){let a=i.get(s);return typeof a>"u"&&!o&&(a=9),a}n.fromString=r})(cae||(cae={}));var uae;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(uae||(uae={}));class _Qe{constructor(e,t,i,r){this.range=e,this.text=t,this.completionKind=i,this.isSnippetText=r}equals(e){return ce.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}var dae;(function(n){n[n.Automatic=0]="Automatic",n[n.PasteAs=1]="PasteAs"})(dae||(dae={}));var hae;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(hae||(hae={}));var fae;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(fae||(fae={}));A("Array","array"),A("Boolean","boolean"),A("Class","class"),A("Constant","constant"),A("Constructor","constructor"),A("Enum","enumeration"),A("EnumMember","enumeration member"),A("Event","event"),A("Field","field"),A("File","file"),A("Function","function"),A("Interface","interface"),A("Key","key"),A("Method","method"),A("Module","module"),A("Namespace","namespace"),A("Null","null"),A("Number","number"),A("Object","object"),A("Operator","operator"),A("Package","package"),A("Property","property"),A("String","string"),A("Struct","struct"),A("TypeParameter","type parameter"),A("Variable","variable");var d7;(function(n){const e=new Map;e.set(0,tt.symbolFile),e.set(1,tt.symbolModule),e.set(2,tt.symbolNamespace),e.set(3,tt.symbolPackage),e.set(4,tt.symbolClass),e.set(5,tt.symbolMethod),e.set(6,tt.symbolProperty),e.set(7,tt.symbolField),e.set(8,tt.symbolConstructor),e.set(9,tt.symbolEnum),e.set(10,tt.symbolInterface),e.set(11,tt.symbolFunction),e.set(12,tt.symbolVariable),e.set(13,tt.symbolConstant),e.set(14,tt.symbolString),e.set(15,tt.symbolNumber),e.set(16,tt.symbolBoolean),e.set(17,tt.symbolArray),e.set(18,tt.symbolObject),e.set(19,tt.symbolKey),e.set(20,tt.symbolNull),e.set(21,tt.symbolEnumMember),e.set(22,tt.symbolStruct),e.set(23,tt.symbolEvent),e.set(24,tt.symbolOperator),e.set(25,tt.symbolTypeParameter);function t(i){let r=e.get(i);return r||(console.info("No codicon found for SymbolKind "+i),r=tt.symbolProperty),r}n.toIcon=t})(d7||(d7={}));const ql=class ql{static fromValue(e){switch(e){case"comment":return ql.Comment;case"imports":return ql.Imports;case"region":return ql.Region}return new ql(e)}constructor(e){this.value=e}};ql.Comment=new ql("comment"),ql.Imports=new ql("imports"),ql.Region=new ql("region");let h7=ql;var gae;(function(n){n[n.AIGenerated=1]="AIGenerated"})(gae||(gae={}));var pae;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(pae||(pae={}));var mae;(function(n){function e(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}n.is=e})(mae||(mae={}));var _ae;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(_ae||(_ae={}));class EQe{constructor(e){this.createSupport=e,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(e=>{e&&e.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const gr=new f1e,f7=new f1e;var Eae;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(Eae||(Eae={}));var g7;(function(n){n[n.Unknown=0]="Unknown",n[n.Disabled=1]="Disabled",n[n.Enabled=2]="Enabled"})(g7||(g7={}));var p7;(function(n){n[n.Invoke=1]="Invoke",n[n.Auto=2]="Auto"})(p7||(p7={}));var m7;(function(n){n[n.None=0]="None",n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(m7||(m7={}));var _7;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.User=25]="User",n[n.Issue=26]="Issue",n[n.Snippet=27]="Snippet"})(_7||(_7={}));var E7;(function(n){n[n.Deprecated=1]="Deprecated"})(E7||(E7={}));var v7;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(v7||(v7={}));var S7;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(S7||(S7={}));var C7;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(C7||(C7={}));var y7;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(y7||(y7={}));var b7;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(b7||(b7={}));var T7;(function(n){n[n.None=0]="None",n[n.Keep=1]="Keep",n[n.Brackets=2]="Brackets",n[n.Advanced=3]="Advanced",n[n.Full=4]="Full"})(T7||(T7={}));var w7;(function(n){n[n.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",n[n.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",n[n.accessibilitySupport=2]="accessibilitySupport",n[n.accessibilityPageSize=3]="accessibilityPageSize",n[n.ariaLabel=4]="ariaLabel",n[n.ariaRequired=5]="ariaRequired",n[n.autoClosingBrackets=6]="autoClosingBrackets",n[n.autoClosingComments=7]="autoClosingComments",n[n.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",n[n.autoClosingDelete=9]="autoClosingDelete",n[n.autoClosingOvertype=10]="autoClosingOvertype",n[n.autoClosingQuotes=11]="autoClosingQuotes",n[n.autoIndent=12]="autoIndent",n[n.automaticLayout=13]="automaticLayout",n[n.autoSurround=14]="autoSurround",n[n.bracketPairColorization=15]="bracketPairColorization",n[n.guides=16]="guides",n[n.codeLens=17]="codeLens",n[n.codeLensFontFamily=18]="codeLensFontFamily",n[n.codeLensFontSize=19]="codeLensFontSize",n[n.colorDecorators=20]="colorDecorators",n[n.colorDecoratorsLimit=21]="colorDecoratorsLimit",n[n.columnSelection=22]="columnSelection",n[n.comments=23]="comments",n[n.contextmenu=24]="contextmenu",n[n.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",n[n.cursorBlinking=26]="cursorBlinking",n[n.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",n[n.cursorStyle=28]="cursorStyle",n[n.cursorSurroundingLines=29]="cursorSurroundingLines",n[n.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",n[n.cursorWidth=31]="cursorWidth",n[n.disableLayerHinting=32]="disableLayerHinting",n[n.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",n[n.domReadOnly=34]="domReadOnly",n[n.dragAndDrop=35]="dragAndDrop",n[n.dropIntoEditor=36]="dropIntoEditor",n[n.emptySelectionClipboard=37]="emptySelectionClipboard",n[n.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",n[n.extraEditorClassName=39]="extraEditorClassName",n[n.fastScrollSensitivity=40]="fastScrollSensitivity",n[n.find=41]="find",n[n.fixedOverflowWidgets=42]="fixedOverflowWidgets",n[n.folding=43]="folding",n[n.foldingStrategy=44]="foldingStrategy",n[n.foldingHighlight=45]="foldingHighlight",n[n.foldingImportsByDefault=46]="foldingImportsByDefault",n[n.foldingMaximumRegions=47]="foldingMaximumRegions",n[n.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",n[n.fontFamily=49]="fontFamily",n[n.fontInfo=50]="fontInfo",n[n.fontLigatures=51]="fontLigatures",n[n.fontSize=52]="fontSize",n[n.fontWeight=53]="fontWeight",n[n.fontVariations=54]="fontVariations",n[n.formatOnPaste=55]="formatOnPaste",n[n.formatOnType=56]="formatOnType",n[n.glyphMargin=57]="glyphMargin",n[n.gotoLocation=58]="gotoLocation",n[n.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",n[n.hover=60]="hover",n[n.inDiffEditor=61]="inDiffEditor",n[n.inlineSuggest=62]="inlineSuggest",n[n.inlineEdit=63]="inlineEdit",n[n.letterSpacing=64]="letterSpacing",n[n.lightbulb=65]="lightbulb",n[n.lineDecorationsWidth=66]="lineDecorationsWidth",n[n.lineHeight=67]="lineHeight",n[n.lineNumbers=68]="lineNumbers",n[n.lineNumbersMinChars=69]="lineNumbersMinChars",n[n.linkedEditing=70]="linkedEditing",n[n.links=71]="links",n[n.matchBrackets=72]="matchBrackets",n[n.minimap=73]="minimap",n[n.mouseStyle=74]="mouseStyle",n[n.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",n[n.mouseWheelZoom=76]="mouseWheelZoom",n[n.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",n[n.multiCursorModifier=78]="multiCursorModifier",n[n.multiCursorPaste=79]="multiCursorPaste",n[n.multiCursorLimit=80]="multiCursorLimit",n[n.occurrencesHighlight=81]="occurrencesHighlight",n[n.overviewRulerBorder=82]="overviewRulerBorder",n[n.overviewRulerLanes=83]="overviewRulerLanes",n[n.padding=84]="padding",n[n.pasteAs=85]="pasteAs",n[n.parameterHints=86]="parameterHints",n[n.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",n[n.placeholder=88]="placeholder",n[n.definitionLinkOpensInPeek=89]="definitionLinkOpensInPeek",n[n.quickSuggestions=90]="quickSuggestions",n[n.quickSuggestionsDelay=91]="quickSuggestionsDelay",n[n.readOnly=92]="readOnly",n[n.readOnlyMessage=93]="readOnlyMessage",n[n.renameOnType=94]="renameOnType",n[n.renderControlCharacters=95]="renderControlCharacters",n[n.renderFinalNewline=96]="renderFinalNewline",n[n.renderLineHighlight=97]="renderLineHighlight",n[n.renderLineHighlightOnlyWhenFocus=98]="renderLineHighlightOnlyWhenFocus",n[n.renderValidationDecorations=99]="renderValidationDecorations",n[n.renderWhitespace=100]="renderWhitespace",n[n.revealHorizontalRightPadding=101]="revealHorizontalRightPadding",n[n.roundedSelection=102]="roundedSelection",n[n.rulers=103]="rulers",n[n.scrollbar=104]="scrollbar",n[n.scrollBeyondLastColumn=105]="scrollBeyondLastColumn",n[n.scrollBeyondLastLine=106]="scrollBeyondLastLine",n[n.scrollPredominantAxis=107]="scrollPredominantAxis",n[n.selectionClipboard=108]="selectionClipboard",n[n.selectionHighlight=109]="selectionHighlight",n[n.selectOnLineNumbers=110]="selectOnLineNumbers",n[n.showFoldingControls=111]="showFoldingControls",n[n.showUnused=112]="showUnused",n[n.snippetSuggestions=113]="snippetSuggestions",n[n.smartSelect=114]="smartSelect",n[n.smoothScrolling=115]="smoothScrolling",n[n.stickyScroll=116]="stickyScroll",n[n.stickyTabStops=117]="stickyTabStops",n[n.stopRenderingLineAfter=118]="stopRenderingLineAfter",n[n.suggest=119]="suggest",n[n.suggestFontSize=120]="suggestFontSize",n[n.suggestLineHeight=121]="suggestLineHeight",n[n.suggestOnTriggerCharacters=122]="suggestOnTriggerCharacters",n[n.suggestSelection=123]="suggestSelection",n[n.tabCompletion=124]="tabCompletion",n[n.tabIndex=125]="tabIndex",n[n.unicodeHighlighting=126]="unicodeHighlighting",n[n.unusualLineTerminators=127]="unusualLineTerminators",n[n.useShadowDOM=128]="useShadowDOM",n[n.useTabStops=129]="useTabStops",n[n.wordBreak=130]="wordBreak",n[n.wordSegmenterLocales=131]="wordSegmenterLocales",n[n.wordSeparators=132]="wordSeparators",n[n.wordWrap=133]="wordWrap",n[n.wordWrapBreakAfterCharacters=134]="wordWrapBreakAfterCharacters",n[n.wordWrapBreakBeforeCharacters=135]="wordWrapBreakBeforeCharacters",n[n.wordWrapColumn=136]="wordWrapColumn",n[n.wordWrapOverride1=137]="wordWrapOverride1",n[n.wordWrapOverride2=138]="wordWrapOverride2",n[n.wrappingIndent=139]="wrappingIndent",n[n.wrappingStrategy=140]="wrappingStrategy",n[n.showDeprecated=141]="showDeprecated",n[n.inlayHints=142]="inlayHints",n[n.editorClassName=143]="editorClassName",n[n.pixelRatio=144]="pixelRatio",n[n.tabFocusMode=145]="tabFocusMode",n[n.layoutInfo=146]="layoutInfo",n[n.wrappingInfo=147]="wrappingInfo",n[n.defaultColorDecorators=148]="defaultColorDecorators",n[n.colorDecoratorsActivatedOn=149]="colorDecoratorsActivatedOn",n[n.inlineCompletionsAccessibilityVerbose=150]="inlineCompletionsAccessibilityVerbose"})(w7||(w7={}));var A7;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(A7||(A7={}));var R7;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(R7||(R7={}));var I7;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(I7||(I7={}));var N7;(function(n){n[n.Increase=0]="Increase",n[n.Decrease=1]="Decrease"})(N7||(N7={}));var L7;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(L7||(L7={}));var O7;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(O7||(O7={}));var x7;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(x7||(x7={}));var D7;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(D7||(D7={}));var P7;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(P7||(P7={}));var k7;(function(n){n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.F20=78]="F20",n[n.F21=79]="F21",n[n.F22=80]="F22",n[n.F23=81]="F23",n[n.F24=82]="F24",n[n.NumLock=83]="NumLock",n[n.ScrollLock=84]="ScrollLock",n[n.Semicolon=85]="Semicolon",n[n.Equal=86]="Equal",n[n.Comma=87]="Comma",n[n.Minus=88]="Minus",n[n.Period=89]="Period",n[n.Slash=90]="Slash",n[n.Backquote=91]="Backquote",n[n.BracketLeft=92]="BracketLeft",n[n.Backslash=93]="Backslash",n[n.BracketRight=94]="BracketRight",n[n.Quote=95]="Quote",n[n.OEM_8=96]="OEM_8",n[n.IntlBackslash=97]="IntlBackslash",n[n.Numpad0=98]="Numpad0",n[n.Numpad1=99]="Numpad1",n[n.Numpad2=100]="Numpad2",n[n.Numpad3=101]="Numpad3",n[n.Numpad4=102]="Numpad4",n[n.Numpad5=103]="Numpad5",n[n.Numpad6=104]="Numpad6",n[n.Numpad7=105]="Numpad7",n[n.Numpad8=106]="Numpad8",n[n.Numpad9=107]="Numpad9",n[n.NumpadMultiply=108]="NumpadMultiply",n[n.NumpadAdd=109]="NumpadAdd",n[n.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=111]="NumpadSubtract",n[n.NumpadDecimal=112]="NumpadDecimal",n[n.NumpadDivide=113]="NumpadDivide",n[n.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",n[n.ABNT_C1=115]="ABNT_C1",n[n.ABNT_C2=116]="ABNT_C2",n[n.AudioVolumeMute=117]="AudioVolumeMute",n[n.AudioVolumeUp=118]="AudioVolumeUp",n[n.AudioVolumeDown=119]="AudioVolumeDown",n[n.BrowserSearch=120]="BrowserSearch",n[n.BrowserHome=121]="BrowserHome",n[n.BrowserBack=122]="BrowserBack",n[n.BrowserForward=123]="BrowserForward",n[n.MediaTrackNext=124]="MediaTrackNext",n[n.MediaTrackPrevious=125]="MediaTrackPrevious",n[n.MediaStop=126]="MediaStop",n[n.MediaPlayPause=127]="MediaPlayPause",n[n.LaunchMediaPlayer=128]="LaunchMediaPlayer",n[n.LaunchMail=129]="LaunchMail",n[n.LaunchApp2=130]="LaunchApp2",n[n.Clear=131]="Clear",n[n.MAX_VALUE=132]="MAX_VALUE"})(k7||(k7={}));var M7;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(M7||(M7={}));var F7;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(F7||(F7={}));var B7;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(B7||(B7={}));var U7;(function(n){n[n.Normal=1]="Normal",n[n.Underlined=2]="Underlined"})(U7||(U7={}));var H7;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(H7||(H7={}));var V7;(function(n){n[n.AIGenerated=1]="AIGenerated"})(V7||(V7={}));var W7;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(W7||(W7={}));var $7;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})($7||($7={}));var G7;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(G7||(G7={}));var z7;(function(n){n[n.Word=0]="Word",n[n.Line=1]="Line",n[n.Suggest=2]="Suggest"})(z7||(z7={}));var j7;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.None=2]="None",n[n.LeftOfInjectedText=3]="LeftOfInjectedText",n[n.RightOfInjectedText=4]="RightOfInjectedText"})(j7||(j7={}));var Y7;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(Y7||(Y7={}));var K7;(function(n){n[n.None=0]="None",n[n.Text=1]="Text",n[n.Blocks=2]="Blocks"})(K7||(K7={}));var q7;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(q7||(q7={}));var X7;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(X7||(X7={}));var Q7;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(Q7||(Q7={}));var Z7;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(Z7||(Z7={}));var J7;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(J7||(J7={}));var e6;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(e6||(e6={}));var t6;(function(n){n[n.Deprecated=1]="Deprecated"})(t6||(t6={}));var n6;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(n6||(n6={}));var i6;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(i6||(i6={}));var r6;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(r6||(r6={}));var s6;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(s6||(s6={}));const oS=class oS{static chord(e,t){return zXe(e,t)}};oS.CtrlCmd=2048,oS.Shift=1024,oS.Alt=512,oS.WinCtrl=256;let o6=oS;function g1e(){return{editor:void 0,languages:void 0,CancellationTokenSource:vy,Emitter:ge,KeyCode:k7,KeyMod:o6,Position:Ee,Range:ce,Selection:vn,SelectionDirection:Q7,MarkerSeverity:M7,MarkerTag:F7,Uri:en,Token:w1}}function vQe(n,e){const t=n;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}const fi=window;function p1e(n){return n}class SQe{constructor(e,t){this.lastCache=void 0,this.lastArgKey=void 0,typeof e=="function"?(this._fn=e,this._computeKey=p1e):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){const t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}}class vae{get cachedValues(){return this._map}constructor(e,t){this._map=new Map,this._map2=new Map,typeof e=="function"?(this._fn=e,this._computeKey=p1e):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){const t=this._computeKey(e);if(this._map2.has(t))return this._map2.get(t);const i=this._fn(e);return this._map.set(e,i),this._map2.set(t,i),i}}class Yg{constructor(e){this.executor=e,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}function CQe(n){return!n||typeof n!="string"?!0:n.trim().length===0}const yQe=/{(\d+)}/g;function a6(n,...e){return e.length===0?n:n.replace(yQe,function(t,i){const r=parseInt(i,10);return isNaN(r)||r<0||r>=e.length?t:e[r]})}function bQe(n){return n.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}function jT(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function sf(n){return n.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function LM(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let i=0;for(;n.indexOf(e,i)===i;)i=i+t;return n.substring(i)}function TQe(n,e){if(!n)return n;const t=e.length,i=n.length;if(t===0||i===0)return n;let r=i,s=-1;for(;s=n.lastIndexOf(e,r-1),!(s===-1||s+t!==r);){if(s===0)return"";r=s}return n.substring(0,r)}function wQe(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function m1e(n,e,t={}){if(!n)throw new Error("Cannot create regex from empty string");e||(n=sf(n)),t.wholeWord&&(/\B/.test(n.charAt(0))||(n="\\b"+n),/\B/.test(n.charAt(n.length-1))||(n=n+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(n,i)}function AQe(n){return n.source==="^"||n.source==="^$"||n.source==="$"||n.source==="^\\s*$"?!1:!!(n.exec("")&&n.lastIndex===0)}function Sy(n){return n.split(/\r\n|\r|\n/)}function Sa(n){for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function yo(n,e=0,t=n.length){for(let i=e;i<t;i++){const r=n.charCodeAt(i);if(r!==32&&r!==9)return n.substring(e,i)}return n.substring(e,t)}function tE(n,e=n.length-1){for(let t=e;t>=0;t--){const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function l6(n,e){return n<e?-1:n>e?1:0}function DK(n,e,t=0,i=n.length,r=0,s=e.length){for(;t<i&&r<s;t++,r++){const l=n.charCodeAt(t),c=e.charCodeAt(r);if(l<c)return-1;if(l>c)return 1}const o=i-t,a=s-r;return o<a?-1:o>a?1:0}function Sae(n,e){return pA(n,e,0,n.length,0,e.length)}function pA(n,e,t=0,i=n.length,r=0,s=e.length){for(;t<i&&r<s;t++,r++){let l=n.charCodeAt(t),c=e.charCodeAt(r);if(l===c)continue;if(l>=128||c>=128)return DK(n.toLowerCase(),e.toLowerCase(),t,i,r,s);Dv(l)&&(l-=32),Dv(c)&&(c-=32);const u=l-c;if(u!==0)return u}const o=i-t,a=s-r;return o<a?-1:o>a?1:0}function UI(n){return n>=48&&n<=57}function Dv(n){return n>=97&&n<=122}function Zf(n){return n>=65&&n<=90}function Pv(n,e){return n.length===e.length&&pA(n,e)===0}function PK(n,e){const t=e.length;return e.length>n.length?!1:pA(n,e,0,t)===0}function c6(n,e){const t=Math.min(n.length,e.length);let i;for(i=0;i<t;i++)if(n.charCodeAt(i)!==e.charCodeAt(i))return i;return t}function u6(n,e){const t=Math.min(n.length,e.length);let i;const r=n.length-1,s=e.length-1;for(i=0;i<t;i++)if(n.charCodeAt(r-i)!==e.charCodeAt(s-i))return i;return t}function Kr(n){return 55296<=n&&n<=56319}function hC(n){return 56320<=n&&n<=57343}function kK(n,e){return(n-55296<<10)+(e-56320)+65536}function FO(n,e,t){const i=n.charCodeAt(t);if(Kr(i)&&t+1<e){const r=n.charCodeAt(t+1);if(hC(r))return kK(i,r)}return i}function RQe(n,e){const t=n.charCodeAt(e-1);if(hC(t)&&e>1){const i=n.charCodeAt(e-2);if(Kr(i))return kK(i,t)}return t}class MK{get offset(){return this._offset}constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){const e=RQe(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=FO(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class BO{get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new MK(e,t)}nextGraphemeLength(){const e=UO.getInstance(),t=this._iterator,i=t.offset;let r=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const s=t.offset,o=e.getGraphemeBreakType(t.nextCodePoint());if(Cae(r,o)){t.setOffset(s);break}r=o}return t.offset-i}prevGraphemeLength(){const e=UO.getInstance(),t=this._iterator,i=t.offset;let r=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const s=t.offset,o=e.getGraphemeBreakType(t.prevCodePoint());if(Cae(o,r)){t.setOffset(s);break}r=o}return i-t.offset}eol(){return this._iterator.eol()}}function FK(n,e){return new BO(n,e).nextGraphemeLength()}function _1e(n,e){return new BO(n,e).prevGraphemeLength()}function IQe(n,e){e>0&&hC(n.charCodeAt(e))&&e--;const t=e+FK(n,e);return[t-_1e(n,t),t]}let $H;function NQe(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function A1(n){return $H||($H=NQe()),$H.test(n)}const LQe=/^[\t\n\r\x20-\x7E]*$/;function BK(n){return LQe.test(n)}const E1e=/[\u2028\u2029]/;function v1e(n){return E1e.test(n)}function Kg(n){return n>=11904&&n<=55215||n>=63744&&n<=64255||n>=65281&&n<=65374}function UK(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129008||n>=129280&&n<=129535||n>=129648&&n<=129782}const OQe="\uFEFF";function HK(n){return!!(n&&n.length>0&&n.charCodeAt(0)===65279)}function S1e(n){return n=n%(2*26),n<26?String.fromCharCode(97+n):String.fromCharCode(65+n-26)}function Cae(n,e){return n===0?e!==5&&e!==7:n===2&&e===3?!1:n===4||n===2||n===3||e===4||e===2||e===3?!0:!(n===8&&(e===8||e===9||e===11||e===12)||(n===11||n===9)&&(e===9||e===10)||(n===12||n===10)&&e===10||e===5||e===13||e===7||n===1||n===13&&e===14||n===6&&e===6)}const Im=class Im{static getInstance(){return Im._INSTANCE||(Im._INSTANCE=new Im),Im._INSTANCE}constructor(){this._data=xQe()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let r=1;for(;r<=i;)if(e<t[3*r])r=2*r;else if(e>t[3*r+1])r=2*r+1;else return t[3*r+2];return 0}};Im._INSTANCE=null;let UO=Im;function xQe(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function DQe(n,e){if(n===0)return 0;const t=PQe(n,e);if(t!==void 0)return t;const i=new MK(e,n);return i.prevCodePoint(),i.offset}function PQe(n,e){const t=new MK(e,n);let i=t.prevCodePoint();for(;kQe(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!UK(i))return;let r=t.offset;return r>0&&t.prevCodePoint()===8205&&(r=t.offset),r}function kQe(n){return 127995<=n&&n<=127999}const Gu=class Gu{static getInstance(e){return Gu.cache.get(Array.from(e))}static getLocales(){return Gu._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};Gu.ambiguousCharacterData=new Yg(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Gu.cache=new SQe({getCacheKey:JSON.stringify},e=>{function t(u){const d=new Map;for(let h=0;h<u.length;h+=2)d.set(u[h],u[h+1]);return d}function i(u,d){const h=new Map(u);for(const[f,m]of d)h.set(f,m);return h}function r(u,d){if(!u)return d;const h=new Map;for(const[f,m]of u)d.has(f)&&h.set(f,m);return h}const s=Gu.ambiguousCharacterData.value;let o=e.filter(u=>!u.startsWith("_")&&u in s);o.length===0&&(o=["_default"]);let a;for(const u of o){const d=t(s[u]);a=r(a,d)}const l=t(s._common),c=i(l,a);return new Gu(c)}),Gu._locales=new Yg(()=>Object.keys(Gu.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));let R1=Gu;const aS=class aS{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(aS.getRawData())),this._data}static isInvisibleCharacter(e){return aS.getData().has(e)}static get codePoints(){return aS.getData()}};aS._data=void 0;let YT=aS;const _P=class _P{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}getWindowId(e){return e.vscodeWindowId}};_P.INSTANCE=new _P;let d6=_P;function C1e(n,e,t){typeof e=="string"&&(e=n.matchMedia(e)),e.addEventListener("change",t)}function MQe(n){return d6.INSTANCE.getZoomFactor(n)}const Cy=navigator.userAgent,dc=Cy.indexOf("Firefox")>=0,OM=Cy.indexOf("AppleWebKit")>=0,mA=Cy.indexOf("Chrome")>=0,qg=!mA&&Cy.indexOf("Safari")>=0,y1e=!mA&&!qg&&OM;Cy.indexOf("Electron/")>=0;const yae=Cy.indexOf("Android")>=0;let GH=!1;if(typeof fi.matchMedia=="function"){const n=fi.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=fi.matchMedia("(display-mode: fullscreen)");GH=n.matches,C1e(fi,n,({matches:t})=>{GH&&e.matches||(GH=t)})}const b1e={clipboard:{writeText:OO||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:OO||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},pointerEvents:fi.PointerEvent&&("ontouchstart"in fi||navigator.maxTouchPoints>0)};function h6(n,e){if(typeof n=="number"){if(n===0)return null;const t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new zH([HI(t,e),HI(i,e)]):new zH([HI(t,e)])}else{const t=[];for(let i=0;i<n.length;i++)t.push(HI(n[i],e));return new zH(t)}}function HI(n,e){const t=!!(n&2048),i=!!(n&256),r=e===2?i:t,s=!!(n&1024),o=!!(n&512),a=e===2?t:i,l=n&255;return new R_(r,s,o,a,l)}class R_{constructor(e,t,i,r,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyCode=s}equals(e){return e instanceof R_&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class zH{constructor(e){if(e.length===0)throw IM("chords");this.chords=e}}class FQe{constructor(e,t,i,r,s,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyLabel=s,this.keyAriaLabel=o}}class BQe{}function UQe(n){if(n.charCode){const t=String.fromCharCode(n.charCode).toUpperCase();return yh.fromString(t)}const e=n.keyCode;if(e===3)return 7;if(dc)switch(e){case 59:return 85;case 60:if(Zo)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(bn)return 57;break}else if(OM){if(bn&&e===93)return 57;if(!bn&&e===92)return 57}return r1e[e]||0}const HQe=bn?256:2048,VQe=512,WQe=1024,$Qe=bn?2048:256;class wi{constructor(e){var i;this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=(i=t.getModifierState)==null?void 0:i.call(t,"AltGraph"),this.keyCode=UQe(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=HQe),this.altKey&&(t|=VQe),this.shiftKey&&(t|=WQe),this.metaKey&&(t|=$Qe),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new R_(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}const bae=new WeakMap;function GQe(n){if(!n.parent||n.parent===n)return null;try{const e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return n.parent}class zQe{static getSameOriginWindowChain(e){let t=bae.get(e);if(!t){t=[],bae.set(e,t);let i=e,r;do r=GQe(i),r?t.push({window:new WeakRef(i),iframeElement:i.frameElement||null}):t.push({window:new WeakRef(i),iframeElement:null}),i=r;while(i)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,r=0;const s=this.getSameOriginWindowChain(e);for(const o of s){const a=o.window.deref();if(i+=(a==null?void 0:a.scrollY)??0,r+=(a==null?void 0:a.scrollX)??0,a===t||!o.iframeElement)break;const l=o.iframeElement.getBoundingClientRect();i+=l.top,r+=l.left}return{top:i,left:r}}}class Jc{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const i=zQe.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class I_{constructor(e,t=0,i=0){var s;this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t;let r=!1;if(mA){const o=navigator.userAgent.match(/Chrome\/(\d+)/);r=(o?parseInt(o[1]):123)<=122}if(e){const o=e,a=e,l=((s=e.view)==null?void 0:s.devicePixelRatio)||1;if(typeof o.wheelDeltaY<"u")r?this.deltaY=o.wheelDeltaY/(120*l):this.deltaY=o.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS<"u"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(e.type==="wheel"){const c=e;c.deltaMode===c.DOM_DELTA_LINE?dc&&!bn?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof o.wheelDeltaX<"u")qg&&ba?this.deltaX=-(o.wheelDeltaX/120):r?this.deltaX=o.wheelDeltaX/(120*l):this.deltaX=o.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS<"u"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const c=e;c.deltaMode===c.DOM_DELTA_LINE?dc&&!bn?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(r?this.deltaY=e.wheelDelta/(120*l):this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;(e=this.browserEvent)==null||e.preventDefault()}stopPropagation(){var e;(e=this.browserEvent)==null||e.stopPropagation()}}const T1e=Symbol("MicrotaskDelay");function f6(n){return!!n&&typeof n.then=="function"}function w1e(n){const e=new vy,t=n(e.token),i=new Promise((r,s)=>{const o=e.token.onCancellationRequested(()=>{o.dispose(),s(new fA)});Promise.resolve(t).then(a=>{o.dispose(),e.dispose(),r(a)},a=>{o.dispose(),e.dispose(),s(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(r,s){return i.then(r,s)}catch(r){return this.then(void 0,r)}finally(r){return i.finally(r)}}}class jQe{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{if(this.queuedPromise=null,this.isDisposed)return;const i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(r=>{this.activePromise=null,t(r)},r=>{this.activePromise=null,i(r)})})}dispose(){this.isDisposed=!0}}const YQe=(n,e)=>{let t=!0;const i=setTimeout(()=>{t=!1,e()},n);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},KQe=n=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,n())}),{isTriggered:()=>e,dispose:()=>{e=!1}}};class _A{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((r,s)=>{this.doResolve=r,this.doReject=s}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const r=this.task;return this.task=null,r()}}));const i=()=>{var r;this.deferred=null,(r=this.doResolve)==null||r.call(this,null)};return this.deferred=t===T1e?KQe(i):YQe(t,i),this.completionPromise}isTriggered(){var e;return!!((e=this.deferred)!=null&&e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&((e=this.doReject)==null||e.call(this,new fA),this.completionPromise=null)}cancelTimeout(){var e;(e=this.deferred)==null||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class A1e{constructor(e){this.delayer=new _A(e),this.throttler=new jQe}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function I1(n,e){return e?new Promise((t,i)=>{const r=setTimeout(()=>{s.dispose(),t()},n),s=e.onCancellationRequested(()=>{clearTimeout(r),s.dispose(),i(new fA)})}):w1e(t=>I1(n,t))}function g6(n,e=0,t){const i=setTimeout(()=>{n(),t&&r.dispose()},e),r=Ht(()=>{clearTimeout(i),t==null||t.deleteAndLeak(r)});return t==null||t.add(r),r}class nE{constructor(e,t){this._isDisposed=!1,this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new Kn("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new Kn("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class VK{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var e;(e=this.disposable)==null||e.dispose(),this.disposable=void 0}cancelAndSet(e,t,i=globalThis){if(this.isDisposed)throw new Kn("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const r=i.setInterval(()=>{e()},t);this.disposable=Ht(()=>{i.clearInterval(r),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}class ho{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;(e=this.runner)==null||e.call(this)}}let R1e,KT;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?KT=(n,e)=>{Y0e(()=>{if(t)return;const i=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:KT=(n,e,t)=>{const i=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0);let r=!1;return{dispose(){r||(r=!0,n.cancelIdleCallback(i))}}},R1e=n=>KT(globalThis,n)})();class qQe{constructor(e,t){this._didRun=!1,this._executor=()=>{try{this._value=t()}catch(i){this._error=i}finally{this._didRun=!0}},this._handle=KT(e,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class XQe extends qQe{constructor(e){super(globalThis,e)}}class I1e{get isRejected(){var e;return((e=this.outcome)==null?void 0:e.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new fA)}}var p6;(function(n){async function e(i){let r;const s=await Promise.all(i.map(o=>o.then(a=>a,a=>{r||(r=a)})));if(typeof r<"u")throw r;return s}n.settled=e;function t(i){return new Promise(async(r,s)=>{try{await i(r,s)}catch(o){s(o)}})}n.withAsyncBody=t})(p6||(p6={}));const ca=class ca{static fromArray(e){return new ca(t=>{t.emitMany(e)})}static fromPromise(e){return new ca(async t=>{t.emitMany(await e)})}static fromPromises(e){return new ca(async t=>{await Promise.all(e.map(async i=>t.emitOne(await i)))})}static merge(e){return new ca(async t=>{await Promise.all(e.map(async i=>{for await(const r of i)t.emitOne(r)}))})}constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new ge,queueMicrotask(async()=>{const i={emitOne:r=>this.emitOne(r),emitMany:r=>this.emitMany(r),reject:r=>this.reject(r)};try{await Promise.resolve(e(i)),this.resolve()}catch(r){this.reject(r)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await Ue.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>{var t;return(t=this._onReturn)==null||t.call(this),{done:!0,value:void 0}}}}static map(e,t){return new ca(async i=>{for await(const r of e)i.emitOne(t(r))})}map(e){return ca.map(this,e)}static filter(e,t){return new ca(async i=>{for await(const r of e)t(r)&&i.emitOne(r)})}filter(e){return ca.filter(this,e)}static coalesce(e){return ca.filter(e,t=>!!t)}coalesce(){return ca.coalesce(this)}static async toPromise(e){const t=[];for await(const i of e)t.push(i);return t}toPromise(){return ca.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};ca.EMPTY=ca.fromArray([]);let Tae=ca;/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:N1e,setPrototypeOf:wae,isFrozen:QQe,getPrototypeOf:ZQe,getOwnPropertyDescriptor:JQe}=Object;let{freeze:Ta,seal:hc,create:L1e}=Object,{apply:m6,construct:_6}=typeof Reflect<"u"&&Reflect;Ta||(Ta=function(e){return e});hc||(hc=function(e){return e});m6||(m6=function(e,t,i){return e.apply(t,i)});_6||(_6=function(e,t){return new e(...t)});const VI=Ll(Array.prototype.forEach),Aae=Ll(Array.prototype.pop),Ob=Ll(Array.prototype.push),lL=Ll(String.prototype.toLowerCase),jH=Ll(String.prototype.toString),Rae=Ll(String.prototype.match),xb=Ll(String.prototype.replace),eZe=Ll(String.prototype.indexOf),tZe=Ll(String.prototype.trim),Uc=Ll(Object.prototype.hasOwnProperty),sa=Ll(RegExp.prototype.test),Db=nZe(TypeError);function Ll(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return m6(n,e,i)}}function nZe(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return _6(n,t)}}function li(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lL;wae&&wae(n,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){const s=t(r);s!==r&&(QQe(e)||(e[i]=s),r=s)}n[r]=!0}return n}function iZe(n){for(let e=0;e<n.length;e++)Uc(n,e)||(n[e]=null);return n}function im(n){const e=L1e(null);for(const[t,i]of N1e(n))Uc(n,t)&&(Array.isArray(i)?e[t]=iZe(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=im(i):e[t]=i);return e}function Pb(n,e){for(;n!==null;){const i=JQe(n,e);if(i){if(i.get)return Ll(i.get);if(typeof i.value=="function")return Ll(i.value)}n=ZQe(n)}function t(){return null}return t}const Iae=Ta(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),YH=Ta(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),KH=Ta(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rZe=Ta(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qH=Ta(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),sZe=Ta(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nae=Ta(["#text"]),Lae=Ta(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),XH=Ta(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Oae=Ta(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),WI=Ta(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),oZe=hc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),aZe=hc(/<%[\w\W]*|[\w\W]*%>/gm),lZe=hc(/\${[\w\W]*}/gm),cZe=hc(/^data-[\-\w.\u00B7-\uFFFF]/),uZe=hc(/^aria-[\-\w]+$/),O1e=hc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),dZe=hc(/^(?:\w+script|data):/i),hZe=hc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),x1e=hc(/^html$/i),fZe=hc(/^[a-z][.\w]*(-[.\w]+)+$/i);var xae=Object.freeze({__proto__:null,MUSTACHE_EXPR:oZe,ERB_EXPR:aZe,TMPLIT_EXPR:lZe,DATA_ATTR:cZe,ARIA_ATTR:uZe,IS_ALLOWED_URI:O1e,IS_SCRIPT_OR_DATA:dZe,ATTR_WHITESPACE:hZe,DOCTYPE_NAME:x1e,CUSTOM_ELEMENT:fZe});const kb={element:1,text:3,progressingInstruction:7,comment:8,document:9},gZe=function(){return typeof window>"u"?null:window},pZe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(i=t.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function D1e(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gZe();const e=Lt=>D1e(Lt);if(e.version="3.1.7",e.removed=[],!n||!n.document||n.document.nodeType!==kb.document)return e.isSupported=!1,e;let{document:t}=n;const i=t,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:f}=n,m=l.prototype,g=Pb(m,"cloneNode"),_=Pb(m,"remove"),v=Pb(m,"nextSibling"),S=Pb(m,"childNodes"),C=Pb(m,"parentNode");if(typeof o=="function"){const Lt=t.createElement("template");Lt.content&&Lt.content.ownerDocument&&(t=Lt.content.ownerDocument)}let y,b="";const{implementation:w,createNodeIterator:I,createDocumentFragment:O,getElementsByTagName:x}=t,{importNode:k}=i;let P={};e.isSupported=typeof N1e=="function"&&typeof C=="function"&&w&&w.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:W,TMPLIT_EXPR:F,DATA_ATTR:H,ARIA_ATTR:V,IS_SCRIPT_OR_DATA:Y,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:K}=xae;let{IS_ALLOWED_URI:re}=xae,G=null;const J=li({},[...Iae,...YH,...KH,...qH,...Nae]);let z=null;const j=li({},[...Lae,...XH,...Oae,...WI]);let ne=Object.seal(L1e(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),le=null,q=null,he=!0,ue=!0,pe=!1,Ae=!0,me=!1,Te=!0,Oe=!1,ft=!1,kt=!1,Vt=!1,yt=!1,vt=!1,Yt=!0,_t=!1;const ae="user-content-";let Se=!0,De=!1,je={},Ye=null;const ze=li({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let lt=null;const Xt=li({},["audio","video","img","source","image","track"]);let Tn=null;const wn=li({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fs="http://www.w3.org/1998/Math/MathML",gs="http://www.w3.org/2000/svg",Ci="http://www.w3.org/1999/xhtml";let mr=Ci,zs=!1,Is=null;const Vn=li({},[fs,gs,Ci],jH);let tl=null;const Ru=["application/xhtml+xml","text/html"],Oo="text/html";let Gi=null,Ns=null;const vf=t.createElement("form"),Md=function(Ce){return Ce instanceof RegExp||Ce instanceof Function},Iu=function(){let Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ns&&Ns===Ce)){if((!Ce||typeof Ce!="object")&&(Ce={}),Ce=im(Ce),tl=Ru.indexOf(Ce.PARSER_MEDIA_TYPE)===-1?Oo:Ce.PARSER_MEDIA_TYPE,Gi=tl==="application/xhtml+xml"?jH:lL,G=Uc(Ce,"ALLOWED_TAGS")?li({},Ce.ALLOWED_TAGS,Gi):J,z=Uc(Ce,"ALLOWED_ATTR")?li({},Ce.ALLOWED_ATTR,Gi):j,Is=Uc(Ce,"ALLOWED_NAMESPACES")?li({},Ce.ALLOWED_NAMESPACES,jH):Vn,Tn=Uc(Ce,"ADD_URI_SAFE_ATTR")?li(im(wn),Ce.ADD_URI_SAFE_ATTR,Gi):wn,lt=Uc(Ce,"ADD_DATA_URI_TAGS")?li(im(Xt),Ce.ADD_DATA_URI_TAGS,Gi):Xt,Ye=Uc(Ce,"FORBID_CONTENTS")?li({},Ce.FORBID_CONTENTS,Gi):ze,le=Uc(Ce,"FORBID_TAGS")?li({},Ce.FORBID_TAGS,Gi):{},q=Uc(Ce,"FORBID_ATTR")?li({},Ce.FORBID_ATTR,Gi):{},je=Uc(Ce,"USE_PROFILES")?Ce.USE_PROFILES:!1,he=Ce.ALLOW_ARIA_ATTR!==!1,ue=Ce.ALLOW_DATA_ATTR!==!1,pe=Ce.ALLOW_UNKNOWN_PROTOCOLS||!1,Ae=Ce.ALLOW_SELF_CLOSE_IN_ATTR!==!1,me=Ce.SAFE_FOR_TEMPLATES||!1,Te=Ce.SAFE_FOR_XML!==!1,Oe=Ce.WHOLE_DOCUMENT||!1,Vt=Ce.RETURN_DOM||!1,yt=Ce.RETURN_DOM_FRAGMENT||!1,vt=Ce.RETURN_TRUSTED_TYPE||!1,kt=Ce.FORCE_BODY||!1,Yt=Ce.SANITIZE_DOM!==!1,_t=Ce.SANITIZE_NAMED_PROPS||!1,Se=Ce.KEEP_CONTENT!==!1,De=Ce.IN_PLACE||!1,re=Ce.ALLOWED_URI_REGEXP||O1e,mr=Ce.NAMESPACE||Ci,ne=Ce.CUSTOM_ELEMENT_HANDLING||{},Ce.CUSTOM_ELEMENT_HANDLING&&Md(Ce.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ne.tagNameCheck=Ce.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ce.CUSTOM_ELEMENT_HANDLING&&Md(Ce.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ne.attributeNameCheck=Ce.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ce.CUSTOM_ELEMENT_HANDLING&&typeof Ce.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ne.allowCustomizedBuiltInElements=Ce.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),me&&(ue=!1),yt&&(Vt=!0),je&&(G=li({},Nae),z=[],je.html===!0&&(li(G,Iae),li(z,Lae)),je.svg===!0&&(li(G,YH),li(z,XH),li(z,WI)),je.svgFilters===!0&&(li(G,KH),li(z,XH),li(z,WI)),je.mathMl===!0&&(li(G,qH),li(z,Oae),li(z,WI))),Ce.ADD_TAGS&&(G===J&&(G=im(G)),li(G,Ce.ADD_TAGS,Gi)),Ce.ADD_ATTR&&(z===j&&(z=im(z)),li(z,Ce.ADD_ATTR,Gi)),Ce.ADD_URI_SAFE_ATTR&&li(Tn,Ce.ADD_URI_SAFE_ATTR,Gi),Ce.FORBID_CONTENTS&&(Ye===ze&&(Ye=im(Ye)),li(Ye,Ce.FORBID_CONTENTS,Gi)),Se&&(G["#text"]=!0),Oe&&li(G,["html","head","body"]),G.table&&(li(G,["tbody"]),delete le.tbody),Ce.TRUSTED_TYPES_POLICY){if(typeof Ce.TRUSTED_TYPES_POLICY.createHTML!="function")throw Db('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ce.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Db('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=Ce.TRUSTED_TYPES_POLICY,b=y.createHTML("")}else y===void 0&&(y=pZe(f,r)),y!==null&&typeof b=="string"&&(b=y.createHTML(""));Ta&&Ta(Ce),Ns=Ce}},Zt=li({},["mi","mo","mn","ms","mtext"]),ee=li({},["annotation-xml"]),te=li({},["title","style","font","a","script"]),se=li({},[...YH,...KH,...rZe]),fe=li({},[...qH,...sZe]),ve=function(Ce){let it=C(Ce);(!it||!it.tagName)&&(it={namespaceURI:mr,tagName:"template"});const Ct=lL(Ce.tagName),Bi=lL(it.tagName);return Is[Ce.namespaceURI]?Ce.namespaceURI===gs?it.namespaceURI===Ci?Ct==="svg":it.namespaceURI===fs?Ct==="svg"&&(Bi==="annotation-xml"||Zt[Bi]):!!se[Ct]:Ce.namespaceURI===fs?it.namespaceURI===Ci?Ct==="math":it.namespaceURI===gs?Ct==="math"&&ee[Bi]:!!fe[Ct]:Ce.namespaceURI===Ci?it.namespaceURI===gs&&!ee[Bi]||it.namespaceURI===fs&&!Zt[Bi]?!1:!fe[Ct]&&(te[Ct]||!se[Ct]):!!(tl==="application/xhtml+xml"&&Is[Ce.namespaceURI]):!1},Ie=function(Ce){Ob(e.removed,{element:Ce});try{C(Ce).removeChild(Ce)}catch{_(Ce)}},ke=function(Ce,it){try{Ob(e.removed,{attribute:it.getAttributeNode(Ce),from:it})}catch{Ob(e.removed,{attribute:null,from:it})}if(it.removeAttribute(Ce),Ce==="is"&&!z[Ce])if(Vt||yt)try{Ie(it)}catch{}else try{it.setAttribute(Ce,"")}catch{}},Qe=function(Ce){let it=null,Ct=null;if(kt)Ce="<remove></remove>"+Ce;else{const Bn=Rae(Ce,/^[\r\n\t ]+/);Ct=Bn&&Bn[0]}tl==="application/xhtml+xml"&&mr===Ci&&(Ce='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ce+"</body></html>");const Bi=y?y.createHTML(Ce):Ce;if(mr===Ci)try{it=new h().parseFromString(Bi,tl)}catch{}if(!it||!it.documentElement){it=w.createDocument(mr,"template",null);try{it.documentElement.innerHTML=zs?b:Bi}catch{}}const Ar=it.body||it.documentElement;return Ce&&Ct&&Ar.insertBefore(t.createTextNode(Ct),Ar.childNodes[0]||null),mr===Ci?x.call(it,Oe?"html":"body")[0]:Oe?it.documentElement:Ar},dt=function(Ce){return I.call(Ce.ownerDocument||Ce,Ce,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Kt=function(Ce){return Ce instanceof d&&(typeof Ce.nodeName!="string"||typeof Ce.textContent!="string"||typeof Ce.removeChild!="function"||!(Ce.attributes instanceof u)||typeof Ce.removeAttribute!="function"||typeof Ce.setAttribute!="function"||typeof Ce.namespaceURI!="string"||typeof Ce.insertBefore!="function"||typeof Ce.hasChildNodes!="function")},Wn=function(Ce){return typeof a=="function"&&Ce instanceof a},Xn=function(Ce,it,Ct){P[Ce]&&VI(P[Ce],Bi=>{Bi.call(e,it,Ct,Ns)})},Ni=function(Ce){let it=null;if(Xn("beforeSanitizeElements",Ce,null),Kt(Ce))return Ie(Ce),!0;const Ct=Gi(Ce.nodeName);if(Xn("uponSanitizeElement",Ce,{tagName:Ct,allowedTags:G}),Ce.hasChildNodes()&&!Wn(Ce.firstElementChild)&&sa(/<[/\w]/g,Ce.innerHTML)&&sa(/<[/\w]/g,Ce.textContent)||Ce.nodeType===kb.progressingInstruction||Te&&Ce.nodeType===kb.comment&&sa(/<[/\w]/g,Ce.data))return Ie(Ce),!0;if(!G[Ct]||le[Ct]){if(!le[Ct]&&ps(Ct)&&(ne.tagNameCheck instanceof RegExp&&sa(ne.tagNameCheck,Ct)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(Ct)))return!1;if(Se&&!Ye[Ct]){const Bi=C(Ce)||Ce.parentNode,Ar=S(Ce)||Ce.childNodes;if(Ar&&Bi){const Bn=Ar.length;for(let Ys=Bn-1;Ys>=0;--Ys){const Ls=g(Ar[Ys],!0);Ls.__removalCount=(Ce.__removalCount||0)+1,Bi.insertBefore(Ls,v(Ce))}}}return Ie(Ce),!0}return Ce instanceof l&&!ve(Ce)||(Ct==="noscript"||Ct==="noembed"||Ct==="noframes")&&sa(/<\/no(script|embed|frames)/i,Ce.innerHTML)?(Ie(Ce),!0):(me&&Ce.nodeType===kb.text&&(it=Ce.textContent,VI([M,W,F],Bi=>{it=xb(it,Bi," ")}),Ce.textContent!==it&&(Ob(e.removed,{element:Ce.cloneNode()}),Ce.textContent=it)),Xn("afterSanitizeElements",Ce,null),!1)},Fn=function(Ce,it,Ct){if(Yt&&(it==="id"||it==="name")&&(Ct in t||Ct in vf))return!1;if(!(ue&&!q[it]&&sa(H,it))){if(!(he&&sa(V,it))){if(!z[it]||q[it]){if(!(ps(Ce)&&(ne.tagNameCheck instanceof RegExp&&sa(ne.tagNameCheck,Ce)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(Ce))&&(ne.attributeNameCheck instanceof RegExp&&sa(ne.attributeNameCheck,it)||ne.attributeNameCheck instanceof Function&&ne.attributeNameCheck(it))||it==="is"&&ne.allowCustomizedBuiltInElements&&(ne.tagNameCheck instanceof RegExp&&sa(ne.tagNameCheck,Ct)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(Ct))))return!1}else if(!Tn[it]){if(!sa(re,xb(Ct,$,""))){if(!((it==="src"||it==="xlink:href"||it==="href")&&Ce!=="script"&&eZe(Ct,"data:")===0&&lt[Ce])){if(!(pe&&!sa(Y,xb(Ct,$,"")))){if(Ct)return!1}}}}}}return!0},ps=function(Ce){return Ce!=="annotation-xml"&&Rae(Ce,K)},js=function(Ce){Xn("beforeSanitizeAttributes",Ce,null);const{attributes:it}=Ce;if(!it)return;const Ct={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};let Bi=it.length;for(;Bi--;){const Ar=it[Bi],{name:Bn,namespaceURI:Ys,value:Ls}=Ar,Cc=Gi(Bn);let Ur=Bn==="value"?Ls:tZe(Ls);if(Ct.attrName=Cc,Ct.attrValue=Ur,Ct.keepAttr=!0,Ct.forceKeepAttr=void 0,Xn("uponSanitizeAttribute",Ce,Ct),Ur=Ct.attrValue,Ct.forceKeepAttr||(ke(Bn,Ce),!Ct.keepAttr))continue;if(!Ae&&sa(/\/>/i,Ur)){ke(Bn,Ce);continue}me&&VI([M,W,F],bp=>{Ur=xb(Ur,bp," ")});const vE=Gi(Ce.nodeName);if(Fn(vE,Cc,Ur)){if(_t&&(Cc==="id"||Cc==="name")&&(ke(Bn,Ce),Ur=ae+Ur),Te&&sa(/((--!?|])>)|<\/(style|title)/i,Ur)){ke(Bn,Ce);continue}if(y&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Ys)switch(f.getAttributeType(vE,Cc)){case"TrustedHTML":{Ur=y.createHTML(Ur);break}case"TrustedScriptURL":{Ur=y.createScriptURL(Ur);break}}try{Ys?Ce.setAttributeNS(Ys,Bn,Ur):Ce.setAttribute(Bn,Ur),Kt(Ce)?Ie(Ce):Aae(e.removed)}catch{}}}Xn("afterSanitizeAttributes",Ce,null)},Fd=function Lt(Ce){let it=null;const Ct=dt(Ce);for(Xn("beforeSanitizeShadowDOM",Ce,null);it=Ct.nextNode();)Xn("uponSanitizeShadowNode",it,null),!Ni(it)&&(it.content instanceof s&&Lt(it.content),js(it));Xn("afterSanitizeShadowDOM",Ce,null)};return e.sanitize=function(Lt){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=null,Ct=null,Bi=null,Ar=null;if(zs=!Lt,zs&&(Lt="<!-->"),typeof Lt!="string"&&!Wn(Lt))if(typeof Lt.toString=="function"){if(Lt=Lt.toString(),typeof Lt!="string")throw Db("dirty is not a string, aborting")}else throw Db("toString is not a function");if(!e.isSupported)return Lt;if(ft||Iu(Ce),e.removed=[],typeof Lt=="string"&&(De=!1),De){if(Lt.nodeName){const Ls=Gi(Lt.nodeName);if(!G[Ls]||le[Ls])throw Db("root node is forbidden and cannot be sanitized in-place")}}else if(Lt instanceof a)it=Qe("<!---->"),Ct=it.ownerDocument.importNode(Lt,!0),Ct.nodeType===kb.element&&Ct.nodeName==="BODY"||Ct.nodeName==="HTML"?it=Ct:it.appendChild(Ct);else{if(!Vt&&!me&&!Oe&&Lt.indexOf("<")===-1)return y&&vt?y.createHTML(Lt):Lt;if(it=Qe(Lt),!it)return Vt?null:vt?b:""}it&&kt&&Ie(it.firstChild);const Bn=dt(De?Lt:it);for(;Bi=Bn.nextNode();)Ni(Bi)||(Bi.content instanceof s&&Fd(Bi.content),js(Bi));if(De)return Lt;if(Vt){if(yt)for(Ar=O.call(it.ownerDocument);it.firstChild;)Ar.appendChild(it.firstChild);else Ar=it;return(z.shadowroot||z.shadowrootmode)&&(Ar=k.call(i,Ar,!0)),Ar}let Ys=Oe?it.outerHTML:it.innerHTML;return Oe&&G["!doctype"]&&it.ownerDocument&&it.ownerDocument.doctype&&it.ownerDocument.doctype.name&&sa(x1e,it.ownerDocument.doctype.name)&&(Ys="<!DOCTYPE "+it.ownerDocument.doctype.name+`>
`+Ys),me&&VI([M,W,F],Ls=>{Ys=xb(Ys,Ls," ")}),y&&vt?y.createHTML(Ys):Ys},e.setConfig=function(){let Lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Iu(Lt),ft=!0},e.clearConfig=function(){Ns=null,ft=!1},e.isValidAttribute=function(Lt,Ce,it){Ns||Iu({});const Ct=Gi(Lt),Bi=Gi(Ce);return Fn(Ct,Bi,it)},e.addHook=function(Lt,Ce){typeof Ce=="function"&&(P[Lt]=P[Lt]||[],Ob(P[Lt],Ce))},e.removeHook=function(Lt){if(P[Lt])return Aae(P[Lt])},e.removeHooks=function(Lt){P[Lt]&&(P[Lt]=[])},e.removeAllHooks=function(){P={}},e}var Ld=D1e();Ld.version;Ld.isSupported;const P1e=Ld.sanitize;Ld.setConfig;Ld.clearConfig;Ld.isValidAttribute;const k1e=Ld.addHook,M1e=Ld.removeHook;Ld.removeHooks;Ld.removeAllHooks;var Jt;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",n.vscodeNotebookMetadata="vscode-notebook-metadata",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatCodeBlock="vscode-chat-code-block",n.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm",n.commentsInput="comment",n.codeSetting="code-setting",n.outputChannel="output"})(Jt||(Jt={}));function WK(n,e){return en.isUri(n)?Pv(n.scheme,e):PK(n,e+":")}function Dae(n,...e){return e.some(t=>WK(n,t))}const mZe="tkn";class _Ze{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(e){this._preferredWebSchema=e}get _remoteResourcesPath(){return or.join(this._serverRootPath,Jt.vscodeRemoteResource)}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return hi(a),e}const t=e.authority;let i=this._hosts[t];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const r=this._ports[t],s=this._connectionTokens[t];let o=`path=${encodeURIComponent(e.path)}`;return typeof s=="string"&&(o+=`&${mZe}=${encodeURIComponent(s)}`),en.from({scheme:_y?this._preferredWebSchema:Jt.vscodeRemoteResource,authority:`${i}:${r}`,path:this._remoteResourcesPath,query:o})}}const F1e=new _Ze,EZe="vscode-app",D0=class D0{asBrowserUri(e){const t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===Jt.vscodeRemote?F1e.rewrite(e):e.scheme===Jt.file&&(OO||Oqe===`${Jt.vscodeFileResource}://${D0.FALLBACK_AUTHORITY}`)?e.with({scheme:Jt.vscodeFileResource,authority:e.authority||D0.FALLBACK_AUTHORITY,query:null,fragment:null}):e}toUri(e,t){if(en.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){const i=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(i))return en.joinPath(en.parse(i,!0),e);const r=tQe(i,e);return en.file(r)}return en.parse(t.toUrl(e))}};D0.FALLBACK_AUTHORITY=EZe;let E6=D0;const xM=new E6;var v6;(function(n){const e=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(e.get("3"));const t="vscode-coi";function i(s){let o;typeof s=="string"?o=new URL(s).searchParams:s instanceof URL?o=s.searchParams:en.isUri(s)&&(o=new URL(s.toString(!0)).searchParams);const a=o==null?void 0:o.get(t);if(a)return e.get(a)}n.getHeadersFromQuery=i;function r(s,o,a){if(!globalThis.crossOriginIsolated)return;const l=o&&a?"3":a?"2":"1";s instanceof URLSearchParams?s.set(t,l):s[t]=l}n.addSearchParam=r})(v6||(v6={}));function B1e(n){return DM(n,0)}function DM(n,e){switch(typeof n){case"object":return n===null?xh(349,e):Array.isArray(n)?SZe(n,e):CZe(n,e);case"string":return $K(n,e);case"boolean":return vZe(n,e);case"number":return xh(n,e);case"undefined":return xh(937,e);default:return xh(617,e)}}function xh(n,e){return(e<<5)-e+n|0}function vZe(n,e){return xh(n?433:863,e)}function $K(n,e){e=xh(149417,e);for(let t=0,i=n.length;t<i;t++)e=xh(n.charCodeAt(t),e);return e}function SZe(n,e){return e=xh(104579,e),n.reduce((t,i)=>DM(i,t),e)}function CZe(n,e){return e=xh(181387,e),Object.keys(n).sort().reduce((t,i)=>(t=$K(i,t),DM(n[i],t)),e)}function QH(n,e,t=32){const i=t-e,r=~((1<<i)-1);return(n<<e|(r&n)>>>i)>>>0}function Pae(n,e=0,t=n.byteLength,i=0){for(let r=0;r<t;r++)n[e+r]=i}function yZe(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function Mb(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):yZe((n>>>0).toString(16),e/4)}const EP=class EP{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const i=this._buff;let r=this._buffLen,s=this._leftoverHighSurrogate,o,a;for(s!==0?(o=s,a=-1,s=0):(o=e.charCodeAt(0),a=0);;){let l=o;if(Kr(o))if(a+1<t){const c=e.charCodeAt(a+1);hC(c)?(a++,l=kK(o,c)):l=65533}else{s=o;break}else hC(o)&&(l=65533);if(r=this._push(i,r,l),a++,a<t)o=e.charCodeAt(a);else break}this._buffLen=r,this._leftoverHighSurrogate=s}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Mb(this._h0)+Mb(this._h1)+Mb(this._h2)+Mb(this._h3)+Mb(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Pae(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Pae(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=EP._bigBlock32,t=this._buffDV;for(let d=0;d<64;d+=4)e.setUint32(d,t.getUint32(d,!1),!1);for(let d=64;d<320;d+=4)e.setUint32(d,QH(e.getUint32(d-12,!1)^e.getUint32(d-32,!1)^e.getUint32(d-56,!1)^e.getUint32(d-64,!1),1),!1);let i=this._h0,r=this._h1,s=this._h2,o=this._h3,a=this._h4,l,c,u;for(let d=0;d<80;d++)d<20?(l=r&s|~r&o,c=1518500249):d<40?(l=r^s^o,c=1859775393):d<60?(l=r&s|r&o|s&o,c=2400959708):(l=r^s^o,c=3395469782),u=QH(i,5)+l+a+c+e.getUint32(d*4,!1)&4294967295,a=o,o=s,s=QH(r,30),r=i,i=u;this._h0=this._h0+i&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+a&4294967295}};EP._bigBlock32=new DataView(new ArrayBuffer(320));let S6=EP;const{getWindow:ht,getWindows:U1e,getWindowsCount:bZe,getWindowId:HO,getWindowById:kae,onDidRegisterWindow:PM,onWillUnregisterWindow:TZe,onDidUnregisterWindow:wZe}=function(){const n=new Map;vQe(fi,1);const e={window:fi,disposables:new at};n.set(fi.vscodeWindowId,e);const t=new ge,i=new ge,r=new ge;function s(o,a){return(typeof o=="number"?n.get(o):void 0)??(a?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:r.event,onDidUnregisterWindow:i.event,registerWindow(o){if(n.has(o.vscodeWindowId))return Ne.None;const a=new at,l={window:o,disposables:a.add(new at)};return n.set(o.vscodeWindowId,l),a.add(Ht(()=>{n.delete(o.vscodeWindowId),i.fire(o)})),a.add(we(o,Ve.BEFORE_UNLOAD,()=>{r.fire(o)})),t.fire(l),a},getWindows(){return n.values()},getWindowsCount(){return n.size},getWindowId(o){return o.vscodeWindowId},hasWindow(o){return n.has(o)},getWindowById:s,getWindow(o){var c;const a=o;if((c=a==null?void 0:a.ownerDocument)!=null&&c.defaultView)return a.ownerDocument.defaultView.window;const l=o;return l!=null&&l.view?l.view.window:fi},getDocument(o){return ht(o).document}}}();function fu(n){for(;n.firstChild;)n.firstChild.remove()}class AZe{constructor(e,t,i,r){this._node=e,this._type=t,this._handler=i,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function we(n,e,t,i){return new AZe(n,e,t,i)}function RZe(n,e){return function(t){return e(new Jc(n,t))}}function IZe(n){return function(e){return n(new wi(e))}}const Qr=function(e,t,i,r){let s=i;return t==="click"||t==="mousedown"||t==="contextmenu"?s=RZe(ht(e),i):(t==="keydown"||t==="keypress"||t==="keyup")&&(s=IZe(i)),we(e,t,s,r)};function $I(n,e,t){return KT(n,e,t)}let H1e,wa;class GK extends VK{constructor(e){super(),this.defaultTarget=e&&ht(e)}cancelAndSet(e,t,i){return super.cancelAndSet(e,t,i??this.defaultTarget)}}class ZH{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){hi(e)}}static sort(e,t){return t.priority-e.priority}}(function(){const n=new Map,e=new Map,t=new Map,i=new Map,r=s=>{t.set(s,!1);const o=n.get(s)??[];for(e.set(s,o),n.set(s,[]),i.set(s,!0);o.length>0;)o.sort(ZH.sort),o.shift().execute();i.set(s,!1)};wa=(s,o,a=0)=>{const l=HO(s),c=new ZH(o,a);let u=n.get(l);return u||(u=[],n.set(l,u)),u.push(c),t.get(l)||(t.set(l,!0),s.requestAnimationFrame(()=>r(l))),c},H1e=(s,o,a)=>{const l=HO(s);if(i.get(l)){const c=new ZH(o,a);let u=e.get(l);return u||(u=[],e.set(l,u)),u.push(c),c}else return wa(s,o,a)}})();function zK(n){return ht(n).getComputedStyle(n,null)}function C6(n,e){const t=ht(n),i=t.document;if(n!==i.body)return new bh(n.clientWidth,n.clientHeight);if(w_&&(t!=null&&t.visualViewport))return new bh(t.visualViewport.width,t.visualViewport.height);if(t!=null&&t.innerWidth&&t.innerHeight)return new bh(t.innerWidth,t.innerHeight);if(i.body&&i.body.clientWidth&&i.body.clientHeight)return new bh(i.body.clientWidth,i.body.clientHeight);if(i.documentElement&&i.documentElement.clientWidth&&i.documentElement.clientHeight)return new bh(i.documentElement.clientWidth,i.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class qi{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){const r=zK(e),s=r?r.getPropertyValue(t):"0";return qi.convertToPixels(e,s)}static getBorderLeftWidth(e){return qi.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return qi.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return qi.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return qi.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return qi.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return qi.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return qi.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return qi.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return qi.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return qi.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return qi.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return qi.getDimension(e,"margin-bottom","marginBottom")}}const Nm=class Nm{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new Nm(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof Nm?e:new Nm(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};Nm.None=new Nm(0,0);let bh=Nm;function NZe(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==n.ownerDocument.body&&n!==n.ownerDocument.documentElement;){t-=n.scrollTop;const r=W1e(n)?null:zK(n);r&&(i-=r.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=qi.getBorderLeftWidth(n),t+=qi.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function yl(n){const e=n.getBoundingClientRect(),t=ht(n);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function V1e(n){let e=n,t=1;do{const i=zK(e).zoom;i!=null&&i!=="1"&&(t*=i),e=e.parentElement}while(e!==null&&e!==e.ownerDocument.documentElement);return t}function jK(n){const e=qi.getMarginLeft(n)+qi.getMarginRight(n);return n.offsetWidth+e}function JH(n){const e=qi.getBorderLeftWidth(n)+qi.getBorderRightWidth(n),t=qi.getPaddingLeft(n)+qi.getPaddingRight(n);return n.offsetWidth-e-t}function LZe(n){const e=qi.getBorderTopWidth(n)+qi.getBorderBottomWidth(n),t=qi.getPaddingTop(n)+qi.getPaddingBottom(n);return n.offsetHeight-e-t}function y6(n){const e=qi.getMarginTop(n)+qi.getMarginBottom(n);return n.offsetHeight+e}function Xr(n,e){return!!(e!=null&&e.contains(n))}function OZe(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function e3(n,e,t){return!!OZe(n,e,t)}function W1e(n){return n&&!!n.host&&!!n.mode}function VO(n){return!!fC(n)}function fC(n){var e;for(;n.parentNode;){if(n===((e=n.ownerDocument)==null?void 0:e.body))return null;n=n.parentNode}return W1e(n)?n:null}function fo(){let n=KK().activeElement;for(;n!=null&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function YK(n){return fo()===n}function $1e(n){return Xr(fo(),n)}function KK(){return bZe()<=1?fi.document:Array.from(U1e()).map(({window:e})=>e.document).find(e=>e.hasFocus())??fi.document}function ET(){var e;return((e=KK().defaultView)==null?void 0:e.window)??fi}const G1e=new Map;function Ol(n=fi.document.head,e,t){const i=document.createElement("style");if(i.type="text/css",i.media="screen",e==null||e(i),n.appendChild(i),t&&t.add(Ht(()=>i.remove())),n===fi.document.head){const r=new Set;G1e.set(i,r);for(const{window:s,disposables:o}of U1e()){if(s===fi)continue;const a=o.add(xZe(i,r,s));t==null||t.add(a)}}return i}function xZe(n,e,t){var s,o;const i=new at,r=n.cloneNode(!0);t.document.head.appendChild(r),i.add(Ht(()=>r.remove()));for(const a of kZe(n))(o=r.sheet)==null||o.insertRule(a.cssText,(s=r.sheet)==null?void 0:s.cssRules.length);return i.add(DZe.observe(n,i,{childList:!0})(()=>{r.textContent=n.textContent})),e.add(r),i.add(Ht(()=>e.delete(r))),i}const DZe=new class{constructor(){this.mutationObservers=new Map}observe(n,e,t){let i=this.mutationObservers.get(n);i||(i=new Map,this.mutationObservers.set(n,i));const r=B1e(t);let s=i.get(r);if(s)s.users+=1;else{const o=new ge,a=new MutationObserver(c=>o.fire(c));a.observe(n,t);const l=s={users:1,observer:a,onDidMutate:o.event};e.add(Ht(()=>{l.users-=1,l.users===0&&(o.dispose(),a.disconnect(),i==null||i.delete(r),(i==null?void 0:i.size)===0&&this.mutationObservers.delete(n))})),i.set(r,s)}return s.onDidMutate}};let t3=null;function PZe(){return t3||(t3=Ol()),t3}function kZe(n){var e,t;return(e=n==null?void 0:n.sheet)!=null&&e.rules?n.sheet.rules:(t=n==null?void 0:n.sheet)!=null&&t.cssRules?n.sheet.cssRules:[]}function b6(n,e,t=PZe()){var i;if(!(!t||!e)){(i=t.sheet)==null||i.insertRule(`${n} {${e}}`,0);for(const r of G1e.get(t)??[])b6(n,e,r)}}function as(n){return n instanceof HTMLElement||n instanceof ht(n).HTMLElement}function Mae(n){return n instanceof HTMLAnchorElement||n instanceof ht(n).HTMLAnchorElement}function MZe(n){return n instanceof SVGElement||n instanceof ht(n).SVGElement}function qK(n){return n instanceof MouseEvent||n instanceof ht(n).MouseEvent}function _h(n){return n instanceof KeyboardEvent||n instanceof ht(n).KeyboardEvent}const Ve={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",KEY_DOWN:"keydown",KEY_UP:"keyup",BEFORE_UNLOAD:"beforeunload",CHANGE:"change",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend"};function FZe(n){const e=n;return!!(e&&typeof e.preventDefault=="function"&&typeof e.stopPropagation=="function")}const gn={stop:(n,e)=>(n.preventDefault(),e&&n.stopPropagation(),n)};function BZe(n){const e=[];for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)e[t]=n.scrollTop,n=n.parentNode;return e}function UZe(n,e){for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)n.scrollTop!==e[t]&&(n.scrollTop=e[t]),n=n.parentNode}class WO extends Ne{static hasFocusWithin(e){if(as(e)){const t=fC(e),i=t?t.activeElement:e.ownerDocument.activeElement;return Xr(i,e)}else{const t=e;return Xr(t.document.activeElement,t.document)}}constructor(e){super(),this._onDidFocus=this._register(new ge),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ge),this.onDidBlur=this._onDidBlur.event;let t=WO.hasFocusWithin(e),i=!1;const r=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},s=()=>{t&&(i=!0,(as(e)?ht(e):e).setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{WO.hasFocusWithin(e)!==t&&(t?s():r())},this._register(we(e,Ve.FOCUS,r,!0)),this._register(we(e,Ve.BLUR,s,!0)),as(e)&&(this._register(we(e,Ve.FOCUS_IN,()=>this._refreshStateHandler())),this._register(we(e,Ve.FOCUS_OUT,()=>this._refreshStateHandler())))}}function N1(n){return new WO(n)}function HZe(n,e){return n.after(e),e}function st(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function XK(n,e){return n.insertBefore(e,n.firstChild),e}function wo(n,...e){n.innerText="",st(n,...e)}const VZe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var L1;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.SVG="http://www.w3.org/2000/svg"})(L1||(L1={}));function z1e(n,e,t,...i){const r=VZe.exec(e);if(!r)throw new Error("Bad use of emmet");const s=r[1]||"div";let o;return n!==L1.HTML?o=document.createElementNS(n,s):o=document.createElement(s),r[3]&&(o.id=r[3]),r[4]&&(o.className=r[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?o[a]=l:a==="selected"?l&&o.setAttribute(a,"true"):o.setAttribute(a,l))}),o.append(...i),o}function St(n,e,...t){return z1e(L1.HTML,n,e,...t)}St.SVG=function(n,e,...t){return z1e(L1.SVG,n,e,...t)};function j1e(...n){for(const e of n)e.style.display="",e.removeAttribute("aria-hidden")}function Fae(...n){for(const e of n)e.style.display="none",e.setAttribute("aria-hidden","true")}function Bae(n,e){const t=n.devicePixelRatio*e;return Math.max(1,Math.floor(t))/n.devicePixelRatio}function Y1e(n){fi.open(n,"_blank","noopener")}function WZe(n,e){const t=()=>{e(),i=wa(n,t)};let i=wa(n,t);return Ht(()=>i.dispose())}F1e.setPreferredWebSchema(/^https:/.test(fi.location.href)?"https":"http");function of(n){return n?`url('${xM.uriToBrowserUri(n).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function n3(n){return`'${n.replace(/'/g,"%27")}'`}function Vh(n,e){if(n!==void 0){const t=n.match(/^\s*var\((.+)\)$/);if(t){const i=t[1].split(",",2);return i.length===2&&(e=Vh(i[1].trim(),e)),`var(${i[0]}, ${e})`}return n}return e}function $Ze(n,e=!1){const t=document.createElement("a");return k1e("afterSanitizeAttributes",i=>{for(const r of["href","src"])if(i.hasAttribute(r)){const s=i.getAttribute(r);if(r==="href"&&s.startsWith("#"))continue;if(t.href=s,!n.includes(t.protocol.replace(/:$/,""))){if(e&&r==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(r)}}}),Ht(()=>{M1e("afterSanitizeAttributes")})}const GZe=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);class mg extends ge{constructor(){super(),this._subscriptions=new at,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(Ue.runAndSubscribe(PM,({window:e,disposables:t})=>this.registerListeners(e,t),{window:fi,disposables:this._subscriptions}))}registerListeners(e,t){t.add(we(e,"keydown",i=>{if(i.defaultPrevented)return;const r=new wi(i);if(!(r.keyCode===6&&i.repeat)){if(i.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(i.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(i.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(i.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(r.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=i,this.fire(this._keyStatus))}},!0)),t.add(we(e,"keyup",i=>{i.defaultPrevented||(!i.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!i.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!i.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!i.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=i,this.fire(this._keyStatus)))},!0)),t.add(we(e.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(we(e.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(we(e.document.body,"mousemove",i=>{i.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),t.add(we(e,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return mg.instance||(mg.instance=new mg),mg.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class zZe extends Ne{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(we(this.element,Ve.DRAG_START,e=>{var t,i;(i=(t=this.callbacks).onDragStart)==null||i.call(t,e)})),this.callbacks.onDrag&&this._register(we(this.element,Ve.DRAG,e=>{var t,i;(i=(t=this.callbacks).onDrag)==null||i.call(t,e)})),this._register(we(this.element,Ve.DRAG_ENTER,e=>{var t,i;this.counter++,this.dragStartTime=e.timeStamp,(i=(t=this.callbacks).onDragEnter)==null||i.call(t,e)})),this._register(we(this.element,Ve.DRAG_OVER,e=>{var t,i;e.preventDefault(),(i=(t=this.callbacks).onDragOver)==null||i.call(t,e,e.timeStamp-this.dragStartTime)})),this._register(we(this.element,Ve.DRAG_LEAVE,e=>{var t,i;this.counter--,this.counter===0&&(this.dragStartTime=0,(i=(t=this.callbacks).onDragLeave)==null||i.call(t,e))})),this._register(we(this.element,Ve.DRAG_END,e=>{var t,i;this.counter=0,this.dragStartTime=0,(i=(t=this.callbacks).onDragEnd)==null||i.call(t,e)})),this._register(we(this.element,Ve.DROP,e=>{var t,i;this.counter=0,this.dragStartTime=0,(i=(t=this.callbacks).onDrop)==null||i.call(t,e)}))}}const jZe=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Rn(n,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);const r=jZe.exec(n);if(!r||!r.groups)throw new Error("Bad use of h");const s=r.groups.tag||"div",o=document.createElement(s);r.groups.id&&(o.id=r.groups.id);const a=[];if(r.groups.class)for(const c of r.groups.class.split("."))c!==""&&a.push(c);if(t.className!==void 0)for(const c of t.className.split("."))c!==""&&a.push(c);a.length>0&&(o.className=a.join(" "));const l={};if(r.groups.name&&(l[r.groups.name]=o),i)for(const c of i)as(c)?o.appendChild(c):typeof c=="string"?o.append(c):"root"in c&&(Object.assign(l,c),o.appendChild(c.root));for(const[c,u]of Object.entries(t))if(c!=="className")if(c==="style")for(const[d,h]of Object.entries(u))o.style.setProperty(Uae(d),typeof h=="number"?h+"px":""+h);else c==="tabIndex"?o.tabIndex=u:o.setAttribute(Uae(c),u.toString());return l.root=o,l}function Uae(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class YZe extends Ne{constructor(e){super(),this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(e,!0),this._mediaQueryList=null,this._handleChange(e,!1)}_handleChange(e,t){var i;(i=this._mediaQueryList)==null||i.removeEventListener("change",this._listener),this._mediaQueryList=e.matchMedia(`(resolution: ${e.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}}class KZe extends Ne{get value(){return this._value}constructor(e){super(),this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(e);const t=this._register(new YZe(e));this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(e),this._onDidChange.fire(this._value)}))}_getPixelRatio(e){const t=document.createElement("canvas").getContext("2d"),i=e.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return i/r}}class qZe{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(e){const t=HO(e);let i=this.mapWindowIdToPixelRatioMonitor.get(t);return i||(i=new KZe(e),this.mapWindowIdToPixelRatioMonitor.set(t,i),Ue.once(wZe)(({vscodeWindowId:r})=>{r===t&&(i==null||i.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(t))})),i}getInstance(e){return this._getOrCreatePixelRatioMonitor(e)}}const $O=new qZe;class K1e{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=Oc(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=Oc(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=Oc(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=Oc(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=Oc(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=Oc(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=Oc(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingLeft(e){const t=Oc(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=Oc(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=Oc(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=Oc(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function Oc(n){return typeof n=="number"?`${n}px`:n}function Dn(n){return new K1e(n)}function Us(n,e){n instanceof K1e?(n.setFontFamily(e.getMassagedFontFamily()),n.setFontWeight(e.fontWeight),n.setFontSize(e.fontSize),n.setFontFeatureSettings(e.fontFeatureSettings),n.setFontVariationSettings(e.fontVariationSettings),n.setLineHeight(e.lineHeight),n.setLetterSpacing(e.letterSpacing)):(n.style.fontFamily=e.getMassagedFontFamily(),n.style.fontWeight=e.fontWeight,n.style.fontSize=e.fontSize+"px",n.style.fontFeatureSettings=e.fontFeatureSettings,n.style.fontVariationSettings=e.fontVariationSettings,n.style.lineHeight=e.lineHeight+"px",n.style.letterSpacing=e.letterSpacing+"px")}class XZe{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class QK{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(e){var t;this._createDomElements(),e.document.body.appendChild(this._container),this._readFromDomElements(),(t=this._container)==null||t.remove(),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");Us(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");Us(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const r=document.createElement("div");Us(r,this._bareFontInfo),r.style.fontStyle="italic",e.appendChild(r);const s=[];for(const o of this._requests){let a;o.type===0&&(a=t),o.type===2&&(a=i),o.type===1&&(a=r),a.appendChild(document.createElement("br"));const l=document.createElement("span");QK._render(l,o),a.appendChild(l),s.push(l)}this._container=e,this._testElements=s}static _render(e,t){if(t.chr===" "){let i="";for(let r=0;r<8;r++)i+=i;e.innerText=i}else{let i=t.chr;for(let r=0;r<8;r++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const i=this._requests[e],r=this._testElements[e];i.fulfill(r.offsetWidth/256)}}}function QZe(n,e,t){new QK(e,t).read(n)}const sg=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new ge,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(n){n=Math.min(Math.max(-5,n),20),this._zoomLevel!==n&&(this._zoomLevel=n,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},ZZe=bn?1.5:1.35,i3=8;class Xm{static createFromValidatedSettings(e,t,i){const r=e.get(49),s=e.get(53),o=e.get(52),a=e.get(51),l=e.get(54),c=e.get(67),u=e.get(64);return Xm._create(r,s,o,a,l,c,u,t,i)}static _create(e,t,i,r,s,o,a,l,c){o===0?o=ZZe*i:o<i3&&(o=o*i),o=Math.round(o),o<i3&&(o=i3);const u=1+(c?0:sg.getZoomLevel()*.1);return i*=u,o*=u,s===b1.TRANSLATE&&(t==="normal"||t==="bold"?s=b1.OFF:(s=`'wght' ${parseInt(t,10)}`,t="normal")),new Xm({pixelRatio:l,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:r,fontVariationSettings:s,lineHeight:o,letterSpacing:a})}constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.fontVariationSettings=e.fontVariationSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const e=qa.fontFamily,t=Xm._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}const JZe=2;class T6 extends Xm{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=JZe,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.fontVariationSettings===e.fontVariationSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class eJe extends Ne{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(e){const t=HO(e);let i=this._cache.get(t);return i||(i=new tJe,this._cache.set(t,i)),i}_writeToCache(e,t,i){this._ensureCache(e).put(t,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=e.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(e)},5e3))}_evictUntrustedReadings(e){const t=this._ensureCache(e),i=t.getValues();let r=!1;for(const s of i)s.isTrusted||(r=!0,t.remove(s));r&&this._onDidChange.fire()}readFontInfo(e,t){const i=this._ensureCache(e);if(!i.has(t)){let r=this._actualReadFontInfo(e,t);(r.typicalHalfwidthCharacterWidth<=2||r.typicalFullwidthCharacterWidth<=2||r.spaceWidth<=2||r.maxDigitWidth<=2)&&(r=new T6({pixelRatio:$O.getInstance(e).value,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,fontVariationSettings:r.fontVariationSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:r.isMonospace,typicalHalfwidthCharacterWidth:Math.max(r.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(r.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:r.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(r.spaceWidth,5),middotWidth:Math.max(r.middotWidth,5),wsmiddotWidth:Math.max(r.wsmiddotWidth,5),maxDigitWidth:Math.max(r.maxDigitWidth,5)},!1)),this._writeToCache(e,t,r)}return i.get(t)}_createRequest(e,t,i,r){const s=new XZe(e,t);return i.push(s),r==null||r.push(s),s}_actualReadFontInfo(e,t){const i=[],r=[],s=this._createRequest("n",0,i,r),o=this._createRequest("",0,i,null),a=this._createRequest(" ",0,i,r),l=this._createRequest("0",0,i,r),c=this._createRequest("1",0,i,r),u=this._createRequest("2",0,i,r),d=this._createRequest("3",0,i,r),h=this._createRequest("4",0,i,r),f=this._createRequest("5",0,i,r),m=this._createRequest("6",0,i,r),g=this._createRequest("7",0,i,r),_=this._createRequest("8",0,i,r),v=this._createRequest("9",0,i,r),S=this._createRequest("",0,i,r),C=this._createRequest("",0,i,null),y=this._createRequest("",0,i,r),b=this._createRequest("",0,i,null),w="|/-_ilm%";for(let P=0,M=w.length;P<M;P++)this._createRequest(w.charAt(P),0,i,r),this._createRequest(w.charAt(P),1,i,r),this._createRequest(w.charAt(P),2,i,r);QZe(e,t,i);const I=Math.max(l.width,c.width,u.width,d.width,h.width,f.width,m.width,g.width,_.width,v.width);let O=t.fontFeatureSettings===A_.OFF;const x=r[0].width;for(let P=1,M=r.length;O&&P<M;P++){const W=x-r[P].width;if(W<-.001||W>.001){O=!1;break}}let k=!0;return O&&C.width!==x&&(k=!1),C.width>S.width&&(k=!1),new T6({pixelRatio:$O.getInstance(e).value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:O,typicalHalfwidthCharacterWidth:s.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:k,spaceWidth:a.width,middotWidth:y.width,wsmiddotWidth:b.width,maxDigitWidth:I},!0)}}class tJe{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}const w6=new eJe;var eu;(function(n){n.serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[n.DI_DEPENDENCIES]||[]}n.getServiceDependencies=e})(eu||(eu={}));const oi=Cn("instantiationService");function nJe(n,e,t){e[eu.DI_TARGET]===e?e[eu.DI_DEPENDENCIES].push({id:n,index:t}):(e[eu.DI_DEPENDENCIES]=[{id:n,index:t}],e[eu.DI_TARGET]=e)}function Cn(n){if(eu.serviceIds.has(n))return eu.serviceIds.get(n);const e=function(t,i,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");nJe(e,t,r)};return e.toString=()=>n,eu.serviceIds.set(n,e),e}const Fr=Cn("codeEditorService"),No=Cn("modelService"),kM=Cn("textModelService");class Wh extends Ne{constructor(e,t="",i="",r=!0,s){super(),this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=r,this._actionCallback=s}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}}class N_ extends Ne{constructor(){super(...arguments),this._onWillRun=this._register(new ge),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new ge),this.onDidRun=this._onDidRun.event}async run(e,t){if(!e.enabled)return;this._onWillRun.fire({action:e});let i;try{await this.runAction(e,t)}catch(r){i=r}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}}const P0=class P0{constructor(){this.id=P0.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...e){let t=[];for(const i of e)i.length&&(t.length?t=[...t,new P0,...i]:t=i);return t}async run(){}};P0.ID="vs.actions.separator";let go=P0;class MM{get actions(){return this._actions}constructor(e,t,i,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=r,this._actions=i}async run(){}}const vP=class vP extends Wh{constructor(){super(vP.ID,A("submenu.empty","(empty)"),void 0,!1)}};vP.ID="vs.actions.empty";let A6=vP;function RS(n){return{id:n.id,label:n.label,tooltip:n.tooltip??n.label,class:n.class,enabled:n.enabled??!0,checked:n.checked,run:async(...e)=>n.run(...e)}}var R6;(function(n){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}n.isThemeColor=e})(R6||(R6={}));var Ln;(function(n){n.iconNameSegment="[A-Za-z0-9]+",n.iconNameExpression="[A-Za-z0-9-]+",n.iconModifierExpression="~[A-Za-z]+",n.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${n.iconNameExpression})(${n.iconModifierExpression})?$`);function t(h){const f=e.exec(h.id);if(!f)return t(tt.error);const[,m,g]=f,_=["codicon","codicon-"+m];return g&&_.push("codicon-modifier-"+g.substring(1)),_}n.asClassNameArray=t;function i(h){return t(h).join(" ")}n.asClassName=i;function r(h){return"."+t(h).join(".")}n.asCSSSelector=r;function s(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(typeof h.color>"u"||R6.isThemeColor(h.color))}n.isThemeIcon=s;const o=new RegExp(`^\\$\\((${n.iconNameExpression}(?:${n.iconModifierExpression})?)\\)$`);function a(h){const f=o.exec(h);if(!f)return;const[,m]=f;return{id:m}}n.fromString=a;function l(h){return{id:h}}n.fromId=l;function c(h,f){let m=h.id;const g=m.lastIndexOf("~");return g!==-1&&(m=m.substring(0,g)),f&&(m=`${m}~${f}`),{id:m}}n.modify=c;function u(h){const f=h.id.lastIndexOf("~");if(f!==-1)return h.id.substring(f+1)}n.getModifier=u;function d(h,f){var m,g;return h.id===f.id&&((m=h.color)==null?void 0:m.id)===((g=f.color)==null?void 0:g.id)}n.isEqual=d})(Ln||(Ln={}));const el=Cn("commandService"),na=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new ge,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){const o=[];for(const l of n.metadata.args)o.push(l.constraint);const a=n.handler;n.handler=function(l,...c){return Sqe(c,o),a(l,...c)}}const{id:t}=n;let i=this._commands.get(t);i||(i=new pa,this._commands.set(t,i));const r=i.unshift(n),s=Ht(()=>{r();const o=this._commands.get(t);o!=null&&o.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),s}registerCommandAlias(n,e){return na.registerCommand(n,(t,...i)=>t.get(el).executeCommand(e,...i))}getCommand(n){const e=this._commands.get(n);if(!(!e||e.isEmpty()))return Mn.first(e)}getCommands(){const n=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&n.set(e,t)}return n}};na.registerCommand("noop",()=>{});function r3(...n){switch(n.length){case 1:return A("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return A("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return A("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}const iJe=A("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),rJe=A("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),lS=class lS{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw RK(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(r3("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(r3("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(r3("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,i=this._input.substring(this._start,this._current),r={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(r)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),i=lS._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(iJe);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(rJe);return}const s=this._input.charCodeAt(e);if(t)t=!1;else if(s===47&&!i){e++;break}else s===91?i=!0:s===92?t=!0:s===93&&(i=!1);e++}for(;e<this._input.length&&lS._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const r=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:r,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};lS._regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0))),lS._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);let fm=lS;const Ws=new Map;Ws.set("false",!1);Ws.set("true",!0);Ws.set("isMac",bn);Ws.set("isLinux",Zo);Ws.set("isWindows",ba);Ws.set("isWeb",_y);Ws.set("isMacNative",bn&&!_y);Ws.set("isEdge",Mqe);Ws.set("isFirefox",Pqe);Ws.set("isChrome",K0e);Ws.set("isSafari",kqe);const sJe=Object.prototype.hasOwnProperty,oJe={regexParsingWithErrorRecovery:!0},aJe=A("contextkey.parser.error.emptyString","Empty context key expression"),lJe=A("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),cJe=A("contextkey.parser.error.noInAfterNot","'in' after 'not'."),Hae=A("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),uJe=A("contextkey.parser.error.unexpectedToken","Unexpected token"),dJe=A("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),hJe=A("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),fJe=A("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");var nd;let gJe=(nd=class{constructor(e=oJe){this._config=e,this._scanner=new fm,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(e){if(e===""){this._parsingErrors.push({message:aJe,offset:0,lexeme:"",additionalInfo:lJe});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const t=this._expr();if(!this._isAtEnd()){const i=this._peek(),r=i.type===17?dJe:void 0;throw this._parsingErrors.push({message:uJe,offset:i.offset,lexeme:fm.getLexeme(i),additionalInfo:r}),nd._parseError}return t}catch(t){if(t!==nd._parseError)throw t;return}}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return e.length===1?e[0]:$n.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return e.length===1?e[0]:$n.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),Ao.INSTANCE;case 12:return this._advance(),Jo.INSTANCE;case 0:{this._advance();const t=this._expr();return this._consume(1,Hae),t==null?void 0:t.negate()}case 17:return this._advance(),rE.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:return this._advance(),$n.true();case 12:return this._advance(),$n.false();case 0:{this._advance();const t=this._expr();return this._consume(1,Hae),t}case 17:{const t=e.lexeme;if(this._advance(),this._matchOne(9)){const r=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),r.type!==10)throw this._errExpectedButGot("REGEX",r);const s=r.lexeme,o=s.lastIndexOf("/"),a=o===s.length-1?void 0:this._removeFlagsGY(s.substring(o+1));let l;try{l=new RegExp(s.substring(1,o),a)}catch{throw this._errExpectedButGot("REGEX",r)}return O1.create(t,l)}switch(r.type){case 10:case 19:{const s=[r.lexeme];this._advance();let o=this._peek(),a=0;for(let h=0;h<r.lexeme.length;h++)r.lexeme.charCodeAt(h)===40?a++:r.lexeme.charCodeAt(h)===41&&a--;for(;!this._isAtEnd()&&o.type!==15&&o.type!==16;){switch(o.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let h=0;h<o.lexeme.length;h++)o.lexeme.charCodeAt(h)===40?a++:r.lexeme.charCodeAt(h)===41&&a--}if(a<0)break;s.push(fm.getLexeme(o)),this._advance(),o=this._peek()}const l=s.join(""),c=l.lastIndexOf("/"),u=c===l.length-1?void 0:this._removeFlagsGY(l.substring(c+1));let d;try{d=new RegExp(l.substring(1,c),u)}catch{throw this._errExpectedButGot("REGEX",r)}return $n.regex(t,d)}case 18:{const s=r.lexeme;this._advance();let o=null;if(!CQe(s)){const a=s.indexOf("/"),l=s.lastIndexOf("/");if(a!==l&&a>=0){const c=s.slice(a+1,l),u=s[l+1]==="i"?"i":"";try{o=new RegExp(c,u)}catch{throw this._errExpectedButGot("REGEX",r)}}}if(o===null)throw this._errExpectedButGot("REGEX",r);return O1.create(t,o)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,cJe);const r=this._value();return $n.notIn(t,r)}switch(this._peek().type){case 3:{this._advance();const r=this._value();if(this._previous().type===18)return $n.equals(t,r);switch(r){case"true":return $n.has(t);case"false":return $n.not(t);default:return $n.equals(t,r)}}case 4:{this._advance();const r=this._value();if(this._previous().type===18)return $n.notEquals(t,r);switch(r){case"true":return $n.not(t);case"false":return $n.has(t);default:return $n.notEquals(t,r)}}case 5:return this._advance(),$M.create(t,this._value());case 6:return this._advance(),GM.create(t,this._value());case 7:return this._advance(),VM.create(t,this._value());case 8:return this._advance(),WM.create(t,this._value());case 13:return this._advance(),$n.in(t,this._value());default:return $n.has(t)}}case 20:throw this._parsingErrors.push({message:hJe,offset:e.offset,lexeme:"",additionalInfo:fJe}),nd._parseError;default:throw this._errExpectedButGot(`true | false | KEY
	| KEY '=~' REGEX
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){const r=A("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,fm.getLexeme(t)),s=t.offset,o=fm.getLexeme(t);return this._parsingErrors.push({message:r,offset:s,lexeme:o,additionalInfo:i}),nd._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},nd._parseError=new Error,nd);const jQ=class jQ{static false(){return Ao.INSTANCE}static true(){return Jo.INSTANCE}static has(e){return iE.create(e)}static equals(e,t){return EA.create(e,t)}static notEquals(e,t){return UM.create(e,t)}static regex(e,t){return O1.create(e,t)}static in(e,t){return FM.create(e,t)}static notIn(e,t){return BM.create(e,t)}static not(e){return rE.create(e)}static and(...e){return Fm.create(e,null,!0)}static or(...e){return Th.create(e,null,!0)}static deserialize(e){return e==null?void 0:this._parser.parse(e)}};jQ._parser=new gJe({regexParsingWithErrorRecovery:!1});let $n=jQ;function pJe(n,e){const t=n?n.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function qT(n,e){return n.cmp(e)}const SP=class SP{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return Jo.INSTANCE}};SP.INSTANCE=new SP;let Ao=SP;const CP=class CP{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Ao.INSTANCE}};CP.INSTANCE=new CP;let Jo=CP;class iE{static create(e,t=null){const i=Ws.get(e);return typeof i=="boolean"?i?Jo.INSTANCE:Ao.INSTANCE:new iE(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:X1e(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Ws.get(this.key);return typeof e=="boolean"?e?Jo.INSTANCE:Ao.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=rE.create(this.key,this)),this.negated}}class EA{static create(e,t,i=null){if(typeof t=="boolean")return t?iE.create(e,i):rE.create(e,i);const r=Ws.get(e);return typeof r=="boolean"?t===(r?"true":"false")?Jo.INSTANCE:Ao.INSTANCE:new EA(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:sE(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Ws.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?Jo.INSTANCE:Ao.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=UM.create(this.key,this.value,this)),this.negated}}class FM{static create(e,t){return new FM(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:sE(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?sJe.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=BM.create(this.key,this.valueKey)),this.negated}}class BM{static create(e,t){return new BM(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=FM.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class UM{static create(e,t,i=null){if(typeof t=="boolean")return t?rE.create(e,i):iE.create(e,i);const r=Ws.get(e);return typeof r=="boolean"?t===(r?"true":"false")?Ao.INSTANCE:Jo.INSTANCE:new UM(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:sE(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Ws.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?Ao.INSTANCE:Jo.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=EA.create(this.key,this.value,this)),this.negated}}class rE{static create(e,t=null){const i=Ws.get(e);return typeof i=="boolean"?i?Ao.INSTANCE:Jo.INSTANCE:new rE(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:X1e(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Ws.get(this.key);return typeof e=="boolean"?e?Ao.INSTANCE:Jo.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=iE.create(this.key,this)),this.negated}}function HM(n,e){if(typeof n=="string"){const t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):Ao.INSTANCE}class VM{static create(e,t,i=null){return HM(t,r=>new VM(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:sE(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=GM.create(this.key,this.value,this)),this.negated}}class WM{static create(e,t,i=null){return HM(t,r=>new WM(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:sE(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=$M.create(this.key,this.value,this)),this.negated}}class $M{static create(e,t,i=null){return HM(t,r=>new $M(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:sE(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=WM.create(this.key,this.value,this)),this.negated}}class GM{static create(e,t,i=null){return HM(t,r=>new GM(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:sE(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=VM.create(this.key,this.value,this)),this.negated}}class O1{static create(e,t){return new O1(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ZK.create(this)),this.negated}}class ZK{static create(e){return new ZK(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function q1e(n){let e=null;for(let t=0,i=n.length;t<i;t++){const r=n[t].substituteConstants();if(n[t]!==r&&e===null){e=[];for(let s=0;s<t;s++)e[s]=n[s]}e!==null&&(e[t]=r)}return e===null?n:e}class Fm{static create(e,t,i){return Fm._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=qT(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=q1e(this.expr);return e===this.expr?this:Fm.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){const r=[];let s=!1;for(const o of e)if(o){if(o.type===1){s=!0;continue}if(o.type===0)return Ao.INSTANCE;if(o.type===6){r.push(...o.expr);continue}r.push(o)}if(r.length===0&&s)return Jo.INSTANCE;if(r.length!==0){if(r.length===1)return r[0];r.sort(qT);for(let o=1;o<r.length;o++)r[o-1].equals(r[o])&&(r.splice(o,1),o--);if(r.length===1)return r[0];for(;r.length>1;){const o=r[r.length-1];if(o.type!==9)break;r.pop();const a=r.pop(),l=r.length===0,c=Th.create(o.expr.map(u=>Fm.create([u,a],null,i)),null,l);c&&(r.push(c),r.sort(qT))}if(r.length===1)return r[0];if(i){for(let o=0;o<r.length;o++)for(let a=o+1;a<r.length;a++)if(r[o].negate().equals(r[a]))return Ao.INSTANCE;if(r.length===1)return r[0]}return new Fm(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=Th.create(e,this,!0)}return this.negated}}class Th{static create(e,t,i){return Th._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=qT(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=q1e(this.expr);return e===this.expr?this:Th.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let r=[],s=!1;if(e){for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l){if(l.type===0){s=!0;continue}if(l.type===1)return Jo.INSTANCE;if(l.type===9){r=r.concat(l.expr);continue}r.push(l)}}if(r.length===0&&s)return Ao.INSTANCE;r.sort(qT)}if(r.length!==0){if(r.length===1)return r[0];for(let o=1;o<r.length;o++)r[o-1].equals(r[o])&&(r.splice(o,1),o--);if(r.length===1)return r[0];if(i){for(let o=0;o<r.length;o++)for(let a=o+1;a<r.length;a++)if(r[o].negate().equals(r[a]))return Jo.INSTANCE;if(r.length===1)return r[0]}return new Th(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),r=[];for(const s of Wae(t))for(const o of Wae(i))r.push(Fm.create([s,o],null,!1));e.unshift(Th.create(r,null,!1))}this.negated=Th.create(e,this,!0)}return this.negated}}const cS=class cS extends iE{static all(){return cS._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?cS._info.push({...i,key:e}):i!==!0&&cS._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return EA.create(this.key,e)}};cS._info=[];let ct=cS;const qn=Cn("contextKeyService");function X1e(n,e){return n<e?-1:n>e?1:0}function sE(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}function I6(n,e){if(n.type===0||e.type===1)return!0;if(n.type===9)return e.type===9?Vae(n.expr,e.expr):!1;if(e.type===9){for(const t of e.expr)if(I6(n,t))return!0;return!1}if(n.type===6){if(e.type===6)return Vae(e.expr,n.expr);for(const t of n.expr)if(I6(t,e))return!0;return!1}return n.equals(e)}function Vae(n,e){let t=0,i=0;for(;t<n.length&&i<e.length;){const r=n[t].cmp(e[i]);if(r<0)return!1;r===0&&t++,i++}return t===n.length}function Wae(n){return n.type===9?n.expr:[n]}function s3(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function JK(n,e="Unreachable"){throw new Error(e)}function $ae(n){n||hi(new Kn("Soft Assertion Failed"))}function L_(n){if(!n()){debugger;n(),hi(new Kn("Assertion Failed"))}}function eq(n,e){let t=0;for(;t<n.length-1;){const i=n[t],r=n[t+1];if(!e(i,r))return!1;t++}return!0}class mJe{constructor(){this.data=new Map}add(e,t){s3(Ka(e)),s3(Yo(t)),s3(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const hs=new mJe;class tq{constructor(){this._coreKeybindings=new pa,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(rc===1){if(e&&e.win)return e.win}else if(rc===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=tq.bindToCurrentPlatform(e),i=new at;if(t&&t.primary){const r=h6(t.primary,rc);r&&i.add(this._registerDefaultKeybinding(r,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let r=0,s=t.secondary.length;r<s;r++){const o=t.secondary[r],a=h6(o,rc);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-r-1,e.when))}return i}registerCommandAndKeybindingRule(e){return dd(this.registerKeybindingRule(e),na.registerCommand(e))}_registerDefaultKeybinding(e,t,i,r,s,o){const a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:o,weight1:r,weight2:s,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,Ht(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(EJe)),this._cachedMergedKeybindings.slice(0)}}const vA=new tq,_Je={EditorModes:"platform.keybindingsRegistry"};hs.add(_Je.EditorModes,vA);function EJe(n,e){if(n.weight1!==e.weight1)return n.weight1-e.weight1;if(n.command&&e.command){if(n.command<e.command)return-1;if(n.command>e.command)return 1}return n.weight2-e.weight2}var vJe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Gae=function(n,e){return function(t,i){e(t,i,n)}},cL;function XT(n){return n.command!==void 0}function SJe(n){return n.submenu!==void 0}const Q=class Q{constructor(e){if(Q._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);Q._instances.set(e,this),this.id=e}};Q._instances=new Map,Q.CommandPalette=new Q("CommandPalette"),Q.DebugBreakpointsContext=new Q("DebugBreakpointsContext"),Q.DebugCallStackContext=new Q("DebugCallStackContext"),Q.DebugConsoleContext=new Q("DebugConsoleContext"),Q.DebugVariablesContext=new Q("DebugVariablesContext"),Q.NotebookVariablesContext=new Q("NotebookVariablesContext"),Q.DebugHoverContext=new Q("DebugHoverContext"),Q.DebugWatchContext=new Q("DebugWatchContext"),Q.DebugToolBar=new Q("DebugToolBar"),Q.DebugToolBarStop=new Q("DebugToolBarStop"),Q.DebugCallStackToolbar=new Q("DebugCallStackToolbar"),Q.DebugCreateConfiguration=new Q("DebugCreateConfiguration"),Q.EditorContext=new Q("EditorContext"),Q.SimpleEditorContext=new Q("SimpleEditorContext"),Q.EditorContent=new Q("EditorContent"),Q.EditorLineNumberContext=new Q("EditorLineNumberContext"),Q.EditorContextCopy=new Q("EditorContextCopy"),Q.EditorContextPeek=new Q("EditorContextPeek"),Q.EditorContextShare=new Q("EditorContextShare"),Q.EditorTitle=new Q("EditorTitle"),Q.EditorTitleRun=new Q("EditorTitleRun"),Q.EditorTitleContext=new Q("EditorTitleContext"),Q.EditorTitleContextShare=new Q("EditorTitleContextShare"),Q.EmptyEditorGroup=new Q("EmptyEditorGroup"),Q.EmptyEditorGroupContext=new Q("EmptyEditorGroupContext"),Q.EditorTabsBarContext=new Q("EditorTabsBarContext"),Q.EditorTabsBarShowTabsSubmenu=new Q("EditorTabsBarShowTabsSubmenu"),Q.EditorTabsBarShowTabsZenModeSubmenu=new Q("EditorTabsBarShowTabsZenModeSubmenu"),Q.EditorActionsPositionSubmenu=new Q("EditorActionsPositionSubmenu"),Q.ExplorerContext=new Q("ExplorerContext"),Q.ExplorerContextShare=new Q("ExplorerContextShare"),Q.ExtensionContext=new Q("ExtensionContext"),Q.GlobalActivity=new Q("GlobalActivity"),Q.CommandCenter=new Q("CommandCenter"),Q.CommandCenterCenter=new Q("CommandCenterCenter"),Q.LayoutControlMenuSubmenu=new Q("LayoutControlMenuSubmenu"),Q.LayoutControlMenu=new Q("LayoutControlMenu"),Q.MenubarMainMenu=new Q("MenubarMainMenu"),Q.MenubarAppearanceMenu=new Q("MenubarAppearanceMenu"),Q.MenubarDebugMenu=new Q("MenubarDebugMenu"),Q.MenubarEditMenu=new Q("MenubarEditMenu"),Q.MenubarCopy=new Q("MenubarCopy"),Q.MenubarFileMenu=new Q("MenubarFileMenu"),Q.MenubarGoMenu=new Q("MenubarGoMenu"),Q.MenubarHelpMenu=new Q("MenubarHelpMenu"),Q.MenubarLayoutMenu=new Q("MenubarLayoutMenu"),Q.MenubarNewBreakpointMenu=new Q("MenubarNewBreakpointMenu"),Q.PanelAlignmentMenu=new Q("PanelAlignmentMenu"),Q.PanelPositionMenu=new Q("PanelPositionMenu"),Q.ActivityBarPositionMenu=new Q("ActivityBarPositionMenu"),Q.MenubarPreferencesMenu=new Q("MenubarPreferencesMenu"),Q.MenubarRecentMenu=new Q("MenubarRecentMenu"),Q.MenubarSelectionMenu=new Q("MenubarSelectionMenu"),Q.MenubarShare=new Q("MenubarShare"),Q.MenubarSwitchEditorMenu=new Q("MenubarSwitchEditorMenu"),Q.MenubarSwitchGroupMenu=new Q("MenubarSwitchGroupMenu"),Q.MenubarTerminalMenu=new Q("MenubarTerminalMenu"),Q.MenubarViewMenu=new Q("MenubarViewMenu"),Q.MenubarHomeMenu=new Q("MenubarHomeMenu"),Q.OpenEditorsContext=new Q("OpenEditorsContext"),Q.OpenEditorsContextShare=new Q("OpenEditorsContextShare"),Q.ProblemsPanelContext=new Q("ProblemsPanelContext"),Q.SCMInputBox=new Q("SCMInputBox"),Q.SCMChangesSeparator=new Q("SCMChangesSeparator"),Q.SCMChangesContext=new Q("SCMChangesContext"),Q.SCMIncomingChanges=new Q("SCMIncomingChanges"),Q.SCMIncomingChangesContext=new Q("SCMIncomingChangesContext"),Q.SCMIncomingChangesSetting=new Q("SCMIncomingChangesSetting"),Q.SCMOutgoingChanges=new Q("SCMOutgoingChanges"),Q.SCMOutgoingChangesContext=new Q("SCMOutgoingChangesContext"),Q.SCMOutgoingChangesSetting=new Q("SCMOutgoingChangesSetting"),Q.SCMIncomingChangesAllChangesContext=new Q("SCMIncomingChangesAllChangesContext"),Q.SCMIncomingChangesHistoryItemContext=new Q("SCMIncomingChangesHistoryItemContext"),Q.SCMOutgoingChangesAllChangesContext=new Q("SCMOutgoingChangesAllChangesContext"),Q.SCMOutgoingChangesHistoryItemContext=new Q("SCMOutgoingChangesHistoryItemContext"),Q.SCMChangeContext=new Q("SCMChangeContext"),Q.SCMResourceContext=new Q("SCMResourceContext"),Q.SCMResourceContextShare=new Q("SCMResourceContextShare"),Q.SCMResourceFolderContext=new Q("SCMResourceFolderContext"),Q.SCMResourceGroupContext=new Q("SCMResourceGroupContext"),Q.SCMSourceControl=new Q("SCMSourceControl"),Q.SCMSourceControlInline=new Q("SCMSourceControlInline"),Q.SCMSourceControlTitle=new Q("SCMSourceControlTitle"),Q.SCMHistoryTitle=new Q("SCMHistoryTitle"),Q.SCMTitle=new Q("SCMTitle"),Q.SearchContext=new Q("SearchContext"),Q.SearchActionMenu=new Q("SearchActionContext"),Q.StatusBarWindowIndicatorMenu=new Q("StatusBarWindowIndicatorMenu"),Q.StatusBarRemoteIndicatorMenu=new Q("StatusBarRemoteIndicatorMenu"),Q.StickyScrollContext=new Q("StickyScrollContext"),Q.TestItem=new Q("TestItem"),Q.TestItemGutter=new Q("TestItemGutter"),Q.TestProfilesContext=new Q("TestProfilesContext"),Q.TestMessageContext=new Q("TestMessageContext"),Q.TestMessageContent=new Q("TestMessageContent"),Q.TestPeekElement=new Q("TestPeekElement"),Q.TestPeekTitle=new Q("TestPeekTitle"),Q.TestCallStack=new Q("TestCallStack"),Q.TouchBarContext=new Q("TouchBarContext"),Q.TitleBarContext=new Q("TitleBarContext"),Q.TitleBarTitleContext=new Q("TitleBarTitleContext"),Q.TunnelContext=new Q("TunnelContext"),Q.TunnelPrivacy=new Q("TunnelPrivacy"),Q.TunnelProtocol=new Q("TunnelProtocol"),Q.TunnelPortInline=new Q("TunnelInline"),Q.TunnelTitle=new Q("TunnelTitle"),Q.TunnelLocalAddressInline=new Q("TunnelLocalAddressInline"),Q.TunnelOriginInline=new Q("TunnelOriginInline"),Q.ViewItemContext=new Q("ViewItemContext"),Q.ViewContainerTitle=new Q("ViewContainerTitle"),Q.ViewContainerTitleContext=new Q("ViewContainerTitleContext"),Q.ViewTitle=new Q("ViewTitle"),Q.ViewTitleContext=new Q("ViewTitleContext"),Q.CommentEditorActions=new Q("CommentEditorActions"),Q.CommentThreadTitle=new Q("CommentThreadTitle"),Q.CommentThreadActions=new Q("CommentThreadActions"),Q.CommentThreadAdditionalActions=new Q("CommentThreadAdditionalActions"),Q.CommentThreadTitleContext=new Q("CommentThreadTitleContext"),Q.CommentThreadCommentContext=new Q("CommentThreadCommentContext"),Q.CommentTitle=new Q("CommentTitle"),Q.CommentActions=new Q("CommentActions"),Q.CommentsViewThreadActions=new Q("CommentsViewThreadActions"),Q.InteractiveToolbar=new Q("InteractiveToolbar"),Q.InteractiveCellTitle=new Q("InteractiveCellTitle"),Q.InteractiveCellDelete=new Q("InteractiveCellDelete"),Q.InteractiveCellExecute=new Q("InteractiveCellExecute"),Q.InteractiveInputExecute=new Q("InteractiveInputExecute"),Q.InteractiveInputConfig=new Q("InteractiveInputConfig"),Q.ReplInputExecute=new Q("ReplInputExecute"),Q.IssueReporter=new Q("IssueReporter"),Q.NotebookToolbar=new Q("NotebookToolbar"),Q.NotebookStickyScrollContext=new Q("NotebookStickyScrollContext"),Q.NotebookCellTitle=new Q("NotebookCellTitle"),Q.NotebookCellDelete=new Q("NotebookCellDelete"),Q.NotebookCellInsert=new Q("NotebookCellInsert"),Q.NotebookCellBetween=new Q("NotebookCellBetween"),Q.NotebookCellListTop=new Q("NotebookCellTop"),Q.NotebookCellExecute=new Q("NotebookCellExecute"),Q.NotebookCellExecuteGoTo=new Q("NotebookCellExecuteGoTo"),Q.NotebookCellExecutePrimary=new Q("NotebookCellExecutePrimary"),Q.NotebookDiffCellInputTitle=new Q("NotebookDiffCellInputTitle"),Q.NotebookDiffCellMetadataTitle=new Q("NotebookDiffCellMetadataTitle"),Q.NotebookDiffCellOutputsTitle=new Q("NotebookDiffCellOutputsTitle"),Q.NotebookOutputToolbar=new Q("NotebookOutputToolbar"),Q.NotebookOutlineFilter=new Q("NotebookOutlineFilter"),Q.NotebookOutlineActionMenu=new Q("NotebookOutlineActionMenu"),Q.NotebookEditorLayoutConfigure=new Q("NotebookEditorLayoutConfigure"),Q.NotebookKernelSource=new Q("NotebookKernelSource"),Q.BulkEditTitle=new Q("BulkEditTitle"),Q.BulkEditContext=new Q("BulkEditContext"),Q.TimelineItemContext=new Q("TimelineItemContext"),Q.TimelineTitle=new Q("TimelineTitle"),Q.TimelineTitleContext=new Q("TimelineTitleContext"),Q.TimelineFilterSubMenu=new Q("TimelineFilterSubMenu"),Q.AccountsContext=new Q("AccountsContext"),Q.SidebarTitle=new Q("SidebarTitle"),Q.PanelTitle=new Q("PanelTitle"),Q.AuxiliaryBarTitle=new Q("AuxiliaryBarTitle"),Q.AuxiliaryBarHeader=new Q("AuxiliaryBarHeader"),Q.TerminalInstanceContext=new Q("TerminalInstanceContext"),Q.TerminalEditorInstanceContext=new Q("TerminalEditorInstanceContext"),Q.TerminalNewDropdownContext=new Q("TerminalNewDropdownContext"),Q.TerminalTabContext=new Q("TerminalTabContext"),Q.TerminalTabEmptyAreaContext=new Q("TerminalTabEmptyAreaContext"),Q.TerminalStickyScrollContext=new Q("TerminalStickyScrollContext"),Q.WebviewContext=new Q("WebviewContext"),Q.InlineCompletionsActions=new Q("InlineCompletionsActions"),Q.InlineEditsActions=new Q("InlineEditsActions"),Q.InlineEditActions=new Q("InlineEditActions"),Q.NewFile=new Q("NewFile"),Q.MergeInput1Toolbar=new Q("MergeToolbar1Toolbar"),Q.MergeInput2Toolbar=new Q("MergeToolbar2Toolbar"),Q.MergeBaseToolbar=new Q("MergeBaseToolbar"),Q.MergeInputResultToolbar=new Q("MergeToolbarResultToolbar"),Q.InlineSuggestionToolbar=new Q("InlineSuggestionToolbar"),Q.InlineEditToolbar=new Q("InlineEditToolbar"),Q.ChatContext=new Q("ChatContext"),Q.ChatCodeBlock=new Q("ChatCodeblock"),Q.ChatCompareBlock=new Q("ChatCompareBlock"),Q.ChatMessageTitle=new Q("ChatMessageTitle"),Q.ChatExecute=new Q("ChatExecute"),Q.ChatExecuteSecondary=new Q("ChatExecuteSecondary"),Q.ChatInputSide=new Q("ChatInputSide"),Q.AccessibleView=new Q("AccessibleView"),Q.MultiDiffEditorFileToolbar=new Q("MultiDiffEditorFileToolbar"),Q.DiffEditorHunkToolbar=new Q("DiffEditorHunkToolbar"),Q.DiffEditorSelectionToolbar=new Q("DiffEditorSelectionToolbar");let bs=Q;const oE=Cn("menuService"),k0=class k0{static for(e){let t=this._all.get(e);return t||(t=new k0(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof k0&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}};k0._all=new Map;let gm=k0;const gC=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new VXe({merge:gm.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(n){return this._commands.set(n.id,n),this._onDidChangeMenu.fire(gm.for(bs.CommandPalette)),Ht(()=>{this._commands.delete(n.id)&&this._onDidChangeMenu.fire(gm.for(bs.CommandPalette))})}getCommand(n){return this._commands.get(n)}getCommands(){const n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){let t=this._menuItems.get(n);t||(t=new pa,this._menuItems.set(n,t));const i=t.push(e);return this._onDidChangeMenu.fire(gm.for(n)),Ht(()=>{i(),this._onDidChangeMenu.fire(gm.for(n))})}appendMenuItems(n){const e=new at;for(const{id:t,item:i}of n)e.add(this.appendMenuItem(t,i));return e}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===bs.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){const e=new Set;for(const t of n)XT(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};class QT extends MM{constructor(e,t,i){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}let $h=cL=class{static label(e,t){return t!=null&&t.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}constructor(e,t,i,r,s,o,a){var c;this.hideActions=r,this.menuKeybinding=s,this._commandService=a,this.id=e.id,this.label=cL.label(e,i),this.tooltip=(typeof e.tooltip=="string"?e.tooltip:(c=e.tooltip)==null?void 0:c.value)??"",this.enabled=!e.precondition||o.contextMatchesRules(e.precondition),this.checked=void 0;let l;if(e.toggled){const u=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=o.contextMatchesRules(u.condition),this.checked&&u.tooltip&&(this.tooltip=typeof u.tooltip=="string"?u.tooltip:u.tooltip.value),this.checked&&Ln.isThemeIcon(u.icon)&&(l=u.icon),this.checked&&u.title&&(this.label=typeof u.title=="string"?u.title:u.title.value)}l||(l=Ln.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new cL(t,void 0,i,r,void 0,o,a):void 0,this._options=i,this.class=l&&Ln.asClassName(l)}run(...e){var i,r;let t=[];return(i=this._options)!=null&&i.arg&&(t=[...t,this._options.arg]),(r=this._options)!=null&&r.shouldForwardArgs&&(t=[...t,...e]),this._commandService.executeCommand(this.id,...t)}};$h=cL=vJe([Gae(5,qn),Gae(6,el)],$h);const aE=Cn("telemetryService"),Cu=Cn("logService");var Go;(function(n){n[n.Off=0]="Off",n[n.Trace=1]="Trace",n[n.Debug=2]="Debug",n[n.Info=3]="Info",n[n.Warning=4]="Warning",n[n.Error=5]="Error"})(Go||(Go={}));const Q1e=Go.Info;class Z1e extends Ne{constructor(){super(...arguments),this.level=Q1e,this._onDidChangeLogLevel=this._register(new ge),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==Go.Off&&this.level<=e}}class CJe extends Z1e{constructor(e=Q1e,t=!0){super(),this.useColors=t,this.setLevel(e)}trace(e,...t){this.checkLogLevel(Go.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",e,...t):console.log(e,...t))}debug(e,...t){this.checkLogLevel(Go.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...t):console.log(e,...t))}info(e,...t){this.checkLogLevel(Go.Info)&&(this.useColors?console.log("%c INFO","color: #33f",e,...t):console.log(e,...t))}warn(e,...t){this.checkLogLevel(Go.Warning)&&(this.useColors?console.log("%c WARN","color: #993",e,...t):console.log(e,...t))}error(e,...t){this.checkLogLevel(Go.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...t):console.error(e,...t))}}class yJe extends Z1e{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e,...t){for(const i of this.loggers)i.trace(e,...t)}debug(e,...t){for(const i of this.loggers)i.debug(e,...t)}info(e,...t){for(const i of this.loggers)i.info(e,...t)}warn(e,...t){for(const i of this.loggers)i.warn(e,...t)}error(e,...t){for(const i of this.loggers)i.error(e,...t)}dispose(){for(const e of this.loggers)e.dispose();super.dispose()}}function bJe(n){switch(n){case Go.Trace:return"trace";case Go.Debug:return"debug";case Go.Info:return"info";case Go.Warning:return"warn";case Go.Error:return"error";case Go.Off:return"off"}}new ct("logLevel",bJe(Go.Info));class zM{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this.metadata=e.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let i=t.kbExpr;this.precondition&&(i?i=$n.and(i,this.precondition):i=this.precondition);const r={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};vA.registerKeybindingRule(r)}}na.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),metadata:this.metadata})}_registerMenuItem(e){gC.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class nq extends zM{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i,r){return this._implementations.push({priority:e,name:t,implementation:i,when:r}),this._implementations.sort((s,o)=>o.priority-s.priority),{dispose:()=>{for(let s=0;s<this._implementations.length;s++)if(this._implementations[s].implementation===i){this._implementations.splice(s,1);return}}}}runCommand(e,t){const i=e.get(Cu),r=e.get(qn);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const s of this._implementations){if(s.when){const a=r.getContext(fo());if(!s.when.evaluate(a))continue}const o=s.implementation(e,t);if(o)return i.trace(`Command '${this.id}' was handled by '${s.name}'.`),typeof o=="boolean"?void 0:o}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class J1e extends zM{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class O_ extends zM{static bindToContribution(e){return class extends O_{constructor(i){super(i),this._callback=i.handler}runEditorCommand(i,r,s){const o=e(r);o&&this._callback(o,s)}}}static runEditorCommand(e,t,i,r){const s=e.get(Fr),o=s.getFocusedCodeEditor()||s.getActiveCodeEditor();if(o)return o.invokeWithinContext(a=>{if(a.get(qn).contextMatchesRules(i??void 0))return r(a,o,t)})}runCommand(e,t){return O_.runEditorCommand(e,t,this.precondition,(i,r,s)=>this.runEditorCommand(i,r,s))}}function Ft(n){return ed.INSTANCE.registerEditorCommand(n),n}function ewe(n,e,t){ed.INSTANCE.registerEditorContribution(n,e,t)}var IS;(function(n){function e(o){return ed.INSTANCE.getEditorCommand(o)}n.getEditorCommand=e;function t(){return ed.INSTANCE.getEditorActions()}n.getEditorActions=t;function i(){return ed.INSTANCE.getEditorContributions()}n.getEditorContributions=i;function r(o){return ed.INSTANCE.getEditorContributions().filter(a=>o.indexOf(a.id)>=0)}n.getSomeEditorContributions=r;function s(){return ed.INSTANCE.getDiffEditorContributions()}n.getDiffEditorContributions=s})(IS||(IS={}));const TJe={EditorCommonContributions:"editor.contributions"},yP=class yP{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t,i){this.editorContributions.push({id:e,ctor:t,instantiation:i})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}};yP.INSTANCE=new yP;let ed=yP;hs.add(TJe.EditorCommonContributions,ed.INSTANCE);function SA(n){return n.register(),n}const twe=SA(new nq({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:bs.MenubarEditMenu,group:"1_do",title:A({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:bs.CommandPalette,group:"",title:A("undo","Undo"),order:1}]}));SA(new J1e(twe,{id:"default:undo",precondition:void 0}));const nwe=SA(new nq({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:bs.MenubarEditMenu,group:"1_do",title:A({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:bs.CommandPalette,group:"",title:A("redo","Redo"),order:1}]}));SA(new J1e(nwe,{id:"default:redo",precondition:void 0}));const wJe=SA(new nq({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:bs.MenubarSelectionMenu,group:"1_basic",title:A({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:bs.CommandPalette,group:"",title:A("selectAll","Select All"),order:1}]})),AJe="modulepreload",RJe=function(n){return"/"+n},zae={},IJe=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=o(t.map(c=>{if(c=RJe(c),c in zae)return;zae[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":AJe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},jae="default",NJe="$initialize";let Yae=!1;function N6(n){_y&&(Yae||(Yae=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(n.message))}class LJe{constructor(e,t,i,r,s){this.vsWorker=e,this.req=t,this.channel=i,this.method=r,this.args=s,this.type=0}}class Kae{constructor(e,t,i,r){this.vsWorker=e,this.seq=t,this.res=i,this.err=r,this.type=1}}class OJe{constructor(e,t,i,r,s){this.vsWorker=e,this.req=t,this.channel=i,this.eventName=r,this.arg=s,this.type=2}}class xJe{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class DJe{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class PJe{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t,i){const r=String(++this._lastSentReq);return new Promise((s,o)=>{this._pendingReplies[r]={resolve:s,reject:o},this._send(new LJe(this._workerId,r,e,t,i))})}listen(e,t,i){let r=null;const s=new ge({onWillAddFirstListener:()=>{r=String(++this._lastSentReq),this._pendingEmitters.set(r,s),this._send(new OJe(this._workerId,r,e,t,i))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(r),this._send(new DJe(this._workerId,r)),r=null}});return s.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}createProxyToRemoteChannel(e,t){const i={get:(r,s)=>(typeof s=="string"&&!r[s]&&(rwe(s)?r[s]=o=>this.listen(e,s,o):iwe(s)?r[s]=this.listen(e,s,void 0):s.charCodeAt(0)===36&&(r[s]=async(...o)=>(await(t==null?void 0:t()),this.sendMessage(e,s,o)))),r[s])};return new Proxy(Object.create(null),i)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.channel,e.method,e.args).then(r=>{this._send(new Kae(this._workerId,t,r,void 0))},r=>{r.detail instanceof Error&&(r.detail=iae(r.detail)),this._send(new Kae(this._workerId,t,void 0,iae(r)))})}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.channel,e.eventName,e.arg)(r=>{this._send(new xJe(this._workerId,t,r))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){const t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class kJe extends Ne{constructor(e,t){super(),this._localChannels=new Map,this._worker=this._register(e.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:t.esmModuleLocation,label:t.label},s=>{this._protocol.handleMessage(s)},s=>{hi(s)})),this._protocol=new PJe({sendMessage:(s,o)=>{this._worker.postMessage(s,o)},handleMessage:(s,o,a)=>this._handleMessage(s,o,a),handleEvent:(s,o,a)=>this._handleEvent(s,o,a)}),this._protocol.setWorkerId(this._worker.getId());let i=null;const r=globalThis.require;typeof r<"u"&&typeof r.getConfig=="function"?i=r.getConfig():typeof globalThis.requirejs<"u"&&(i=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(jae,NJe,[this._worker.getId(),JSON.parse(JSON.stringify(i)),t.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(jae,async()=>{await this._onModuleLoaded}),this._onModuleLoaded.catch(s=>{this._onError("Worker failed to load "+t.amdModuleId,s)})}_handleMessage(e,t,i){const r=this._localChannels.get(e);if(!r)return Promise.reject(new Error(`Missing channel ${e} on main thread`));if(typeof r[t]!="function")return Promise.reject(new Error(`Missing method ${t} on main thread channel ${e}`));try{return Promise.resolve(r[t].apply(r,i))}catch(s){return Promise.reject(s)}}_handleEvent(e,t,i){const r=this._localChannels.get(e);if(!r)throw new Error(`Missing channel ${e} on main thread`);if(rwe(t)){const s=r[t].call(r,i);if(typeof s!="function")throw new Error(`Missing dynamic event ${t} on main thread channel ${e}.`);return s}if(iwe(t)){const s=r[t];if(typeof s!="function")throw new Error(`Missing event ${t} on main thread channel ${e}.`);return s}throw new Error(`Malformed event name ${t}`)}setChannel(e,t){this._localChannels.set(e,t)}_onError(e,t){console.error(e),console.info(t)}}function iwe(n){return n[0]==="o"&&n[1]==="n"&&Zf(n.charCodeAt(2))}function rwe(n){return/^onDynamic/.test(n)&&Zf(n.charCodeAt(9))}function lE(n,e){var i;const t=globalThis.MonacoEnvironment;if(t!=null&&t.createTrustedTypesPolicy)try{return t.createTrustedTypesPolicy(n,e)}catch(r){hi(r);return}try{return(i=globalThis.trustedTypes)==null?void 0:i.createPolicy(n,e)}catch(r){hi(r);return}}let kv;typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope"&&globalThis.workerttPolicy!==void 0?kv=globalThis.workerttPolicy:kv=lE("defaultWorkerFactory",{createScriptURL:n=>n});function MJe(n,e){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",e);if(typeof t.getWorkerUrl=="function"){const i=t.getWorkerUrl("workerMain.js",e);return new Worker(kv?kv.createScriptURL(i):i,{name:e,type:"module"})}}if(n){const i=FJe(e,n.toString(!0)),r=new Worker(kv?kv.createScriptURL(i):i,{name:e,type:"module"});return BJe(r)}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function FJe(n,e,t){if(!(/^((http:)|(https:)|(file:)|(vscode-file:))/.test(e)&&e.substring(0,globalThis.origin.length)!==globalThis.origin)){const s=e.lastIndexOf("?"),o=e.lastIndexOf("#",s),a=s>0?new URLSearchParams(e.substring(s+1,~o?o:void 0)):new URLSearchParams;v6.addSearchParam(a,!0,!0),a.toString()?e=`${e}?${a.toString()}#${n}`:e=`${e}#${n}`}const r=new Blob([vK([`/*${n}*/`,void 0,`globalThis._VSCODE_NLS_MESSAGES = ${JSON.stringify($0e())};`,`globalThis._VSCODE_NLS_LANGUAGE = ${JSON.stringify(CK())};`,`globalThis._VSCODE_FILE_ROOT = '${globalThis._VSCODE_FILE_ROOT}';`,"const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });","globalThis.workerttPolicy = ttPolicy;",`await import(ttPolicy?.createScriptURL('${e}') ?? '${e}');`,"globalThis.postMessage({ type: 'vscode-worker-ready' });",`/*${n}*/`]).join("")],{type:"application/javascript"});return URL.createObjectURL(r)}function BJe(n){return new Promise((e,t)=>{n.onmessage=function(i){i.data.type==="vscode-worker-ready"&&(n.onmessage=null,e(n))},n.onerror=t})}function UJe(n){return typeof n.then=="function"}class HJe extends Ne{constructor(e,t,i,r,s,o){super(),this.id=i,this.label=r;const a=MJe(e,r);UJe(a)?this.worker=a:this.worker=Promise.resolve(a),this.postMessage(t,[]),this.worker.then(l=>{l.onmessage=function(c){s(c.data)},l.onmessageerror=o,typeof l.addEventListener=="function"&&l.addEventListener("error",o)}),this._register(Ht(()=>{var l;(l=this.worker)==null||l.then(c=>{c.onmessage=null,c.onmessageerror=null,c.removeEventListener("error",o),c.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(e,t){var i;(i=this.worker)==null||i.then(r=>{try{r.postMessage(e,t)}catch(s){hi(s),hi(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:s}))}})}}class VJe{constructor(e,t){this.amdModuleId=e,this.label=t,this.esmModuleLocation=xM.asBrowserUri(`${e}.esm.js`)}}const bP=class bP{constructor(){this._webWorkerFailedBeforeError=!1}create(e,t,i){const r=++bP.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new HJe(e.esmModuleLocation,e.amdModuleId,r,e.label||"anonymous"+r,t,s=>{N6(s),this._webWorkerFailedBeforeError=s,i(s)})}};bP.LAST_WORKER_ID=0;let L6=bP;function WJe(n,e){const t=typeof n=="string"?new VJe(n,e):n;return new kJe(new L6,t)}var To;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(To||(To={}));class o3{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const i=e.findTokenIndexAtOffset(t-2),r=e.getStandardTokenType(i);return this.isOK(r)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const r=String.fromCharCode(i);if(!this.open.includes(r)&&!this.close.includes(r))return r}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class $Je{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)Fb(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),Fb(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),Fb(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),Fb(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&Fb(this.autoClosingPairsCloseSingleChar,t.close,t)}}function Fb(n,e,t){n.has(e)?n.get(e).push(t):n.set(e,[t])}const uS=class uS{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new o3(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new o3({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new o3({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:uS.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:uS.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}};uS.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])>
	`,uS.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])>
	`;let O6=uS;function Bm(n,e){const t=n.getCount(),i=n.findTokenIndexAtOffset(e),r=n.getLanguageId(i);let s=i;for(;s+1<t&&n.getLanguageId(s+1)===r;)s++;let o=i;for(;o>0&&n.getLanguageId(o-1)===r;)o--;return new GJe(n,r,o,s+1,n.getStartOffset(o),n.getEndOffset(s))}class GJe{constructor(e,t,i,r,s,o){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=r,this.firstCharOffset=s,this._lastCharOffset=o,this.languageIdCodec=e.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}}function Hu(n){return(n&3)!==0}const qae=typeof Buffer<"u";let a3;class iq{static wrap(e){return qae&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new iq(e)}constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return qae?this.buffer.toString():(a3||(a3=new TextDecoder),a3.decode(this.buffer))}}function zJe(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0}function jJe(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255}function Hc(n,e){return n[e]*2**24+n[e+1]*2**16+n[e+2]*2**8+n[e+3]}function Vc(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function Xae(n,e){return n[e]}function Qae(n,e,t){n[t]=e}let l3;function swe(){return l3||(l3=new TextDecoder("UTF-16LE")),l3}let c3;function YJe(){return c3||(c3=new TextDecoder("UTF-16BE")),c3}let u3;function owe(){return u3||(u3=Dqe()?swe():YJe()),u3}function KJe(n,e,t){const i=new Uint16Array(n.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?qJe(n,e,t):swe().decode(i)}function qJe(n,e,t){const i=[];let r=0;for(let s=0;s<t;s++){const o=zJe(n,e);e+=2,i[r++]=String.fromCharCode(o)}return i.join("")}class jM{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return owe().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||Kr(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class GO{constructor(e,t,i,r,s,o){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=r,this.forwardRegex=s,this.reversedRegex=o,this._openSet=GO._toSet(this.open),this._closeSet=GO._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function XJe(n){const e=n.length;n=n.map(o=>[o[0].toLowerCase(),o[1].toLowerCase()]);const t=[];for(let o=0;o<e;o++)t[o]=o;const i=(o,a)=>{const[l,c]=o,[u,d]=a;return l===u||l===d||c===u||c===d},r=(o,a)=>{const l=Math.min(o,a),c=Math.max(o,a);for(let u=0;u<e;u++)t[u]===c&&(t[u]=l)};for(let o=0;o<e;o++){const a=n[o];for(let l=o+1;l<e;l++){const c=n[l];i(a,c)&&r(t[o],t[l])}}const s=[];for(let o=0;o<e;o++){const a=[],l=[];for(let c=0;c<e;c++)if(t[c]===o){const[u,d]=n[c];a.push(u),l.push(d)}a.length>0&&s.push({open:a,close:l})}return s}class QJe{constructor(e,t){this._richEditBracketsBrand=void 0;const i=XJe(t);this.brackets=i.map((r,s)=>new GO(e,s,r.open,r.close,ZJe(r.open,r.close,i,s),JJe(r.open,r.close,i,s))),this.forwardRegex=eet(this.brackets),this.reversedRegex=tet(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const r of this.brackets){for(const s of r.open)this.textIsBracket[s]=r,this.textIsOpenBracket[s]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,s.length);for(const s of r.close)this.textIsBracket[s]=r,this.textIsOpenBracket[s]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,s.length)}}}function awe(n,e,t,i){for(let r=0,s=e.length;r<s;r++){if(r===t)continue;const o=e[r];for(const a of o.open)a.indexOf(n)>=0&&i.push(a);for(const a of o.close)a.indexOf(n)>=0&&i.push(a)}}function lwe(n,e){return n.length-e.length}function YM(n){if(n.length<=1)return n;const e=[],t=new Set;for(const i of n)t.has(i)||(e.push(i),t.add(i));return e}function ZJe(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let s=0,o=r.length;s<o;s++)awe(r[s],t,i,r);return r=YM(r),r.sort(lwe),r.reverse(),CA(r)}function JJe(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let s=0,o=r.length;s<o;s++)awe(r[s],t,i,r);return r=YM(r),r.sort(lwe),r.reverse(),CA(r.map(rq))}function eet(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=YM(e),CA(e)}function tet(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=YM(e),CA(e.map(rq))}function net(n){const e=/^[\w ]+$/.test(n);return n=sf(n),e?`\\b${n}\\b`:n}function CA(n,e){const t=`(${n.map(net).join(")|(")})`;return m1e(t,!0,e)}const rq=function(){function n(i){const r=new Uint16Array(i.length);let s=0;for(let o=i.length-1;o>=0;o--)r[s++]=i.charCodeAt(o);return owe().decode(r)}let e=null,t=null;return function(r){return e!==r&&(e=r,t=n(e)),t}}();class Kl{static _findPrevBracketInText(e,t,i,r){const s=i.match(e);if(!s)return null;const o=i.length-(s.index||0),a=s[0].length,l=r+o;return new ce(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,r,s){const a=rq(i).substring(i.length-s,i.length-r);return this._findPrevBracketInText(e,t,a,r)}static findNextBracketInText(e,t,i,r){const s=i.match(e);if(!s)return null;const o=s.index||0,a=s[0].length;if(a===0)return null;const l=r+o;return new ce(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,r,s){const o=i.substring(r,s);return this.findNextBracketInText(e,t,o,r)}}class iet{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const r=i.charAt(i.length-1);e.push(r)}return T_(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const r=t.findTokenIndexAtOffset(i-1);if(Hu(t.getStandardTokenType(r)))return null;const s=this._richEditBrackets.reversedRegex,o=t.getLineContent().substring(0,i-1)+e,a=Kl.findPrevBracketInRange(s,1,o,0,o.length);if(!a)return null;const l=o.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const u=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:l}:null}}function GI(n){return n.global&&(n.lastIndex=0),!0}class ret{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&GI(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&GI(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&GI(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&GI(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class Mv{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=Mv._createOpenBracketRegExp(t[0]),r=Mv._createCloseBracketRegExp(t[1]);i&&r&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,r){if(e>=3)for(let s=0,o=this._regExpRules.length;s<o;s++){const a=this._regExpRules[s];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:r},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&i.length>0&&r.length>0)for(let s=0,o=this._brackets.length;s<o;s++){const a=this._brackets[s];if(a.openRegExp.test(i)&&a.closeRegExp.test(r))return{indentAction:To.IndentOutdent}}if(e>=2&&i.length>0){for(let s=0,o=this._brackets.length;s<o;s++)if(this._brackets[s].openRegExp.test(i))return{indentAction:To.Indent}}return null}static _createOpenBracketRegExp(e){let t=sf(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Mv._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=sf(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,Mv._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return hi(t),null}}}const Zi=Cn("configurationService");function x6(n,e){const t=Object.create(null);for(const i in n)cwe(t,i,n[i],e);return t}function cwe(n,e,t,i){const r=e.split("."),s=r.pop();let o=n;for(let a=0;a<r.length;a++){const l=r[a];let c=o[l];switch(typeof c){case"undefined":c=o[l]=Object.create(null);break;case"object":if(c===null){i(`Ignoring ${e} as ${r.slice(0,a+1).join(".")} is null`);return}break;default:i(`Ignoring ${e} as ${r.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}o=c}if(typeof o=="object"&&o!==null)try{o[s]=t}catch{i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(o)}`)}else i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(o)}`)}function set(n,e){const t=e.split(".");uwe(n,t)}function uwe(n,e){const t=e.shift();if(e.length===0){delete n[t];return}if(Object.keys(n).indexOf(t)!==-1){const i=n[t];typeof i=="object"&&!Array.isArray(i)&&(uwe(i,e),Object.keys(i).length===0&&delete n[t])}}function Zae(n,e,t){function i(o,a){let l=o;for(const c of a){if(typeof l!="object"||l===null)return;l=l[c]}return l}const r=e.split("."),s=i(n,r);return typeof s>"u"?t:s}function oet(n){return n.replace(/[\[\]]/g,"")}const Zr=Cn("languageService");class Xu{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const dwe=[];function Pn(n,e,t){e instanceof Xu||(e=new Xu(e,[],!!t)),dwe.push([n,e])}function Jae(){return dwe}const wh=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),KM={JSONContribution:"base.contributions.json"};function aet(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}class cet{constructor(){this._onDidChangeSchema=new ge,this.schemasById={}}registerSchema(e,t){this.schemasById[aet(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const uet=new cet;hs.add(KM.JSONContribution,uet);const cE={Configuration:"base.contributions.configuration"},zI="vscode://schemas/settings/resourceLanguage",ele=hs.as(KM.JSONContribution);class det{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new ge,this._onDidUpdateConfiguration=new ge,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:A("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},ele.registerSchema(zI,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=new Set;this.doRegisterConfigurations(e,t,i),ele.registerSchema(zI,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);const i=[];for(const{overrides:r,source:s}of e)for(const o in r){t.add(o);const a=this.configurationDefaultsOverrides.get(o)??this.configurationDefaultsOverrides.set(o,{configurationDefaultOverrides:[]}).get(o),l=r[o];if(a.configurationDefaultOverrides.push({value:l,source:s}),Xg.test(o)){const c=this.mergeDefaultConfigurationsForOverrideIdentifier(o,l,s,a.configurationDefaultOverrideValue);if(!c)continue;a.configurationDefaultOverrideValue=c,this.updateDefaultOverrideProperty(o,c,s),i.push(...zO(o))}else{const c=this.mergeDefaultConfigurationsForConfigurationProperty(o,l,s,a.configurationDefaultOverrideValue);if(!c)continue;a.configurationDefaultOverrideValue=c;const u=this.configurationProperties[o];u&&(this.updatePropertyDefaultValue(o,u),this.updateSchema(o,u))}}this.doRegisterOverrideIdentifiers(i)}updateDefaultOverrideProperty(e,t,i){const r={type:"object",default:t.value,description:A("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",oet(e)),$ref:zI,defaultDefaultValue:t.value,source:i,defaultValueSource:i};this.configurationProperties[e]=r,this.defaultLanguageConfigurationOverridesNode.properties[e]=r}mergeDefaultConfigurationsForOverrideIdentifier(e,t,i,r){const s=(r==null?void 0:r.value)||{},o=(r==null?void 0:r.source)??new Map;if(!(o instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(const a of Object.keys(t)){const l=t[a];if(Yo(l)&&(Cl(s[a])||Yo(s[a]))){if(s[a]={...s[a]??{},...l},i)for(const u in l)o.set(`${a}.${u}`,i)}else s[a]=l,i?o.set(a,i):o.delete(a)}return{value:s,source:o}}mergeDefaultConfigurationsForConfigurationProperty(e,t,i,r){const s=this.configurationProperties[e],o=(r==null?void 0:r.value)??(s==null?void 0:s.defaultDefaultValue);let a=i;if(Yo(t)&&(s!==void 0&&s.type==="object"||s===void 0&&(Cl(o)||Yo(o)))){if(a=(r==null?void 0:r.source)??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(const c in t)i&&a.set(`${e}.${c}`,i);t={...Yo(o)?o:{},...t}}return{value:t,source:a}}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach(r=>{this.validateAndRegisterProperties(r,t,r.extensionInfo,r.restrictedProperties,void 0,i),this.configurationContributors.push(r),this.registerJSONConfiguration(r)})}validateAndRegisterProperties(e,t=!0,i,r,s=3,o){var c;s=Wa(e.scope)?s:e.scope;const a=e.properties;if(a)for(const u in a){const d=a[u];if(t&&get(u,d)){delete a[u];continue}if(d.source=i,d.defaultDefaultValue=a[u].default,this.updatePropertyDefaultValue(u,d),Xg.test(u)?d.scope=void 0:(d.scope=Wa(d.scope)?s:d.scope,d.restricted=Wa(d.restricted)?!!(r!=null&&r.includes(u)):d.restricted),a[u].hasOwnProperty("included")&&!a[u].included){this.excludedConfigurationProperties[u]=a[u],delete a[u];continue}else this.configurationProperties[u]=a[u],(c=a[u].policy)!=null&&c.name&&this.policyConfigurations.set(a[u].policy.name,u);!a[u].deprecationMessage&&a[u].markdownDeprecationMessage&&(a[u].deprecationMessage=a[u].markdownDeprecationMessage),o.add(u)}const l=e.allOf;if(l)for(const u of l)this.validateAndRegisterProperties(u,t,i,r,s,o)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=i=>{const r=i.properties;if(r)for(const o in r)this.updateSchema(o,r[o]);const s=i.allOf;s==null||s.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:A("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:A("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:zI};this.updatePropertyDefaultValue(t,i)}}registerOverridePropertyPatternKey(){A("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),A("overrideSettings.errorMessage","This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){var o;const i=(o=this.configurationDefaultsOverrides.get(e))==null?void 0:o.configurationDefaultOverrideValue;let r,s;i&&(!t.disallowConfigurationDefault||!i.source)&&(r=i.value,s=i.source),Cl(r)&&(r=t.defaultDefaultValue,s=void 0),Cl(r)&&(r=fet(t.type)),t.default=r,t.defaultValueSource=s}}const hwe="\\[([^\\]]+)\\]",tle=new RegExp(hwe,"g"),het=`^(${hwe})+$`,Xg=new RegExp(het);function zO(n){const e=[];if(Xg.test(n)){let t=tle.exec(n);for(;t!=null&&t.length;){const i=t[1].trim();i&&e.push(i),t=tle.exec(n)}}return T_(e)}function fet(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const uL=new det;hs.add(cE.Configuration,uL);function get(n,e){var t,i,r,s;return n.trim()?Xg.test(n)?A("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):uL.getConfigurationProperties()[n]!==void 0?A("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):(t=e.policy)!=null&&t.name&&uL.getPolicyConfigurations().get((i=e.policy)==null?void 0:i.name)!==void 0?A("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,(r=e.policy)==null?void 0:r.name,uL.getPolicyConfigurations().get((s=e.policy)==null?void 0:s.name)):null:A("config.property.empty","Cannot register an empty property")}const pet={ModesRegistry:"editor.modesRegistry"};class met{constructor(){this._onDidChangeLanguages=new ge,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}}const pC=new met;hs.add(pet.ModesRegistry,pC);const cc="plaintext",_et=".txt";pC.registerLanguage({id:cc,extensions:[_et],aliases:[A("plainText.alias","Plain Text"),"text"],mimetypes:[wh.text]});hs.as(cE.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);class Eet{constructor(e,t){this.languageId=e;const i=t.brackets?nle(t.brackets):[],r=new vae(a=>{const l=new Set;return{info:new vet(this,a,l),closing:l}}),s=new vae(a=>{const l=new Set,c=new Set;return{info:new Cet(this,a,l,c),opening:l,openingColorized:c}});for(const[a,l]of i){const c=r.get(a),u=s.get(l);c.closing.add(u.info),u.opening.add(c.info)}const o=t.colorizedBracketPairs?nle(t.colorizedBracketPairs):i.filter(a=>!(a[0]==="<"&&a[1]===">"));for(const[a,l]of o){const c=r.get(a),u=s.get(l);c.closing.add(u.info),u.openingColorized.add(c.info),u.opening.add(c.info)}this._openingBrackets=new Map([...r.cachedValues].map(([a,l])=>[a,l.info])),this._closingBrackets=new Map([...s.cachedValues].map(([a,l])=>[a,l.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){const t=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return CA(t,e)}}function nle(n){return n.filter(([e,t])=>e!==""&&t!=="")}class fwe{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class vet extends fwe{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class Cet extends fwe{constructor(e,t,i,r){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=r,this.isOpeningBracket=!1}closes(e){return e.config!==this.config?!1:this.openingBrackets.has(e)}closesColorized(e){return e.config!==this.config?!1:this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var yet=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ile=function(n,e){return function(t,i){e(t,i,n)}};class d3{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}}const Od=Cn("languageConfigurationService");let D6=class extends Ne{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new Aet),this.onDidChangeEmitter=this._register(new ge),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(P6));this._register(this.configurationService.onDidChangeConfiguration(r=>{const s=r.change.keys.some(a=>i.has(a)),o=r.change.overrides.filter(([a,l])=>l.some(c=>i.has(c))).map(([a])=>a);if(s)this.configurations.clear(),this.onDidChangeEmitter.fire(new d3(void 0));else for(const a of o)this.languageService.isRegisteredLanguageId(a)&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new d3(a)))})),this._register(this._registry.onDidChange(r=>{this.configurations.delete(r.languageId),this.onDidChangeEmitter.fire(new d3(r.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=bet(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};D6=yet([ile(0,Zi),ile(1,Zr)],D6);function bet(n,e,t,i){let r=e.getLanguageConfiguration(n);if(!r){if(!i.isRegisteredLanguageId(n))return new NS(n,{});r=new NS(n,{})}const s=Tet(r.languageId,t),o=pwe([r.underlyingConfig,s]);return new NS(r.languageId,o)}const P6={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Tet(n,e){const t=e.getValue(P6.brackets,{overrideIdentifier:n}),i=e.getValue(P6.colorizedBracketPairs,{overrideIdentifier:n});return{brackets:rle(t),colorizedBracketPairs:rle(i)}}function rle(n){if(Array.isArray(n))return n.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function gwe(n,e,t){const i=n.getLineContent(e);let r=yo(i);return r.length>t-1&&(r=r.substring(0,t-1)),r}class wet{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new sle(e,t,++this._order);return this._entries.push(i),this._resolved=null,Ht(()=>{for(let r=0;r<this._entries.length;r++)if(this._entries[r]===i){this._entries.splice(r,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new NS(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(sle.cmp),pwe(this._entries.map(e=>e.configuration)))}}function pwe(n){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of n)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class sle{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class ole{constructor(e){this.languageId=e}}class Aet extends Ne{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._register(this.register(cc,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let r=this._entries.get(e);r||(r=new wet(e),this._entries.set(e,r));const s=r.register(t,i);return this._onDidChange.fire(new ole(e)),Ht(()=>{s.dispose(),this._onDidChange.fire(new ole(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}}class NS{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new Mv(this.underlyingConfig):null,this.comments=NS._handleComments(this.underlyingConfig),this.characterPair=new O6(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||TK,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new ret(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new Eet(e,this.underlyingConfig)}getWordDefinition(){return wK(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new QJe(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new iet(this.brackets)),this._electricCharacter}onEnter(e,t,i,r){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,r):null}getAutoClosingPairs(){return new $Je(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[r,s]=t.blockComment;i.blockCommentStartToken=r,i.blockCommentEndToken=s}return i}}Pn(Od,D6,1);class Yf{constructor(e,t,i,r){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=r}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class ale{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,r=e.length;i<r;i++)t[i]=e.charCodeAt(i);return t}}function Ret(n,e,t){return new Ah(new ale(n),new ale(e)).ComputeDiff(t).changes}class sv{static Assert(e,t){if(!e)throw new Error(t)}}class ov{static Copy(e,t,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[t+o]}static Copy2(e,t,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[t+o]}}class lle{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Yf(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Ah{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[r,s,o]=Ah._getElements(e),[a,l,c]=Ah._getElements(t);this._hasStrings=o&&c,this._originalStringElements=r,this._originalElementsOrHash=s,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(Ah._isStringArray(t)){const i=new Int32Array(t.length);for(let r=0,s=t.length;r<s;r++)i[r]=$K(t[r],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const i=Ah._getStrictElement(this._originalSequence,e),r=Ah._getStrictElement(this._modifiedSequence,t);return i===r}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,r,s){const o=[!1];let a=this.ComputeDiffRecursive(e,t,i,r,o);return s&&(a=this.PrettifyChanges(a)),{quitEarly:o[0],changes:a}}ComputeDiffRecursive(e,t,i,r,s){for(s[0]=!1;e<=t&&i<=r&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&r>=i&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||i>r){let d;return i<=r?(sv.Assert(e===t+1,"originalStart should only be one more than originalEnd"),d=[new Yf(e,0,i,r-i+1)]):e<=t?(sv.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),d=[new Yf(e,t-e+1,i,0)]):(sv.Assert(e===t+1,"originalStart should only be one more than originalEnd"),sv.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}const o=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,r,o,a,s),c=o[0],u=a[0];if(l!==null)return l;if(!s[0]){const d=this.ComputeDiffRecursive(e,c,i,u,s);let h=[];return s[0]?h=[new Yf(c+1,t-(c+1)+1,u+1,r-(u+1)+1)]:h=this.ComputeDiffRecursive(c+1,t,u+1,r,s),this.ConcatenateChanges(d,h)}return[new Yf(e,t-e+1,i,r-i+1)]}WALKTRACE(e,t,i,r,s,o,a,l,c,u,d,h,f,m,g,_,v,S){let C=null,y=null,b=new lle,w=t,I=i,O=f[0]-_[0]-r,x=-1073741824,k=this.m_forwardHistory.length-1;do{const P=O+e;P===w||P<I&&c[P-1]<c[P+1]?(d=c[P+1],m=d-O-r,d<x&&b.MarkNextChange(),x=d,b.AddModifiedElement(d+1,m),O=P+1-e):(d=c[P-1]+1,m=d-O-r,d<x&&b.MarkNextChange(),x=d-1,b.AddOriginalElement(d,m+1),O=P-1-e),k>=0&&(c=this.m_forwardHistory[k],e=c[0],w=1,I=c.length-1)}while(--k>=-1);if(C=b.getReverseChanges(),S[0]){let P=f[0]+1,M=_[0]+1;if(C!==null&&C.length>0){const W=C[C.length-1];P=Math.max(P,W.getOriginalEnd()),M=Math.max(M,W.getModifiedEnd())}y=[new Yf(P,h-P+1,M,g-M+1)]}else{b=new lle,w=o,I=a,O=f[0]-_[0]-l,x=1073741824,k=v?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const P=O+s;P===w||P<I&&u[P-1]>=u[P+1]?(d=u[P+1]-1,m=d-O-l,d>x&&b.MarkNextChange(),x=d+1,b.AddOriginalElement(d+1,m+1),O=P+1-s):(d=u[P-1],m=d-O-l,d>x&&b.MarkNextChange(),x=d,b.AddModifiedElement(d+1,m+1),O=P-1-s),k>=0&&(u=this.m_reverseHistory[k],s=u[0],w=1,I=u.length-1)}while(--k>=-1);y=b.getChanges()}return this.ConcatenateChanges(C,y)}ComputeRecursionPoint(e,t,i,r,s,o,a){let l=0,c=0,u=0,d=0,h=0,f=0;e--,i--,s[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const m=t-e+(r-i),g=m+1,_=new Int32Array(g),v=new Int32Array(g),S=r-i,C=t-e,y=e-i,b=t-r,I=(C-S)%2===0;_[S]=e,v[C]=t,a[0]=!1;for(let O=1;O<=m/2+1;O++){let x=0,k=0;u=this.ClipDiagonalBound(S-O,O,S,g),d=this.ClipDiagonalBound(S+O,O,S,g);for(let M=u;M<=d;M+=2){M===u||M<d&&_[M-1]<_[M+1]?l=_[M+1]:l=_[M-1]+1,c=l-(M-S)-y;const W=l;for(;l<t&&c<r&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(_[M]=l,l+c>x+k&&(x=l,k=c),!I&&Math.abs(M-C)<=O-1&&l>=v[M])return s[0]=l,o[0]=c,W<=v[M]&&O<=1448?this.WALKTRACE(S,u,d,y,C,h,f,b,_,v,l,t,s,c,r,o,I,a):null}const P=(x-e+(k-i)-O)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(x,P))return a[0]=!0,s[0]=x,o[0]=k,P>0&&O<=1448?this.WALKTRACE(S,u,d,y,C,h,f,b,_,v,l,t,s,c,r,o,I,a):(e++,i++,[new Yf(e,t-e+1,i,r-i+1)]);h=this.ClipDiagonalBound(C-O,O,C,g),f=this.ClipDiagonalBound(C+O,O,C,g);for(let M=h;M<=f;M+=2){M===h||M<f&&v[M-1]>=v[M+1]?l=v[M+1]-1:l=v[M-1],c=l-(M-C)-b;const W=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(v[M]=l,I&&Math.abs(M-S)<=O&&l<=_[M])return s[0]=l,o[0]=c,W>=_[M]&&O<=1448?this.WALKTRACE(S,u,d,y,C,h,f,b,_,v,l,t,s,c,r,o,I,a):null}if(O<=1447){let M=new Int32Array(d-u+2);M[0]=S-u+1,ov.Copy2(_,u,M,1,d-u+1),this.m_forwardHistory.push(M),M=new Int32Array(f-h+2),M[0]=C-h+1,ov.Copy2(v,h,M,1,f-h+1),this.m_reverseHistory.push(M)}}return this.WALKTRACE(S,u,d,y,C,h,f,b,_,v,l,t,s,c,r,o,I,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],r=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,s=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,o=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<r&&i.modifiedStart+i.modifiedLength<s&&(!o||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}const l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const i=e[t];let r=0,s=0;if(t>0){const d=e[t-1];r=d.originalStart+d.originalLength,s=d.modifiedStart+d.modifiedLength}const o=i.originalLength>0,a=i.modifiedLength>0;let l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let d=1;;d++){const h=i.originalStart-d,f=i.modifiedStart-d;if(h<r||f<s||o&&!this.OriginalElementsAreEqual(h,h+i.originalLength)||a&&!this.ModifiedElementsAreEqual(f,f+i.modifiedLength))break;const g=(h===r&&f===s?5:0)+this._boundaryScore(h,i.originalLength,f,i.modifiedLength);g>c&&(c=g,l=d)}i.originalStart-=l,i.modifiedStart-=l;const u=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],u)){e[t-1]=u[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const r=e[t-1],s=e[t],o=s.originalStart-r.originalStart-r.originalLength,a=r.originalStart,l=s.originalStart+s.originalLength,c=l-a,u=r.modifiedStart,d=s.modifiedStart+s.modifiedLength,h=d-u;if(o<5&&c<20&&h<20){const f=this._findBetterContiguousSequence(a,c,u,h,o);if(f){const[m,g]=f;(m!==r.originalStart+r.originalLength||g!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=m-r.originalStart,r.modifiedLength=g-r.modifiedStart,s.originalStart=m+o,s.modifiedStart=g+o,s.originalLength=l-s.originalStart,s.modifiedLength=d-s.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,r,s){if(t<s||r<s)return null;const o=e+t-s+1,a=i+r-s+1;let l=0,c=0,u=0;for(let d=e;d<o;d++)for(let h=i;h<a;h++){const f=this._contiguousSequenceScore(d,h,s);f>0&&f>l&&(l=f,c=d,u=h)}return l>0?[c,u]:null}_contiguousSequenceScore(e,t,i){let r=0;for(let s=0;s<i;s++){if(!this.ElementsAreEqual(e+s,t+s))return 0;r+=this._originalStringElements[e+s].length}return r}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,r){const s=this._OriginalRegionIsBoundary(e,t)?1:0,o=this._ModifiedRegionIsBoundary(i,r)?1:0;return s+o}ConcatenateChanges(e,t){const i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const r=new Array(e.length+t.length-1);return ov.Copy(e,0,r,0,e.length-1),r[e.length-1]=i[0],ov.Copy(t,1,r,e.length,t.length-1),r}else{const r=new Array(e.length+t.length);return ov.Copy(e,0,r,0,e.length),ov.Copy(t,0,r,e.length,t.length),r}}ChangesOverlap(e,t,i){if(sv.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),sv.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const r=e.originalStart;let s=e.originalLength;const o=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Yf(r,s,o,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,r){if(e>=0&&e<r)return e;const s=i,o=r-i-1,a=t%2===0;if(e<0){const l=s%2===0;return a===l?0:1}else{const l=o%2===0;return a===l?r-1:r-2}}}function jO(n){return n<0?0:n>255?255:n|0}function av(n){return n<0?0:n>4294967295?4294967295:n|0}class yA{constructor(e){const t=jO(e);this._defaultValue=t,this._asciiMap=yA._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);return t.fill(e),t}set(e,t){const i=jO(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class Iet{constructor(e,t,i){const r=new Uint8Array(e*t);for(let s=0,o=e*t;s<o;s++)r[s]=i;this._data=r,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class Net{constructor(e){let t=0,i=0;for(let s=0,o=e.length;s<o;s++){const[a,l,c]=e[s];l>t&&(t=l),a>i&&(i=a),c>i&&(i=c)}t++,i++;const r=new Iet(i,t,0);for(let s=0,o=e.length;s<o;s++){const[a,l,c]=e[s];r.set(a,l,c)}this._states=r,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let h3=null;function Let(){return h3===null&&(h3=new Net([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),h3}let Bb=null;function Oet(){if(Bb===null){Bb=new yA(0);const n=` 	<>'"`;for(let t=0;t<n.length;t++)Bb.set(n.charCodeAt(t),1);const e=".,;:";for(let t=0;t<e.length;t++)Bb.set(e.charCodeAt(t),2)}return Bb}class YO{static _createLink(e,t,i,r,s){let o=s-1;do{const a=t.charCodeAt(o);if(e.get(a)!==2)break;o--}while(o>r);if(r>0){const a=t.charCodeAt(r-1),l=t.charCodeAt(o);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&o--}return{range:{startLineNumber:i,startColumn:r+1,endLineNumber:i,endColumn:o+2},url:t.substring(r,o+1)}}static computeLinks(e,t=Let()){const i=Oet(),r=[];for(let s=1,o=e.getLineCount();s<=o;s++){const a=e.getLineContent(s),l=a.length;let c=0,u=0,d=0,h=1,f=!1,m=!1,g=!1,_=!1;for(;c<l;){let v=!1;const S=a.charCodeAt(c);if(h===13){let C;switch(S){case 40:f=!0,C=0;break;case 41:C=f?0:1;break;case 91:g=!0,m=!0,C=0;break;case 93:g=!1,C=m?0:1;break;case 123:_=!0,C=0;break;case 125:C=_?0:1;break;case 39:case 34:case 96:d===S?C=1:d===39||d===34||d===96?C=0:C=1;break;case 42:C=d===42?1:0;break;case 124:C=d===124?1:0;break;case 32:C=g?0:1;break;default:C=i.get(S)}C===1&&(r.push(YO._createLink(i,a,s,u,c)),v=!0)}else if(h===12){let C;S===91?(m=!0,C=0):C=i.get(S),C===1?v=!0:h=13}else h=t.nextState(h,S),h===0&&(v=!0);v&&(h=1,f=!1,m=!1,_=!1,u=c+1,d=S),c++}h===13&&r.push(YO._createLink(i,a,s,u,l))}return r}}function xet(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:YO.computeLinks(n)}const TP=class TP{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,r,s){if(e&&t){const o=this.doNavigateValueSet(t,s);if(o)return{range:e,value:o}}if(i&&r){const o=this.doNavigateValueSet(r,s);if(o)return{range:i,value:o}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let r=Number(e);const s=parseFloat(e);return!isNaN(r)&&!isNaN(s)&&r===s?r===0&&!t?null:(r=Math.floor(r*i),r+=t?i:-i,String(r/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let r=null;for(let s=0,o=e.length;r===null&&s<o;s++)r=this.valueSetReplace(e[s],t,i);return r}valueSetReplace(e,t,i){let r=e.indexOf(t);return r>=0?(r+=i?1:-1,r<0?r=e.length-1:r%=e.length,e[r]):null}};TP.INSTANCE=new TP;let k6=TP;const M0=class M0{static getChannel(e){return e.getChannel(M0.CHANNEL_NAME)}static setChannel(e,t){e.setChannel(M0.CHANNEL_NAME,t)}};M0.CHANNEL_NAME="editorWorkerHost";let M6=M0;var cle,ule;class Det{constructor(e,t){this.uri=e,this.value=t}}function Pet(n){return Array.isArray(n)}const Lm=class Lm{constructor(e,t){if(this[cle]="ResourceMap",e instanceof Lm)this.map=new Map(e.map),this.toKey=t??Lm.defaultToKey;else if(Pet(e)){this.map=new Map,this.toKey=t??Lm.defaultToKey;for(const[i,r]of e)this.set(i,r)}else this.map=new Map,this.toKey=e??Lm.defaultToKey}set(e,t){return this.map.set(this.toKey(e),new Det(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))==null?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t<"u"&&(e=e.bind(t));for(const[i,r]of this.map)e(r.value,r.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(cle=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}};Lm.defaultToKey=e=>e.toString();let Xa=Lm;class ket{constructor(){this[ule]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let r=this._map.get(e);if(r)r.value=t,i!==0&&this.touch(r,i);else{switch(r={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:i.key,done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:i.value,done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:[i.key,i.value],done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}[(ule=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.previous,i--;this._tail=t,this._size=i,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class Met extends ket{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class bA extends Met{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}}class Fet{constructor(e){if(this._m1=new Map,this._m2=new Map,e)for(const[t,i]of e)this.set(t,i)}clear(){this._m1.clear(),this._m2.clear()}set(e,t){this._m1.set(e,t),this._m2.set(t,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const t=this._m1.get(e);return t===void 0?!1:(this._m1.delete(e),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class mwe{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}get(e){const t=this.map.get(e);return t||new Set}}class Bet extends yA{constructor(e,t){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=t,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let i=0,r=e.length;i<r;i++)this.set(e.charCodeAt(i),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(e,t){let i=null;for(const r of this._getIntlSegmenterWordsOnLine(e)){if(r.index>t)break;i=r}return i}findNextIntlWordAtOrAfterOffset(e,t){for(const i of this._getIntlSegmenterWordsOnLine(e))if(!(i.index<t))return i;return null}_getIntlSegmenterWordsOnLine(e){return this._segmenter?this._cachedLine===e?this._cachedSegments:(this._cachedLine=e,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(e)),this._cachedSegments):[]}_filterWordSegments(e){const t=[];for(const i of e)this._isWordLike(i)&&t.push(i);return t}_isWordLike(e){return!!e.isWordLike}}const dle=new bA(10);function mC(n,e){const t=`${n}/${e.join(",")}`;let i=dle.get(t);return i||(i=new Bet(n,e),dle.set(t,i)),i}var KO;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(KO||(KO={}));var Qg;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(Qg||(Qg={}));var _C;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(_C||(_C={}));class dL{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),e.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,e.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace,this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&va(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class x1{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}function Uet(n){return n&&typeof n.read=="function"}class f3{constructor(e,t,i,r,s,o){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=s,this._isTracked=o}}class Het{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}class Vet{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function Wet(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}const $et=999;class lv{constructor(e,t,i,r){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=r}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=Get(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=m1e(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new Het(t,this.wordSeparators?mC(this.wordSeparators,[]):null,i?this.searchString:null)}}function Get(n){if(!n||n.length===0)return!1;for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i===10)return!0;if(i===92){if(e++,e>=t)break;const r=n.charCodeAt(e);if(r===110||r===114||r===87)return!0}}return!1}function pm(n,e,t){if(!t)return new x1(n,null);const i=[];for(let r=0,s=e.length;r<s;r++)i[r]=e[r];return new x1(n,i)}class hle{constructor(e){const t=[];let i=0;for(let r=0,s=e.length;r<s;r++)e.charCodeAt(r)===10&&(t[i++]=r);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,r=t.length-1;if(r===-1||e<=t[0])return 0;for(;i<r;){const s=i+((r-i)/2>>0);t[s]>=e?r=s-1:t[s+1]>=e?(i=s,r=s):i=s+1}return i+1}}class jI{static findMatches(e,t,i,r,s){const o=t.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(e,i,new Fv(o.wordSeparators,o.regex),r,s):this._doFindMatchesLineByLine(e,i,o,r,s):[]}static _getMultilineMatchRange(e,t,i,r,s,o){let a,l=0;r?(l=r.findLineFeedCountBeforeOffset(s),a=t+s+l):a=t+s;let c;if(r){const f=r.findLineFeedCountBeforeOffset(s+o.length)-l;c=a+o.length+f}else c=a+o.length;const u=e.getPositionAt(a),d=e.getPositionAt(c);return new ce(u.lineNumber,u.column,d.lineNumber,d.column)}static _doFindMatchesMultiline(e,t,i,r,s){const o=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new hle(a):null,c=[];let u=0,d;for(i.reset(0);d=i.next(a);)if(c[u++]=pm(this._getMultilineMatchRange(e,o,a,l,d.index,d[0]),d,r),u>=s)return c;return c}static _doFindMatchesLineByLine(e,t,i,r,s){const o=[];let a=0;if(t.startLineNumber===t.endLineNumber){const c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,c,t.startLineNumber,t.startColumn-1,a,o,r,s),o}const l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,o,r,s);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<s;c++)a=this._findMatchesInLine(i,e.getLineContent(c),c,0,a,o,r,s);if(a<s){const c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,c,t.endLineNumber,0,a,o,r,s)}return o}static _findMatchesInLine(e,t,i,r,s,o,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const h=e.simpleSearch,f=h.length,m=t.length;let g=-f;for(;(g=t.indexOf(h,g+f))!==-1;)if((!c||sq(c,t,m,g,f))&&(o[s++]=new x1(new ce(i,g+1+r,i,g+1+f+r),null),s>=l))return s;return s}const u=new Fv(e.wordSeparators,e.regex);let d;u.reset(0);do if(d=u.next(t),d&&(o[s++]=pm(new ce(i,d.index+1+r,i,d.index+1+d[0].length+r),d,a),s>=l))return s;while(d);return s}static findNextMatch(e,t,i,r){const s=t.parseSearchRequest();if(!s)return null;const o=new Fv(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindNextMatchMultiline(e,i,o,r):this._doFindNextMatchLineByLine(e,i,o,r)}static _doFindNextMatchMultiline(e,t,i,r){const s=new Ee(t.lineNumber,1),o=e.getOffsetAt(s),a=e.getLineCount(),l=e.getValueInRange(new ce(s.lineNumber,s.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new hle(l):null;i.reset(t.column-1);const u=i.next(l);return u?pm(this._getMultilineMatchRange(e,o,l,c,u.index,u[0]),u,r):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new Ee(1,1),i,r):null}static _doFindNextMatchLineByLine(e,t,i,r){const s=e.getLineCount(),o=t.lineNumber,a=e.getLineContent(o),l=this._findFirstMatchInLine(i,a,o,t.column,r);if(l)return l;for(let c=1;c<=s;c++){const u=(o+c-1)%s,d=e.getLineContent(u+1),h=this._findFirstMatchInLine(i,d,u+1,1,r);if(h)return h}return null}static _findFirstMatchInLine(e,t,i,r,s){e.reset(r-1);const o=e.next(t);return o?pm(new ce(i,o.index+1,i,o.index+1+o[0].length),o,s):null}static findPreviousMatch(e,t,i,r){const s=t.parseSearchRequest();if(!s)return null;const o=new Fv(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindPreviousMatchMultiline(e,i,o,r):this._doFindPreviousMatchLineByLine(e,i,o,r)}static _doFindPreviousMatchMultiline(e,t,i,r){const s=this._doFindMatchesMultiline(e,new ce(1,1,t.lineNumber,t.column),i,r,10*$et);if(s.length>0)return s[s.length-1];const o=e.getLineCount();return t.lineNumber!==o||t.column!==e.getLineMaxColumn(o)?this._doFindPreviousMatchMultiline(e,new Ee(o,e.getLineMaxColumn(o)),i,r):null}static _doFindPreviousMatchLineByLine(e,t,i,r){const s=e.getLineCount(),o=t.lineNumber,a=e.getLineContent(o).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,o,r);if(l)return l;for(let c=1;c<=s;c++){const u=(s+o-c-1)%s,d=e.getLineContent(u+1),h=this._findLastMatchInLine(i,d,u+1,r);if(h)return h}return null}static _findLastMatchInLine(e,t,i,r){let s=null,o;for(e.reset(0);o=e.next(t);)s=pm(new ce(i,o.index+1,i,o.index+1+o[0].length),o,r);return s}}function zet(n,e,t,i,r){if(i===0)return!0;const s=e.charCodeAt(i-1);if(n.get(s)!==0||s===13||s===10)return!0;if(r>0){const o=e.charCodeAt(i);if(n.get(o)!==0)return!0}return!1}function jet(n,e,t,i,r){if(i+r===t)return!0;const s=e.charCodeAt(i+r);if(n.get(s)!==0||s===13||s===10)return!0;if(r>0){const o=e.charCodeAt(i+r-1);if(n.get(o)!==0)return!0}return!1}function sq(n,e,t,i,r){return zet(n,e,t,i,r)&&jet(n,e,t,i,r)}class Fv{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;const r=i.index,s=i[0].length;if(r===this._prevMatchStartIndex&&s===this._prevMatchLength){if(s===0){FO(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=r,this._prevMatchLength=s,!this._wordSeparators||sq(this._wordSeparators,e,t,r,s))return i}while(i);return null}}class Yet{static computeUnicodeHighlights(e,t,i){const r=i?i.startLineNumber:1,s=i?i.endLineNumber:e.getLineCount(),o=new fle(t),a=o.getCandidateCodePoints();let l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${Ket(Array.from(a))}`,"g");const c=new Fv(null,l),u=[];let d=!1,h,f=0,m=0,g=0;e:for(let _=r,v=s;_<=v;_++){const S=e.getLineContent(_),C=S.length;c.reset(0);do if(h=c.next(S),h){let y=h.index,b=h.index+h[0].length;if(y>0){const x=S.charCodeAt(y-1);Kr(x)&&y--}if(b+1<C){const x=S.charCodeAt(b-1);Kr(x)&&b++}const w=S.substring(y,b);let I=y1(y+1,TK,S,0);I&&I.endColumn<=y+1&&(I=null);const O=o.shouldHighlightNonBasicASCII(w,I?I.word:null);if(O!==0){if(O===3?f++:O===2?m++:O===1?g++:JK(),u.length>=1e3){d=!0;break e}u.push(new ce(_,y+1,_,b+1))}}while(h)}return{ranges:u,hasMore:d,ambiguousCharacterCount:f,invisibleCharacterCount:m,nonBasicAsciiCharacterCount:g}}static computeUnicodeHighlightReason(e,t){const i=new fle(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const s=e.codePointAt(0),o=i.ambiguousCharacters.getPrimaryConfusable(s),a=R1.getLocales().filter(l=>!R1.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(s));return{kind:0,confusableWith:String.fromCodePoint(o),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}function Ket(n,e){return`[${sf(n.map(i=>String.fromCodePoint(i)).join(""))}]`}class fle{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=R1.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of YT.codePoints)gle(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let r=!1,s=!1;if(t)for(const o of t){const a=o.codePointAt(0),l=BK(o);r=r||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!YT.isInvisibleCharacter(a)&&(s=!0)}return!r&&s?0:this.options.invisibleCharacters&&!gle(e)&&YT.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}}function gle(n){return n===" "||n===`
`||n==="	"}class hL{constructor(e,t,i){this.changes=e,this.moves=t,this.hitTimeout=i}}class _we{constructor(e,t){this.lineRangeMapping=e,this.changes=t}}class jt{static addRange(e,t){let i=0;for(;i<t.length&&t[i].endExclusive<e.start;)i++;let r=i;for(;r<t.length&&t[r].start<=e.endExclusive;)r++;if(i===r)t.splice(i,0,e);else{const s=Math.min(e.start,t[i].start),o=Math.max(e.endExclusive,t[r-1].endExclusive);t.splice(i,r-i,new jt(s,o))}}static tryCreate(e,t){if(!(e>t))return new jt(e,t)}static ofLength(e){return new jt(0,e)}static ofStartAndLength(e,t){return new jt(e,e+t)}constructor(e,t){if(this.start=e,this.endExclusive=t,e>t)throw new Kn(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new jt(this.start+e,this.endExclusive+e)}deltaStart(e){return new jt(this.start+e,this.endExclusive)}deltaEnd(e){return new jt(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new jt(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);if(t<=i)return new jt(t,i)}intersects(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);return t<i}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new Kn(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new Kn(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}}class oq{constructor(){this._sortedRanges=[]}addRange(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<e.start;)t++;let i=t;for(;i<this._sortedRanges.length&&this._sortedRanges[i].start<=e.endExclusive;)i++;if(t===i)this._sortedRanges.splice(t,0,e);else{const r=Math.min(e.start,this._sortedRanges[t].start),s=Math.max(e.endExclusive,this._sortedRanges[i-1].endExclusive);this._sortedRanges.splice(t,i-t,new jt(r,s))}}toString(){return this._sortedRanges.map(e=>e.toString()).join(", ")}intersectsStrict(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<=e.start;)t++;return t<this._sortedRanges.length&&this._sortedRanges[t].start<e.endExclusive}intersectWithRange(e){const t=new oq;for(const i of this._sortedRanges){const r=i.intersect(e);r&&t.addRange(r)}return t}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce((e,t)=>e+t.length,0)}}function qO(n,e){const t=qet(n,e);if(t!==-1)return n[t]}function qet(n,e,t=n.length-1){for(let i=t;i>=0;i--){const r=n[i];if(e(r))return i}return-1}function EC(n,e){const t=D1(n,e);return t===-1?void 0:n[t]}function D1(n,e,t=0,i=n.length){let r=t,s=i;for(;r<s;){const o=Math.floor((r+s)/2);e(n[o])?r=o+1:s=o}return r-1}function Xet(n,e){const t=F6(n,e);return t===n.length?void 0:n[t]}function F6(n,e,t=0,i=n.length){let r=t,s=i;for(;r<s;){const o=Math.floor((r+s)/2);e(n[o])?s=o:r=o+1}return r}const wP=class wP{constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(wP.assertInvariants){if(this._prevFindLastPredicate){for(const i of this._array)if(this._prevFindLastPredicate(i)&&!e(i))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}const t=D1(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,t===-1?void 0:this._array[t]}};wP.assertInvariants=!1;let XO=wP;function Ewe(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];e(r,t)>0&&(t=r)}return t}function Qet(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];e(r,t)>=0&&(t=r)}return t}function Zet(n,e){return Ewe(n,(t,i)=>-e(t,i))}function Jet(n,e){if(n.length===0)return-1;let t=0;for(let i=1;i<n.length;i++){const r=n[i];e(r,n[t])>0&&(t=i)}return t}let Rt=class ih{static fromRangeInclusive(e){return new ih(e.startLineNumber,e.endLineNumber+1)}static joinMany(e){if(e.length===0)return[];let t=new _l(e[0].slice());for(let i=1;i<e.length;i++)t=t.getUnion(new _l(e[i].slice()));return t.ranges}static join(e){if(e.length===0)throw new Kn("lineRanges cannot be empty");let t=e[0].startLineNumber,i=e[0].endLineNumberExclusive;for(let r=1;r<e.length;r++)t=Math.min(t,e[r].startLineNumber),i=Math.max(i,e[r].endLineNumberExclusive);return new ih(t,i)}static ofLength(e,t){return new ih(e,e+t)}static deserialize(e){return new ih(e[0],e[1])}constructor(e,t){if(e>t)throw new Kn(`startLineNumber ${e} cannot be after endLineNumberExclusive ${t}`);this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new ih(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new ih(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new ih(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=i)return new ih(t,i)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new ce(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new ce(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){const t=[];for(let i=this.startLineNumber;i<this.endLineNumberExclusive;i++)t.push(e(i));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new jt(this.startLineNumber-1,this.endLineNumberExclusive-1)}};class _l{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;const t=F6(this._normalizedRanges,r=>r.endLineNumberExclusive>=e.startLineNumber),i=D1(this._normalizedRanges,r=>r.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)this._normalizedRanges.splice(t,0,e);else if(t===i-1){const r=this._normalizedRanges[t];this._normalizedRanges[t]=r.join(e)}else{const r=this._normalizedRanges[t].join(this._normalizedRanges[i-1]).join(e);this._normalizedRanges.splice(t,i-t,r)}}contains(e){const t=EC(this._normalizedRanges,i=>i.startLineNumber<=e);return!!t&&t.endLineNumberExclusive>e}intersects(e){const t=EC(this._normalizedRanges,i=>i.startLineNumber<e.endLineNumberExclusive);return!!t&&t.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;const t=[];let i=0,r=0,s=null;for(;i<this._normalizedRanges.length||r<e._normalizedRanges.length;){let o=null;if(i<this._normalizedRanges.length&&r<e._normalizedRanges.length){const a=this._normalizedRanges[i],l=e._normalizedRanges[r];a.startLineNumber<l.startLineNumber?(o=a,i++):(o=l,r++)}else i<this._normalizedRanges.length?(o=this._normalizedRanges[i],i++):(o=e._normalizedRanges[r],r++);s===null?s=o:s.endLineNumberExclusive>=o.startLineNumber?s=new Rt(s.startLineNumber,Math.max(s.endLineNumberExclusive,o.endLineNumberExclusive)):(t.push(s),s=o)}return s!==null&&t.push(s),new _l(t)}subtractFrom(e){const t=F6(this._normalizedRanges,o=>o.endLineNumberExclusive>=e.startLineNumber),i=D1(this._normalizedRanges,o=>o.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)return new _l([e]);const r=[];let s=e.startLineNumber;for(let o=t;o<i;o++){const a=this._normalizedRanges[o];a.startLineNumber>s&&r.push(new Rt(s,a.startLineNumber)),s=a.endLineNumberExclusive}return s<e.endLineNumberExclusive&&r.push(new Rt(s,e.endLineNumberExclusive)),new _l(r)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){const t=[];let i=0,r=0;for(;i<this._normalizedRanges.length&&r<e._normalizedRanges.length;){const s=this._normalizedRanges[i],o=e._normalizedRanges[r],a=s.intersect(o);a&&!a.isEmpty&&t.push(a),s.endLineNumberExclusive<o.endLineNumberExclusive?i++:r++}return new _l(t)}getWithDelta(e){return new _l(this._normalizedRanges.map(t=>t.delta(e)))}}const tg=class tg{static betweenPositions(e,t){return e.lineNumber===t.lineNumber?new tg(0,t.column-e.column):new tg(t.lineNumber-e.lineNumber,t.column-1)}static ofRange(e){return tg.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let t=0,i=0;for(const r of e)r===`
`?(t++,i=0):i++;return new tg(t,i)}constructor(e,t){this.lineCount=e,this.columnCount=t}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}createRange(e){return this.lineCount===0?new ce(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new ce(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(e){return this.lineCount===0?new Ee(e.lineNumber,e.column+this.columnCount):new Ee(e.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}};tg.zero=new tg(0,0);let Zg=tg;class ett{constructor(e){this.text=e,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}getOffsetRange(e){return new jt(this.getOffset(e.getStartPosition()),this.getOffset(e.getEndPosition()))}get textLength(){const e=this.lineStartOffsetByLineIdx.length-1;return new Zg(e,this.text.length-this.lineStartOffsetByLineIdx[e])}}class ttt{constructor(e){this.edits=e,L_(()=>eq(e,(t,i)=>t.range.getEndPosition().isBeforeOrEqual(i.range.getStartPosition())))}apply(e){let t="",i=new Ee(1,1);for(const s of this.edits){const o=s.range,a=o.getStartPosition(),l=o.getEndPosition(),c=ple(i,a);c.isEmpty()||(t+=e.getValueOfRange(c)),t+=s.text,i=l}const r=ple(i,e.endPositionExclusive);return r.isEmpty()||(t+=e.getValueOfRange(r)),t}applyToString(e){const t=new itt(e);return this.apply(t)}getNewRanges(){const e=[];let t=0,i=0,r=0;for(const s of this.edits){const o=Zg.ofText(s.text),a=Ee.lift({lineNumber:s.range.startLineNumber+i,column:s.range.startColumn+(s.range.startLineNumber===t?r:0)}),l=o.createRange(a);e.push(l),i=l.endLineNumber-s.range.endLineNumber,r=l.endColumn-s.range.endColumn,t=s.range.endLineNumber}return e}}class ntt{constructor(e,t){this.range=e,this.text=t}toSingleEditOperation(){return{range:this.range,text:this.text}}}function ple(n,e){if(n.lineNumber===e.lineNumber&&n.column===Number.MAX_SAFE_INTEGER)return ce.fromPositions(e,e);if(!n.isBeforeOrEqual(e))throw new Kn("start must be before end");return new ce(n.lineNumber,n.column,e.lineNumber,e.column)}class vwe{get endPositionExclusive(){return this.length.addToPosition(new Ee(1,1))}}class itt extends vwe{constructor(e){super(),this.value=e,this._t=new ett(this.value)}getValueOfRange(e){return this._t.getOffsetRange(e).substring(this.value)}get length(){return this._t.textLength}}class co{static inverse(e,t,i){const r=[];let s=1,o=1;for(const l of e){const c=new co(new Rt(s,l.original.startLineNumber),new Rt(o,l.modified.startLineNumber));c.modified.isEmpty||r.push(c),s=l.original.endLineNumberExclusive,o=l.modified.endLineNumberExclusive}const a=new co(new Rt(s,t+1),new Rt(o,i+1));return a.modified.isEmpty||r.push(a),r}static clip(e,t,i){const r=[];for(const s of e){const o=s.original.intersect(t),a=s.modified.intersect(i);o&&!o.isEmpty&&a&&!a.isEmpty&&r.push(new co(o,a))}return r}constructor(e,t){this.original=e,this.modified=t}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new co(this.modified,this.original)}join(e){return new co(this.original.join(e.original),this.modified.join(e.modified))}toRangeMapping(){const e=this.original.toInclusiveRange(),t=this.modified.toInclusiveRange();if(e&&t)return new Va(e,t);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new Kn("not a valid diff");return new Va(new ce(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new ce(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new Va(new ce(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new ce(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(e,t){if(mle(this.original.endLineNumberExclusive,e)&&mle(this.modified.endLineNumberExclusive,t))return new Va(new ce(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new ce(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new Va(ce.fromPositions(new Ee(this.original.startLineNumber,1),cv(new Ee(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),e)),ce.fromPositions(new Ee(this.modified.startLineNumber,1),cv(new Ee(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new Va(ce.fromPositions(cv(new Ee(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),e),cv(new Ee(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),e)),ce.fromPositions(cv(new Ee(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),t),cv(new Ee(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)));throw new Kn}}function cv(n,e){if(n.lineNumber<1)return new Ee(1,1);if(n.lineNumber>e.length)return new Ee(e.length,e[e.length-1].length+1);const t=e[n.lineNumber-1];return n.column>t.length+1?new Ee(n.lineNumber,t.length+1):n}function mle(n,e){return n>=1&&n<=e.length}class Qa extends co{static fromRangeMappings(e){const t=Rt.join(e.map(r=>Rt.fromRangeInclusive(r.originalRange))),i=Rt.join(e.map(r=>Rt.fromRangeInclusive(r.modifiedRange)));return new Qa(t,i,e)}constructor(e,t,i){super(e,t),this.innerChanges=i}flip(){var e;return new Qa(this.modified,this.original,(e=this.innerChanges)==null?void 0:e.map(t=>t.flip()))}withInnerChangesFromLineRanges(){return new Qa(this.original,this.modified,[this.toRangeMapping()])}}class Va{static assertSorted(e){for(let t=1;t<e.length;t++){const i=e[t-1],r=e[t];if(!(i.originalRange.getEndPosition().isBeforeOrEqual(r.originalRange.getStartPosition())&&i.modifiedRange.getEndPosition().isBeforeOrEqual(r.modifiedRange.getStartPosition())))throw new Kn("Range mappings must be sorted")}}constructor(e,t){this.originalRange=e,this.modifiedRange=t}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new Va(this.modifiedRange,this.originalRange)}toTextEdit(e){const t=e.getValueOfRange(this.modifiedRange);return new ntt(this.originalRange,t)}}const rtt=3;class stt{computeDiff(e,t,i){var l;const s=new ltt(e,t,{maxComputationTime:i.maxComputationTimeMs,shouldIgnoreTrimWhitespace:i.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),o=[];let a=null;for(const c of s.changes){let u;c.originalEndLineNumber===0?u=new Rt(c.originalStartLineNumber+1,c.originalStartLineNumber+1):u=new Rt(c.originalStartLineNumber,c.originalEndLineNumber+1);let d;c.modifiedEndLineNumber===0?d=new Rt(c.modifiedStartLineNumber+1,c.modifiedStartLineNumber+1):d=new Rt(c.modifiedStartLineNumber,c.modifiedEndLineNumber+1);let h=new Qa(u,d,(l=c.charChanges)==null?void 0:l.map(f=>new Va(new ce(f.originalStartLineNumber,f.originalStartColumn,f.originalEndLineNumber,f.originalEndColumn),new ce(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn))));a&&(a.modified.endLineNumberExclusive===h.modified.startLineNumber||a.original.endLineNumberExclusive===h.original.startLineNumber)&&(h=new Qa(a.original.join(h.original),a.modified.join(h.modified),a.innerChanges&&h.innerChanges?a.innerChanges.concat(h.innerChanges):void 0),o.pop()),o.push(h),a=h}return L_(()=>eq(o,(c,u)=>u.original.startLineNumber-c.original.endLineNumberExclusive===u.modified.startLineNumber-c.modified.endLineNumberExclusive&&c.original.endLineNumberExclusive<u.original.startLineNumber&&c.modified.endLineNumberExclusive<u.modified.startLineNumber)),new hL(o,[],s.quitEarly)}}function Swe(n,e,t,i){return new Ah(n,e,t).ComputeDiff(i)}let _le=class{constructor(e){const t=[],i=[];for(let r=0,s=e.length;r<s;r++)t[r]=B6(e[r],1),i[r]=U6(e[r],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const r=[],s=[],o=[];let a=0;for(let l=t;l<=i;l++){const c=this.lines[l],u=e?this._startColumns[l]:1,d=e?this._endColumns[l]:c.length+1;for(let h=u;h<d;h++)r[a]=c.charCodeAt(h-1),s[a]=l+1,o[a]=h,a++;!e&&l<i&&(r[a]=10,s[a]=l+1,o[a]=c.length+1,a++)}return new ott(r,s,o)}};class ott{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}toString(){return"["+this._charCodes.map((e,t)=>(e===10?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return e===-1?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),this._charCodes[e]===10?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return e===-1?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),this._charCodes[e]===10?1:this._columns[e]+1)}}class LS{constructor(e,t,i,r,s,o,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=r,this.modifiedStartLineNumber=s,this.modifiedStartColumn=o,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){const r=t.getStartLineNumber(e.originalStart),s=t.getStartColumn(e.originalStart),o=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1),l=i.getStartLineNumber(e.modifiedStart),c=i.getStartColumn(e.modifiedStart),u=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),d=i.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new LS(r,s,o,a,l,c,u,d)}}function att(n){if(n.length<=1)return n;const e=[n[0]];let t=e[0];for(let i=1,r=n.length;i<r;i++){const s=n[i],o=s.originalStart-(t.originalStart+t.originalLength),a=s.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(o,a)<rtt?(t.originalLength=s.originalStart+s.originalLength-t.originalStart,t.modifiedLength=s.modifiedStart+s.modifiedLength-t.modifiedStart):(e.push(s),t=s)}return e}class ZT{constructor(e,t,i,r,s){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=r,this.charChanges=s}static createFromDiffResult(e,t,i,r,s,o,a){let l,c,u,d,h;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,c=0):(l=i.getStartLineNumber(t.originalStart),c=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(u=r.getStartLineNumber(t.modifiedStart)-1,d=0):(u=r.getStartLineNumber(t.modifiedStart),d=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),o&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&s()){const f=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),m=r.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(f.getElements().length>0&&m.getElements().length>0){let g=Swe(f,m,s,!0).changes;a&&(g=att(g)),h=[];for(let _=0,v=g.length;_<v;_++)h.push(LS.createFromDiffChange(g[_],f,m))}}return new ZT(l,c,u,d,h)}}class ltt{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new _le(e),this.modified=new _le(t),this.continueLineDiff=Ele(i.maxComputationTime),this.continueCharDiff=Ele(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const e=Swe(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,c=t.length;l<c;l++)a.push(ZT.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}const r=[];let s=0,o=0;for(let a=-1,l=t.length;a<l;a++){const c=a+1<l?t[a+1]:null,u=c?c.originalStart:this.originalLines.length,d=c?c.modifiedStart:this.modifiedLines.length;for(;s<u&&o<d;){const h=this.originalLines[s],f=this.modifiedLines[o];if(h!==f){{let m=B6(h,1),g=B6(f,1);for(;m>1&&g>1;){const _=h.charCodeAt(m-2),v=f.charCodeAt(g-2);if(_!==v)break;m--,g--}(m>1||g>1)&&this._pushTrimWhitespaceCharChange(r,s+1,1,m,o+1,1,g)}{let m=U6(h,1),g=U6(f,1);const _=h.length+1,v=f.length+1;for(;m<_&&g<v;){const S=h.charCodeAt(m-1),C=h.charCodeAt(g-1);if(S!==C)break;m++,g++}(m<_||g<v)&&this._pushTrimWhitespaceCharChange(r,s+1,m,_,o+1,g,v)}}s++,o++}c&&(r.push(ZT.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=c.originalLength,o+=c.modifiedLength)}return{quitEarly:i,changes:r}}_pushTrimWhitespaceCharChange(e,t,i,r,s,o,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,r,s,o,a))return;let l;this.shouldComputeCharChanges&&(l=[new LS(t,i,t,r,s,o,s,a)]),e.push(new ZT(t,t,s,s,l))}_mergeTrimWhitespaceCharChange(e,t,i,r,s,o,a){const l=e.length;if(l===0)return!1;const c=e[l-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber===t&&c.modifiedEndLineNumber===s?(this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new LS(t,i,t,r,s,o,s,a)),!0):c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===s?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=s,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new LS(t,i,t,r,s,o,s,a)),!0):!1}}function B6(n,e){const t=Sa(n);return t===-1?e:t+1}function U6(n,e){const t=tE(n);return t===-1?e:t+2}function Ele(n){if(n===0)return()=>!0;const e=Date.now();return()=>Date.now()-e<n}class Gh{static trivial(e,t){return new Gh([new Or(jt.ofLength(e.length),jt.ofLength(t.length))],!1)}static trivialTimedOut(e,t){return new Gh([new Or(jt.ofLength(e.length),jt.ofLength(t.length))],!0)}constructor(e,t){this.diffs=e,this.hitTimeout=t}}class Or{static invert(e,t){const i=[];return F0e(e,(r,s)=>{i.push(Or.fromOffsetPairs(r?r.getEndExclusives():Dh.zero,s?s.getStarts():new Dh(t,(r?r.seq2Range.endExclusive-r.seq1Range.endExclusive:0)+t)))}),i}static fromOffsetPairs(e,t){return new Or(new jt(e.offset1,t.offset1),new jt(e.offset2,t.offset2))}static assertSorted(e){let t;for(const i of e){if(t&&!(t.seq1Range.endExclusive<=i.seq1Range.start&&t.seq2Range.endExclusive<=i.seq2Range.start))throw new Kn("Sequence diffs must be sorted");t=i}}constructor(e,t){this.seq1Range=e,this.seq2Range=t}swap(){return new Or(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(e){return new Or(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){return e===0?this:new Or(this.seq1Range.delta(e),this.seq2Range.delta(e))}deltaStart(e){return e===0?this:new Or(this.seq1Range.deltaStart(e),this.seq2Range.deltaStart(e))}deltaEnd(e){return e===0?this:new Or(this.seq1Range.deltaEnd(e),this.seq2Range.deltaEnd(e))}intersect(e){const t=this.seq1Range.intersect(e.seq1Range),i=this.seq2Range.intersect(e.seq2Range);if(!(!t||!i))return new Or(t,i)}getStarts(){return new Dh(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new Dh(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}const Om=class Om{constructor(e,t){this.offset1=e,this.offset2=t}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(e){return e===0?this:new Om(this.offset1+e,this.offset2+e)}equals(e){return this.offset1===e.offset1&&this.offset2===e.offset2}};Om.zero=new Om(0,0),Om.max=new Om(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);let Dh=Om;const AP=class AP{isValid(){return!0}};AP.instance=new AP;let P1=AP;class ctt{constructor(e){if(this.timeout=e,this.startTime=Date.now(),this.valid=!0,e<=0)throw new Kn("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}class g3{constructor(e,t){this.width=e,this.height=t,this.array=[],this.array=new Array(e*t)}get(e,t){return this.array[e+t*this.width]}set(e,t,i){this.array[e+t*this.width]=i}}function H6(n){return n===32||n===9}const F0=class F0{static getKey(e){let t=this.chrKeys.get(e);return t===void 0&&(t=this.chrKeys.size,this.chrKeys.set(e,t)),t}constructor(e,t,i){this.range=e,this.lines=t,this.source=i,this.histogram=[];let r=0;for(let s=e.startLineNumber-1;s<e.endLineNumberExclusive-1;s++){const o=t[s];for(let l=0;l<o.length;l++){r++;const c=o[l],u=F0.getKey(c);this.histogram[u]=(this.histogram[u]||0)+1}r++;const a=F0.getKey(`
`);this.histogram[a]=(this.histogram[a]||0)+1}this.totalCount=r}computeSimilarity(e){let t=0;const i=Math.max(this.histogram.length,e.histogram.length);for(let r=0;r<i;r++)t+=Math.abs((this.histogram[r]??0)-(e.histogram[r]??0));return 1-t/(this.totalCount+e.totalCount)}};F0.chrKeys=new Map;let QO=F0;class utt{compute(e,t,i=P1.instance,r){if(e.length===0||t.length===0)return Gh.trivial(e,t);const s=new g3(e.length,t.length),o=new g3(e.length,t.length),a=new g3(e.length,t.length);for(let m=0;m<e.length;m++)for(let g=0;g<t.length;g++){if(!i.isValid())return Gh.trivialTimedOut(e,t);const _=m===0?0:s.get(m-1,g),v=g===0?0:s.get(m,g-1);let S;e.getElement(m)===t.getElement(g)?(m===0||g===0?S=0:S=s.get(m-1,g-1),m>0&&g>0&&o.get(m-1,g-1)===3&&(S+=a.get(m-1,g-1)),S+=r?r(m,g):1):S=-1;const C=Math.max(_,v,S);if(C===S){const y=m>0&&g>0?a.get(m-1,g-1):0;a.set(m,g,y+1),o.set(m,g,3)}else C===_?(a.set(m,g,0),o.set(m,g,1)):C===v&&(a.set(m,g,0),o.set(m,g,2));s.set(m,g,C)}const l=[];let c=e.length,u=t.length;function d(m,g){(m+1!==c||g+1!==u)&&l.push(new Or(new jt(m+1,c),new jt(g+1,u))),c=m,u=g}let h=e.length-1,f=t.length-1;for(;h>=0&&f>=0;)o.get(h,f)===3?(d(h,f),h--,f--):o.get(h,f)===1?h--:f--;return d(-1,-1),l.reverse(),new Gh(l,!1)}}class Cwe{compute(e,t,i=P1.instance){if(e.length===0||t.length===0)return Gh.trivial(e,t);const r=e,s=t;function o(g,_){for(;g<r.length&&_<s.length&&r.getElement(g)===s.getElement(_);)g++,_++;return g}let a=0;const l=new dtt;l.set(0,o(0,0));const c=new htt;c.set(0,l.get(0)===0?null:new vle(null,0,0,l.get(0)));let u=0;e:for(;;){if(a++,!i.isValid())return Gh.trivialTimedOut(r,s);const g=-Math.min(a,s.length+a%2),_=Math.min(a,r.length+a%2);for(u=g;u<=_;u+=2){const v=u===_?-1:l.get(u+1),S=u===g?-1:l.get(u-1)+1,C=Math.min(Math.max(v,S),r.length),y=C-u;if(C>r.length||y>s.length)continue;const b=o(C,y);l.set(u,b);const w=C===v?c.get(u+1):c.get(u-1);if(c.set(u,b!==C?new vle(w,C,y,b-C):w),l.get(u)===r.length&&l.get(u)-u===s.length)break e}}let d=c.get(u);const h=[];let f=r.length,m=s.length;for(;;){const g=d?d.x+d.length:0,_=d?d.y+d.length:0;if((g!==f||_!==m)&&h.push(new Or(new jt(g,f),new jt(_,m))),!d)break;f=d.x,m=d.y,d=d.prev}return h.reverse(),new Gh(h,!1)}}class vle{constructor(e,t,i,r){this.prev=e,this.x=t,this.y=i,this.length=r}}class dtt{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){if(e<0){if(e=-e-1,e>=this.negativeArr.length){const i=this.negativeArr;this.negativeArr=new Int32Array(i.length*2),this.negativeArr.set(i)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){const i=this.positiveArr;this.positiveArr=new Int32Array(i.length*2),this.positiveArr.set(i)}this.positiveArr[e]=t}}}class htt{constructor(){this.positiveArr=[],this.negativeArr=[]}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}}class ZO{constructor(e,t,i){this.lines=e,this.range=t,this.considerWhitespaceChanges=i,this.elements=[],this.firstElementOffsetByLineIdx=[],this.lineStartOffsets=[],this.trimmedWsLengthsByLineIdx=[],this.firstElementOffsetByLineIdx.push(0);for(let r=this.range.startLineNumber;r<=this.range.endLineNumber;r++){let s=e[r-1],o=0;r===this.range.startLineNumber&&this.range.startColumn>1&&(o=this.range.startColumn-1,s=s.substring(o)),this.lineStartOffsets.push(o);let a=0;if(!i){const c=s.trimStart();a=s.length-c.length,s=c.trimEnd()}this.trimmedWsLengthsByLineIdx.push(a);const l=r===this.range.endLineNumber?Math.min(this.range.endColumn-1-o-a,s.length):s.length;for(let c=0;c<l;c++)this.elements.push(s.charCodeAt(c));r<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new jt(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){const t=Cle(e>0?this.elements[e-1]:-1),i=Cle(e<this.elements.length?this.elements[e]:-1);if(t===7&&i===8)return 0;if(t===8)return 150;let r=0;return t!==i&&(r+=10,t===0&&i===1&&(r+=1)),r+=Sle(t),r+=Sle(i),r}translateOffset(e,t="right"){const i=D1(this.firstElementOffsetByLineIdx,s=>s<=e),r=e-this.firstElementOffsetByLineIdx[i];return new Ee(this.range.startLineNumber+i,1+this.lineStartOffsets[i]+r+(r===0&&t==="left"?0:this.trimmedWsLengthsByLineIdx[i]))}translateRange(e){const t=this.translateOffset(e.start,"right"),i=this.translateOffset(e.endExclusive,"left");return i.isBefore(t)?ce.fromPositions(i,i):ce.fromPositions(t,i)}findWordContaining(e){if(e<0||e>=this.elements.length||!p3(this.elements[e]))return;let t=e;for(;t>0&&p3(this.elements[t-1]);)t--;let i=e;for(;i<this.elements.length&&p3(this.elements[i]);)i++;return new jt(t,i)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}isStronglyEqual(e,t){return this.elements[e]===this.elements[t]}extendToFullLines(e){const t=EC(this.firstElementOffsetByLineIdx,r=>r<=e.start)??0,i=Xet(this.firstElementOffsetByLineIdx,r=>e.endExclusive<=r)??this.elements.length;return new jt(t,i)}}function p3(n){return n>=97&&n<=122||n>=65&&n<=90||n>=48&&n<=57}const ftt={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function Sle(n){return ftt[n]}function Cle(n){return n===10?8:n===13?7:H6(n)?6:n>=97&&n<=122?0:n>=65&&n<=90?1:n>=48&&n<=57?2:n===-1?3:n===44||n===59?5:4}function gtt(n,e,t,i,r,s){let{moves:o,excludedChanges:a}=mtt(n,e,t,s);if(!s.isValid())return[];const l=n.filter(u=>!a.has(u)),c=_tt(l,i,r,e,t,s);return J9(o,c),o=Ett(o),o=o.filter(u=>{const d=u.original.toOffsetRange().slice(e).map(f=>f.trim());return d.join(`
`).length>=15&&ptt(d,f=>f.length>=2)>=2}),o=vtt(n,o),o}function ptt(n,e){let t=0;for(const i of n)e(i)&&t++;return t}function mtt(n,e,t,i){const r=[],s=n.filter(l=>l.modified.isEmpty&&l.original.length>=3).map(l=>new QO(l.original,e,l)),o=new Set(n.filter(l=>l.original.isEmpty&&l.modified.length>=3).map(l=>new QO(l.modified,t,l))),a=new Set;for(const l of s){let c=-1,u;for(const d of o){const h=l.computeSimilarity(d);h>c&&(c=h,u=d)}if(c>.9&&u&&(o.delete(u),r.push(new co(l.range,u.range)),a.add(l.source),a.add(u.source)),!i.isValid())return{moves:r,excludedChanges:a}}return{moves:r,excludedChanges:a}}function _tt(n,e,t,i,r,s){const o=[],a=new mwe;for(const h of n)for(let f=h.original.startLineNumber;f<h.original.endLineNumberExclusive-2;f++){const m=`${e[f-1]}:${e[f+1-1]}:${e[f+2-1]}`;a.add(m,{range:new Rt(f,f+3)})}const l=[];n.sort(lc(h=>h.modified.startLineNumber,Lg));for(const h of n){let f=[];for(let m=h.modified.startLineNumber;m<h.modified.endLineNumberExclusive-2;m++){const g=`${t[m-1]}:${t[m+1-1]}:${t[m+2-1]}`,_=new Rt(m,m+3),v=[];a.forEach(g,({range:S})=>{for(const y of f)if(y.originalLineRange.endLineNumberExclusive+1===S.endLineNumberExclusive&&y.modifiedLineRange.endLineNumberExclusive+1===_.endLineNumberExclusive){y.originalLineRange=new Rt(y.originalLineRange.startLineNumber,S.endLineNumberExclusive),y.modifiedLineRange=new Rt(y.modifiedLineRange.startLineNumber,_.endLineNumberExclusive),v.push(y);return}const C={modifiedLineRange:_,originalLineRange:S};l.push(C),v.push(C)}),f=v}if(!s.isValid())return[]}l.sort(Eqe(lc(h=>h.modifiedLineRange.length,Lg)));const c=new _l,u=new _l;for(const h of l){const f=h.modifiedLineRange.startLineNumber-h.originalLineRange.startLineNumber,m=c.subtractFrom(h.modifiedLineRange),g=u.subtractFrom(h.originalLineRange).getWithDelta(f),_=m.getIntersection(g);for(const v of _.ranges){if(v.length<3)continue;const S=v,C=v.delta(-f);o.push(new co(C,S)),c.addRange(S),u.addRange(C)}}o.sort(lc(h=>h.original.startLineNumber,Lg));const d=new XO(n);for(let h=0;h<o.length;h++){const f=o[h],m=d.findLastMonotonous(w=>w.original.startLineNumber<=f.original.startLineNumber),g=EC(n,w=>w.modified.startLineNumber<=f.modified.startLineNumber),_=Math.max(f.original.startLineNumber-m.original.startLineNumber,f.modified.startLineNumber-g.modified.startLineNumber),v=d.findLastMonotonous(w=>w.original.startLineNumber<f.original.endLineNumberExclusive),S=EC(n,w=>w.modified.startLineNumber<f.modified.endLineNumberExclusive),C=Math.max(v.original.endLineNumberExclusive-f.original.endLineNumberExclusive,S.modified.endLineNumberExclusive-f.modified.endLineNumberExclusive);let y;for(y=0;y<_;y++){const w=f.original.startLineNumber-y-1,I=f.modified.startLineNumber-y-1;if(w>i.length||I>r.length||c.contains(I)||u.contains(w)||!yle(i[w-1],r[I-1],s))break}y>0&&(u.addRange(new Rt(f.original.startLineNumber-y,f.original.startLineNumber)),c.addRange(new Rt(f.modified.startLineNumber-y,f.modified.startLineNumber)));let b;for(b=0;b<C;b++){const w=f.original.endLineNumberExclusive+b,I=f.modified.endLineNumberExclusive+b;if(w>i.length||I>r.length||c.contains(I)||u.contains(w)||!yle(i[w-1],r[I-1],s))break}b>0&&(u.addRange(new Rt(f.original.endLineNumberExclusive,f.original.endLineNumberExclusive+b)),c.addRange(new Rt(f.modified.endLineNumberExclusive,f.modified.endLineNumberExclusive+b))),(y>0||b>0)&&(o[h]=new co(new Rt(f.original.startLineNumber-y,f.original.endLineNumberExclusive+b),new Rt(f.modified.startLineNumber-y,f.modified.endLineNumberExclusive+b)))}return o}function yle(n,e,t){if(n.trim()===e.trim())return!0;if(n.length>300&&e.length>300)return!1;const r=new Cwe().compute(new ZO([n],new ce(1,1,1,n.length),!1),new ZO([e],new ce(1,1,1,e.length),!1),t);let s=0;const o=Or.invert(r.diffs,n.length);for(const u of o)u.seq1Range.forEach(d=>{H6(n.charCodeAt(d))||s++});function a(u){let d=0;for(let h=0;h<n.length;h++)H6(u.charCodeAt(h))||d++;return d}const l=a(n.length>e.length?n:e);return s/l>.6&&l>10}function Ett(n){if(n.length===0)return n;n.sort(lc(t=>t.original.startLineNumber,Lg));const e=[n[0]];for(let t=1;t<n.length;t++){const i=e[e.length-1],r=n[t],s=r.original.startLineNumber-i.original.endLineNumberExclusive,o=r.modified.startLineNumber-i.modified.endLineNumberExclusive;if(s>=0&&o>=0&&s+o<=2){e[e.length-1]=i.join(r);continue}e.push(r)}return e}function vtt(n,e){const t=new XO(n);return e=e.filter(i=>{const r=t.findLastMonotonous(a=>a.original.startLineNumber<i.original.endLineNumberExclusive)||new co(new Rt(1,1),new Rt(1,1)),s=EC(n,a=>a.modified.startLineNumber<i.modified.endLineNumberExclusive);return r!==s}),e}function V6(n,e,t){let i=t;return i=ble(n,e,i),i=ble(n,e,i),i=Stt(n,e,i),i}function ble(n,e,t){if(t.length===0)return t;const i=[];i.push(t[0]);for(let s=1;s<t.length;s++){const o=i[i.length-1];let a=t[s];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=a.seq1Range.start-o.seq1Range.endExclusive;let c;for(c=1;c<=l&&!(n.getElement(a.seq1Range.start-c)!==n.getElement(a.seq1Range.endExclusive-c)||e.getElement(a.seq2Range.start-c)!==e.getElement(a.seq2Range.endExclusive-c));c++);if(c--,c===l){i[i.length-1]=new Or(new jt(o.seq1Range.start,a.seq1Range.endExclusive-l),new jt(o.seq2Range.start,a.seq2Range.endExclusive-l));continue}a=a.delta(-c)}i.push(a)}const r=[];for(let s=0;s<i.length-1;s++){const o=i[s+1];let a=i[s];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=o.seq1Range.start-a.seq1Range.endExclusive;let c;for(c=0;c<l&&!(!n.isStronglyEqual(a.seq1Range.start+c,a.seq1Range.endExclusive+c)||!e.isStronglyEqual(a.seq2Range.start+c,a.seq2Range.endExclusive+c));c++);if(c===l){i[s+1]=new Or(new jt(a.seq1Range.start+l,o.seq1Range.endExclusive),new jt(a.seq2Range.start+l,o.seq2Range.endExclusive));continue}c>0&&(a=a.delta(c))}r.push(a)}return i.length>0&&r.push(i[i.length-1]),r}function Stt(n,e,t){if(!n.getBoundaryScore||!e.getBoundaryScore)return t;for(let i=0;i<t.length;i++){const r=i>0?t[i-1]:void 0,s=t[i],o=i+1<t.length?t[i+1]:void 0,a=new jt(r?r.seq1Range.endExclusive+1:0,o?o.seq1Range.start-1:n.length),l=new jt(r?r.seq2Range.endExclusive+1:0,o?o.seq2Range.start-1:e.length);s.seq1Range.isEmpty?t[i]=Tle(s,n,e,a,l):s.seq2Range.isEmpty&&(t[i]=Tle(s.swap(),e,n,l,a).swap())}return t}function Tle(n,e,t,i,r){let o=1;for(;n.seq1Range.start-o>=i.start&&n.seq2Range.start-o>=r.start&&t.isStronglyEqual(n.seq2Range.start-o,n.seq2Range.endExclusive-o)&&o<100;)o++;o--;let a=0;for(;n.seq1Range.start+a<i.endExclusive&&n.seq2Range.endExclusive+a<r.endExclusive&&t.isStronglyEqual(n.seq2Range.start+a,n.seq2Range.endExclusive+a)&&a<100;)a++;if(o===0&&a===0)return n;let l=0,c=-1;for(let u=-o;u<=a;u++){const d=n.seq2Range.start+u,h=n.seq2Range.endExclusive+u,f=n.seq1Range.start+u,m=e.getBoundaryScore(f)+t.getBoundaryScore(d)+t.getBoundaryScore(h);m>c&&(c=m,l=u)}return n.delta(l)}function Ctt(n,e,t){const i=[];for(const r of t){const s=i[i.length-1];if(!s){i.push(r);continue}r.seq1Range.start-s.seq1Range.endExclusive<=2||r.seq2Range.start-s.seq2Range.endExclusive<=2?i[i.length-1]=new Or(s.seq1Range.join(r.seq1Range),s.seq2Range.join(r.seq2Range)):i.push(r)}return i}function ytt(n,e,t){const i=Or.invert(t,n.length),r=[];let s=new Dh(0,0);function o(l,c){if(l.offset1<s.offset1||l.offset2<s.offset2)return;const u=n.findWordContaining(l.offset1),d=e.findWordContaining(l.offset2);if(!u||!d)return;let h=new Or(u,d);const f=h.intersect(c);let m=f.seq1Range.length,g=f.seq2Range.length;for(;i.length>0;){const _=i[0];if(!(_.seq1Range.intersects(h.seq1Range)||_.seq2Range.intersects(h.seq2Range)))break;const S=n.findWordContaining(_.seq1Range.start),C=e.findWordContaining(_.seq2Range.start),y=new Or(S,C),b=y.intersect(_);if(m+=b.seq1Range.length,g+=b.seq2Range.length,h=h.join(y),h.seq1Range.endExclusive>=_.seq1Range.endExclusive)i.shift();else break}m+g<(h.seq1Range.length+h.seq2Range.length)*2/3&&r.push(h),s=h.getEndExclusives()}for(;i.length>0;){const l=i.shift();l.seq1Range.isEmpty||(o(l.getStarts(),l),o(l.getEndExclusives().delta(-1),l))}return btt(t,r)}function btt(n,e){const t=[];for(;n.length>0||e.length>0;){const i=n[0],r=e[0];let s;i&&(!r||i.seq1Range.start<r.seq1Range.start)?s=n.shift():s=e.shift(),t.length>0&&t[t.length-1].seq1Range.endExclusive>=s.seq1Range.start?t[t.length-1]=t[t.length-1].join(s):t.push(s)}return t}function Ttt(n,e,t){let i=t;if(i.length===0)return i;let r=0,s;do{s=!1;const a=[i[0]];for(let l=1;l<i.length;l++){let d=function(f,m){const g=new jt(u.seq1Range.endExclusive,c.seq1Range.start);return n.getText(g).replace(/\s/g,"").length<=4&&(f.seq1Range.length+f.seq2Range.length>5||m.seq1Range.length+m.seq2Range.length>5)};var o=d;const c=i[l],u=a[a.length-1];d(u,c)?(s=!0,a[a.length-1]=a[a.length-1].join(c)):a.push(c)}i=a}while(r++<10&&s);return i}function wtt(n,e,t){let i=t;if(i.length===0)return i;let r=0,s;do{s=!1;const l=[i[0]];for(let c=1;c<i.length;c++){let h=function(m,g){const _=new jt(d.seq1Range.endExclusive,u.seq1Range.start);if(n.countLinesIn(_)>5||_.length>500)return!1;const S=n.getText(_).trim();if(S.length>20||S.split(/\r\n|\r|\n/).length>1)return!1;const C=n.countLinesIn(m.seq1Range),y=m.seq1Range.length,b=e.countLinesIn(m.seq2Range),w=m.seq2Range.length,I=n.countLinesIn(g.seq1Range),O=g.seq1Range.length,x=e.countLinesIn(g.seq2Range),k=g.seq2Range.length,P=2*40+50;function M(W){return Math.min(W,P)}return Math.pow(Math.pow(M(C*40+y),1.5)+Math.pow(M(b*40+w),1.5),1.5)+Math.pow(Math.pow(M(I*40+O),1.5)+Math.pow(M(x*40+k),1.5),1.5)>(P**1.5)**1.5*1.3};var a=h;const u=i[c],d=l[l.length-1];h(d,u)?(s=!0,l[l.length-1]=l[l.length-1].join(u)):l.push(u)}i=l}while(r++<10&&s);const o=[];return fqe(i,(l,c,u)=>{let d=c;function h(S){return S.length>0&&S.trim().length<=3&&c.seq1Range.length+c.seq2Range.length>100}const f=n.extendToFullLines(c.seq1Range),m=n.getText(new jt(f.start,c.seq1Range.start));h(m)&&(d=d.deltaStart(-m.length));const g=n.getText(new jt(c.seq1Range.endExclusive,f.endExclusive));h(g)&&(d=d.deltaEnd(g.length));const _=Or.fromOffsetPairs(l?l.getEndExclusives():Dh.zero,u?u.getStarts():Dh.max),v=d.intersect(_);o.length>0&&v.getStarts().equals(o[o.length-1].getEndExclusives())?o[o.length-1]=o[o.length-1].join(v):o.push(v)}),o}class wle{constructor(e,t){this.trimmedHash=e,this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){const t=e===0?0:Ale(this.lines[e-1]),i=e===this.lines.length?0:Ale(this.lines[e]);return 1e3-(t+i)}getText(e){return this.lines.slice(e.start,e.endExclusive).join(`
`)}isStronglyEqual(e,t){return this.lines[e]===this.lines[t]}}function Ale(n){let e=0;for(;e<n.length&&(n.charCodeAt(e)===32||n.charCodeAt(e)===9);)e++;return e}class ywe{constructor(){this.dynamicProgrammingDiffing=new utt,this.myersDiffingAlgorithm=new Cwe}computeDiff(e,t,i){if(e.length<=1&&Mr(e,t,(b,w)=>b===w))return new hL([],[],!1);if(e.length===1&&e[0].length===0||t.length===1&&t[0].length===0)return new hL([new Qa(new Rt(1,e.length+1),new Rt(1,t.length+1),[new Va(new ce(1,1,e.length,e[e.length-1].length+1),new ce(1,1,t.length,t[t.length-1].length+1))])],[],!1);const r=i.maxComputationTimeMs===0?P1.instance:new ctt(i.maxComputationTimeMs),s=!i.ignoreTrimWhitespace,o=new Map;function a(b){let w=o.get(b);return w===void 0&&(w=o.size,o.set(b,w)),w}const l=e.map(b=>a(b.trim())),c=t.map(b=>a(b.trim())),u=new wle(l,e),d=new wle(c,t),h=u.length+d.length<1700?this.dynamicProgrammingDiffing.compute(u,d,r,(b,w)=>e[b]===t[w]?t[w].length===0?.1:1+Math.log(1+t[w].length):.99):this.myersDiffingAlgorithm.compute(u,d,r);let f=h.diffs,m=h.hitTimeout;f=V6(u,d,f),f=Ttt(u,d,f);const g=[],_=b=>{if(s)for(let w=0;w<b;w++){const I=v+w,O=S+w;if(e[I]!==t[O]){const x=this.refineDiff(e,t,new Or(new jt(I,I+1),new jt(O,O+1)),r,s);for(const k of x.mappings)g.push(k);x.hitTimeout&&(m=!0)}}};let v=0,S=0;for(const b of f){L_(()=>b.seq1Range.start-v===b.seq2Range.start-S);const w=b.seq1Range.start-v;_(w),v=b.seq1Range.endExclusive,S=b.seq2Range.endExclusive;const I=this.refineDiff(e,t,b,r,s);I.hitTimeout&&(m=!0);for(const O of I.mappings)g.push(O)}_(e.length-v);const C=Rle(g,e,t);let y=[];return i.computeMoves&&(y=this.computeMoves(C,e,t,l,c,r,s)),L_(()=>{function b(I,O){if(I.lineNumber<1||I.lineNumber>O.length)return!1;const x=O[I.lineNumber-1];return!(I.column<1||I.column>x.length+1)}function w(I,O){return!(I.startLineNumber<1||I.startLineNumber>O.length+1||I.endLineNumberExclusive<1||I.endLineNumberExclusive>O.length+1)}for(const I of C){if(!I.innerChanges)return!1;for(const O of I.innerChanges)if(!(b(O.modifiedRange.getStartPosition(),t)&&b(O.modifiedRange.getEndPosition(),t)&&b(O.originalRange.getStartPosition(),e)&&b(O.originalRange.getEndPosition(),e)))return!1;if(!w(I.modified,t)||!w(I.original,e))return!1}return!0}),new hL(C,y,m)}computeMoves(e,t,i,r,s,o,a){return gtt(e,t,i,r,s,o).map(u=>{const d=this.refineDiff(t,i,new Or(u.original.toOffsetRange(),u.modified.toOffsetRange()),o,a),h=Rle(d.mappings,t,i,!0);return new _we(u,h)})}refineDiff(e,t,i,r,s){const a=Rtt(i).toRangeMapping2(e,t),l=new ZO(e,a.originalRange,s),c=new ZO(t,a.modifiedRange,s),u=l.length+c.length<500?this.dynamicProgrammingDiffing.compute(l,c,r):this.myersDiffingAlgorithm.compute(l,c,r);let d=u.diffs;return d=V6(l,c,d),d=ytt(l,c,d),d=Ctt(l,c,d),d=wtt(l,c,d),{mappings:d.map(f=>new Va(l.translateRange(f.seq1Range),c.translateRange(f.seq2Range))),hitTimeout:u.hitTimeout}}}function Rle(n,e,t,i=!1){const r=[];for(const s of EK(n.map(o=>Att(o,e,t)),(o,a)=>o.original.overlapOrTouch(a.original)||o.modified.overlapOrTouch(a.modified))){const o=s[0],a=s[s.length-1];r.push(new Qa(o.original.join(a.original),o.modified.join(a.modified),s.map(l=>l.innerChanges[0])))}return L_(()=>!i&&r.length>0&&(r[0].modified.startLineNumber!==r[0].original.startLineNumber||t.length-r[r.length-1].modified.endLineNumberExclusive!==e.length-r[r.length-1].original.endLineNumberExclusive)?!1:eq(r,(s,o)=>o.original.startLineNumber-s.original.endLineNumberExclusive===o.modified.startLineNumber-s.modified.endLineNumberExclusive&&s.original.endLineNumberExclusive<o.original.startLineNumber&&s.modified.endLineNumberExclusive<o.modified.startLineNumber)),r}function Att(n,e,t){let i=0,r=0;n.modifiedRange.endColumn===1&&n.originalRange.endColumn===1&&n.originalRange.startLineNumber+i<=n.originalRange.endLineNumber&&n.modifiedRange.startLineNumber+i<=n.modifiedRange.endLineNumber&&(r=-1),n.modifiedRange.startColumn-1>=t[n.modifiedRange.startLineNumber-1].length&&n.originalRange.startColumn-1>=e[n.originalRange.startLineNumber-1].length&&n.originalRange.startLineNumber<=n.originalRange.endLineNumber+r&&n.modifiedRange.startLineNumber<=n.modifiedRange.endLineNumber+r&&(i=1);const s=new Rt(n.originalRange.startLineNumber+i,n.originalRange.endLineNumber+1+r),o=new Rt(n.modifiedRange.startLineNumber+i,n.modifiedRange.endLineNumber+1+r);return new Qa(s,o,[n])}function Rtt(n){return new co(new Rt(n.seq1Range.start+1,n.seq1Range.endExclusive+1),new Rt(n.seq2Range.start+1,n.seq2Range.endExclusive+1))}const Ile={getLegacy:()=>new stt,getDefault:()=>new ywe};function Pg(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}class xn{constructor(e,t,i,r=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=Pg(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class ec{constructor(e,t,i,r){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Pg(Math.max(Math.min(1,t),0),3),this.l=Pg(Math.max(Math.min(1,i),0),3),this.a=Pg(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,s=e.a,o=Math.max(t,i,r),a=Math.min(t,i,r);let l=0,c=0;const u=(a+o)/2,d=o-a;if(d>0){switch(c=Math.min(u<=.5?d/(2*u):d/(2-2*u),1),o){case t:l=(i-r)/d+(i<r?6:0);break;case i:l=(r-t)/d+2;break;case r:l=(t-i)/d+4;break}l*=60,l=Math.round(l)}return new ec(l,c,u,s)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:r,a:s}=e;let o,a,l;if(i===0)o=a=l=r;else{const c=r<.5?r*(1+i):r+i-r*i,u=2*r-c;o=ec._hue2rgb(u,c,t+1/3),a=ec._hue2rgb(u,c,t),l=ec._hue2rgb(u,c,t-1/3)}return new xn(Math.round(o*255),Math.round(a*255),Math.round(l*255),s)}}class Bv{constructor(e,t,i,r){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Pg(Math.max(Math.min(1,t),0),3),this.v=Pg(Math.max(Math.min(1,i),0),3),this.a=Pg(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),a=s-o,l=s===0?0:a/s;let c;return a===0?c=0:s===t?c=((i-r)/a%6+6)%6:s===i?c=(r-t)/a+2:c=(t-i)/a+4,new Bv(Math.round(c*60),l,s,e.a)}static toRGBA(e){const{h:t,s:i,v:r,a:s}=e,o=r*i,a=o*(1-Math.abs(t/60%2-1)),l=r-o;let[c,u,d]=[0,0,0];return t<60?(c=o,u=a):t<120?(c=a,u=o):t<180?(u=o,d=a):t<240?(u=a,d=o):t<300?(c=a,d=o):t<=360&&(c=o,d=a),c=Math.round((c+l)*255),u=Math.round((u+l)*255),d=Math.round((d+l)*255),new xn(c,u,d,s)}}const ji=class ji{static fromHex(e){return ji.Format.CSS.parseHex(e)||ji.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}get hsla(){return this._hsla?this._hsla:ec.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Bv.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof xn)this.rgba=e;else if(e instanceof ec)this._hsla=e,this.rgba=ec.toRGBA(e);else if(e instanceof Bv)this._hsva=e,this.rgba=Bv.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&xn.equals(this.rgba,e.rgba)&&ec.equals(this.hsla,e.hsla)&&Bv.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=ji._relativeLuminanceForComponent(this.rgba.r),t=ji._relativeLuminanceForComponent(this.rgba.g),i=ji._relativeLuminanceForComponent(this.rgba.b),r=.2126*e+.7152*t+.0722*i;return Pg(r,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new ji(new ec(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new ji(new ec(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:r,a:s}=this.rgba;return new ji(new xn(t,i,r,s*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new ji(new xn(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;const{r:t,g:i,b:r,a:s}=this.rgba;return new ji(new xn(e.rgba.r-s*(e.rgba.r-t),e.rgba.g-s*(e.rgba.g-i),e.rgba.b-s*(e.rgba.b-r),1))}toString(){return this._toString||(this._toString=ji.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),s=t.getRelativeLuminance();return i=i*(s-r)/s,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),s=t.getRelativeLuminance();return i=i*(r-s)/r,e.darken(i)}};ji.white=new ji(new xn(255,255,255,1)),ji.black=new ji(new xn(0,0,0,1)),ji.red=new ji(new xn(255,0,0,1)),ji.blue=new ji(new xn(0,0,255,1)),ji.green=new ji(new xn(0,255,0,1)),ji.cyan=new ji(new xn(0,255,255,1)),ji.lightgrey=new ji(new xn(211,211,211,1)),ji.transparent=new ji(new xn(0,0,0,0));let Me=ji;(function(n){(function(e){(function(t){function i(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:n.Format.CSS.formatRGBA(f)}t.formatRGB=i;function r(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}t.formatRGBA=r;function s(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:n.Format.CSS.formatHSLA(f)}t.formatHSL=s;function o(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}t.formatHSLA=o;function a(f){const m=f.toString(16);return m.length!==2?"0"+m:m}function l(f){return`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}`}t.formatHex=l;function c(f,m=!1){return m&&f.rgba.a===1?n.Format.CSS.formatHex(f):`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}${a(Math.round(f.rgba.a*255))}`}t.formatHexA=c;function u(f){return f.isOpaque()?n.Format.CSS.formatHex(f):n.Format.CSS.formatRGBA(f)}t.format=u;function d(f){const m=f.length;if(m===0||f.charCodeAt(0)!==35)return null;if(m===7){const g=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),_=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),v=16*h(f.charCodeAt(5))+h(f.charCodeAt(6));return new n(new xn(g,_,v,1))}if(m===9){const g=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),_=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),v=16*h(f.charCodeAt(5))+h(f.charCodeAt(6)),S=16*h(f.charCodeAt(7))+h(f.charCodeAt(8));return new n(new xn(g,_,v,S/255))}if(m===4){const g=h(f.charCodeAt(1)),_=h(f.charCodeAt(2)),v=h(f.charCodeAt(3));return new n(new xn(16*g+g,16*_+_,16*v+v))}if(m===5){const g=h(f.charCodeAt(1)),_=h(f.charCodeAt(2)),v=h(f.charCodeAt(3)),S=h(f.charCodeAt(4));return new n(new xn(16*g+g,16*_+_,16*v+v,(16*S+S)/255))}return null}t.parseHex=d;function h(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(n.Format||(n.Format={}))})(Me||(Me={}));function bwe(n){const e=[];for(const t of n){const i=Number(t);(i||i===0&&t.replace(/\s/g,"")!=="")&&e.push(i)}return e}function aq(n,e,t,i){return{red:n/255,blue:t/255,green:e/255,alpha:i}}function Ub(n,e){const t=e.index,i=e[0].length;if(!t)return;const r=n.positionAt(t);return{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:r.lineNumber,endColumn:r.column+i}}function Itt(n,e){if(!n)return;const t=Me.Format.CSS.parseHex(e);if(t)return{range:n,color:aq(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function Nle(n,e,t){if(!n||e.length!==1)return;const r=e[0].values(),s=bwe(r);return{range:n,color:aq(s[0],s[1],s[2],t?s[3]:1)}}function Lle(n,e,t){if(!n||e.length!==1)return;const r=e[0].values(),s=bwe(r),o=new Me(new ec(s[0],s[1]/100,s[2]/100,t?s[3]:1));return{range:n,color:aq(o.rgba.r,o.rgba.g,o.rgba.b,o.rgba.a)}}function Hb(n,e){return typeof n=="string"?[...n.matchAll(e)]:n.findMatches(e)}function Ntt(n){const e=[],i=Hb(n,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(i.length>0)for(const r of i){const s=r.filter(c=>c!==void 0),o=s[1],a=s[2];if(!a)continue;let l;if(o==="rgb"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;l=Nle(Ub(n,r),Hb(a,c),!1)}else if(o==="rgba"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=Nle(Ub(n,r),Hb(a,c),!0)}else if(o==="hsl"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;l=Lle(Ub(n,r),Hb(a,c),!1)}else if(o==="hsla"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=Lle(Ub(n,r),Hb(a,c),!0)}else o==="#"&&(l=Itt(Ub(n,r),o+a));l&&e.push(l)}return e}function Ltt(n){return!n||typeof n.getValue!="function"||typeof n.positionAt!="function"?[]:Ntt(n)}const Ole=new RegExp("\\bMARK:\\s*(.*)$","d"),Ott=/^-+|-+$/g;function xtt(n,e){var i;let t=[];if(e.findRegionSectionHeaders&&((i=e.foldingRules)!=null&&i.markers)){const r=Dtt(n,e);t=t.concat(r)}if(e.findMarkSectionHeaders){const r=Ptt(n);t=t.concat(r)}return t}function Dtt(n,e){const t=[],i=n.getLineCount();for(let r=1;r<=i;r++){const s=n.getLineContent(r),o=s.match(e.foldingRules.markers.start);if(o){const a={startLineNumber:r,startColumn:o[0].length+1,endLineNumber:r,endColumn:s.length+1};if(a.endColumn>a.startColumn){const l={range:a,...Twe(s.substring(o[0].length)),shouldBeInComments:!1};(l.text||l.hasSeparatorLine)&&t.push(l)}}}return t}function Ptt(n){const e=[],t=n.getLineCount();for(let i=1;i<=t;i++){const r=n.getLineContent(i);ktt(r,i,e)}return e}function ktt(n,e,t){Ole.lastIndex=0;const i=Ole.exec(n);if(i){const r=i.indices[1][0]+1,s=i.indices[1][1]+1,o={startLineNumber:e,startColumn:r,endLineNumber:e,endColumn:s};if(o.endColumn>o.startColumn){const a={range:o,...Twe(i[1]),shouldBeInComments:!0};(a.text||a.hasSeparatorLine)&&t.push(a)}}}function Twe(n){n=n.trim();const e=n.startsWith("-");return n=n.replace(Ott,""),{text:n,hasSeparatorLine:e}}class Mtt{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=av(e);const i=this.values,r=this.prefixSum,s=t.length;return s===0?!1:(this.values=new Uint32Array(i.length+s),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+s),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=av(e),t=av(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=av(e),t=av(t);const i=this.values,r=this.prefixSum;if(e>=i.length)return!1;const s=i.length-e;return t>=s&&(t=s),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=av(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,r=0,s=0,o=0;for(;t<=i;)if(r=t+(i-t)/2|0,s=this.prefixSum[r],o=s-this.values[r],e<o)i=r-1;else if(e>=s)t=r+1;else break;return new wwe(r,e-o)}}class Ftt{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new wwe(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=AM(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const i=this._values[e],r=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=r+i;for(let s=0;s<i;s++)this._indexBySum[r+s]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class wwe{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class Btt{constructor(e,t,i,r){this._uri=e,this._lines=t,this._eol=i,this._versionId=r,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new Ee(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let r=0;r<t;r++)i[r]=this._lines[r].length+e;this._lineStarts=new Mtt(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;const i=Sy(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const r=new Uint32Array(i.length-1);for(let s=1;s<i.length;s++)this._lines.splice(e.lineNumber+s-1,0,i[s]),r[s-1]=i[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}}const xle=60*1e3;class Utt extends Ne{constructor(e,t,i=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const r=new VK;r.cancelAndSet(()=>this._checkStopModelSync(),Math.round(xle/2)),this._register(r)}}dispose(){for(const e in this._syncedModels)As(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t=!1){for(const i of e){const r=i.toString();this._syncedModels[r]||this._beginModelSync(i,t),this._syncedModels[r]&&(this._syncedModelsLastUsedTime[r]=new Date().getTime())}}_checkStopModelSync(){const e=new Date().getTime(),t=[];for(const i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>xle&&t.push(i);for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;const r=e.toString();this._proxy.$acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const s=new at;s.add(i.onDidChangeContent(o=>{this._proxy.$acceptModelChanged(r.toString(),o)})),s.add(i.onWillDispose(()=>{this._stopModelSync(r)})),s.add(Ht(()=>{this._proxy.$acceptRemovedModel(r)})),this._syncedModels[r]=s}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],As(t)}}class Htt{constructor(){this._models=Object.create(null)}getModel(e){return this._models[e]}getModels(){const e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}$acceptNewModel(e){this._models[e.url]=new Vtt(en.parse(e.url),e.lines,e.EOL,e.versionId)}$acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}$acceptRemovedModel(e){this._models[e]&&delete this._models[e]}}class Vtt extends Btt{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(e){const t=[];for(let i=0;i<this._lines.length;i++){const r=this._lines[i],s=this.offsetAt(new Ee(i+1,1)),o=r.matchAll(e);for(const a of o)(a.index||a.index===0)&&(a.index=a.index+s),t.push(a)}return t}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=y1(e.column,wK(t),this._lines[e.lineNumber-1],0);return i?new ce(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let r=0,s="",o=0,a=[];return{*[Symbol.iterator](){for(;;)if(o<a.length){const l=s.substring(a[o].start,a[o].end);o+=1,yield l}else if(r<t.length)s=t[r],a=i(s,e),o=0,r+=1;else break}}}getLineWords(e,t){const i=this._lines[e-1],r=this._wordenize(i,t),s=[];for(const o of r)s.push({word:i.substring(o.start,o.end),startColumn:o.start+1,endColumn:o.end+1});return s}_wordenize(e,t){const i=[];let r;for(t.lastIndex=0;(r=t.exec(e))&&r[0].length!==0;)i.push({start:r.index,end:r.index+r[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,r=e.endLineNumber-1,s=[];s.push(this._lines[i].substring(e.startColumn-1));for(let o=i+1;o<r;o++)s.push(this._lines[o]);return s.push(this._lines[r].substring(0,e.endColumn-1)),s.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!Ee.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,r=!1;if(t<1)t=1,i=1,r=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,r=!0;else{const s=this._lines[t-1].length+1;i<1?(i=1,r=!0):i>s&&(i=s,r=!0)}return r?{lineNumber:t,column:i}:e}}const RP=class RP{constructor(){this._workerTextModelSyncServer=new Htt}dispose(){}_getModel(e){return this._workerTextModelSyncServer.getModel(e)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(e){this._workerTextModelSyncServer.$acceptNewModel(e)}$acceptModelChanged(e,t){this._workerTextModelSyncServer.$acceptModelChanged(e,t)}$acceptRemovedModel(e){this._workerTextModelSyncServer.$acceptRemovedModel(e)}async $computeUnicodeHighlights(e,t,i){const r=this._getModel(e);return r?Yet.computeUnicodeHighlights(r,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async $findSectionHeaders(e,t){const i=this._getModel(e);return i?xtt(i,t):[]}async $computeDiff(e,t,i,r){const s=this._getModel(e),o=this._getModel(t);return!s||!o?null:fL.computeDiff(s,o,i,r)}static computeDiff(e,t,i,r){const s=r==="advanced"?Ile.getDefault():Ile.getLegacy(),o=e.getLinesContent(),a=t.getLinesContent(),l=s.computeDiff(o,a,i),c=l.changes.length>0?!1:this._modelsAreIdentical(e,t);function u(d){return d.map(h=>{var f;return[h.original.startLineNumber,h.original.endLineNumberExclusive,h.modified.startLineNumber,h.modified.endLineNumberExclusive,(f=h.innerChanges)==null?void 0:f.map(m=>[m.originalRange.startLineNumber,m.originalRange.startColumn,m.originalRange.endLineNumber,m.originalRange.endColumn,m.modifiedRange.startLineNumber,m.modifiedRange.startColumn,m.modifiedRange.endLineNumber,m.modifiedRange.endColumn])]})}return{identical:c,quitEarly:l.hitTimeout,changes:u(l.changes),moves:l.moves.map(d=>[d.lineRangeMapping.original.startLineNumber,d.lineRangeMapping.original.endLineNumberExclusive,d.lineRangeMapping.modified.startLineNumber,d.lineRangeMapping.modified.endLineNumberExclusive,u(d.changes)])}}static _modelsAreIdentical(e,t){const i=e.getLineCount(),r=t.getLineCount();if(i!==r)return!1;for(let s=1;s<=i;s++){const o=e.getLineContent(s),a=t.getLineContent(s);if(o!==a)return!1}return!0}async $computeMoreMinimalEdits(e,t,i){const r=this._getModel(e);if(!r)return t;const s=[];let o;t=t.slice(0).sort((l,c)=>{if(l.range&&c.range)return ce.compareRangesUsingStarts(l.range,c.range);const u=l.range?0:1,d=c.range?0:1;return u-d});let a=0;for(let l=1;l<t.length;l++)ce.getEndPosition(t[a].range).equals(ce.getStartPosition(t[l].range))?(t[a].range=ce.fromPositions(ce.getStartPosition(t[a].range),ce.getEndPosition(t[l].range)),t[a].text+=t[l].text):(a++,t[a]=t[l]);t.length=a+1;for(let{range:l,text:c,eol:u}of t){if(typeof u=="number"&&(o=u),ce.isEmpty(l)&&!c)continue;const d=r.getValueInRange(l);if(c=c.replace(/\r\n|\n|\r/g,r.eol),d===c)continue;if(Math.max(c.length,d.length)>fL._diffLimit){s.push({range:l,text:c});continue}const h=Ret(d,c,i),f=r.offsetAt(ce.lift(l).getStartPosition());for(const m of h){const g=r.positionAt(f+m.originalStart),_=r.positionAt(f+m.originalStart+m.originalLength),v={text:c.substr(m.modifiedStart,m.modifiedLength),range:{startLineNumber:g.lineNumber,startColumn:g.column,endLineNumber:_.lineNumber,endColumn:_.column}};r.getValueInRange(v.range)!==v.text&&s.push(v)}}return typeof o=="number"&&s.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),s}async $computeLinks(e){const t=this._getModel(e);return t?xet(t):null}async $computeDefaultDocumentColors(e){const t=this._getModel(e);return t?Ltt(t):null}async $textualSuggest(e,t,i,r){const s=new eE,o=new RegExp(i,r),a=new Set;e:for(const l of e){const c=this._getModel(l);if(c){for(const u of c.words(o))if(!(u===t||!isNaN(Number(u)))&&(a.add(u),a.size>fL._suggestionsLimit))break e}}return{words:Array.from(a),duration:s.elapsed()}}async $computeWordRanges(e,t,i,r){const s=this._getModel(e);if(!s)return Object.create(null);const o=new RegExp(i,r),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){const c=s.getLineWords(l,o);for(const u of c){if(!isNaN(Number(u.word)))continue;let d=a[u.word];d||(d=[],a[u.word]=d),d.push({startLineNumber:l,startColumn:u.startColumn,endLineNumber:l,endColumn:u.endColumn})}}return a}async $navigateValueSet(e,t,i,r,s){const o=this._getModel(e);if(!o)return null;const a=new RegExp(r,s);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const l=o.getValueInRange(t),c=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;const u=o.getValueInRange(c);return k6.INSTANCE.navigateValueSet(t,l,c,u,i)}};RP._diffLimit=1e5,RP._suggestionsLimit=1e4;let W6=RP;class fL extends W6{constructor(e,t){super(),this._host=e,this._foreignModuleFactory=t,this._foreignModule=null}async $ping(){return"pong"}$loadForeignModule(e,t,i){const o={host:Tqe(i,(a,l)=>this._host.$fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,t),Promise.resolve(t7(this._foreignModule))):new Promise((a,l)=>{const c=u=>{this._foreignModule=u.create(o,t),a(t7(this._foreignModule))};{const u=xM.asBrowserUri(`${e}.js`).toString(!0);IJe(()=>import(`${u}`),[]).then(c).catch(l)}})}$fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}typeof importScripts=="function"&&(globalThis.monaco=g1e());const lq=Cn("textResourceConfigurationService"),Awe=Cn("textResourcePropertiesService"),gi=Cn("ILanguageFeaturesService");var cq=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mm=function(n,e){return function(t,i){e(t,i,n)}};const Dle=5*60*1e3;function _m(n,e){const t=n.getModel(e);return!(!t||t.isTooLargeForSyncing())}let $6=class extends Ne{constructor(e,t,i,r,s,o){super(),this._languageConfigurationService=s,this._modelService=t,this._workerManager=this._register(new G6(e,this._modelService)),this._logService=r,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:async(a,l)=>{if(!_m(this._modelService,a.uri))return Promise.resolve({links:[]});const u=await(await this._workerWithResources([a.uri])).$computeLinks(a.uri.toString());return u&&{links:u}}})),this._register(o.completionProvider.register("*",new Wtt(this._workerManager,i,this._modelService,this._languageConfigurationService)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return _m(this._modelService,e)}async computedUnicodeHighlights(e,t,i){return(await this._workerWithResources([e])).$computeUnicodeHighlights(e.toString(),t,i)}async computeDiff(e,t,i,r){const o=await(await this._workerWithResources([e,t],!0)).$computeDiff(e.toString(),t.toString(),i,r);if(!o)return null;return{identical:o.identical,quitEarly:o.quitEarly,changes:l(o.changes),moves:o.moves.map(c=>new _we(new co(new Rt(c[0],c[1]),new Rt(c[2],c[3])),l(c[4])))};function l(c){return c.map(u=>{var d;return new Qa(new Rt(u[0],u[1]),new Rt(u[2],u[3]),(d=u[4])==null?void 0:d.map(h=>new Va(new ce(h[0],h[1],h[2],h[3]),new ce(h[4],h[5],h[6],h[7]))))})}}async computeMoreMinimalEdits(e,t,i=!1){if(wM(t)){if(!_m(this._modelService,e))return Promise.resolve(t);const r=eE.create(),s=this._workerWithResources([e]).then(o=>o.$computeMoreMinimalEdits(e.toString(),t,i));return s.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),r.elapsed())),Promise.race([s,I1(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return _m(this._modelService,e)}async navigateValueSet(e,t,i){const r=this._modelService.getModel(e);if(!r)return null;const s=this._languageConfigurationService.getLanguageConfiguration(r.getLanguageId()).getWordDefinition(),o=s.source,a=s.flags;return(await this._workerWithResources([e])).$navigateValueSet(e.toString(),t,i,o,a)}canComputeWordRanges(e){return _m(this._modelService,e)}async computeWordRanges(e,t){const i=this._modelService.getModel(e);if(!i)return Promise.resolve(null);const r=this._languageConfigurationService.getLanguageConfiguration(i.getLanguageId()).getWordDefinition(),s=r.source,o=r.flags;return(await this._workerWithResources([e])).$computeWordRanges(e.toString(),t,s,o)}async findSectionHeaders(e,t){return(await this._workerWithResources([e])).$findSectionHeaders(e.toString(),t)}async computeDefaultDocumentColors(e){return(await this._workerWithResources([e])).$computeDefaultDocumentColors(e.toString())}async _workerWithResources(e,t=!1){return await(await this._workerManager.withWorker()).workerWithSyncedResources(e,t)}};$6=cq([mm(1,No),mm(2,lq),mm(3,Cu),mm(4,Od),mm(5,gi)],$6);class Wtt{constructor(e,t,i,r){this.languageConfigurationService=r,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}async provideCompletionItems(e,t){const i=this._configurationService.getValue(e.uri,t,"editor");if(i.wordBasedSuggestions==="off")return;const r=[];if(i.wordBasedSuggestions==="currentDocument")_m(this._modelService,e.uri)&&r.push(e.uri);else for(const d of this._modelService.getModels())_m(this._modelService,d.uri)&&(d===e?r.unshift(d.uri):(i.wordBasedSuggestions==="allDocuments"||d.getLanguageId()===e.getLanguageId())&&r.push(d.uri));if(r.length===0)return;const s=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),o=e.getWordAtPosition(t),a=o?new ce(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):ce.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),u=await(await this._workerManager.withWorker()).textualSuggest(r,o==null?void 0:o.word,s);if(u)return{duration:u.duration,suggestions:u.words.map(d=>({kind:18,label:d,insertText:d,range:{insert:l,replace:a}}))}}}let G6=class extends Ne{constructor(e,t){super(),this._workerDescriptor=e,this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new GK).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Dle/2),fi),this._register(this._modelService.onModelRemoved(r=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>Dle&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new JO(this._workerDescriptor,!1,this._modelService)),Promise.resolve(this._editorWorkerClient)}};G6=cq([mm(1,No)],G6);class $tt{constructor(e){this._instance=e,this.proxy=this._instance}dispose(){this._instance.dispose()}setChannel(e,t){throw new Error("Not supported")}}let JO=class extends Ne{constructor(e,t,i){super(),this._workerDescriptor=e,this._disposed=!1,this._modelService=i,this._keepIdleModels=t,this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(WJe(this._workerDescriptor)),M6.setChannel(this._worker,this._createEditorWorkerHost())}catch(e){N6(e),this._worker=this._createFallbackLocalWorker()}return this._worker}async _getProxy(){try{const e=this._getOrCreateWorker().proxy;return await e.$ping(),e}catch(e){return N6(e),this._worker=this._createFallbackLocalWorker(),this._worker.proxy}}_createFallbackLocalWorker(){return new $tt(new fL(this._createEditorWorkerHost(),null))}_createEditorWorkerHost(){return{$fhr:(e,t)=>this.fhr(e,t)}}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new Utt(e,this._modelService,this._keepIdleModels))),this._modelManager}async workerWithSyncedResources(e,t=!1){if(this._disposed)return Promise.reject(xXe());const i=await this._getProxy();return this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i}async textualSuggest(e,t,i){const r=await this.workerWithSyncedResources(e),s=i.source,o=i.flags;return r.$textualSuggest(e.map(a=>a.toString()),t,s,o)}dispose(){super.dispose(),this._disposed=!0}};JO=cq([mm(2,No)],JO);var bl;(function(n){n.DARK="dark",n.LIGHT="light",n.HIGH_CONTRAST_DARK="hcDark",n.HIGH_CONTRAST_LIGHT="hcLight"})(bl||(bl={}));function OS(n){return n===bl.HIGH_CONTRAST_DARK||n===bl.HIGH_CONTRAST_LIGHT}function qM(n){return n===bl.DARK||n===bl.HIGH_CONTRAST_DARK}const _c=Cn("themeService");function uv(n){return{id:n}}function z6(n){switch(n){case bl.DARK:return"vs-dark";case bl.HIGH_CONTRAST_DARK:return"hc-black";case bl.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const Rwe={ThemingContribution:"base.contributions.theming"};class Gtt{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new ge}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Ht(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}const Iwe=new Gtt;hs.add(Rwe.ThemingContribution,Iwe);function df(n){return Iwe.onColorThemeChange(n)}class ztt extends Ne{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var jtt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ytt=function(n,e){return function(t,i){e(t,i,n)}};let j6=class extends Ne{constructor(e){super(),this._themeService=e,this._onWillCreateCodeEditor=this._register(new ge),this._onCodeEditorAdd=this._register(new ge),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new ge),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new ge),this._onDiffEditorAdd=this._register(new ge),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new ge),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new pa,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorationsByType(e))))}setModelProperty(e,t,i){const r=e.toString();let s;this._modelProperties.has(r)?s=this._modelProperties.get(r):(s=new Map,this._modelProperties.set(r,s)),s.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}async openCodeEditor(e,t,i){for(const r of this._codeEditorOpenHandlers){const s=await r(e,t,i);if(s!==null)return s}return null}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return Ht(t)}};j6=jtt([Ytt(0,_c)],j6);var Ktt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ple=function(n,e){return function(t,i){e(t,i,n)}};let ex=class extends j6{constructor(e,t){super(t),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(i,r,s)=>r?this.doOpenEditor(r,i):null))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const s=t.resource.scheme;if(s===Jt.http||s===Jt.https)return Y1e(t.resource.toString()),e}return null}const r=t.options?t.options.selection:null;if(r)if(typeof r.endLineNumber=="number"&&typeof r.endColumn=="number")e.setSelection(r),e.revealRangeInCenter(r,1);else{const s={lineNumber:r.startLineNumber,column:r.startColumn};e.setPosition(s),e.revealPositionInCenter(s,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};ex=Ktt([Ple(0,qn),Ple(1,_c)],ex);Pn(Fr,ex,0);const gp=Cn("layoutService");var Nwe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Lwe=function(n,e){return function(t,i){e(t,i,n)}};let tx=class{get mainContainer(){var e;return((e=SK(this._codeEditorService.listCodeEditors()))==null?void 0:e.getContainerDomNode())??fi.document.body}get activeContainer(){const e=this._codeEditorService.getFocusedCodeEditor()??this._codeEditorService.getActiveCodeEditor();return(e==null?void 0:e.getContainerDomNode())??this.mainContainer}get mainContainerDimension(){return C6(this.mainContainer)}get activeContainerDimension(){return C6(this.activeContainer)}get containers(){return vK(this._codeEditorService.listCodeEditors().map(e=>e.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())==null||e.focus()}constructor(e){this._codeEditorService=e,this.onDidLayoutMainContainer=Ue.None,this.onDidLayoutActiveContainer=Ue.None,this.onDidLayoutContainer=Ue.None,this.onDidChangeActiveContainer=Ue.None,this.onDidAddContainer=Ue.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};tx=Nwe([Lwe(0,Fr)],tx);let Y6=class extends tx{get mainContainer(){return this._container}constructor(e,t){super(t),this._container=e}};Y6=Nwe([Lwe(1,Fr)],Y6);Pn(gp,tx,1);var k1;(function(n){n[n.Ignore=0]="Ignore",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error"})(k1||(k1={}));(function(n){const e="error",t="warning",i="warn",r="info",s="ignore";function o(l){return l?Pv(e,l)?n.Error:Pv(t,l)||Pv(i,l)?n.Warning:Pv(r,l)?n.Info:n.Ignore:n.Ignore}n.fromValue=o;function a(l){switch(l){case n.Error:return e;case n.Warning:return t;case n.Info:return r;default:return s}}n.toString=a})(k1||(k1={}));const Tr=k1,Owe=Cn("dialogService");var qtt=Tr;const yu=Cn("notificationService");class Xtt{}const uq=Cn("undoRedoService");class xwe{constructor(e,t){this.resource=e,this.elements=t}}const dS=class dS{constructor(){this.id=dS._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};dS._ID=0,dS.None=new dS;let K6=dS;const hS=class hS{constructor(){this.id=hS._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};hS._ID=0,hS.None=new hS;let Em=hS;var Qtt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},kle=function(n,e){return function(t,i){e(t,i,n)}};function YI(n){return n.scheme===Jt.file?n.fsPath:n.path}let Dwe=0;class KI{constructor(e,t,i,r,s,o,a){this.id=++Dwe,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=r,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Mle{constructor(e,t){this.resourceLabel=e,this.reason=t}}class Fle{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,r]of this.elements)(r.reason===0?e:t).push(r.resourceLabel);const i=[];return e.length>0&&i.push(A({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(A({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class Ztt{constructor(e,t,i,r,s,o,a){this.id=++Dwe,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=r,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new Fle),this.removedResources.has(t)||this.removedResources.set(t,new Mle(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Fle),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new Mle(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Pwe{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,r=this._past.length;i<r;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new xwe(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,r=0,s=-1;for(let a=0,l=this._past.length;a<l;a++,r++){const c=this._past[a];i&&(r>=t||c.id!==e.elements[r])&&(i=!1,s=0),!i&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let o=-1;for(let a=this._future.length-1;a>=0;a--,r++){const l=this._future[a];i&&(r>=t||l.id!==e.elements[r])&&(i=!1,o=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}s!==-1&&(this._past=this._past.slice(0,s)),o!==-1&&(this._future=this._future.slice(o+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class m3{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const kwe=new Pwe("","");kwe.locked=!0;let q6=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=K6.None,i=Em.None){if(e.type===0){const r=YI(e.resource),s=this.getUriComparisonKey(e.resource);this._pushElement(new KI(e,r,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const r=new Set,s=[],o=[];for(const a of e.resources){const l=YI(a),c=this.getUriComparisonKey(a);r.has(c)||(r.add(c),s.push(l),o.push(c))}s.length===1?this._pushElement(new KI(e,s[0],o[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new Ztt(e,s,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const r=e.resourceLabels[t],s=e.strResources[t];let o;this._editStacks.has(s)?o=this._editStacks.get(s):(o=new Pwe(r,s),this._editStacks.set(s,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const r=i.getClosestPastElement();return r?r.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const s of i){const o=YI(s.resource),a=this.getUriComparisonKey(s.resource),l=new KI(s,o,a,0,0,0,0);r.set(l.strResource,l)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitPastWorkspaceElement(e,r)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const s of i){const o=YI(s.resource),a=this.getUriComparisonKey(s.resource),l=new KI(s,o,a,0,0,0,0);r.set(l.strResource,l)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitFutureWorkspaceElement(e,r)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const r=this.getUriComparisonKey(e);this._editStacks.has(r)&&this._editStacks.get(r).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new xwe(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestPastElement();o&&o.sourceId===e&&(!t||o.sourceOrder>t.sourceOrder)&&(t=o,i=r)}return[t,i]}canUndo(e){if(e instanceof Em){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){hi(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,r,s){const o=this._acquireLocks(i);let a;try{a=t()}catch(l){return o(),r.dispose(),this._onError(l,e)}return a?a.then(()=>(o(),r.dispose(),s()),l=>(o(),r.dispose(),this._onError(l,e))):(o(),r.dispose(),s())}async _invokeWorkspacePrepare(e){if(typeof e.actual.prepareUndoRedo>"u")return Ne.None;const t=e.actual.prepareUndoRedo();return typeof t>"u"?Ne.None:t}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo>"u")return t(Ne.None);const i=e.actual.prepareUndoRedo();return i?e1e(i)?t(i):i.then(r=>t(r)):t(Ne.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||kwe);return new m3(t)}_tryToSplitAndUndo(e,t,i,r){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(r),new qI(this._undo(e,0,!0));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(r),new qI}_checkWorkspaceUndo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,A({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,A({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndUndo(e,t,null,A({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of i.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndUndo(e,t,null,A({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,A({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const r=this._getAffectedEditStacks(t),s=this._checkWorkspaceUndo(e,t,r,!1);return s?s.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,r,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const r=t.getSecondClosestPastElement();if(r&&r.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(e,t,i,r){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let a;(function(u){u[u.All=0]="All",u[u.This=1]="This",u[u.Cancel=2]="Cancel"})(a||(a={}));const{result:l}=await this._dialogService.prompt({type:Tr.Info,message:A("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),buttons:[{label:A({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",i.editStacks.length),run:()=>a.All},{label:A({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>a.This}],cancelButton:{run:()=>a.Cancel}});if(l===a.Cancel)return;if(l===a.This)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const c=this._checkWorkspaceUndo(e,t,i,!1);if(c)return c.returnValue;r=!0}let s;try{s=await this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const o=this._checkWorkspaceUndo(e,t,i,!0);if(o)return s.dispose(),o.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,s,()=>this._continueUndoInGroup(t.groupId,r))}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){const r=A({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(r);return}return this._invokeResourcePrepare(t,r=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new m3([e]),r,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestPastElement();o&&o.groupId===e&&(!t||o.groupOrder>t.groupOrder)&&(t=o,i=r)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof Em){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const r=this._editStacks.get(e),s=r.getClosestPastElement();if(!s)return;if(s.groupId){const[a,l]=this._findClosestUndoElementInGroup(s.groupId);if(s!==a&&l)return this._undo(l,t,i)}if((s.sourceId!==t||s.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,s);try{return s.type===1?this._workspaceUndo(e,s,i):this._resourceUndo(r,s,i)}finally{}}async _confirmAndContinueUndo(e,t,i){if((await this._dialogService.confirm({message:A("confirmDifferentSource","Would you like to undo '{0}'?",i.label),primaryButton:A({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:A("confirmDifferentSource.no","No")})).confirmed)return this._undo(e,t,!0)}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestFutureElement();o&&o.sourceId===e&&(!t||o.sourceOrder<t.sourceOrder)&&(t=o,i=r)}return[t,i]}canRedo(e){if(e instanceof Em){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,r){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(r),new qI(this._redo(e));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(r),new qI}_checkWorkspaceRedo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,A({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,A({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndRedo(e,t,null,A({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of i.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndRedo(e,t,null,A({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,A({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),r=this._checkWorkspaceRedo(e,t,i,!1);return r?r.returnValue:this._executeWorkspaceRedo(e,t,i)}async _executeWorkspaceRedo(e,t,i){let r;try{r=await this._invokeWorkspacePrepare(t)}catch(o){return this._onError(o,t)}const s=this._checkWorkspaceRedo(e,t,i,!0);if(s)return r.dispose(),s.returnValue;for(const o of i.editStacks)o.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,r,()=>this._continueRedoInGroup(t.groupId))}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const i=A({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new m3([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestFutureElement();o&&o.groupId===e&&(!t||o.groupOrder<t.groupOrder)&&(t=o,i=r)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof Em){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[r,s]=this._findClosestRedoElementInGroup(i.groupId);if(i!==r&&s)return this._redo(s)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};q6=Qtt([kle(0,Owe),kle(1,yu)],q6);class qI{constructor(e){this.returnValue=e}}Pn(uq,q6,1);function $o(n,e,t){return Math.min(Math.max(n,e),t)}class Mwe{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class Jtt{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}const Fwe=Cn("environmentService");var ent=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ble=function(n,e){return function(t,i){e(t,i,n)}};const tnt=Cn("ILanguageFeatureDebounceService");var nx;(function(n){const e=new WeakMap;let t=0;function i(r){let s=e.get(r);return s===void 0&&(s=++t,e.set(r,s)),s}n.of=i})(nx||(nx={}));class nnt{constructor(e){this._default=e}get(e){return this._default}update(e,t){return this._default}default(){return this._default}}class int{constructor(e,t,i,r,s,o){this._logService=e,this._name=t,this._registry=i,this._default=r,this._min=s,this._max=o,this._cache=new bA(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>DM(nx.of(i),t),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?$o(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let r=this._cache.get(i);r||(r=new Jtt(6),this._cache.set(i,r));const s=$o(r.update(t),this._min,this._max);return WK(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${s}ms`),s}_overall(){const e=new Mwe;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){const e=this._overall()|0||this._default;return $o(e,this._min,this._max)}}let X6=class{constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt}for(e,t,i){const r=(i==null?void 0:i.min)??50,s=(i==null?void 0:i.max)??r**2,o=(i==null?void 0:i.key)??void 0,a=`${nx.of(e)},${r}${o?","+o:""}`;let l=this._data.get(a);return l||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`),l=new nnt(r*1.5)):l=new int(this._logService,t,e,this._overallAverage()|0||r*1.5,r,s),this._data.set(a,l)),l}_overallAverage(){const e=new Mwe;for(const t of this._data.values())e.update(t.default());return e.value}};X6=ent([Ble(0,Cu),Ble(1,Fwe)],X6);Pn(tnt,X6,1);class zc{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){let i="mtk"+this.getForeground(e);const r=this.getFontStyle(e);return r&1&&(i+=" mtki"),r&2&&(i+=" mtkb"),r&4&&(i+=" mtku"),r&8&&(i+=" mtks"),i}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),r=this.getFontStyle(e);let s=`color: ${t[i]};`;r&1&&(s+="font-style: italic;"),r&2&&(s+="font-weight: bold;");let o="";return r&4&&(o+=" underline"),r&8&&(o+=" line-through"),o&&(s+=`text-decoration:${o};`),s}static getPresentationFromMetadata(e){const t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:!!(i&1),bold:!!(i&2),underline:!!(i&4),strikethrough:!!(i&8)}}}function vC(n){let e=0,t=0,i=0,r=0;for(let s=0,o=n.length;s<o;s++){const a=n.charCodeAt(s);a===13?(e===0&&(t=s),e++,s+1<o&&n.charCodeAt(s+1)===10?(r|=2,s++):r|=3,i=s+1):a===10&&(r|=1,e===0&&(t=s),e++,i=s+1)}return e===0&&(t=n.length),[e,t,n.length-i,r]}var rnt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},_3=function(n,e){return function(t,i){e(t,i,n)}};let Q6=class{constructor(e,t,i,r){this._legend=e,this._themeService=t,this._languageService=i,this._logService=r,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new Z6}getMetadata(e,t,i){const r=this._languageService.languageIdCodec.encodeLanguageId(i),s=this._hashTable.get(e,t,r);let o;if(s)o=s.metadata;else{let a=this._legend.tokenTypes[e];const l=[];if(a){let c=t;for(let d=0;c>0&&d<this._legend.tokenModifiers.length;d++)c&1&&l.push(this._legend.tokenModifiers[d]),c=c>>1;const u=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);if(typeof u>"u")o=2147483647;else{if(o=0,typeof u.italic<"u"){const d=(u.italic?1:0)<<11;o|=d|1}if(typeof u.bold<"u"){const d=(u.bold?2:0)<<11;o|=d|2}if(typeof u.underline<"u"){const d=(u.underline?4:0)<<11;o|=d|4}if(typeof u.strikethrough<"u"){const d=(u.strikethrough?8:0)<<11;o|=d|8}if(u.foreground){const d=u.foreground<<15;o|=d|16}o===0&&(o=2147483647)}}else o=2147483647,a="not-in-legend";this._hashTable.add(e,t,r,o)}return o}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,i,r,s){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${i}: The provided start offset ${r} is outside the previous data (length ${s}).`))}};Q6=rnt([_3(1,_c),_3(2,Zr),_3(3,Cu)],Q6);class snt{constructor(e,t,i,r){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=r,this.next=null}}const fh=class fh{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=fh._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<fh._SIZES.length?2/3*this._currentLength:0),this._elements=[],fh._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const r=this._hashFunc(e,t,i);let s=this._elements[r];for(;s;){if(s.tokenTypeIndex===e&&s.tokenModifierSet===t&&s.languageId===i)return s;s=s.next}return null}add(e,t,i,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const s=this._elements;this._currentLengthIndex++,this._currentLength=fh._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<fh._SIZES.length?2/3*this._currentLength:0),this._elements=[],fh._nullOutEntries(this._elements,this._currentLength);for(const o of s){let a=o;for(;a;){const l=a.next;a.next=null,this._add(a),a=l}}}this._add(new snt(e,t,i,r))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}};fh._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];let Z6=fh;const ont=Cn("semanticTokensStylingService");var ant=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},E3=function(n,e){return function(t,i){e(t,i,n)}};let J6=class extends Ne{constructor(e,t,i){super(),this._themeService=e,this._logService=t,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(e){return this._caches.has(e)||this._caches.set(e,new Q6(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}};J6=ant([E3(0,_c),E3(1,Cu),E3(2,Zr)],J6);Pn(ont,J6,1);function Wf(n){return n===47||n===92}function Bwe(n){return n.replace(/[\\/]/g,or.sep)}function lnt(n){return n.indexOf("/")===-1&&(n=Bwe(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function Ule(n,e=or.sep){if(!n)return"";const t=n.length,i=n.charCodeAt(0);if(Wf(i)){if(Wf(n.charCodeAt(1))&&!Wf(n.charCodeAt(2))){let s=3;const o=s;for(;s<t&&!Wf(n.charCodeAt(s));s++);if(o!==s&&!Wf(n.charCodeAt(s+1))){for(s+=1;s<t;s++)if(Wf(n.charCodeAt(s)))return n.slice(0,s+1).replace(/[\\/]/g,e)}}return e}else if(cnt(i)&&n.charCodeAt(1)===58)return Wf(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let r=n.indexOf("://");if(r!==-1){for(r+=3;r<t;r++)if(Wf(n.charCodeAt(r)))return n.slice(0,r+1)}return""}function e8(n,e,t,i=Dg){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!PK(n,e))return!1;if(e.length===n.length)return!0;let s=e.length;return e.charAt(e.length-1)===i&&s--,n.charAt(s)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function cnt(n){return n>=65&&n<=90||n>=97&&n<=122}const XI="**",Hle="/",gL="[/\\\\]",pL="[^/\\\\]",unt=/\//g;function Vle(n,e){switch(n){case 0:return"";case 1:return`${pL}*?`;default:return`(?:${gL}|${pL}+${gL}${e?`|${gL}${pL}+`:""})*?`}}function Wle(n,e){if(!n)return[];const t=[];let i=!1,r=!1,s="";for(const o of n){switch(o){case e:if(!i&&!r){t.push(s),s="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":r=!0;break;case"]":r=!1;break}s+=o}return s&&t.push(s),t}function Uwe(n){if(!n)return"";let e="";const t=Wle(n,Hle);if(t.every(i=>i===XI))e=".*";else{let i=!1;t.forEach((r,s)=>{if(r===XI){if(i)return;e+=Vle(2,s===t.length-1)}else{let o=!1,a="",l=!1,c="";for(const u of r){if(u!=="}"&&o){a+=u;continue}if(l&&(u!=="]"||!c)){let d;u==="-"?d=u:(u==="^"||u==="!")&&!c?d="^":u===Hle?d="":d=sf(u),c+=d;continue}switch(u){case"{":o=!0;continue;case"[":l=!0;continue;case"}":{const h=`(?:${Wle(a,",").map(f=>Uwe(f)).join("|")})`;e+=h,o=!1,a="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=pL;continue;case"*":e+=Vle(1);continue;default:e+=sf(u)}}s<t.length-1&&(t[s+1]!==XI||s+2<t.length)&&(e+=gL)}i=r===XI})}return e}const dnt=/^\*\*\/\*\.[\w\.-]+$/,hnt=/^\*\*\/([\w\.-]+)\/?$/,fnt=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,gnt=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,pnt=/^\*\*((\/[\w\.-]+)+)\/?$/,mnt=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,$le=new bA(1e4),Gle=function(){return!1},hd=function(){return null};function dq(n,e){if(!n)return hd;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const i=`${t}_${!!e.trimForExclusions}`;let r=$le.get(i);if(r)return zle(r,n);let s;return dnt.test(t)?r=_nt(t.substr(4),t):(s=hnt.exec(v3(t,e)))?r=Ent(s[1],t):(e.trimForExclusions?gnt:fnt).test(t)?r=vnt(t,e):(s=pnt.exec(v3(t,e)))?r=jle(s[1].substr(1),t,!0):(s=mnt.exec(v3(t,e)))?r=jle(s[1],t,!1):r=Snt(t),$le.set(i,r),zle(r,n)}function zle(n,e){if(typeof e=="string")return n;const t=function(i,r){return e8(i,e.base,!Zo)?n(LM(i.substr(e.base.length),Dg),r):null};return t.allBasenames=n.allBasenames,t.allPaths=n.allPaths,t.basenames=n.basenames,t.patterns=n.patterns,t}function v3(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}function _nt(n,e){return function(t,i){return typeof t=="string"&&t.endsWith(n)?e:null}}function Ent(n,e){const t=`/${n}`,i=`\\${n}`,r=function(o,a){return typeof o!="string"?null:a?a===n?e:null:o===n||o.endsWith(t)||o.endsWith(i)?e:null},s=[n];return r.basenames=s,r.patterns=[e],r.allBasenames=s,r}function vnt(n,e){const t=Vwe(n.slice(1,-1).split(",").map(a=>dq(a,e)).filter(a=>a!==hd),n),i=t.length;if(!i)return hd;if(i===1)return t[0];const r=function(a,l){for(let c=0,u=t.length;c<u;c++)if(t[c](a,l))return n;return null},s=t.find(a=>!!a.allBasenames);s&&(r.allBasenames=s.allBasenames);const o=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return o.length&&(r.allPaths=o),r}function jle(n,e,t){const i=Dg===or.sep,r=i?n:n.replace(unt,Dg),s=Dg+r,o=or.sep+n;let a;return t?a=function(l,c){return typeof l=="string"&&(l===r||l.endsWith(s)||!i&&(l===n||l.endsWith(o)))?e:null}:a=function(l,c){return typeof l=="string"&&(l===r||!i&&l===n)?e:null},a.allPaths=[(t?"*/":"./")+n],a}function Snt(n){try{const e=new RegExp(`^${Uwe(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch{return hd}}function Cnt(n,e,t){return!n||typeof e!="string"?!1:Hwe(n)(e,void 0,t)}function Hwe(n,e={}){if(!n)return Gle;if(typeof n=="string"||ynt(n)){const t=dq(n,e);if(t===hd)return Gle;const i=function(r,s){return!!t(r,s)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return bnt(n,e)}function ynt(n){const e=n;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function bnt(n,e){const t=Vwe(Object.getOwnPropertyNames(n).map(a=>Tnt(a,n[a],e)).filter(a=>a!==hd)),i=t.length;if(!i)return hd;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];const a=function(u,d){let h;for(let f=0,m=t.length;f<m;f++){const g=t[f](u,d);if(typeof g=="string")return g;f6(g)&&(h||(h=[]),h.push(g))}return h?(async()=>{for(const f of h){const m=await f;if(typeof m=="string")return m}return null})():null},l=t.find(u=>!!u.allBasenames);l&&(a.allBasenames=l.allBasenames);const c=t.reduce((u,d)=>d.allPaths?u.concat(d.allPaths):u,[]);return c.length&&(a.allPaths=c),a}const r=function(a,l,c){let u,d;for(let h=0,f=t.length;h<f;h++){const m=t[h];m.requiresSiblings&&c&&(l||(l=l1e(a)),u||(u=l.substr(0,l.length-sQe(a).length)));const g=m(a,l,u,c);if(typeof g=="string")return g;f6(g)&&(d||(d=[]),d.push(g))}return d?(async()=>{for(const h of d){const f=await h;if(typeof f=="string")return f}return null})():null},s=t.find(a=>!!a.allBasenames);s&&(r.allBasenames=s.allBasenames);const o=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return o.length&&(r.allPaths=o),r}function Tnt(n,e,t){if(e===!1)return hd;const i=dq(n,t);if(i===hd)return hd;if(typeof e=="boolean")return i;if(e){const r=e.when;if(typeof r=="string"){const s=(o,a,l,c)=>{if(!c||!i(o,a))return null;const u=r.replace("$(basename)",()=>l),d=c(u);return f6(d)?d.then(h=>h?n:null):d?n:null};return s.requiresSiblings=!0,s}}return i}function Vwe(n,e){const t=n.filter(a=>!!a.basenames);if(t.length<2)return n;const i=t.reduce((a,l)=>{const c=l.basenames;return c?a.concat(c):a},[]);let r;if(e){r=[];for(let a=0,l=i.length;a<l;a++)r.push(e)}else r=t.reduce((a,l)=>{const c=l.patterns;return c?a.concat(c):a},[]);const s=function(a,l){if(typeof a!="string")return null;if(!l){let u;for(u=a.length;u>0;u--){const d=a.charCodeAt(u-1);if(d===47||d===92)break}l=a.substr(u)}const c=i.indexOf(l);return c!==-1?r[c]:null};s.basenames=i,s.patterns=r,s.allBasenames=i;const o=n.filter(a=>!a.basenames);return o.push(s),o}function Wwe(n,e,t,i,r,s){if(Array.isArray(n)){let o=0;for(const a of n){const l=Wwe(a,e,t,i,r,s);if(l===10)return l;l>o&&(o=l)}return o}else{if(typeof n=="string")return i?n==="*"?5:n===t?10:0:0;if(n){const{language:o,pattern:a,scheme:l,hasAccessToAllModels:c,notebookType:u}=n;if(!i&&!c)return 0;u&&r&&(e=r);let d=0;if(l)if(l===e.scheme)d=10;else if(l==="*")d=5;else return 0;if(o)if(o===t)d=10;else if(o==="*")d=Math.max(d,5);else return 0;if(u)if(u===s)d=10;else if(u==="*"&&s!==void 0)d=Math.max(d,5);else return 0;if(a){let h;if(typeof a=="string"?h=a:h={...a,base:a1e(a.base)},h===e.fsPath||Cnt(h,e.fsPath))d=10;else return 0}return d}else return 0}}function $we(n){return typeof n=="string"?!1:Array.isArray(n)?n.every($we):!!n.exclusive}class Yle{constructor(e,t,i,r,s){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=r,this.recursive=s}equals(e){var t,i;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&((t=this.notebookUri)==null?void 0:t.toString())===((i=e.notebookUri)==null?void 0:i.toString())&&this.recursive===e.recursive}}class Di{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new ge,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Ht(()=>{if(i){const r=this._entries.indexOf(i);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e,!1);const t=[];for(const i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e,t=!1){const i=[];return this._orderedForEach(e,t,r=>i.push(r.provider)),i}orderedGroups(e){const t=[];let i,r;return this._orderedForEach(e,!1,s=>{i&&r===s._score?i.push(s.provider):(r=s._score,i=[s.provider],t.push(i))}),t}_orderedForEach(e,t,i){this._updateScores(e,t);for(const r of this._entries)r._score>0&&i(r)}_updateScores(e,t){var s,o;const i=(s=this._notebookInfoResolver)==null?void 0:s.call(this,e.uri),r=i?new Yle(e.uri,e.getLanguageId(),i.uri,i.type,t):new Yle(e.uri,e.getLanguageId(),void 0,void 0,t);if(!((o=this._lastCandidate)!=null&&o.equals(r))){this._lastCandidate=r;for(const a of this._entries)if(a._score=Wwe(a.selector,r.uri,r.languageId,Wet(e),r.notebookUri,r.notebookType),$we(a.selector)&&a._score>0)if(t)a._score=0;else{for(const l of this._entries)l._score=0;a._score=1e3;break}this._entries.sort(Di._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:vT(e.selector)&&!vT(t.selector)?1:!vT(e.selector)&&vT(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0}}function vT(n){return typeof n=="string"?!1:Array.isArray(n)?n.some(vT):!!n.isBuiltin}class wnt{constructor(){this.referenceProvider=new Di(this._score.bind(this)),this.renameProvider=new Di(this._score.bind(this)),this.newSymbolNamesProvider=new Di(this._score.bind(this)),this.codeActionProvider=new Di(this._score.bind(this)),this.definitionProvider=new Di(this._score.bind(this)),this.typeDefinitionProvider=new Di(this._score.bind(this)),this.declarationProvider=new Di(this._score.bind(this)),this.implementationProvider=new Di(this._score.bind(this)),this.documentSymbolProvider=new Di(this._score.bind(this)),this.inlayHintsProvider=new Di(this._score.bind(this)),this.colorProvider=new Di(this._score.bind(this)),this.codeLensProvider=new Di(this._score.bind(this)),this.documentFormattingEditProvider=new Di(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Di(this._score.bind(this)),this.onTypeFormattingEditProvider=new Di(this._score.bind(this)),this.signatureHelpProvider=new Di(this._score.bind(this)),this.hoverProvider=new Di(this._score.bind(this)),this.documentHighlightProvider=new Di(this._score.bind(this)),this.multiDocumentHighlightProvider=new Di(this._score.bind(this)),this.selectionRangeProvider=new Di(this._score.bind(this)),this.foldingRangeProvider=new Di(this._score.bind(this)),this.linkProvider=new Di(this._score.bind(this)),this.inlineCompletionsProvider=new Di(this._score.bind(this)),this.inlineEditProvider=new Di(this._score.bind(this)),this.completionProvider=new Di(this._score.bind(this)),this.linkedEditingRangeProvider=new Di(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Di(this._score.bind(this)),this.documentSemanticTokensProvider=new Di(this._score.bind(this)),this.documentDropEditProvider=new Di(this._score.bind(this)),this.documentPasteEditProvider=new Di(this._score.bind(this))}_score(e){var t;return(t=this._notebookTypeResolver)==null?void 0:t.call(this,e)}}Pn(gi,wnt,1);function hq(n){return`--vscode-${n.replace(/\./g,"-")}`}function $e(n){return`var(${hq(n)})`}function Ant(n,e){return`var(${hq(n)}, ${e})`}function Rnt(n){return n!==null&&typeof n=="object"&&"light"in n&&"dark"in n}const Gwe={ColorContribution:"base.contributions.colors"},Int="default";class Nnt{constructor(){this._onDidChangeSchema=new ge,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,r=!1,s){const o={id:e,description:i,defaults:t,needsTransparency:r,deprecationMessage:s};this.colorsById[e]=o;const a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return s&&(a.deprecationMessage=s),r&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=A("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:i,oneOf:[a,{type:"string",const:Int,description:A("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i!=null&&i.defaults){const r=Rnt(i.defaults)?i.defaults[t.type]:i.defaults;return kc(r,t)}}getColorSchema(){return this.colorSchema}toString(){const e=(t,i)=>{const r=t.indexOf(".")===-1?0:1,s=i.indexOf(".")===-1?0:1;return r!==s?r-s:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const XM=new Nnt;hs.add(Gwe.ColorContribution,XM);function ie(n,e,t,i,r){return XM.registerColor(n,e,t,i,r)}function Lnt(n,e){var t,i,r,s;switch(n.op){case 0:return(t=kc(n.value,e))==null?void 0:t.darken(n.factor);case 1:return(i=kc(n.value,e))==null?void 0:i.lighten(n.factor);case 2:return(r=kc(n.value,e))==null?void 0:r.transparent(n.factor);case 3:{const o=kc(n.background,e);return o?(s=kc(n.value,e))==null?void 0:s.makeOpaque(o):kc(n.value,e)}case 4:for(const o of n.values){const a=kc(o,e);if(a)return a}return;case 6:return kc(e.defines(n.if)?n.then:n.else,e);case 5:{const o=kc(n.value,e);if(!o)return;const a=kc(n.background,e);return a?o.isDarkerThan(a)?Me.getLighterColor(o,a,n.factor).transparent(n.transparency):Me.getDarkerColor(o,a,n.factor).transparent(n.transparency):o.transparent(n.factor*n.transparency)}default:throw JK()}}function uE(n,e){return{op:0,value:n,factor:e}}function ru(n,e){return{op:1,value:n,factor:e}}function on(n,e){return{op:2,value:n,factor:e}}function Kle(...n){return{op:4,values:n}}function Ont(n,e,t){return{op:6,if:n,then:e,else:t}}function qle(n,e,t,i){return{op:5,value:n,background:e,factor:t,transparency:i}}function kc(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?Me.fromHex(n):e.getColor(n);if(n instanceof Me)return n;if(typeof n=="object")return Lnt(n,e)}}const zwe="vscode://schemas/workbench-colors",jwe=hs.as(KM.JSONContribution);jwe.registerSchema(zwe,XM.getColorSchema());const Xle=new ho(()=>jwe.notifySchemaChanged(zwe),200);XM.onDidChangeSchema(()=>{Xle.isScheduled()||Xle.schedule()});const di=ie("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},A("foreground","Overall foreground color. This color is only used if not overridden by a component."));ie("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},A("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));ie("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},A("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));ie("descriptionForeground",{light:"#717171",dark:on(di,.7),hcDark:on(di,.7),hcLight:on(di,.7)},A("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const t8=ie("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},A("iconForeground","The default color for icons in the workbench.")),Sd=ie("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},A("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Hn=ie("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},A("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),cr=ie("contrastActiveBorder",{light:null,dark:null,hcDark:Sd,hcLight:Sd},A("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));ie("selection.background",null,A("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));const xnt=ie("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},A("textLinkForeground","Foreground color for links in text."));ie("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},A("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));ie("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:Me.black,hcLight:"#292929"},A("textSeparatorForeground","Color for text separators."));ie("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},A("textPreformatForeground","Foreground color for preformatted text segments."));ie("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},A("textPreformatBackground","Background color for preformatted text segments."));ie("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},A("textBlockQuoteBackground","Background color for block quotes in text."));ie("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:Me.white,hcLight:"#292929"},A("textBlockQuoteBorder","Border color for block quotes in text."));ie("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:Me.black,hcLight:"#F2F2F2"},A("textCodeBlockBackground","Background color for code blocks in text."));ie("sash.hoverBorder",Sd,A("sashActiveBorder","Border color of active sashes."));const mL=ie("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:Me.black,hcLight:"#0F4A85"},A("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Dnt=ie("badge.foreground",{dark:Me.white,light:"#333",hcDark:Me.white,hcLight:Me.white},A("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),fq=ie("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},A("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Ywe=ie("scrollbarSlider.background",{dark:Me.fromHex("#797979").transparent(.4),light:Me.fromHex("#646464").transparent(.4),hcDark:on(Hn,.6),hcLight:on(Hn,.4)},A("scrollbarSliderBackground","Scrollbar slider background color.")),Kwe=ie("scrollbarSlider.hoverBackground",{dark:Me.fromHex("#646464").transparent(.7),light:Me.fromHex("#646464").transparent(.7),hcDark:on(Hn,.8),hcLight:on(Hn,.8)},A("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),qwe=ie("scrollbarSlider.activeBackground",{dark:Me.fromHex("#BFBFBF").transparent(.4),light:Me.fromHex("#000000").transparent(.6),hcDark:Hn,hcLight:Hn},A("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Pnt=ie("progressBar.background",{dark:Me.fromHex("#0E70C0"),light:Me.fromHex("#0E70C0"),hcDark:Hn,hcLight:Hn},A("progressBarBackground","Background color of the progress bar that can show for long running operations.")),gu=ie("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:Me.black,hcLight:Me.white},A("editorBackground","Editor background color.")),TA=ie("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:Me.white,hcLight:di},A("editorForeground","Editor default foreground color."));ie("editorStickyScroll.background",gu,A("editorStickyScrollBackground","Background color of sticky scroll in the editor"));ie("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:Me.fromHex("#0F4A85").transparent(.1)},A("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor"));ie("editorStickyScroll.border",{dark:null,light:null,hcDark:Hn,hcLight:Hn},A("editorStickyScrollBorder","Border color of sticky scroll in the editor"));ie("editorStickyScroll.shadow",fq,A("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor"));const sc=ie("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:Me.white},A("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),QM=ie("editorWidget.foreground",di,A("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Xwe=ie("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:Hn,hcLight:Hn},A("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));ie("editorWidget.resizeBorder",null,A("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));ie("editorError.background",null,A("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const gq=ie("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},A("editorError.foreground","Foreground color of error squigglies in the editor."));ie("editorError.border",{dark:null,light:null,hcDark:Me.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},A("errorBorder","If set, color of double underlines for errors in the editor."));const knt=ie("editorWarning.background",null,A("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Jg=ie("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},A("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),ix=ie("editorWarning.border",{dark:null,light:null,hcDark:Me.fromHex("#FFCC00").transparent(.8),hcLight:Me.fromHex("#FFCC00").transparent(.8)},A("warningBorder","If set, color of double underlines for warnings in the editor."));ie("editorInfo.background",null,A("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const x_=ie("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},A("editorInfo.foreground","Foreground color of info squigglies in the editor.")),rx=ie("editorInfo.border",{dark:null,light:null,hcDark:Me.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},A("infoBorder","If set, color of double underlines for infos in the editor.")),Mnt=ie("editorHint.foreground",{dark:Me.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},A("editorHint.foreground","Foreground color of hint squigglies in the editor."));ie("editorHint.border",{dark:null,light:null,hcDark:Me.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},A("hintBorder","If set, color of double underlines for hints in the editor."));ie("editorLink.activeForeground",{dark:"#4E94CE",light:Me.blue,hcDark:Me.cyan,hcLight:"#292929"},A("activeLinkForeground","Color of active links."));const Uv=ie("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},A("editorSelectionBackground","Color of the editor selection.")),Fnt=ie("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:Me.white},A("editorSelectionForeground","Color of the selected text for high contrast.")),Qwe=ie("editor.inactiveSelectionBackground",{light:on(Uv,.5),dark:on(Uv,.5),hcDark:on(Uv,.7),hcLight:on(Uv,.5)},A("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Zwe=ie("editor.selectionHighlightBackground",{light:qle(Uv,gu,.3,.6),dark:qle(Uv,gu,.3,.6),hcDark:null,hcLight:null},A("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:cr,hcLight:cr},A("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));ie("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},A("editorFindMatch","Color of the current search match."));ie("editor.findMatchForeground",null,A("editorFindMatchForeground","Text color of the current search match."));const _g=ie("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},A("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.findMatchHighlightForeground",null,A("findMatchHighlightForeground","Foreground color of the other search matches."),!0);ie("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},A("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.findMatchBorder",{light:null,dark:null,hcDark:cr,hcLight:cr},A("editorFindMatchBorder","Border color of the current search match."));const Hv=ie("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:cr,hcLight:cr},A("findMatchHighlightBorder","Border color of the other search matches."));ie("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:on(cr,.4),hcLight:on(cr,.4)},A("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},A("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const Qle=ie("editorHoverWidget.background",sc,A("hoverBackground","Background color of the editor hover."));ie("editorHoverWidget.foreground",QM,A("hoverForeground","Foreground color of the editor hover."));const Bnt=ie("editorHoverWidget.border",Xwe,A("hoverBorder","Border color of the editor hover."));ie("editorHoverWidget.statusBarBackground",{dark:ru(Qle,.2),light:uE(Qle,.05),hcDark:sc,hcLight:sc},A("statusBarBackground","Background color of the editor hover status bar."));const Jwe=ie("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:Me.white,hcLight:Me.black},A("editorInlayHintForeground","Foreground color of inline hints")),eAe=ie("editorInlayHint.background",{dark:on(mL,.1),light:on(mL,.1),hcDark:on(Me.white,.1),hcLight:on(mL,.1)},A("editorInlayHintBackground","Background color of inline hints"));ie("editorInlayHint.typeForeground",Jwe,A("editorInlayHintForegroundTypes","Foreground color of inline hints for types"));ie("editorInlayHint.typeBackground",eAe,A("editorInlayHintBackgroundTypes","Background color of inline hints for types"));ie("editorInlayHint.parameterForeground",Jwe,A("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters"));ie("editorInlayHint.parameterBackground",eAe,A("editorInlayHintBackgroundParameter","Background color of inline hints for parameters"));const Unt=ie("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},A("editorLightBulbForeground","The color used for the lightbulb actions icon."));ie("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},A("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));ie("editorLightBulbAi.foreground",Unt,A("editorLightBulbAiForeground","The color used for the lightbulb AI icon."));ie("editor.snippetTabstopHighlightBackground",{dark:new Me(new xn(124,124,124,.3)),light:new Me(new xn(10,50,100,.2)),hcDark:new Me(new xn(124,124,124,.3)),hcLight:new Me(new xn(10,50,100,.2))},A("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));ie("editor.snippetTabstopHighlightBorder",null,A("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));ie("editor.snippetFinalTabstopHighlightBackground",null,A("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));ie("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new Me(new xn(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},A("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const n8=new Me(new xn(155,185,85,.2)),i8=new Me(new xn(255,0,0,.2)),Hnt=ie("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},A("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Vnt=ie("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},A("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);ie("diffEditor.insertedLineBackground",{dark:n8,light:n8,hcDark:null,hcLight:null},A("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);ie("diffEditor.removedLineBackground",{dark:i8,light:i8,hcDark:null,hcLight:null},A("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);ie("diffEditorGutter.insertedLineBackground",null,A("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted."));ie("diffEditorGutter.removedLineBackground",null,A("diffEditorRemovedLineGutter","Background color for the margin where lines got removed."));const Wnt=ie("diffEditorOverview.insertedForeground",null,A("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),$nt=ie("diffEditorOverview.removedForeground",null,A("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content."));ie("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},A("diffEditorInsertedOutline","Outline color for the text that got inserted."));ie("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},A("diffEditorRemovedOutline","Outline color for text that got removed."));ie("diffEditor.border",{dark:null,light:null,hcDark:Hn,hcLight:Hn},A("diffEditorBorder","Border color between the two text editors."));ie("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},A("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."));ie("diffEditor.unchangedRegionBackground","sideBar.background",A("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor."));ie("diffEditor.unchangedRegionForeground","foreground",A("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor."));ie("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},A("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor."));const wA=ie("widget.shadow",{dark:on(Me.black,.36),light:on(Me.black,.16),hcDark:null,hcLight:null},A("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Gnt=ie("widget.border",{dark:null,light:null,hcDark:Hn,hcLight:Hn},A("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Zle=ie("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},A("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));ie("toolbar.hoverOutline",{dark:null,light:null,hcDark:cr,hcLight:cr},A("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));ie("toolbar.activeBackground",{dark:ru(Zle,.1),light:uE(Zle,.1),hcDark:null,hcLight:null},A("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));const znt=ie("breadcrumb.foreground",on(di,.8),A("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),jnt=ie("breadcrumb.background",gu,A("breadcrumbsBackground","Background color of breadcrumb items.")),Jle=ie("breadcrumb.focusForeground",{light:uE(di,.2),dark:ru(di,.1),hcDark:ru(di,.1),hcLight:ru(di,.1)},A("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Ynt=ie("breadcrumb.activeSelectionForeground",{light:uE(di,.2),dark:ru(di,.1),hcDark:ru(di,.1),hcLight:ru(di,.1)},A("breadcrumbsSelectedForeground","Color of selected breadcrumb items."));ie("breadcrumbPicker.background",sc,A("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const tAe=.5,ece=Me.fromHex("#40C8AE").transparent(tAe),tce=Me.fromHex("#40A6FF").transparent(tAe),nce=Me.fromHex("#606060").transparent(.4),pq=.4,SC=1,r8=ie("merge.currentHeaderBackground",{dark:ece,light:ece,hcDark:null,hcLight:null},A("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ie("merge.currentContentBackground",on(r8,pq),A("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const s8=ie("merge.incomingHeaderBackground",{dark:tce,light:tce,hcDark:null,hcLight:null},A("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ie("merge.incomingContentBackground",on(s8,pq),A("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const o8=ie("merge.commonHeaderBackground",{dark:nce,light:nce,hcDark:null,hcLight:null},A("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ie("merge.commonContentBackground",on(o8,pq),A("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const CC=ie("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},A("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));ie("editorOverviewRuler.currentContentForeground",{dark:on(r8,SC),light:on(r8,SC),hcDark:CC,hcLight:CC},A("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));ie("editorOverviewRuler.incomingContentForeground",{dark:on(s8,SC),light:on(s8,SC),hcDark:CC,hcLight:CC},A("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));ie("editorOverviewRuler.commonContentForeground",{dark:on(o8,SC),light:on(o8,SC),hcDark:CC,hcLight:CC},A("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));ie("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},A("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",A("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const Knt=ie("problemsErrorIcon.foreground",gq,A("problemsErrorIconForeground","The color used for the problems error icon.")),qnt=ie("problemsWarningIcon.foreground",Jg,A("problemsWarningIconForeground","The color used for the problems warning icon.")),Xnt=ie("problemsInfoIcon.foreground",x_,A("problemsInfoIconForeground","The color used for the problems info icon.")),Qnt=ie("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},A("minimapFindMatchHighlight","Minimap marker color for find matches."),!0);ie("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},A("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0);const ice=ie("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},A("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Znt=ie("minimap.infoHighlight",{dark:x_,light:x_,hcDark:rx,hcLight:rx},A("minimapInfo","Minimap marker color for infos.")),Jnt=ie("minimap.warningHighlight",{dark:Jg,light:Jg,hcDark:ix,hcLight:ix},A("overviewRuleWarning","Minimap marker color for warnings.")),eit=ie("minimap.errorHighlight",{dark:new Me(new xn(255,18,18,.7)),light:new Me(new xn(255,18,18,.7)),hcDark:new Me(new xn(255,50,50,1)),hcLight:"#B5200D"},A("minimapError","Minimap marker color for errors.")),tit=ie("minimap.background",null,A("minimapBackground","Minimap background color.")),nit=ie("minimap.foregroundOpacity",Me.fromHex("#000f"),A("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));ie("minimapSlider.background",on(Ywe,.5),A("minimapSliderBackground","Minimap slider background color."));ie("minimapSlider.hoverBackground",on(Kwe,.5),A("minimapSliderHoverBackground","Minimap slider background color when hovering."));ie("minimapSlider.activeBackground",on(qwe,.5),A("minimapSliderActiveBackground","Minimap slider background color when clicked on."));ie("charts.foreground",di,A("chartsForeground","The foreground color used in charts."));ie("charts.lines",on(di,.5),A("chartsLines","The color used for horizontal lines in charts."));ie("charts.red",gq,A("chartsRed","The red color used in chart visualizations."));ie("charts.blue",x_,A("chartsBlue","The blue color used in chart visualizations."));ie("charts.yellow",Jg,A("chartsYellow","The yellow color used in chart visualizations."));ie("charts.orange",Qnt,A("chartsOrange","The orange color used in chart visualizations."));ie("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},A("chartsGreen","The green color used in chart visualizations."));ie("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},A("chartsPurple","The purple color used in chart visualizations."));const iit=ie("input.background",{dark:"#3C3C3C",light:Me.white,hcDark:Me.black,hcLight:Me.white},A("inputBoxBackground","Input box background.")),rit=ie("input.foreground",di,A("inputBoxForeground","Input box foreground.")),sit=ie("input.border",{dark:null,light:null,hcDark:Hn,hcLight:Hn},A("inputBoxBorder","Input box border.")),nAe=ie("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:Hn,hcLight:Hn},A("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),oit=ie("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},A("inputOption.hoverBackground","Background color of activated options in input fields.")),iAe=ie("inputOption.activeBackground",{dark:on(Sd,.4),light:on(Sd,.2),hcDark:Me.transparent,hcLight:Me.transparent},A("inputOption.activeBackground","Background hover color of options in input fields.")),rAe=ie("inputOption.activeForeground",{dark:Me.white,light:Me.black,hcDark:di,hcLight:di},A("inputOption.activeForeground","Foreground color of activated options in input fields."));ie("input.placeholderForeground",{light:on(di,.5),dark:on(di,.5),hcDark:on(di,.7),hcLight:on(di,.7)},A("inputPlaceholderForeground","Input box foreground color for placeholder text."));const ait=ie("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:Me.black,hcLight:Me.white},A("inputValidationInfoBackground","Input validation background color for information severity.")),lit=ie("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:di},A("inputValidationInfoForeground","Input validation foreground color for information severity.")),cit=ie("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:Hn,hcLight:Hn},A("inputValidationInfoBorder","Input validation border color for information severity.")),uit=ie("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:Me.black,hcLight:Me.white},A("inputValidationWarningBackground","Input validation background color for warning severity.")),dit=ie("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:di},A("inputValidationWarningForeground","Input validation foreground color for warning severity.")),hit=ie("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:Hn,hcLight:Hn},A("inputValidationWarningBorder","Input validation border color for warning severity.")),fit=ie("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:Me.black,hcLight:Me.white},A("inputValidationErrorBackground","Input validation background color for error severity.")),git=ie("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:di},A("inputValidationErrorForeground","Input validation foreground color for error severity.")),pit=ie("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:Hn,hcLight:Hn},A("inputValidationErrorBorder","Input validation border color for error severity.")),ZM=ie("dropdown.background",{dark:"#3C3C3C",light:Me.white,hcDark:Me.black,hcLight:Me.white},A("dropdownBackground","Dropdown background.")),mit=ie("dropdown.listBackground",{dark:null,light:null,hcDark:Me.black,hcLight:Me.white},A("dropdownListBackground","Dropdown list background.")),mq=ie("dropdown.foreground",{dark:"#F0F0F0",light:di,hcDark:Me.white,hcLight:di},A("dropdownForeground","Dropdown foreground.")),_q=ie("dropdown.border",{dark:ZM,light:"#CECECE",hcDark:Hn,hcLight:Hn},A("dropdownBorder","Dropdown border.")),sAe=ie("button.foreground",Me.white,A("buttonForeground","Button foreground color.")),_it=ie("button.separator",on(sAe,.4),A("buttonSeparator","Button separator color.")),ST=ie("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},A("buttonBackground","Button background color.")),Eit=ie("button.hoverBackground",{dark:ru(ST,.2),light:uE(ST,.2),hcDark:ST,hcLight:ST},A("buttonHoverBackground","Button background color when hovering.")),vit=ie("button.border",Hn,A("buttonBorder","Button border color.")),Sit=ie("button.secondaryForeground",{dark:Me.white,light:Me.white,hcDark:Me.white,hcLight:di},A("buttonSecondaryForeground","Secondary button foreground color.")),a8=ie("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:Me.white},A("buttonSecondaryBackground","Secondary button background color.")),Cit=ie("button.secondaryHoverBackground",{dark:ru(a8,.2),light:uE(a8,.2),hcDark:null,hcLight:null},A("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),CT=ie("radio.activeForeground",rAe,A("radioActiveForeground","Foreground color of active radio option.")),yit=ie("radio.activeBackground",iAe,A("radioBackground","Background color of active radio option.")),bit=ie("radio.activeBorder",nAe,A("radioActiveBorder","Border color of the active radio option.")),Tit=ie("radio.inactiveForeground",null,A("radioInactiveForeground","Foreground color of inactive radio option.")),wit=ie("radio.inactiveBackground",null,A("radioInactiveBackground","Background color of inactive radio option.")),Ait=ie("radio.inactiveBorder",{light:on(CT,.2),dark:on(CT,.2),hcDark:on(CT,.4),hcLight:on(CT,.2)},A("radioInactiveBorder","Border color of the inactive radio option.")),Rit=ie("radio.inactiveHoverBackground",oit,A("radioHoverBackground","Background color of inactive active radio option when hovering.")),Iit=ie("checkbox.background",ZM,A("checkbox.background","Background color of checkbox widget."));ie("checkbox.selectBackground",sc,A("checkbox.select.background","Background color of checkbox widget when the element it's in is selected."));const Nit=ie("checkbox.foreground",mq,A("checkbox.foreground","Foreground color of checkbox widget.")),Lit=ie("checkbox.border",_q,A("checkbox.border","Border color of checkbox widget."));ie("checkbox.selectBorder",t8,A("checkbox.select.border","Border color of checkbox widget when the element it's in is selected."));const Oit=ie("keybindingLabel.background",{dark:new Me(new xn(128,128,128,.17)),light:new Me(new xn(221,221,221,.4)),hcDark:Me.transparent,hcLight:Me.transparent},A("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),xit=ie("keybindingLabel.foreground",{dark:Me.fromHex("#CCCCCC"),light:Me.fromHex("#555555"),hcDark:Me.white,hcLight:di},A("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Dit=ie("keybindingLabel.border",{dark:new Me(new xn(51,51,51,.6)),light:new Me(new xn(204,204,204,.4)),hcDark:new Me(new xn(111,195,223)),hcLight:Hn},A("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Pit=ie("keybindingLabel.bottomBorder",{dark:new Me(new xn(68,68,68,.6)),light:new Me(new xn(187,187,187,.4)),hcDark:new Me(new xn(111,195,223)),hcLight:di},A("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),kit=ie("list.focusBackground",null,A("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Mit=ie("list.focusForeground",null,A("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Fit=ie("list.focusOutline",{dark:Sd,light:Sd,hcDark:cr,hcLight:cr},A("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Bit=ie("list.focusAndSelectionOutline",null,A("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),D_=ie("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:Me.fromHex("#0F4A85").transparent(.1)},A("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),M1=ie("list.activeSelectionForeground",{dark:Me.white,light:Me.white,hcDark:null,hcLight:null},A("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),oAe=ie("list.activeSelectionIconForeground",null,A("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Uit=ie("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:Me.fromHex("#0F4A85").transparent(.1)},A("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Hit=ie("list.inactiveSelectionForeground",null,A("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Vit=ie("list.inactiveSelectionIconForeground",null,A("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Wit=ie("list.inactiveFocusBackground",null,A("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),$it=ie("list.inactiveFocusOutline",null,A("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),aAe=ie("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:Me.white.transparent(.1),hcLight:Me.fromHex("#0F4A85").transparent(.1)},A("listHoverBackground","List/Tree background when hovering over items using the mouse.")),lAe=ie("list.hoverForeground",null,A("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Git=ie("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},A("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),zit=ie("list.dropBetweenBackground",{dark:t8,light:t8,hcDark:null,hcLight:null},A("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),QI=ie("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:Sd,hcLight:Sd},A("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."));ie("list.focusHighlightForeground",{dark:QI,light:Ont(D_,QI,"#BBE7FF"),hcDark:QI,hcLight:QI},A("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));ie("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},A("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));ie("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},A("listErrorForeground","Foreground color of list items containing errors."));ie("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},A("listWarningForeground","Foreground color of list items containing warnings."));const jit=ie("listFilterWidget.background",{light:uE(sc,0),dark:ru(sc,0),hcDark:sc,hcLight:sc},A("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Yit=ie("listFilterWidget.outline",{dark:Me.transparent,light:Me.transparent,hcDark:"#f38518",hcLight:"#007ACC"},A("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Kit=ie("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:Hn,hcLight:Hn},A("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),qit=ie("listFilterWidget.shadow",wA,A("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees."));ie("list.filterMatchBackground",{dark:_g,light:_g,hcDark:null,hcLight:null},A("listFilterMatchHighlight","Background color of the filtered match."));ie("list.filterMatchBorder",{dark:Hv,light:Hv,hcDark:Hn,hcLight:cr},A("listFilterMatchHighlightBorder","Border color of the filtered match."));ie("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},A("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized."));const cAe=ie("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},A("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Xit=ie("tree.inactiveIndentGuidesStroke",on(cAe,.4),A("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Qit=ie("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},A("tableColumnsBorder","Table border color between columns.")),Zit=ie("tree.tableOddRowsBackground",{dark:on(di,.04),light:on(di,.04),hcDark:null,hcLight:null},A("tableOddRowsBackgroundColor","Background color for odd table rows."));ie("editorActionList.background",sc,A("editorActionListBackground","Action List background color."));ie("editorActionList.foreground",QM,A("editorActionListForeground","Action List foreground color."));ie("editorActionList.focusForeground",M1,A("editorActionListFocusForeground","Action List foreground color for the focused item."));ie("editorActionList.focusBackground",D_,A("editorActionListFocusBackground","Action List background color for the focused item."));const Jit=ie("menu.border",{dark:null,light:null,hcDark:Hn,hcLight:Hn},A("menuBorder","Border color of menus.")),ert=ie("menu.foreground",mq,A("menuForeground","Foreground color of menu items.")),trt=ie("menu.background",ZM,A("menuBackground","Background color of menu items.")),nrt=ie("menu.selectionForeground",M1,A("menuSelectionForeground","Foreground color of the selected menu item in menus.")),irt=ie("menu.selectionBackground",D_,A("menuSelectionBackground","Background color of the selected menu item in menus.")),rrt=ie("menu.selectionBorder",{dark:null,light:null,hcDark:cr,hcLight:cr},A("menuSelectionBorder","Border color of the selected menu item in menus.")),srt=ie("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:Hn,hcLight:Hn},A("menuSeparatorBackground","Color of a separator menu item in menus.")),rce=ie("quickInput.background",sc,A("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),ort=ie("quickInput.foreground",QM,A("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),art=ie("quickInputTitle.background",{dark:new Me(new xn(255,255,255,.105)),light:new Me(new xn(0,0,0,.06)),hcDark:"#000000",hcLight:Me.white},A("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),uAe=ie("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:Me.white,hcLight:"#0F4A85"},A("pickerGroupForeground","Quick picker color for grouping labels.")),lrt=ie("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:Me.white,hcLight:"#0F4A85"},A("pickerGroupBorder","Quick picker color for grouping borders.")),sce=ie("quickInput.list.focusBackground",null,"",void 0,A("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),l8=ie("quickInputList.focusForeground",M1,A("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),dAe=ie("quickInputList.focusIconForeground",oAe,A("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),c8=ie("quickInputList.focusBackground",{dark:Kle(sce,D_),light:Kle(sce,D_),hcDark:null,hcLight:null},A("quickInput.listFocusBackground","Quick picker background color for the focused item."));ie("search.resultsInfoForeground",{light:di,dark:on(di,.65),hcDark:di,hcLight:di},A("search.resultsInfoForeground","Color of the text in the search viewlet's completion message."));ie("searchEditor.findMatchBackground",{light:on(_g,.66),dark:on(_g,.66),hcDark:_g,hcLight:_g},A("searchEditor.queryMatch","Color of the Search Editor query matches."));ie("searchEditor.findMatchBorder",{light:on(Hv,.66),dark:on(Hv,.66),hcDark:Hv,hcLight:Hv},A("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));var crt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},oce=function(n,e){return function(t,i){e(t,i,n)}};const AA=Cn("hoverService");let F1=class extends Ne{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(e,t,i={},r,s){super(),this.placement=e,this.instantHover=t,this.overrideOptions=i,this.configurationService=r,this.hoverService=s,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new at),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(e,t){const i=typeof this.overrideOptions=="function"?this.overrideOptions(e,t):this.overrideOptions;this.hoverDisposables.clear();const r=as(e.target)?[e.target]:e.target.targetElements;for(const o of r)this.hoverDisposables.add(Qr(o,"keydown",a=>{a.equals(9)&&this.hoverService.hideHover()}));const s=as(e.content)?void 0:e.content.toString();return this.hoverService.showHover({...e,...i,persistence:{hideOnKeyDown:!0,...i.persistence},id:s,appearance:{...e.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...i.appearance}},t)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};F1=crt([oce(3,Zi),oce(4,AA)],F1);const RA=Cn("contextViewService"),hf=Cn("contextMenuService"),Rs=Cn("keybindingService");class JM{constructor(){this._hooks=new at,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,r,s){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=r,this._onStopCallback=s;let o=e;try{e.setPointerCapture(t),this._hooks.add(Ht(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{o=ht(e)}this._hooks.add(we(o,Ve.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(we(o,Ve.POINTER_UP,a=>this.stopMonitoring(!0)))}}function Ji(n,e,t){let i=null,r=null;if(typeof t.value=="function"?(i="value",r=t.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",r=t.get),!r)throw new Error("not supported");const s=`$memoize$${e}`;t[i]=function(...o){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,o)}),this[s]}}var urt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},_i;(function(n){n.Tap="-monaco-gesturetap",n.Change="-monaco-gesturechange",n.Start="-monaco-gesturestart",n.End="-monaco-gesturesend",n.Contextmenu="-monaco-gesturecontextmenu"})(_i||(_i={}));const Ss=class Ss extends Ne{constructor(){super(),this.dispatched=!1,this.targets=new pa,this.ignoreTargets=new pa,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(Ue.runAndSubscribe(PM,({window:e,disposables:t})=>{t.add(we(e.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),t.add(we(e.document,"touchend",i=>this.onTouchEnd(e,i))),t.add(we(e.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:fi,disposables:this._store}))}static addTarget(e){if(!Ss.isTouchDevice())return Ne.None;Ss.INSTANCE||(Ss.INSTANCE=new Ss);const t=Ss.INSTANCE.targets.push(e);return Ht(t)}static ignoreTarget(e){if(!Ss.isTouchDevice())return Ne.None;Ss.INSTANCE||(Ss.INSTANCE=new Ss);const t=Ss.INSTANCE.ignoreTargets.push(e);return Ht(t)}static isTouchDevice(){return"ontouchstart"in fi||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,r=e.targetTouches.length;i<r;i++){const s=e.targetTouches.item(i);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:t,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[t],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};const o=this.newGestureEvent(_i.Start,s.target);o.pageX=s.pageX,o.pageY=s.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){const i=Date.now(),r=Object.keys(this.activeTouches).length;for(let s=0,o=t.changedTouches.length;s<o;s++){const a=t.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const l=this.activeTouches[a.identifier],c=Date.now()-l.initialTimeStamp;if(c<Ss.HOLD_DELAY&&Math.abs(l.initialPageX-ol(l.rollingPageX))<30&&Math.abs(l.initialPageY-ol(l.rollingPageY))<30){const u=this.newGestureEvent(_i.Tap,l.initialTarget);u.pageX=ol(l.rollingPageX),u.pageY=ol(l.rollingPageY),this.dispatchEvent(u)}else if(c>=Ss.HOLD_DELAY&&Math.abs(l.initialPageX-ol(l.rollingPageX))<30&&Math.abs(l.initialPageY-ol(l.rollingPageY))<30){const u=this.newGestureEvent(_i.Contextmenu,l.initialTarget);u.pageX=ol(l.rollingPageX),u.pageY=ol(l.rollingPageY),this.dispatchEvent(u)}else if(r===1){const u=ol(l.rollingPageX),d=ol(l.rollingPageY),h=ol(l.rollingTimestamps)-l.rollingTimestamps[0],f=u-l.rollingPageX[0],m=d-l.rollingPageY[0],g=[...this.targets].filter(_=>l.initialTarget instanceof Node&&_.contains(l.initialTarget));this.inertia(e,g,i,Math.abs(f)/h,f>0?1:-1,u,Math.abs(m)/h,m>0?1:-1,d)}this.dispatchEvent(this.newGestureEvent(_i.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===_i.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>Ss.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===_i.Change||e.type===_i.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const i of this.ignoreTargets)if(i.contains(e.initialTarget))return;const t=[];for(const i of this.targets)if(i.contains(e.initialTarget)){let r=0,s=e.initialTarget;for(;s&&s!==i;)r++,s=s.parentElement;t.push([r,i])}t.sort((i,r)=>i[0]-r[0]);for(const[i,r]of t)r.dispatchEvent(e),this.dispatched=!0}}inertia(e,t,i,r,s,o,a,l,c){this.handle=wa(e,()=>{const u=Date.now(),d=u-i;let h=0,f=0,m=!0;r+=Ss.SCROLL_FRICTION*d,a+=Ss.SCROLL_FRICTION*d,r>0&&(m=!1,h=s*r*d),a>0&&(m=!1,f=l*a*d);const g=this.newGestureEvent(_i.Change);g.translationX=h,g.translationY=f,t.forEach(_=>_.dispatchEvent(g)),m||this.inertia(e,t,u,r,s,o+h,a,l,c+f)})}onTouchMove(e){const t=Date.now();for(let i=0,r=e.changedTouches.length;i<r;i++){const s=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("end of an UNKNOWN touch",s);continue}const o=this.activeTouches[s.identifier],a=this.newGestureEvent(_i.Change,o.initialTarget);a.translationX=s.pageX-ol(o.rollingPageX),a.translationY=s.pageY-ol(o.rollingPageY),a.pageX=s.pageX,a.pageY=s.pageY,this.dispatchEvent(a),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(s.pageX),o.rollingPageY.push(s.pageY),o.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};Ss.SCROLL_FRICTION=-.005,Ss.HOLD_DELAY=700,Ss.CLEAR_TAP_COUNT_TIME=400;let Ro=Ss;urt([Ji],Ro,"isTouchDevice",null);let ff=class extends Ne{onclick(e,t){this._register(we(e,Ve.CLICK,i=>t(new Jc(ht(e),i))))}onmousedown(e,t){this._register(we(e,Ve.MOUSE_DOWN,i=>t(new Jc(ht(e),i))))}onmouseover(e,t){this._register(we(e,Ve.MOUSE_OVER,i=>t(new Jc(ht(e),i))))}onmouseleave(e,t){this._register(we(e,Ve.MOUSE_LEAVE,i=>t(new Jc(ht(e),i))))}onkeydown(e,t){this._register(we(e,Ve.KEY_DOWN,i=>t(new wi(i))))}onkeyup(e,t){this._register(we(e,Ve.KEY_UP,i=>t(new wi(i))))}oninput(e,t){this._register(we(e,Ve.INPUT,t))}onblur(e,t){this._register(we(e,Ve.BLUR,t))}onfocus(e,t){this._register(we(e,Ve.FOCUS,t))}ignoreGesture(e){return Ro.ignoreTarget(e)}};const yC=11;class drt extends ff{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...Ln.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=yC+"px",this.domNode.style.height=yC+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new JM),this._register(Qr(this.bgDomNode,Ve.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(Qr(this.domNode,Ve.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new GK),this._pointerdownScheduleRepeatTimer=this._register(new nE)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,ht(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class hrt extends Ne{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new nE)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)==null||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)==null||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}const frt=140;class hAe extends ff{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new hrt(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new JM),this._shouldRender=!0,this.domNode=Dn(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(we(this.domNode.domNode,Ve.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){const t=this._register(new drt(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,r){this.slider=Dn(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(we(this.slider.domNode,Ve.POINTER_DOWN,s=>{s.button===0&&(s.preventDefault(),this._sliderPointerDown(s))})),this.onclick(this.slider.domNode,s=>{s.leftButton&&s.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderPointerPosition(e);i<=s&&s<=r?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{const s=yl(this.domNode.domNode);t=e.pageX-s.left,i=e.pageY-s.top}const r=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>{const o=this._sliderOrthogonalPointerPosition(s),a=Math.abs(o-i);if(ba&&a>frt){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const c=this._sliderPointerPosition(s)-t;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const grt=20;class bC{constructor(e,t,i,r,s,o){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=s,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new bC(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,r,s){const o=Math.max(0,i-e),a=Math.max(0,o-2*t),l=r>0&&r>i;if(!l)return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const c=Math.round(Math.max(grt,Math.floor(i*a/r))),u=(a-c)/(r-i),d=s*u;return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:u,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const e=bC._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class prt extends hAe{constructor(e,t,i){const r=e.getScrollDimensions(),s=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new bC(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,r.width,r.scrollWidth,s.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const o=(t.arrowSize-yC)/2,a=(t.horizontalScrollbarSize-yC)/2;this._createArrow({className:"scra",icon:tt.scrollbarButtonLeft,top:a,left:o,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new I_(null,1,0))}),this._createArrow({className:"scra",icon:tt.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:o,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new I_(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class mrt extends hAe{constructor(e,t,i){const r=e.getScrollDimensions(),s=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new bC(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,r.height,r.scrollHeight,s.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const o=(t.arrowSize-yC)/2,a=(t.verticalScrollbarSize-yC)/2;this._createArrow({className:"scra",icon:tt.scrollbarButtonUp,top:o,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new I_(null,0,1))}),this._createArrow({className:"scra",icon:tt.scrollbarButtonDown,top:void 0,left:a,bottom:o,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new I_(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class sx{constructor(e,t,i,r,s,o,a){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,r=r|0,s=s|0,o=o|0,a=a|0),this.rawScrollLeft=r,this.rawScrollTop=a,t<0&&(t=0),r+t>i&&(r=i-t),r<0&&(r=0),s<0&&(s=0),a+s>o&&(a=o-s),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=r,this.height=s,this.scrollHeight=o,this.scrollTop=a}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new sx(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new sx(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,s=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:r,scrollLeftChanged:s,heightChanged:o,scrollHeightChanged:a,scrollTopChanged:l}}}class yy extends Ne{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new ge),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new sx(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var r;const i=this._state.withScrollDimensions(e,t);this._setState(i,!!this._smoothScrolling),(r=this._smoothScrolling)==null||r.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let r;t?r=new B1(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const i=this._state.withScrollPosition(e);this._smoothScrolling=B1.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class ace{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function S3(n,e){const t=e-n;return function(i){return n+t*vrt(i)}}function _rt(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}class B1{constructor(e,t,i,r){this.from=e,this.to=t,this.duration=r,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let s,o;return e<t?(s=e+.75*i,o=t-.75*i):(s=e-.75*i,o=t+.75*i),_rt(S3(e,s),S3(o,t),.33)}return S3(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const i=this.scrollLeft(t),r=this.scrollTop(t);return new ace(i,r,!1)}return new ace(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return B1.start(e,t,i)}static start(e,t,i){i=i+10;const r=Date.now()-10;return new B1(e,t,r,i)}}function Ert(n){return Math.pow(n,3)}function vrt(n){return 1-Ert(1-n)}const Srt=500,lce=50;class Crt{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}const IP=class IP{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,r=this._rear;do{const s=r===this._front?e:Math.pow(2,-i);if(e-=s,t+=this._memory[r].score*s,r===this._front)break;r=(this._capacity+r-1)%this._capacity,i++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(mA){const t=ht(e.browserEvent),i=MQe(t);this.accept(Date.now(),e.deltaX*i,e.deltaY*i)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){let r=null;const s=new Crt(e,t,i);this._front===-1&&this._rear===-1?(this._memory[0]=s,this._front=0,this._rear=0):(r=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=s),s.score=this._computeScore(s,r)}_computeScore(e,t){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let i=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(i+=.25),t){const r=Math.abs(e.deltaX),s=Math.abs(e.deltaY),o=Math.abs(t.deltaX),a=Math.abs(t.deltaY),l=Math.max(Math.min(r,o),1),c=Math.max(Math.min(s,a),1),u=Math.max(r,o),d=Math.max(s,a);u%l===0&&d%c===0&&(i-=.5)}return Math.min(Math.max(i,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}};IP.INSTANCE=new IP;let ox=IP;class Eq extends ff{get options(){return this._options}constructor(e,t,i){super(),this._onScroll=this._register(new ge),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new ge),e.style.overflow="hidden",this._options=brt(t),this._scrollable=i,this._register(this._scrollable.onScroll(s=>{this._onWillScroll.fire(s),this._onDidScroll(s),this._onScroll.fire(s)}));const r={onMouseWheel:s=>this._onMouseWheel(s),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new mrt(this._scrollable,this._options,r)),this._horizontalScrollbar=this._register(new prt(this._scrollable,this._options,r)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Dn(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Dn(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Dn(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,s=>this._onMouseOver(s)),this.onmouseleave(this._listenOnDomNode,s=>this._onMouseLeave(s)),this._hideTimeout=this._register(new nE),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=As(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,bn&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new I_(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=As(this._mouseWheelToDispose),e)){const i=r=>{this._onMouseWheel(new I_(r))};this._mouseWheelToDispose.push(we(this._listenOnDomNode,Ve.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){var s;if((s=e.browserEvent)!=null&&s.defaultPrevented)return;const t=ox.INSTANCE;t.acceptStandardWheelEvent(e);let i=!1;if(e.deltaY||e.deltaX){let o=e.deltaY*this._options.mouseWheelScrollSensitivity,a=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&a+o===0?a=o=0:Math.abs(o)>=Math.abs(a)?a=0:o=0),this._options.flipAxes&&([o,a]=[a,o]);const l=!bn&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||l)&&!a&&(a=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(a=a*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);const c=this._scrollable.getFutureScrollPosition();let u={};if(o){const d=lce*o,h=c.scrollTop-(d<0?Math.floor(d):Math.ceil(d));this._verticalScrollbar.writeScrollPosition(u,h)}if(a){const d=lce*a,h=c.scrollLeft-(d<0?Math.floor(d):Math.ceil(d));this._horizontalScrollbar.writeScrollPosition(u,h)}u=this._scrollable.validateScrollPosition(u),(c.scrollLeft!==u.scrollLeft||c.scrollTop!==u.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(u):this._scrollable.setScrollPositionNow(u),i=!0)}let r=i;!r&&this._options.alwaysConsumeMouseWheel&&(r=!0),!r&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(r=!0),r&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,r=i?" left":"",s=t?" top":"",o=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${r}`),this._topShadowDomNode.setClassName(`shadow${s}`),this._topLeftShadowDomNode.setClassName(`shadow${o}${s}${r}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Srt)}}class yrt extends Eq{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new yy({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:r=>wa(ht(e),r)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class e2 extends Eq{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class vq extends Eq{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new yy({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:r=>wa(ht(e),r)});super(e,t,i),this._register(i),this._element=e,this._register(this.onScroll(r=>{r.scrollTopChanged&&(this._element.scrollTop=r.scrollTop),r.scrollLeftChanged&&(this._element.scrollLeft=r.scrollLeft)})),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function brt(n){const e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded<"u"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis<"u"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage<"u"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,bn&&(e.className+=" mac"),e}const ZI=St;let Trt=class extends Ne{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new vq(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}};class Sq extends Ne{static render(e,t,i){return new Sq(e,t,i)}constructor(e,t,i){super(),this.actionLabel=t.label,this.actionKeybindingLabel=i,this.actionContainer=st(e,ZI("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=st(this.actionContainer,ZI("a.action")),this.action.setAttribute("role","button"),t.iconClass&&st(this.action,ZI(`span.icon.${t.iconClass}`));const r=st(this.action,ZI("span"));r.textContent=i?`${t.label} (${i})`:t.label,this._store.add(new Art(this.actionContainer,t.run)),this._store.add(new Rrt(this.actionContainer,t.run,[3,10])),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function wrt(n,e){return n&&e?A("acessibleViewHint","Inspect this in the accessible view with {0}.",e):n?A("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}class Art extends Ne{constructor(e,t){super(),this._register(we(e,Ve.CLICK,i=>{i.stopPropagation(),i.preventDefault(),t(e)}))}}class Rrt extends Ne{constructor(e,t,i){super(),this._register(we(e,Ve.KEY_DOWN,r=>{const s=new wi(r);i.some(o=>s.equals(o))&&(r.stopPropagation(),r.preventDefault(),t(e))}))}}const IA=Cn("openerService");function Irt(n){let e;const t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(n.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},n=n.with({fragment:""})),{selection:e,uri:n}}class sn{get event(){return this.emitter.event}constructor(e,t,i){const r=s=>this.emitter.fire(s);this.emitter=new ge({onWillAddFirstListener:()=>e.addEventListener(t,r,i),onDidRemoveLastListener:()=>e.removeEventListener(t,r,i)})}dispose(){this.emitter.dispose()}}function Nrt(n,e={}){const t=Cq(e);return t.textContent=n,t}function Lrt(n,e={}){const t=Cq(e);return fAe(t,xrt(n,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function Cq(n){const e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}class Ort{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function fAe(n,e,t,i){let r;if(e.type===2)r=document.createTextNode(e.content||"");else if(e.type===3)r=document.createElement("b");else if(e.type===4)r=document.createElement("i");else if(e.type===7&&i)r=document.createElement("code");else if(e.type===5&&t){const s=document.createElement("a");t.disposables.add(Qr(s,"click",o=>{t.callback(String(e.index),o)})),r=s}else e.type===8?r=document.createElement("br"):e.type===1&&(r=n);r&&n!==r&&n.appendChild(r),r&&Array.isArray(e.children)&&e.children.forEach(s=>{fAe(r,s,t,i)})}function xrt(n,e){const t={type:1,children:[]};let i=0,r=t;const s=[],o=new Ort(n);for(;!o.eos();){let a=o.next();const l=a==="\\"&&u8(o.peek(),e)!==0;if(l&&(a=o.next()),!l&&Drt(a,e)&&a===o.peek()){o.advance(),r.type===2&&(r=s.pop());const c=u8(a,e);if(r.type===c||r.type===5&&c===6)r=s.pop();else{const u={type:c,children:[]};c===5&&(u.index=i,i++),r.children.push(u),s.push(r),r=u}}else if(a===`
`)r.type===2&&(r=s.pop()),r.children.push({type:8});else if(r.type!==2){const c={type:2,content:a};r.children.push(c),s.push(r),r=c}else r.content+=a}return r.type===2&&(r=s.pop()),t}function Drt(n,e){return u8(n,e)!==0}function u8(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}const Prt=new RegExp(`(\\\\)?\\$\\((${Ln.iconNameExpression}(?:${Ln.iconModifierExpression})?)\\)`,"g");function Qm(n){const e=new Array;let t,i=0,r=0;for(;(t=Prt.exec(n))!==null;){r=t.index||0,i<r&&e.push(n.substring(i,r)),i=(t.index||0)+t[0].length;const[,s,o]=t;e.push(s?`$(${o})`:ax({id:o}))}return i<n.length&&e.push(n.substring(i)),e}function ax(n){const e=St("span");return e.classList.add(...Ln.asClassNameArray(n)),e}function gAe(...n){return function(e,t){for(let i=0,r=n.length;i<r;i++){const s=n[i](e,t);if(s)return s}return null}}pAe.bind(void 0,!1);const lx=pAe.bind(void 0,!0);function pAe(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=PK(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function krt(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function Mrt(n,e){return d8(n.toLowerCase(),e.toLowerCase(),0,0)}function d8(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let r=null;return(r=d8(n,e,t+1,i+1))?_Ae({start:i,end:i+1},r):null}return d8(n,e,t,i+1)}function yq(n){return 97<=n&&n<=122}function t2(n){return 65<=n&&n<=90}function bq(n){return 48<=n&&n<=57}function Frt(n){return n===32||n===9||n===10||n===13}const Brt=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(n=>Brt.add(n.charCodeAt(0)));function mAe(n){return yq(n)||t2(n)||bq(n)}function _Ae(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function EAe(n,e){for(let t=e;t<n.length;t++){const i=n.charCodeAt(t);if(t2(i)||bq(i)||t>0&&!mAe(n.charCodeAt(t-1)))return t}return n.length}function h8(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let r=null,s=i+1;for(r=h8(n,e,t+1,i+1);!r&&(s=EAe(e,s))<e.length;)r=h8(n,e,t+1,s),s++;return r===null?null:_Ae({start:i,end:i+1},r)}}function Urt(n){let e=0,t=0,i=0,r=0,s=0;for(let u=0;u<n.length;u++)s=n.charCodeAt(u),t2(s)&&e++,yq(s)&&t++,mAe(s)&&i++,bq(s)&&r++;const o=e/n.length,a=t/n.length,l=i/n.length,c=r/n.length;return{upperPercent:o,lowerPercent:a,alphaPercent:l,numericPercent:c}}function Hrt(n){const{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function Vrt(n){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:r}=n;return t>.2&&e<.8&&i>.6&&r<.2}function Wrt(n){let e=0,t=0,i=0,r=0;for(let s=0;s<n.length;s++)i=n.charCodeAt(s),t2(i)&&e++,yq(i)&&t++,Frt(i)&&r++;return(e===0||t===0)&&r===0?n.length<=30:e<=5}function vAe(n,e){if(!e||(e=e.trim(),e.length===0)||!Wrt(n))return null;e.length>60&&(e=e.substring(0,60));const t=Urt(e);if(!Vrt(t)){if(!Hrt(t))return null;e=e.toLowerCase()}let i=null,r=0;for(n=n.toLowerCase();r<e.length&&(i=h8(n,e,0,r))===null;)r=EAe(e,r+1);return i}const $rt=gAe(lx,vAe,krt),Grt=gAe(lx,vAe,Mrt),cce=new bA(1e4);function uce(n,e,t=!1){if(typeof n!="string"||typeof e!="string")return null;let i=cce.get(n);i||(i=new RegExp(wQe(n),"i"),cce.set(n,i));const r=i.exec(e);return r?[{start:r.index,end:r.index+r[0].length}]:t?Grt(n,e):$rt(n,e)}function zrt(n,e){const t=yAe(n,n.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?jrt(t):null}function jrt(n){if(typeof n>"u")return[];const e=[],t=n[1];for(let i=n.length-1;i>1;i--){const r=n[i]+t,s=e[e.length-1];s&&s.end===r?s.end=r+1:e.push({start:r,end:r+1})}return e}const Eg=128;function Tq(){const n=[],e=[];for(let t=0;t<=Eg;t++)e[t]=0;for(let t=0;t<=Eg;t++)n.push(e.slice(0));return n}function SAe(n){const e=[];for(let t=0;t<=n;t++)e[t]=0;return e}const CAe=SAe(2*Eg),f8=SAe(2*Eg),qd=Tq(),$p=Tq(),JI=Tq();function eN(n,e){if(e<0||e>=n.length)return!1;const t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!UK(t)}}function dce(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function _L(n,e,t){return e[n]!==t[n]}function Yrt(n,e,t,i,r,s,o=!1){for(;e<t&&r<s;)n[e]===i[r]&&(o&&(CAe[e]=r),e+=1),r+=1;return e===t}var xS;(function(n){n.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}n.isDefault=e})(xS||(xS={}));const YQ=class YQ{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}};YQ.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};let g8=YQ;function yAe(n,e,t,i,r,s,o=g8.default){const a=n.length>Eg?Eg:n.length,l=i.length>Eg?Eg:i.length;if(t>=a||s>=l||a-t>l-s||!Yrt(e,t,a,r,s,l,!0))return;Krt(a,l,t,s,e,r);let c=1,u=1,d=t,h=s;const f=[!1];for(c=1,d=t;d<a;c++,d++){const S=CAe[d],C=f8[d],y=d+1<a?f8[d+1]:l;for(u=S-s+1,h=S;h<y;u++,h++){let b=Number.MIN_SAFE_INTEGER,w=!1;h<=C&&(b=qrt(n,e,d,t,i,r,h,l,s,qd[c-1][u-1]===0,f));let I=0;b!==Number.MAX_SAFE_INTEGER&&(w=!0,I=b+$p[c-1][u-1]);const O=h>S,x=O?$p[c][u-1]+(qd[c][u-1]>0?-5:0):0,k=h>S+1&&qd[c][u-1]>0,P=k?$p[c][u-2]+(qd[c][u-2]>0?-5:0):0;if(k&&(!O||P>=x)&&(!w||P>=I))$p[c][u]=P,JI[c][u]=3,qd[c][u]=0;else if(O&&(!w||x>=I))$p[c][u]=x,JI[c][u]=2,qd[c][u]=0;else if(w)$p[c][u]=I,JI[c][u]=1,qd[c][u]=qd[c-1][u-1]+1;else throw new Error("not possible")}}if(!f[0]&&!o.firstMatchCanBeWeak)return;c--,u--;const m=[$p[c][u],s];let g=0,_=0;for(;c>=1;){let S=u;do{const C=JI[c][S];if(C===3)S=S-2;else if(C===2)S=S-1;else break}while(S>=1);g>1&&e[t+c-1]===r[s+u-1]&&!_L(S+s-1,i,r)&&g+1>qd[c][S]&&(S=u),S===u?g++:g=1,_||(_=S),c--,u=S-1,m.push(u)}l-s===a&&o.boostFullMatch&&(m[0]+=2);const v=_-a;return m[0]-=v,m}function Krt(n,e,t,i,r,s){let o=n-1,a=e-1;for(;o>=t&&a>=i;)r[o]===s[a]&&(f8[o]=a,o--),a--}function qrt(n,e,t,i,r,s,o,a,l,c,u){if(e[t]!==s[o])return Number.MIN_SAFE_INTEGER;let d=1,h=!1;return o===t-i?d=n[t]===r[o]?7:5:_L(o,r,s)&&(o===0||!_L(o-1,r,s))?(d=n[t]===r[o]?7:5,h=!0):eN(s,o)&&(o===0||!eN(s,o-1))?d=5:(eN(s,o-1)||dce(s,o-1))&&(d=5,h=!0),d>1&&t===i&&(u[0]=!0),h||(h=_L(o,r,s)||eN(s,o-1)||dce(s,o-1)),t===i?o>l&&(d-=h?3:5):c?d+=h?2:0:d+=h?0:1,o+1===a&&(d-=h?3:5),d}const Xrt="$(",wq=new RegExp(`\\$\\(${Ln.iconNameExpression}(?:${Ln.iconModifierExpression})?\\)`,"g"),Qrt=new RegExp(`(\\\\)?${wq.source}`,"g");function Zrt(n){return n.replace(Qrt,(e,t)=>t?e:`\\${e}`)}const Jrt=new RegExp(`\\\\${wq.source}`,"g");function est(n){return n.replace(Jrt,e=>`\\${e}`)}const tst=new RegExp(`(\\s)?(\\\\)?${wq.source}(\\s)?`,"g");function bAe(n){return n.indexOf(Xrt)===-1?n:n.replace(tst,(e,t,i,r)=>i?e:t||r||"")}function nst(n){return n?n.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}const C3=new RegExp(`\\$\\(${Ln.iconNameCharacter}+\\)`,"g");function yT(n){C3.lastIndex=0;let e="";const t=[];let i=0;for(;;){const r=C3.lastIndex,s=C3.exec(n),o=n.substring(r,s==null?void 0:s.index);if(o.length>0){e+=o;for(let a=0;a<o.length;a++)t.push(i)}if(!s)break;i+=s[0].length}return{text:e,iconOffsets:t}}function y3(n,e,t=!1){const{text:i,iconOffsets:r}=e;if(!r||r.length===0)return uce(n,i,t);const s=LM(i," "),o=i.length-s.length,a=uce(n,s,t);if(a)for(const l of a){const c=r[l.start+o]+o;l.start+=c,l.end+=c}return a}function Xd(n){return MO(n,!0)}class ist{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:l6(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===Jt.file)return e8(Xd(e),Xd(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(fce(e.authority,t.authority))return e8(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return en.joinPath(e,...t)}basenameOrAuthority(e){return Aq(e)||e.authority}basename(e){return or.basename(e.path)}extname(e){return or.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===Jt.file?t=en.file(rQe(Xd(e))).path:(t=or.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===Jt.file?t=en.file(a1e(Xd(e))).path:t=or.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!fce(e.authority,t.authority))return;if(e.scheme===Jt.file){const s=iQe(Xd(e),Xd(t));return ba?Bwe(s):s}let i=e.path||"/";const r=t.path||"/";if(this._ignorePathCasing(e)){let s=0;for(const o=Math.min(i.length,r.length);s<o&&!(i.charCodeAt(s)!==r.charCodeAt(s)&&i.charAt(s).toLowerCase()!==r.charAt(s).toLowerCase());s++);i=r.substr(0,s)+i.substr(s)}return or.relative(i,r)}resolvePath(e,t){if(e.scheme===Jt.file){const i=en.file(nQe(Xd(e),t));return e.with({authority:i.authority,path:i.path})}return t=lnt(t),e.with({path:or.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&Pv(e,t)}hasTrailingPathSeparator(e,t=Dg){if(e.scheme===Jt.file){const i=Xd(e);return i.length>Ule(i).length&&i[i.length-1]===t}else{const i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=Dg){return gce(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=Dg){let i=!1;if(e.scheme===Jt.file){const r=Xd(e);i=r!==void 0&&r.length===Ule(r).length&&r[r.length-1]===t}else{t="/";const r=e.path;i=r.length===1&&r.charCodeAt(r.length-1)===47}return!i&&!gce(e,t)?e.with({path:e.path+"/"}):e}}const Mi=new ist(()=>!1),rst=Mi.isEqual.bind(Mi);Mi.isEqualOrParent.bind(Mi);Mi.getComparisonKey.bind(Mi);Mi.basenameOrAuthority.bind(Mi);const Aq=Mi.basename.bind(Mi);Mi.extname.bind(Mi);const sst=Mi.dirname.bind(Mi);Mi.joinPath.bind(Mi);const ost=Mi.normalizePath.bind(Mi);Mi.relativePath.bind(Mi);const hce=Mi.resolvePath.bind(Mi);Mi.isAbsolutePath.bind(Mi);const fce=Mi.isEqualAuthority.bind(Mi),gce=Mi.hasTrailingPathSeparator.bind(Mi);Mi.removeTrailingPathSeparator.bind(Mi);Mi.addTrailingPathSeparator.bind(Mi);var cx;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function e(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(o=>{const[a,l]=o.split(":");a&&l&&i.set(a,l)});const s=t.path.substring(0,t.path.indexOf(";"));return s&&i.set(n.META_DATA_MIME,s),i}n.parseMetaData=e})(cx||(cx={}));class TAe{constructor(e="",t=!1){if(this.value=e,typeof this.value!="string")throw IM("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=t.isTrusted??void 0,this.supportThemeIcons=t.supportThemeIcons??!1,this.supportHtml=t.supportHtml??!1)}appendText(e,t=0){return this.value+=lst(this.supportThemeIcons?Zrt(e):e).replace(/([ \t]+)/g,(i,r)=>"&nbsp;".repeat(r.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+=`
${cst(t,e)}
`,this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){const i=new RegExp(sf(t),"g");return e.replace(i,(r,s)=>e.charAt(s-1)!=="\\"?`\\${r}`:r)}}function DS(n){return n instanceof TAe?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||typeof n.isTrusted=="object"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function ast(n,e){return n===e?!0:!n||!e?!1:n.value===e.value&&n.isTrusted===e.isTrusted&&n.supportThemeIcons===e.supportThemeIcons&&n.supportHtml===e.supportHtml&&(n.baseUri===e.baseUri||!!n.baseUri&&!!e.baseUri&&rst(en.from(n.baseUri),en.from(e.baseUri)))}function lst(n){return n.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function cst(n,e){var r;const t=((r=n.match(/^`+/gm))==null?void 0:r.reduce((s,o)=>s.length>o.length?s:o).length)??0,i=t>=3?t+1:3;return[`${"`".repeat(i)}${e}`,n,`${"`".repeat(i)}`].join(`
`)}function tN(n){return n.replace(/"/g,"&quot;")}function b3(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function ust(n){const e=[],t=n.split("|").map(r=>r.trim());n=t[0];const i=t[1];if(i){const r=/height=(\d+)/.exec(i),s=/width=(\d+)/.exec(i),o=r?r[1]:"",a=s?s[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(o));l&&e.push(`width="${a}"`),c&&e.push(`height="${o}"`)}return{href:n,dimensions:e}}class wAe{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const pce=new wAe("id#");let Gs={};(function(){function n(e,t){t(Gs)}n.amd=!0,function(e,t){typeof n=="function"&&n.amd?n(["exports"],t):typeof cs=="object"&&typeof nDe<"u"?t(cs):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}e.defaults=t();function i(Zt){e.defaults=Zt}const r=/[&<>"']/,s=new RegExp(r.source,"g"),o=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,a=new RegExp(o.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=Zt=>l[Zt];function u(Zt,ee){if(ee){if(r.test(Zt))return Zt.replace(s,c)}else if(o.test(Zt))return Zt.replace(a,c);return Zt}const d=/(^|[^\[])\^/g;function h(Zt,ee){let te=typeof Zt=="string"?Zt:Zt.source;ee=ee||"";const se={replace:(fe,ve)=>{let Ie=typeof ve=="string"?ve:ve.source;return Ie=Ie.replace(d,"$1"),te=te.replace(fe,Ie),se},getRegex:()=>new RegExp(te,ee)};return se}function f(Zt){try{Zt=encodeURI(Zt).replace(/%25/g,"%")}catch{return null}return Zt}const m={exec:()=>null};function g(Zt,ee){const te=Zt.replace(/\|/g,(ve,Ie,ke)=>{let Qe=!1,dt=Ie;for(;--dt>=0&&ke[dt]==="\\";)Qe=!Qe;return Qe?"|":" |"}),se=te.split(/ \|/);let fe=0;if(se[0].trim()||se.shift(),se.length>0&&!se[se.length-1].trim()&&se.pop(),ee)if(se.length>ee)se.splice(ee);else for(;se.length<ee;)se.push("");for(;fe<se.length;fe++)se[fe]=se[fe].trim().replace(/\\\|/g,"|");return se}function _(Zt,ee,te){const se=Zt.length;if(se===0)return"";let fe=0;for(;fe<se&&Zt.charAt(se-fe-1)===ee;)fe++;return Zt.slice(0,se-fe)}function v(Zt,ee){if(Zt.indexOf(ee[1])===-1)return-1;let te=0;for(let se=0;se<Zt.length;se++)if(Zt[se]==="\\")se++;else if(Zt[se]===ee[0])te++;else if(Zt[se]===ee[1]&&(te--,te<0))return se;return-1}function S(Zt,ee,te,se){const fe=ee.href,ve=ee.title?u(ee.title):null,Ie=Zt[1].replace(/\\([\[\]])/g,"$1");if(Zt[0].charAt(0)!=="!"){se.state.inLink=!0;const ke={type:"link",raw:te,href:fe,title:ve,text:Ie,tokens:se.inlineTokens(Ie)};return se.state.inLink=!1,ke}return{type:"image",raw:te,href:fe,title:ve,text:u(Ie)}}function C(Zt,ee){const te=Zt.match(/^(\s+)(?:```)/);if(te===null)return ee;const se=te[1];return ee.split(`
`).map(fe=>{const ve=fe.match(/^\s+/);if(ve===null)return fe;const[Ie]=ve;return Ie.length>=se.length?fe.slice(se.length):fe}).join(`
`)}class y{constructor(ee){dr(this,"options");dr(this,"rules");dr(this,"lexer");this.options=ee||e.defaults}space(ee){const te=this.rules.block.newline.exec(ee);if(te&&te[0].length>0)return{type:"space",raw:te[0]}}code(ee){const te=this.rules.block.code.exec(ee);if(te){const se=te[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:te[0],codeBlockStyle:"indented",text:this.options.pedantic?se:_(se,`
`)}}}fences(ee){const te=this.rules.block.fences.exec(ee);if(te){const se=te[0],fe=C(se,te[3]||"");return{type:"code",raw:se,lang:te[2]?te[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):te[2],text:fe}}}heading(ee){const te=this.rules.block.heading.exec(ee);if(te){let se=te[2].trim();if(/#$/.test(se)){const fe=_(se,"#");(this.options.pedantic||!fe||/ $/.test(fe))&&(se=fe.trim())}return{type:"heading",raw:te[0],depth:te[1].length,text:se,tokens:this.lexer.inline(se)}}}hr(ee){const te=this.rules.block.hr.exec(ee);if(te)return{type:"hr",raw:_(te[0],`
`)}}blockquote(ee){const te=this.rules.block.blockquote.exec(ee);if(te){let se=_(te[0],`
`).split(`
`),fe="",ve="";const Ie=[];for(;se.length>0;){let ke=!1;const Qe=[];let dt;for(dt=0;dt<se.length;dt++)if(/^ {0,3}>/.test(se[dt]))Qe.push(se[dt]),ke=!0;else if(!ke)Qe.push(se[dt]);else break;se=se.slice(dt);const Kt=Qe.join(`
`),Wn=Kt.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");fe=fe?`${fe}
${Kt}`:Kt,ve=ve?`${ve}
${Wn}`:Wn;const Xn=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(Wn,Ie,!0),this.lexer.state.top=Xn,se.length===0)break;const Ni=Ie[Ie.length-1];if((Ni==null?void 0:Ni.type)==="code")break;if((Ni==null?void 0:Ni.type)==="blockquote"){const Fn=Ni,ps=Fn.raw+`
`+se.join(`
`),js=this.blockquote(ps);Ie[Ie.length-1]=js,fe=fe.substring(0,fe.length-Fn.raw.length)+js.raw,ve=ve.substring(0,ve.length-Fn.text.length)+js.text;break}else if((Ni==null?void 0:Ni.type)==="list"){const Fn=Ni,ps=Fn.raw+`
`+se.join(`
`),js=this.list(ps);Ie[Ie.length-1]=js,fe=fe.substring(0,fe.length-Ni.raw.length)+js.raw,ve=ve.substring(0,ve.length-Fn.raw.length)+js.raw,se=ps.substring(Ie[Ie.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:fe,tokens:Ie,text:ve}}}list(ee){let te=this.rules.block.list.exec(ee);if(te){let se=te[1].trim();const fe=se.length>1,ve={type:"list",raw:"",ordered:fe,start:fe?+se.slice(0,-1):"",loose:!1,items:[]};se=fe?`\\d{1,9}\\${se.slice(-1)}`:`\\${se}`,this.options.pedantic&&(se=fe?se:"[*+-]");const Ie=new RegExp(`^( {0,3}${se})((?:[	 ][^\\n]*)?(?:\\n|$))`);let ke=!1;for(;ee;){let Qe=!1,dt="",Kt="";if(!(te=Ie.exec(ee))||this.rules.block.hr.test(ee))break;dt=te[0],ee=ee.substring(dt.length);let Wn=te[2].split(`
`,1)[0].replace(/^\t+/,Fd=>" ".repeat(3*Fd.length)),Xn=ee.split(`
`,1)[0],Ni=!Wn.trim(),Fn=0;if(this.options.pedantic?(Fn=2,Kt=Wn.trimStart()):Ni?Fn=te[1].length+1:(Fn=te[2].search(/[^ ]/),Fn=Fn>4?1:Fn,Kt=Wn.slice(Fn),Fn+=te[1].length),Ni&&/^ *$/.test(Xn)&&(dt+=Xn+`
`,ee=ee.substring(Xn.length+1),Qe=!0),!Qe){const Fd=new RegExp(`^ {0,${Math.min(3,Fn-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Lt=new RegExp(`^ {0,${Math.min(3,Fn-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Ce=new RegExp(`^ {0,${Math.min(3,Fn-1)}}(?:\`\`\`|~~~)`),it=new RegExp(`^ {0,${Math.min(3,Fn-1)}}#`);for(;ee;){const Ct=ee.split(`
`,1)[0];if(Xn=Ct,this.options.pedantic&&(Xn=Xn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Ce.test(Xn)||it.test(Xn)||Fd.test(Xn)||Lt.test(ee))break;if(Xn.search(/[^ ]/)>=Fn||!Xn.trim())Kt+=`
`+Xn.slice(Fn);else{if(Ni||Wn.search(/[^ ]/)>=4||Ce.test(Wn)||it.test(Wn)||Lt.test(Wn))break;Kt+=`
`+Xn}!Ni&&!Xn.trim()&&(Ni=!0),dt+=Ct+`
`,ee=ee.substring(Ct.length+1),Wn=Xn.slice(Fn)}}ve.loose||(ke?ve.loose=!0:/\n *\n *$/.test(dt)&&(ke=!0));let ps=null,js;this.options.gfm&&(ps=/^\[[ xX]\] /.exec(Kt),ps&&(js=ps[0]!=="[ ] ",Kt=Kt.replace(/^\[[ xX]\] +/,""))),ve.items.push({type:"list_item",raw:dt,task:!!ps,checked:js,loose:!1,text:Kt,tokens:[]}),ve.raw+=dt}ve.items[ve.items.length-1].raw=ve.items[ve.items.length-1].raw.trimEnd(),ve.items[ve.items.length-1].text=ve.items[ve.items.length-1].text.trimEnd(),ve.raw=ve.raw.trimEnd();for(let Qe=0;Qe<ve.items.length;Qe++)if(this.lexer.state.top=!1,ve.items[Qe].tokens=this.lexer.blockTokens(ve.items[Qe].text,[]),!ve.loose){const dt=ve.items[Qe].tokens.filter(Wn=>Wn.type==="space"),Kt=dt.length>0&&dt.some(Wn=>/\n.*\n/.test(Wn.raw));ve.loose=Kt}if(ve.loose)for(let Qe=0;Qe<ve.items.length;Qe++)ve.items[Qe].loose=!0;return ve}}html(ee){const te=this.rules.block.html.exec(ee);if(te)return{type:"html",block:!0,raw:te[0],pre:te[1]==="pre"||te[1]==="script"||te[1]==="style",text:te[0]}}def(ee){const te=this.rules.block.def.exec(ee);if(te){const se=te[1].toLowerCase().replace(/\s+/g," "),fe=te[2]?te[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",ve=te[3]?te[3].substring(1,te[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):te[3];return{type:"def",tag:se,raw:te[0],href:fe,title:ve}}}table(ee){const te=this.rules.block.table.exec(ee);if(!te||!/[:|]/.test(te[2]))return;const se=g(te[1]),fe=te[2].replace(/^\||\| *$/g,"").split("|"),ve=te[3]&&te[3].trim()?te[3].replace(/\n[ \t]*$/,"").split(`
`):[],Ie={type:"table",raw:te[0],header:[],align:[],rows:[]};if(se.length===fe.length){for(const ke of fe)/^ *-+: *$/.test(ke)?Ie.align.push("right"):/^ *:-+: *$/.test(ke)?Ie.align.push("center"):/^ *:-+ *$/.test(ke)?Ie.align.push("left"):Ie.align.push(null);for(let ke=0;ke<se.length;ke++)Ie.header.push({text:se[ke],tokens:this.lexer.inline(se[ke]),header:!0,align:Ie.align[ke]});for(const ke of ve)Ie.rows.push(g(ke,Ie.header.length).map((Qe,dt)=>({text:Qe,tokens:this.lexer.inline(Qe),header:!1,align:Ie.align[dt]})));return Ie}}lheading(ee){const te=this.rules.block.lheading.exec(ee);if(te)return{type:"heading",raw:te[0],depth:te[2].charAt(0)==="="?1:2,text:te[1],tokens:this.lexer.inline(te[1])}}paragraph(ee){const te=this.rules.block.paragraph.exec(ee);if(te){const se=te[1].charAt(te[1].length-1)===`
`?te[1].slice(0,-1):te[1];return{type:"paragraph",raw:te[0],text:se,tokens:this.lexer.inline(se)}}}text(ee){const te=this.rules.block.text.exec(ee);if(te)return{type:"text",raw:te[0],text:te[0],tokens:this.lexer.inline(te[0])}}escape(ee){const te=this.rules.inline.escape.exec(ee);if(te)return{type:"escape",raw:te[0],text:u(te[1])}}tag(ee){const te=this.rules.inline.tag.exec(ee);if(te)return!this.lexer.state.inLink&&/^<a /i.test(te[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(te[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(te[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(te[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:te[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:te[0]}}link(ee){const te=this.rules.inline.link.exec(ee);if(te){const se=te[2].trim();if(!this.options.pedantic&&/^</.test(se)){if(!/>$/.test(se))return;const Ie=_(se.slice(0,-1),"\\");if((se.length-Ie.length)%2===0)return}else{const Ie=v(te[2],"()");if(Ie>-1){const Qe=(te[0].indexOf("!")===0?5:4)+te[1].length+Ie;te[2]=te[2].substring(0,Ie),te[0]=te[0].substring(0,Qe).trim(),te[3]=""}}let fe=te[2],ve="";if(this.options.pedantic){const Ie=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(fe);Ie&&(fe=Ie[1],ve=Ie[3])}else ve=te[3]?te[3].slice(1,-1):"";return fe=fe.trim(),/^</.test(fe)&&(this.options.pedantic&&!/>$/.test(se)?fe=fe.slice(1):fe=fe.slice(1,-1)),S(te,{href:fe&&fe.replace(this.rules.inline.anyPunctuation,"$1"),title:ve&&ve.replace(this.rules.inline.anyPunctuation,"$1")},te[0],this.lexer)}}reflink(ee,te){let se;if((se=this.rules.inline.reflink.exec(ee))||(se=this.rules.inline.nolink.exec(ee))){const fe=(se[2]||se[1]).replace(/\s+/g," "),ve=te[fe.toLowerCase()];if(!ve){const Ie=se[0].charAt(0);return{type:"text",raw:Ie,text:Ie}}return S(se,ve,se[0],this.lexer)}}emStrong(ee,te,se=""){let fe=this.rules.inline.emStrongLDelim.exec(ee);if(!fe||fe[3]&&se.match(/[\p{L}\p{N}]/u))return;if(!(fe[1]||fe[2]||"")||!se||this.rules.inline.punctuation.exec(se)){const Ie=[...fe[0]].length-1;let ke,Qe,dt=Ie,Kt=0;const Wn=fe[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Wn.lastIndex=0,te=te.slice(-1*ee.length+Ie);(fe=Wn.exec(te))!=null;){if(ke=fe[1]||fe[2]||fe[3]||fe[4]||fe[5]||fe[6],!ke)continue;if(Qe=[...ke].length,fe[3]||fe[4]){dt+=Qe;continue}else if((fe[5]||fe[6])&&Ie%3&&!((Ie+Qe)%3)){Kt+=Qe;continue}if(dt-=Qe,dt>0)continue;Qe=Math.min(Qe,Qe+dt+Kt);const Xn=[...fe[0]][0].length,Ni=ee.slice(0,Ie+fe.index+Xn+Qe);if(Math.min(Ie,Qe)%2){const ps=Ni.slice(1,-1);return{type:"em",raw:Ni,text:ps,tokens:this.lexer.inlineTokens(ps)}}const Fn=Ni.slice(2,-2);return{type:"strong",raw:Ni,text:Fn,tokens:this.lexer.inlineTokens(Fn)}}}}codespan(ee){const te=this.rules.inline.code.exec(ee);if(te){let se=te[2].replace(/\n/g," ");const fe=/[^ ]/.test(se),ve=/^ /.test(se)&&/ $/.test(se);return fe&&ve&&(se=se.substring(1,se.length-1)),se=u(se,!0),{type:"codespan",raw:te[0],text:se}}}br(ee){const te=this.rules.inline.br.exec(ee);if(te)return{type:"br",raw:te[0]}}del(ee){const te=this.rules.inline.del.exec(ee);if(te)return{type:"del",raw:te[0],text:te[2],tokens:this.lexer.inlineTokens(te[2])}}autolink(ee){const te=this.rules.inline.autolink.exec(ee);if(te){let se,fe;return te[2]==="@"?(se=u(te[1]),fe="mailto:"+se):(se=u(te[1]),fe=se),{type:"link",raw:te[0],text:se,href:fe,tokens:[{type:"text",raw:se,text:se}]}}}url(ee){var se;let te;if(te=this.rules.inline.url.exec(ee)){let fe,ve;if(te[2]==="@")fe=u(te[0]),ve="mailto:"+fe;else{let Ie;do Ie=te[0],te[0]=((se=this.rules.inline._backpedal.exec(te[0]))==null?void 0:se[0])??"";while(Ie!==te[0]);fe=u(te[0]),te[1]==="www."?ve="http://"+te[0]:ve=te[0]}return{type:"link",raw:te[0],text:fe,href:ve,tokens:[{type:"text",raw:fe,text:fe}]}}}inlineText(ee){const te=this.rules.inline.text.exec(ee);if(te){let se;return this.lexer.state.inRawBlock?se=te[0]:se=u(te[0]),{type:"text",raw:te[0],text:se}}}}const b=/^(?: *(?:\n|$))+/,w=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,I=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,O=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,x=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,k=/(?:[*+-]|\d{1,9}[.)])/,P=h(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,k).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),M=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,W=/^[^\n]+/,F=/(?!\s*\])(?:\\.|[^\[\]\\])+/,H=h(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",F).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),V=h(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,k).getRegex(),Y="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,K=h("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",$).replace("tag",Y).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),re=h(M).replace("hr",O).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y).getRegex(),J={blockquote:h(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",re).getRegex(),code:w,def:H,fences:I,heading:x,hr:O,html:K,lheading:P,list:V,newline:b,paragraph:re,table:m,text:W},z=h("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",O).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y).getRegex(),j={...J,table:z,paragraph:h(M).replace("hr",O).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",z).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y).getRegex()},ne={...J,html:h(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:m,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:h(M).replace("hr",O).replace("heading",` *#{1,6} *[^
]`).replace("lheading",P).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},le=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,q=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,he=/^( {2,}|\\)\n(?!\s*$)/,ue=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,pe="\\p{P}\\p{S}",Ae=h(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,pe).getRegex(),me=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Te=h(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,pe).getRegex(),Oe=h("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,pe).getRegex(),ft=h("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,pe).getRegex(),kt=h(/\\([punct])/,"gu").replace(/punct/g,pe).getRegex(),Vt=h(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),yt=h($).replace("(?:-->|$)","-->").getRegex(),vt=h("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",yt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Yt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,_t=h(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Yt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ae=h(/^!?\[(label)\]\[(ref)\]/).replace("label",Yt).replace("ref",F).getRegex(),Se=h(/^!?\[(ref)\](?:\[\])?/).replace("ref",F).getRegex(),De=h("reflink|nolink(?!\\()","g").replace("reflink",ae).replace("nolink",Se).getRegex(),je={_backpedal:m,anyPunctuation:kt,autolink:Vt,blockSkip:me,br:he,code:q,del:m,emStrongLDelim:Te,emStrongRDelimAst:Oe,emStrongRDelimUnd:ft,escape:le,link:_t,nolink:Se,punctuation:Ae,reflink:ae,reflinkSearch:De,tag:vt,text:ue,url:m},Ye={...je,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",Yt).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Yt).getRegex()},ze={...je,escape:h(le).replace("])","~|])").getRegex(),url:h(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},lt={...ze,br:h(he).replace("{2,}","*").getRegex(),text:h(ze.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Xt={normal:J,gfm:j,pedantic:ne},Tn={normal:je,gfm:ze,breaks:lt,pedantic:Ye};class wn{constructor(ee){dr(this,"tokens");dr(this,"options");dr(this,"state");dr(this,"tokenizer");dr(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=ee||e.defaults,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const te={block:Xt.normal,inline:Tn.normal};this.options.pedantic?(te.block=Xt.pedantic,te.inline=Tn.pedantic):this.options.gfm&&(te.block=Xt.gfm,this.options.breaks?te.inline=Tn.breaks:te.inline=Tn.gfm),this.tokenizer.rules=te}static get rules(){return{block:Xt,inline:Tn}}static lex(ee,te){return new wn(te).lex(ee)}static lexInline(ee,te){return new wn(te).inlineTokens(ee)}lex(ee){ee=ee.replace(/\r\n|\r/g,`
`),this.blockTokens(ee,this.tokens);for(let te=0;te<this.inlineQueue.length;te++){const se=this.inlineQueue[te];this.inlineTokens(se.src,se.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(ee,te=[],se=!1){this.options.pedantic?ee=ee.replace(/\t/g,"    ").replace(/^ +$/gm,""):ee=ee.replace(/^( *)(\t+)/gm,(ke,Qe,dt)=>Qe+"    ".repeat(dt.length));let fe,ve,Ie;for(;ee;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(ke=>(fe=ke.call({lexer:this},ee,te))?(ee=ee.substring(fe.raw.length),te.push(fe),!0):!1))){if(fe=this.tokenizer.space(ee)){ee=ee.substring(fe.raw.length),fe.raw.length===1&&te.length>0?te[te.length-1].raw+=`
`:te.push(fe);continue}if(fe=this.tokenizer.code(ee)){ee=ee.substring(fe.raw.length),ve=te[te.length-1],ve&&(ve.type==="paragraph"||ve.type==="text")?(ve.raw+=`
`+fe.raw,ve.text+=`
`+fe.text,this.inlineQueue[this.inlineQueue.length-1].src=ve.text):te.push(fe);continue}if(fe=this.tokenizer.fences(ee)){ee=ee.substring(fe.raw.length),te.push(fe);continue}if(fe=this.tokenizer.heading(ee)){ee=ee.substring(fe.raw.length),te.push(fe);continue}if(fe=this.tokenizer.hr(ee)){ee=ee.substring(fe.raw.length),te.push(fe);continue}if(fe=this.tokenizer.blockquote(ee)){ee=ee.substring(fe.raw.length),te.push(fe);continue}if(fe=this.tokenizer.list(ee)){ee=ee.substring(fe.raw.length),te.push(fe);continue}if(fe=this.tokenizer.html(ee)){ee=ee.substring(fe.raw.length),te.push(fe);continue}if(fe=this.tokenizer.def(ee)){ee=ee.substring(fe.raw.length),ve=te[te.length-1],ve&&(ve.type==="paragraph"||ve.type==="text")?(ve.raw+=`
`+fe.raw,ve.text+=`
`+fe.raw,this.inlineQueue[this.inlineQueue.length-1].src=ve.text):this.tokens.links[fe.tag]||(this.tokens.links[fe.tag]={href:fe.href,title:fe.title});continue}if(fe=this.tokenizer.table(ee)){ee=ee.substring(fe.raw.length),te.push(fe);continue}if(fe=this.tokenizer.lheading(ee)){ee=ee.substring(fe.raw.length),te.push(fe);continue}if(Ie=ee,this.options.extensions&&this.options.extensions.startBlock){let ke=1/0;const Qe=ee.slice(1);let dt;this.options.extensions.startBlock.forEach(Kt=>{dt=Kt.call({lexer:this},Qe),typeof dt=="number"&&dt>=0&&(ke=Math.min(ke,dt))}),ke<1/0&&ke>=0&&(Ie=ee.substring(0,ke+1))}if(this.state.top&&(fe=this.tokenizer.paragraph(Ie))){ve=te[te.length-1],se&&(ve==null?void 0:ve.type)==="paragraph"?(ve.raw+=`
`+fe.raw,ve.text+=`
`+fe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ve.text):te.push(fe),se=Ie.length!==ee.length,ee=ee.substring(fe.raw.length);continue}if(fe=this.tokenizer.text(ee)){ee=ee.substring(fe.raw.length),ve=te[te.length-1],ve&&ve.type==="text"?(ve.raw+=`
`+fe.raw,ve.text+=`
`+fe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ve.text):te.push(fe);continue}if(ee){const ke="Infinite loop on byte: "+ee.charCodeAt(0);if(this.options.silent){console.error(ke);break}else throw new Error(ke)}}return this.state.top=!0,te}inline(ee,te=[]){return this.inlineQueue.push({src:ee,tokens:te}),te}inlineTokens(ee,te=[]){let se,fe,ve,Ie=ee,ke,Qe,dt;if(this.tokens.links){const Kt=Object.keys(this.tokens.links);if(Kt.length>0)for(;(ke=this.tokenizer.rules.inline.reflinkSearch.exec(Ie))!=null;)Kt.includes(ke[0].slice(ke[0].lastIndexOf("[")+1,-1))&&(Ie=Ie.slice(0,ke.index)+"["+"a".repeat(ke[0].length-2)+"]"+Ie.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ke=this.tokenizer.rules.inline.blockSkip.exec(Ie))!=null;)Ie=Ie.slice(0,ke.index)+"["+"a".repeat(ke[0].length-2)+"]"+Ie.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ke=this.tokenizer.rules.inline.anyPunctuation.exec(Ie))!=null;)Ie=Ie.slice(0,ke.index)+"++"+Ie.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;ee;)if(Qe||(dt=""),Qe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Kt=>(se=Kt.call({lexer:this},ee,te))?(ee=ee.substring(se.raw.length),te.push(se),!0):!1))){if(se=this.tokenizer.escape(ee)){ee=ee.substring(se.raw.length),te.push(se);continue}if(se=this.tokenizer.tag(ee)){ee=ee.substring(se.raw.length),fe=te[te.length-1],fe&&se.type==="text"&&fe.type==="text"?(fe.raw+=se.raw,fe.text+=se.text):te.push(se);continue}if(se=this.tokenizer.link(ee)){ee=ee.substring(se.raw.length),te.push(se);continue}if(se=this.tokenizer.reflink(ee,this.tokens.links)){ee=ee.substring(se.raw.length),fe=te[te.length-1],fe&&se.type==="text"&&fe.type==="text"?(fe.raw+=se.raw,fe.text+=se.text):te.push(se);continue}if(se=this.tokenizer.emStrong(ee,Ie,dt)){ee=ee.substring(se.raw.length),te.push(se);continue}if(se=this.tokenizer.codespan(ee)){ee=ee.substring(se.raw.length),te.push(se);continue}if(se=this.tokenizer.br(ee)){ee=ee.substring(se.raw.length),te.push(se);continue}if(se=this.tokenizer.del(ee)){ee=ee.substring(se.raw.length),te.push(se);continue}if(se=this.tokenizer.autolink(ee)){ee=ee.substring(se.raw.length),te.push(se);continue}if(!this.state.inLink&&(se=this.tokenizer.url(ee))){ee=ee.substring(se.raw.length),te.push(se);continue}if(ve=ee,this.options.extensions&&this.options.extensions.startInline){let Kt=1/0;const Wn=ee.slice(1);let Xn;this.options.extensions.startInline.forEach(Ni=>{Xn=Ni.call({lexer:this},Wn),typeof Xn=="number"&&Xn>=0&&(Kt=Math.min(Kt,Xn))}),Kt<1/0&&Kt>=0&&(ve=ee.substring(0,Kt+1))}if(se=this.tokenizer.inlineText(ve)){ee=ee.substring(se.raw.length),se.raw.slice(-1)!=="_"&&(dt=se.raw.slice(-1)),Qe=!0,fe=te[te.length-1],fe&&fe.type==="text"?(fe.raw+=se.raw,fe.text+=se.text):te.push(se);continue}if(ee){const Kt="Infinite loop on byte: "+ee.charCodeAt(0);if(this.options.silent){console.error(Kt);break}else throw new Error(Kt)}}return te}}class fs{constructor(ee){dr(this,"options");dr(this,"parser");this.options=ee||e.defaults}space(ee){return""}code({text:ee,lang:te,escaped:se}){var Ie;const fe=(Ie=(te||"").match(/^\S*/))==null?void 0:Ie[0],ve=ee.replace(/\n$/,"")+`
`;return fe?'<pre><code class="language-'+u(fe)+'">'+(se?ve:u(ve,!0))+`</code></pre>
`:"<pre><code>"+(se?ve:u(ve,!0))+`</code></pre>
`}blockquote({tokens:ee}){return`<blockquote>
${this.parser.parse(ee)}</blockquote>
`}html({text:ee}){return ee}heading({tokens:ee,depth:te}){return`<h${te}>${this.parser.parseInline(ee)}</h${te}>
`}hr(ee){return`<hr>
`}list(ee){const te=ee.ordered,se=ee.start;let fe="";for(let ke=0;ke<ee.items.length;ke++){const Qe=ee.items[ke];fe+=this.listitem(Qe)}const ve=te?"ol":"ul",Ie=te&&se!==1?' start="'+se+'"':"";return"<"+ve+Ie+`>
`+fe+"</"+ve+`>
`}listitem(ee){let te="";if(ee.task){const se=this.checkbox({checked:!!ee.checked});ee.loose?ee.tokens.length>0&&ee.tokens[0].type==="paragraph"?(ee.tokens[0].text=se+" "+ee.tokens[0].text,ee.tokens[0].tokens&&ee.tokens[0].tokens.length>0&&ee.tokens[0].tokens[0].type==="text"&&(ee.tokens[0].tokens[0].text=se+" "+ee.tokens[0].tokens[0].text)):ee.tokens.unshift({type:"text",raw:se+" ",text:se+" "}):te+=se+" "}return te+=this.parser.parse(ee.tokens,!!ee.loose),`<li>${te}</li>
`}checkbox({checked:ee}){return"<input "+(ee?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:ee}){return`<p>${this.parser.parseInline(ee)}</p>
`}table(ee){let te="",se="";for(let ve=0;ve<ee.header.length;ve++)se+=this.tablecell(ee.header[ve]);te+=this.tablerow({text:se});let fe="";for(let ve=0;ve<ee.rows.length;ve++){const Ie=ee.rows[ve];se="";for(let ke=0;ke<Ie.length;ke++)se+=this.tablecell(Ie[ke]);fe+=this.tablerow({text:se})}return fe&&(fe=`<tbody>${fe}</tbody>`),`<table>
<thead>
`+te+`</thead>
`+fe+`</table>
`}tablerow({text:ee}){return`<tr>
${ee}</tr>
`}tablecell(ee){const te=this.parser.parseInline(ee.tokens),se=ee.header?"th":"td";return(ee.align?`<${se} align="${ee.align}">`:`<${se}>`)+te+`</${se}>
`}strong({tokens:ee}){return`<strong>${this.parser.parseInline(ee)}</strong>`}em({tokens:ee}){return`<em>${this.parser.parseInline(ee)}</em>`}codespan({text:ee}){return`<code>${ee}</code>`}br(ee){return"<br>"}del({tokens:ee}){return`<del>${this.parser.parseInline(ee)}</del>`}link({href:ee,title:te,tokens:se}){const fe=this.parser.parseInline(se),ve=f(ee);if(ve===null)return fe;ee=ve;let Ie='<a href="'+ee+'"';return te&&(Ie+=' title="'+te+'"'),Ie+=">"+fe+"</a>",Ie}image({href:ee,title:te,text:se}){const fe=f(ee);if(fe===null)return se;ee=fe;let ve=`<img src="${ee}" alt="${se}"`;return te&&(ve+=` title="${te}"`),ve+=">",ve}text(ee){return"tokens"in ee&&ee.tokens?this.parser.parseInline(ee.tokens):ee.text}}class gs{strong({text:ee}){return ee}em({text:ee}){return ee}codespan({text:ee}){return ee}del({text:ee}){return ee}html({text:ee}){return ee}text({text:ee}){return ee}link({text:ee}){return""+ee}image({text:ee}){return""+ee}br(){return""}}class Ci{constructor(ee){dr(this,"options");dr(this,"renderer");dr(this,"textRenderer");this.options=ee||e.defaults,this.options.renderer=this.options.renderer||new fs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new gs}static parse(ee,te){return new Ci(te).parse(ee)}static parseInline(ee,te){return new Ci(te).parseInline(ee)}parse(ee,te=!0){let se="";for(let fe=0;fe<ee.length;fe++){const ve=ee[fe];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ve.type]){const ke=ve,Qe=this.options.extensions.renderers[ke.type].call({parser:this},ke);if(Qe!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ke.type)){se+=Qe||"";continue}}const Ie=ve;switch(Ie.type){case"space":{se+=this.renderer.space(Ie);continue}case"hr":{se+=this.renderer.hr(Ie);continue}case"heading":{se+=this.renderer.heading(Ie);continue}case"code":{se+=this.renderer.code(Ie);continue}case"table":{se+=this.renderer.table(Ie);continue}case"blockquote":{se+=this.renderer.blockquote(Ie);continue}case"list":{se+=this.renderer.list(Ie);continue}case"html":{se+=this.renderer.html(Ie);continue}case"paragraph":{se+=this.renderer.paragraph(Ie);continue}case"text":{let ke=Ie,Qe=this.renderer.text(ke);for(;fe+1<ee.length&&ee[fe+1].type==="text";)ke=ee[++fe],Qe+=`
`+this.renderer.text(ke);te?se+=this.renderer.paragraph({type:"paragraph",raw:Qe,text:Qe,tokens:[{type:"text",raw:Qe,text:Qe}]}):se+=Qe;continue}default:{const ke='Token with "'+Ie.type+'" type was not found.';if(this.options.silent)return console.error(ke),"";throw new Error(ke)}}}return se}parseInline(ee,te){te=te||this.renderer;let se="";for(let fe=0;fe<ee.length;fe++){const ve=ee[fe];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ve.type]){const ke=this.options.extensions.renderers[ve.type].call({parser:this},ve);if(ke!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ve.type)){se+=ke||"";continue}}const Ie=ve;switch(Ie.type){case"escape":{se+=te.text(Ie);break}case"html":{se+=te.html(Ie);break}case"link":{se+=te.link(Ie);break}case"image":{se+=te.image(Ie);break}case"strong":{se+=te.strong(Ie);break}case"em":{se+=te.em(Ie);break}case"codespan":{se+=te.codespan(Ie);break}case"br":{se+=te.br(Ie);break}case"del":{se+=te.del(Ie);break}case"text":{se+=te.text(Ie);break}default:{const ke='Token with "'+Ie.type+'" type was not found.';if(this.options.silent)return console.error(ke),"";throw new Error(ke)}}}return se}}class mr{constructor(ee){dr(this,"options");this.options=ee||e.defaults}preprocess(ee){return ee}postprocess(ee){return ee}processAllTokens(ee){return ee}}dr(mr,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class zs{constructor(...ee){dr(this,"defaults",t());dr(this,"options",this.setOptions);dr(this,"parse",this.parseMarkdown(wn.lex,Ci.parse));dr(this,"parseInline",this.parseMarkdown(wn.lexInline,Ci.parseInline));dr(this,"Parser",Ci);dr(this,"Renderer",fs);dr(this,"TextRenderer",gs);dr(this,"Lexer",wn);dr(this,"Tokenizer",y);dr(this,"Hooks",mr);this.use(...ee)}walkTokens(ee,te){var fe,ve;let se=[];for(const Ie of ee)switch(se=se.concat(te.call(this,Ie)),Ie.type){case"table":{const ke=Ie;for(const Qe of ke.header)se=se.concat(this.walkTokens(Qe.tokens,te));for(const Qe of ke.rows)for(const dt of Qe)se=se.concat(this.walkTokens(dt.tokens,te));break}case"list":{const ke=Ie;se=se.concat(this.walkTokens(ke.items,te));break}default:{const ke=Ie;(ve=(fe=this.defaults.extensions)==null?void 0:fe.childTokens)!=null&&ve[ke.type]?this.defaults.extensions.childTokens[ke.type].forEach(Qe=>{const dt=ke[Qe].flat(1/0);se=se.concat(this.walkTokens(dt,te))}):ke.tokens&&(se=se.concat(this.walkTokens(ke.tokens,te)))}}return se}use(...ee){const te=this.defaults.extensions||{renderers:{},childTokens:{}};return ee.forEach(se=>{const fe={...se};if(fe.async=this.defaults.async||fe.async||!1,se.extensions&&(se.extensions.forEach(ve=>{if(!ve.name)throw new Error("extension name required");if("renderer"in ve){const Ie=te.renderers[ve.name];Ie?te.renderers[ve.name]=function(...ke){let Qe=ve.renderer.apply(this,ke);return Qe===!1&&(Qe=Ie.apply(this,ke)),Qe}:te.renderers[ve.name]=ve.renderer}if("tokenizer"in ve){if(!ve.level||ve.level!=="block"&&ve.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const Ie=te[ve.level];Ie?Ie.unshift(ve.tokenizer):te[ve.level]=[ve.tokenizer],ve.start&&(ve.level==="block"?te.startBlock?te.startBlock.push(ve.start):te.startBlock=[ve.start]:ve.level==="inline"&&(te.startInline?te.startInline.push(ve.start):te.startInline=[ve.start]))}"childTokens"in ve&&ve.childTokens&&(te.childTokens[ve.name]=ve.childTokens)}),fe.extensions=te),se.renderer){const ve=this.defaults.renderer||new fs(this.defaults);for(const Ie in se.renderer){if(!(Ie in ve))throw new Error(`renderer '${Ie}' does not exist`);if(["options","parser"].includes(Ie))continue;const ke=Ie,Qe=se.renderer[ke],dt=ve[ke];ve[ke]=(...Kt)=>{let Wn=Qe.apply(ve,Kt);return Wn===!1&&(Wn=dt.apply(ve,Kt)),Wn||""}}fe.renderer=ve}if(se.tokenizer){const ve=this.defaults.tokenizer||new y(this.defaults);for(const Ie in se.tokenizer){if(!(Ie in ve))throw new Error(`tokenizer '${Ie}' does not exist`);if(["options","rules","lexer"].includes(Ie))continue;const ke=Ie,Qe=se.tokenizer[ke],dt=ve[ke];ve[ke]=(...Kt)=>{let Wn=Qe.apply(ve,Kt);return Wn===!1&&(Wn=dt.apply(ve,Kt)),Wn}}fe.tokenizer=ve}if(se.hooks){const ve=this.defaults.hooks||new mr;for(const Ie in se.hooks){if(!(Ie in ve))throw new Error(`hook '${Ie}' does not exist`);if(Ie==="options")continue;const ke=Ie,Qe=se.hooks[ke],dt=ve[ke];mr.passThroughHooks.has(Ie)?ve[ke]=Kt=>{if(this.defaults.async)return Promise.resolve(Qe.call(ve,Kt)).then(Xn=>dt.call(ve,Xn));const Wn=Qe.call(ve,Kt);return dt.call(ve,Wn)}:ve[ke]=(...Kt)=>{let Wn=Qe.apply(ve,Kt);return Wn===!1&&(Wn=dt.apply(ve,Kt)),Wn}}fe.hooks=ve}if(se.walkTokens){const ve=this.defaults.walkTokens,Ie=se.walkTokens;fe.walkTokens=function(ke){let Qe=[];return Qe.push(Ie.call(this,ke)),ve&&(Qe=Qe.concat(ve.call(this,ke))),Qe}}this.defaults={...this.defaults,...fe}}),this}setOptions(ee){return this.defaults={...this.defaults,...ee},this}lexer(ee,te){return wn.lex(ee,te??this.defaults)}parser(ee,te){return Ci.parse(ee,te??this.defaults)}parseMarkdown(ee,te){return(fe,ve)=>{const Ie={...ve},ke={...this.defaults,...Ie},Qe=this.onError(!!ke.silent,!!ke.async);if(this.defaults.async===!0&&Ie.async===!1)return Qe(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof fe>"u"||fe===null)return Qe(new Error("marked(): input parameter is undefined or null"));if(typeof fe!="string")return Qe(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(fe)+", string expected"));if(ke.hooks&&(ke.hooks.options=ke),ke.async)return Promise.resolve(ke.hooks?ke.hooks.preprocess(fe):fe).then(dt=>ee(dt,ke)).then(dt=>ke.hooks?ke.hooks.processAllTokens(dt):dt).then(dt=>ke.walkTokens?Promise.all(this.walkTokens(dt,ke.walkTokens)).then(()=>dt):dt).then(dt=>te(dt,ke)).then(dt=>ke.hooks?ke.hooks.postprocess(dt):dt).catch(Qe);try{ke.hooks&&(fe=ke.hooks.preprocess(fe));let dt=ee(fe,ke);ke.hooks&&(dt=ke.hooks.processAllTokens(dt)),ke.walkTokens&&this.walkTokens(dt,ke.walkTokens);let Kt=te(dt,ke);return ke.hooks&&(Kt=ke.hooks.postprocess(Kt)),Kt}catch(dt){return Qe(dt)}}}onError(ee,te){return se=>{if(se.message+=`
Please report this to https://github.com/markedjs/marked.`,ee){const fe="<p>An error occurred:</p><pre>"+u(se.message+"",!0)+"</pre>";return te?Promise.resolve(fe):fe}if(te)return Promise.reject(se);throw se}}}const Is=new zs;function Vn(Zt,ee){return Is.parse(Zt,ee)}Vn.options=Vn.setOptions=function(Zt){return Is.setOptions(Zt),Vn.defaults=Is.defaults,i(Vn.defaults),Vn},Vn.getDefaults=t,Vn.defaults=e.defaults,Vn.use=function(...Zt){return Is.use(...Zt),Vn.defaults=Is.defaults,i(Vn.defaults),Vn},Vn.walkTokens=function(Zt,ee){return Is.walkTokens(Zt,ee)},Vn.parseInline=Is.parseInline,Vn.Parser=Ci,Vn.parser=Ci.parse,Vn.Renderer=fs,Vn.TextRenderer=gs,Vn.Lexer=wn,Vn.lexer=wn.lex,Vn.Tokenizer=y,Vn.Hooks=mr,Vn.parse=Vn;const tl=Vn.options,Ru=Vn.setOptions,Oo=Vn.use,Gi=Vn.walkTokens,Ns=Vn.parseInline,vf=Vn,Md=Ci.parse,Iu=wn.lex;e.Hooks=mr,e.Lexer=wn,e.Marked=zs,e.Parser=Ci,e.Renderer=fs,e.TextRenderer=gs,e.Tokenizer=y,e.getDefaults=t,e.lexer=Iu,e.marked=Vn,e.options=tl,e.parse=vf,e.parseInline=Ns,e.parser=Md,e.setOptions=Ru,e.use=Oo,e.walkTokens=Gi})})();Gs.Hooks||cs.Hooks;Gs.Lexer||cs.Lexer;Gs.Marked||cs.Marked;Gs.Parser||cs.Parser;var AAe=Gs.Renderer||cs.Renderer;Gs.TextRenderer||cs.TextRenderer;Gs.Tokenizer||cs.Tokenizer;var dst=Gs.defaults||cs.defaults;Gs.getDefaults||cs.getDefaults;var n2=Gs.lexer||cs.lexer;Gs.marked||cs.marked;Gs.options||cs.options;var RAe=Gs.parse||cs.parse;Gs.parseInline||cs.parseInline;var hst=Gs.parser||cs.parser;Gs.setOptions||cs.setOptions;Gs.use||cs.use;Gs.walkTokens||cs.walkTokens;function fst(n){return JSON.stringify(n,gst)}function p8(n){let e=JSON.parse(n);return e=m8(e),e}function gst(n,e){return e instanceof RegExp?{$mid:2,source:e.source,flags:e.flags}:e}function m8(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return en.revive(n);case 2:return new RegExp(n.source,n.flags);case 17:return new Date(n.source)}if(n instanceof iq||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=m8(n[t],e+1);else for(const t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=m8(n[t],e+1))}return n}const T3=Object.freeze({image:({href:n,title:e,text:t})=>{let i=[],r=[];return n&&({href:n,dimensions:i}=ust(n),r.push(`src="${tN(n)}"`)),t&&r.push(`alt="${tN(t)}"`),e&&r.push(`title="${tN(e)}"`),i.length&&(r=r.concat(i)),"<img "+r.join(" ")+">"},paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>`},link({href:n,title:e,tokens:t}){let i=this.parser.parseInline(t);return typeof n!="string"?"":(n===i&&(i=b3(i)),e=typeof e=="string"?tN(b3(e)):"",n=b3(n),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${n}" title="${e||n}" draggable="false">${i}</a>`)}});function Rq(n,e={},t={}){const i=new at;let r=!1;const s=Cq(e),o=function(g){let _;try{_=p8(decodeURIComponent(g))}catch{}return _?(_=W0e(_,v=>{if(n.uris&&n.uris[v])return en.revive(n.uris[v])}),encodeURIComponent(JSON.stringify(_))):g},a=function(g,_){const v=n.uris&&n.uris[g];let S=en.revive(v);return _?g.startsWith(Jt.data+":")?g:(S||(S=en.parse(g)),xM.uriToBrowserUri(S).toString(!0)):!S||en.parse(g).toString()===S.toString()?g:(S.query&&(S=S.with({query:o(S.query)})),S.toString())},l=new AAe;l.image=T3.image,l.link=T3.link,l.paragraph=T3.paragraph;const c=[],u=[];if(e.codeBlockRendererSync?l.code=({text:g,lang:_})=>{const v=pce.nextId(),S=e.codeBlockRendererSync(mce(_),g);return u.push([v,S]),`<div class="code" data-code="${v}">${jT(g)}</div>`}:e.codeBlockRenderer&&(l.code=({text:g,lang:_})=>{const v=pce.nextId(),S=e.codeBlockRenderer(mce(_),g);return c.push(S.then(C=>[v,C])),`<div class="code" data-code="${v}">${jT(g)}</div>`}),e.actionHandler){const g=function(S){let C=S.target;if(!(C.tagName!=="A"&&(C=C.parentElement,!C||C.tagName!=="A")))try{let y=C.dataset.href;y&&(n.baseUri&&(y=w3(en.from(n.baseUri),y)),e.actionHandler.callback(y,S))}catch(y){hi(y)}finally{S.preventDefault()}},_=e.actionHandler.disposables.add(new sn(s,"click")),v=e.actionHandler.disposables.add(new sn(s,"auxclick"));e.actionHandler.disposables.add(Ue.any(_.event,v.event)(S=>{const C=new Jc(ht(s),S);!C.leftButton&&!C.middleButton||g(C)})),e.actionHandler.disposables.add(we(s,"keydown",S=>{const C=new wi(S);!C.equals(10)&&!C.equals(3)||g(C)}))}n.supportHtml||(l.html=({text:g})=>{var v;return(v=e.sanitizerOptions)!=null&&v.replaceWithPlaintext?jT(g):(n.isTrusted?g.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?g:""}),t.renderer=l;let d=n.value??"";d.length>1e5&&(d=`${d.substr(0,1e5)}`),n.supportThemeIcons&&(d=est(d));let h;if(e.fillInIncompleteTokens){const g={...dst,...t},_=n2(d,g),v=Rst(_);h=hst(v,g)}else h=RAe(d,{...t,async:!1});n.supportThemeIcons&&(h=Qm(h).map(_=>typeof _=="string"?_:_.outerHTML).join(""));const m=new DOMParser().parseFromString(_8({isTrusted:n.isTrusted,...e.sanitizerOptions},h),"text/html");if(m.body.querySelectorAll("img, audio, video, source").forEach(g=>{const _=g.getAttribute("src");if(_){let v=_;try{n.baseUri&&(v=w3(en.from(n.baseUri),v))}catch{}if(g.setAttribute("src",a(v,!0)),e.remoteImageIsAllowed){const S=en.parse(v);S.scheme!==Jt.file&&S.scheme!==Jt.data&&!e.remoteImageIsAllowed(S)&&g.replaceWith(St("",void 0,g.outerHTML))}}}),m.body.querySelectorAll("a").forEach(g=>{const _=g.getAttribute("href");if(g.setAttribute("href",""),!_||/^data:|javascript:/i.test(_)||/^command:/i.test(_)&&!n.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(_))g.replaceWith(...g.childNodes);else{let v=a(_,!1);n.baseUri&&(v=w3(en.from(n.baseUri),_)),g.dataset.href=v}}),s.innerHTML=_8({isTrusted:n.isTrusted,...e.sanitizerOptions},m.body.innerHTML),c.length>0)Promise.all(c).then(g=>{var S;if(r)return;const _=new Map(g),v=s.querySelectorAll("div[data-code]");for(const C of v){const y=_.get(C.dataset.code??"");y&&wo(C,y)}(S=e.asyncRenderCallback)==null||S.call(e)});else if(u.length>0){const g=new Map(u),_=s.querySelectorAll("div[data-code]");for(const v of _){const S=g.get(v.dataset.code??"");S&&wo(v,S)}}if(e.asyncRenderCallback)for(const g of s.getElementsByTagName("img")){const _=i.add(we(g,"load",()=>{_.dispose(),e.asyncRenderCallback()}))}return{element:s,dispose:()=>{r=!0,i.dispose()}}}function mce(n){if(!n)return"";const e=n.split(/[\s+|:|,|\{|\?]/,1);return e.length?e[0]:n}function w3(n,e){return/^\w[\w\d+.-]*:/.test(e)?e:n.path.endsWith("/")?hce(n,e).toString():hce(sst(n),e).toString()}const pst=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function _8(n,e){const{config:t,allowedSchemes:i}=_st(n),r=new at;r.add(_ce("uponSanitizeAttribute",(s,o)=>{var a;if(o.attrName==="style"||o.attrName==="class"){if(s.tagName==="SPAN"){if(o.attrName==="style"){o.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(border-radius:[0-9]+px;)?$/.test(o.attrValue);return}else if(o.attrName==="class"){o.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(o.attrValue);return}}o.keepAttr=!1;return}else if(s.tagName==="INPUT"&&((a=s.attributes.getNamedItem("type"))==null?void 0:a.value)==="checkbox"){if(o.attrName==="type"&&o.attrValue==="checkbox"||o.attrName==="disabled"||o.attrName==="checked"){o.keepAttr=!0;return}o.keepAttr=!1}})),r.add(_ce("uponSanitizeElement",(s,o)=>{var a;if(o.tagName==="input"&&(((a=s.attributes.getNamedItem("type"))==null?void 0:a.value)==="checkbox"?s.setAttribute("disabled",""):n.replaceWithPlaintext||s.remove()),n.replaceWithPlaintext&&!o.allowedTags[o.tagName]&&o.tagName!=="body"&&s.parentElement){let l,c;if(o.tagName==="#comment")l=`<!--${s.textContent}-->`;else{const f=pst.includes(o.tagName),m=s.attributes.length?" "+Array.from(s.attributes).map(g=>`${g.name}="${g.value}"`).join(" "):"";l=`<${o.tagName}${m}>`,f||(c=`</${o.tagName}>`)}const u=document.createDocumentFragment(),d=s.parentElement.ownerDocument.createTextNode(l);u.appendChild(d);const h=c?s.parentElement.ownerDocument.createTextNode(c):void 0;for(;s.firstChild;)u.appendChild(s.firstChild);h&&u.appendChild(h),s.nodeType===Node.COMMENT_NODE?s.parentElement.insertBefore(u,s):s.parentElement.replaceChild(u,s)}})),r.add($Ze(i));try{return P1e(e,{...t,RETURN_TRUSTED_TYPE:!0})}finally{r.dispose()}}const mst=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function _st(n){const e=[Jt.http,Jt.https,Jt.mailto,Jt.data,Jt.file,Jt.vscodeFileResource,Jt.vscodeRemote,Jt.vscodeRemoteResource];return n.isTrusted&&e.push(Jt.command),{config:{ALLOWED_TAGS:n.allowedTags??[...GZe],ALLOWED_ATTR:mst,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}function Est(n){return typeof n=="string"?n:vst(n)}function vst(n,e){let t=n.value??"";t.length>1e5&&(t=`${t.substr(0,1e5)}`);const i=RAe(t,{async:!1,renderer:yst.value}).replace(/&(#\d+|[a-zA-Z]+);/g,r=>Sst.get(r)??r);return _8({isTrusted:!1},i).toString()}const Sst=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function Cst(){const n=new AAe;return n.code=({text:e})=>e,n.blockquote=({text:e})=>e+`
`,n.html=e=>"",n.heading=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.hr=()=>"",n.list=function({items:e}){return e.map(t=>this.listitem(t)).join(`
`)+`
`},n.listitem=({text:e})=>e+`
`,n.paragraph=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.table=function({header:e,rows:t}){return e.map(i=>this.tablecell(i)).join(" ")+`
`+t.map(i=>i.map(r=>this.tablecell(r)).join(" ")).join(`
`)+`
`},n.tablerow=({text:e})=>e,n.tablecell=function({tokens:e}){return this.parser.parseInline(e)},n.strong=({text:e})=>e,n.em=({text:e})=>e,n.codespan=({text:e})=>e,n.br=e=>`
`,n.del=({text:e})=>e,n.image=e=>"",n.text=({text:e})=>e,n.link=({text:e})=>e,n}const yst=new Yg(n=>Cst());function ux(n){let e="";return n.forEach(t=>{e+=t.raw}),e}function IAe(n){var e,t;if(n.tokens)for(let i=n.tokens.length-1;i>=0;i--){const r=n.tokens[i];if(r.type==="text"){const s=r.raw.split(`
`),o=s[s.length-1];if(o.includes("`"))return Nst(n);if(o.includes("**"))return kst(n);if(o.match(/\*\w/))return Lst(n);if(o.match(/(^|\s)__\w/))return Mst(n);if(o.match(/(^|\s)_\w/))return Ost(n);if(bst(o)||Tst(o)&&n.tokens.slice(0,i).some(a=>a.type==="text"&&a.raw.match(/\[[^\]]*$/))){const a=n.tokens.slice(i+1);return((e=a[0])==null?void 0:e.type)==="link"&&((t=a[1])==null?void 0:t.type)==="text"&&a[1].raw.match(/^ *"[^"]*$/)||o.match(/^[^"]* +"[^"]*$/)?Dst(n):xst(n)}else if(o.match(/(^|\s)\[\w*/))return Pst(n)}}}function bst(n){return!!n.match(/(^|\s)\[.*\]\(\w*/)}function Tst(n){return!!n.match(/^[^\[]*\]\([^\)]*$/)}function wst(n){var l;const e=n.items[n.items.length-1],t=e.tokens?e.tokens[e.tokens.length-1]:void 0;let i;if((t==null?void 0:t.type)==="text"&&!("inRawBlock"in e)&&(i=IAe(t)),!i||i.type!=="paragraph")return;const r=ux(n.items.slice(0,-1)),s=(l=e.raw.match(/^(\s*(-|\d+\.|\*) +)/))==null?void 0:l[0];if(!s)return;const o=s+ux(e.tokens.slice(0,-1))+i.raw,a=n2(r+o)[0];if(a.type==="list")return a}const Ast=3;function Rst(n){for(let e=0;e<Ast;e++){const t=Ist(n);if(t)n=t;else break}return n}function Ist(n){let e,t;for(e=0;e<n.length;e++){const i=n[e];if(i.type==="paragraph"&&i.raw.match(/(\n|^)\|/)){t=Fst(n.slice(e));break}if(e===n.length-1&&i.type==="list"){const r=wst(i);if(r){t=[r];break}}if(e===n.length-1&&i.type==="paragraph"){const r=IAe(i);if(r){t=[r];break}}}if(t){const i=[...n.slice(0,e),...t];return i.links=n.links,i}return null}function Nst(n){return pp(n,"`")}function Lst(n){return pp(n,"*")}function Ost(n){return pp(n,"_")}function xst(n){return pp(n,")")}function Dst(n){return pp(n,'")')}function Pst(n){return pp(n,"](https://microsoft.com)")}function kst(n){return pp(n,"**")}function Mst(n){return pp(n,"__")}function pp(n,e){const t=ux(Array.isArray(n)?n:[n]);return n2(t+e)[0]}function Fst(n){const e=ux(n),t=e.split(`
`);let i,r=!1;for(let s=0;s<t.length;s++){const o=t[s].trim();if(typeof i>"u"&&o.match(/^\s*\|/)){const a=o.match(/(\|[^\|]+)(?=\||$)/g);a&&(i=a.length)}else if(typeof i=="number")if(o.match(/^\s*\|/)){if(s!==t.length-1)return;r=!0}else return}if(typeof i=="number"&&i>0){const s=r?t.slice(0,-1).join(`
`):e,o=!!s.match(/\|\s*$/),a=s+(o?"":"|")+`
|${" --- |".repeat(i)}`;return n2(a)}}function _ce(n,e){return k1e(n,e),Ht(()=>M1e(n))}const gh=class gh{static createEmpty(e,t){const i=gh.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=e.length,r[1]=i,new gh(r,e,t)}static createFromTextAndMetadata(e,t){let i=0,r="";const s=new Array;for(const{text:o,metadata:a}of e)s.push(i+o.length,a),i+=o.length,r+=o;return new gh(new Uint32Array(s),r,t)}constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this.languageIdCodec=i}equals(e){return e instanceof gh?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const r=t<<1,s=r+(i<<1);for(let o=r;o<s;o++)if(this._tokens[o]!==e._tokens[o])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],i=zc.getLanguageId(t);return this.languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return zc.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return zc.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return zc.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return zc.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return zc.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return gh.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new Iq(this,e,t,i)}static convertToEndOffset(e,t){const r=(e.length>>>1)-1;for(let s=0;s<r;s++)e[s<<1]=e[s+1<<1];e[r<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,r=(e.length>>>1)-1;for(;i<r;){const s=i+Math.floor((r-i)/2),o=e[s<<1];if(o===t)return s+1;o<t?i=s+1:o>t&&(r=s)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,r="";const s=new Array;let o=0;for(;;){const a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){r+=this._text.substring(o,a);const c=this._tokens[(t<<1)+1];s.push(r.length,c),t++,o=a}else if(l){if(l.offset>o){r+=this._text.substring(o,l.offset);const c=this._tokens[(t<<1)+1];s.push(r.length,c),o=l.offset}r+=l.text,s.push(r.length,l.tokenMetadata),i++}else break}return new gh(new Uint32Array(s),r,this.languageIdCodec)}getTokenText(e){const t=this.getStartOffset(e),i=this.getEndOffset(e);return this._text.substring(t,i)}forEach(e){const t=this.getCount();for(let i=0;i<t;i++)e(i)}};gh.defaultTokenMetadata=(32768|2<<24)>>>0;let ls=gh;class Iq{constructor(e,t,i,r){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=r,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let s=this._firstTokenIndex,o=e.getCount();s<o&&!(e.getStartOffset(s)>=i);s++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof Iq?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){const t=this._firstTokenIndex+e,i=this._source.getStartOffset(t),r=this._source.getEndOffset(t);let s=this._source.getTokenText(t);return i<this._startOffset&&(s=s.substring(this._startOffset-i)),r>this._endOffset&&(s=s.substring(0,s.length-(r-this._endOffset))),s}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}}const U1=new class{clone(){return this}equals(n){return this===n}};function NAe(n,e){return new xK([new w1(0,"",n)],e)}function Nq(n,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(n<<0|0|0|32768|2<<24)>>>0,new NM(t,e===null?U1:e)}const Ece={getInitialState:()=>U1,tokenizeEncoded:(n,e,t)=>Nq(0,t)};async function Bst(n,e,t){if(!t)return vce(e,n.languageIdCodec,Ece);const i=await gr.getOrCreate(t);return vce(e,n.languageIdCodec,i||Ece)}function Ust(n,e,t,i,r,s,o){let a="<div>",l=i,c=0,u=!0;for(let d=0,h=e.getCount();d<h;d++){const f=e.getEndOffset(d);if(f<=i)continue;let m="";for(;l<f&&l<r;l++){const g=n.charCodeAt(l);switch(g){case 9:{let _=s-(l+c)%s;for(c+=_-1;_>0;)o&&u?(m+="&#160;",u=!1):(m+=" ",u=!0),_--;break}case 60:m+="&lt;",u=!1;break;case 62:m+="&gt;",u=!1;break;case 38:m+="&amp;",u=!1;break;case 0:m+="&#00;",u=!1;break;case 65279:case 8232:case 8233:case 133:m+="",u=!1;break;case 13:m+="&#8203",u=!1;break;case 32:o&&u?(m+="&#160;",u=!1):(m+=" ",u=!0);break;default:m+=String.fromCharCode(g),u=!1}}if(a+=`<span style="${e.getInlineStyle(d,t)}">${m}</span>`,f>r||l>=r)break}return a+="</div>",a}function vce(n,e,t){let i='<div class="monaco-tokenized-source">';const r=Sy(n);let s=t.getInitialState();for(let o=0,a=r.length;o<a;o++){const l=r[o];o>0&&(i+="<br/>");const c=t.tokenizeEncoded(l,!0,s);ls.convertToEndOffset(c.tokens,l.length);const d=new ls(c.tokens,l,e).inflate();let h=0;for(let f=0,m=d.getCount();f<m;f++){const g=d.getClassName(f),_=d.getEndOffset(f);i+=`<span class="${g}">${jT(l.substring(h,_))}</span>`,h=_}s=c.endState}return i+="</div>",i}var Hst=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Sce=function(n,e){return function(t,i){e(t,i,n)}},E8,o_;let v8=(o_=class{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new ge,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const r=new at,s=r.add(Rq(e,{...this._getRenderOptions(e,r),...t},i));return s.element.classList.add("rendered-markdown"),{element:s.element,dispose:()=>r.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:async(i,r)=>{var l,c;let s;i?s=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(s=(l=this._options.editor.getModel())==null?void 0:l.getLanguageId()),s||(s=cc);const o=await Bst(this._languageService,r,s),a=document.createElement("span");if(a.innerHTML=((c=E8._ttpTokenizer)==null?void 0:c.createHTML(o))??o,this._options.editor){const u=this._options.editor.getOption(50);Us(a,u)}else this._options.codeBlockFontFamily&&(a.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(a.style.fontSize=this._options.codeBlockFontSize),a},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>LAe(this._openerService,i,e.isTrusted),disposables:t}}}},E8=o_,o_._ttpTokenizer=lE("tokenizeToString",{createHTML(e){return e}}),o_);v8=E8=Hst([Sce(1,Zr),Sce(2,IA)],v8);async function LAe(n,e,t){try{return await n.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:Vst(t)})}catch(i){return hi(i),!1}}function Vst(n){return n===!0?!0:n&&Array.isArray(n.enabledCommands)?n.enabledCommands:!1}const bu=Cn("accessibilityService"),Wst=new ct("accessibilityModeEnabled",!1),Cce=2e4;let vm,EL,S8,vL,C8;function $st(n){vm=document.createElement("div"),vm.className="monaco-aria-container";const e=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),vm.appendChild(i),i};EL=e(),S8=e();const t=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),vm.appendChild(i),i};vL=t(),C8=t(),n.appendChild(vm)}function H1(n){vm&&(EL.textContent!==n?(fu(S8),hx(EL,n)):(fu(EL),hx(S8,n)))}function dx(n){vm&&(vL.textContent!==n?(fu(C8),hx(vL,n)):(fu(vL),hx(C8,n)))}function hx(n,e){fu(n),e.length>Cce&&(e=e.substr(0,Cce)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}var Gst=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Vb=function(n,e){return function(t,i){e(t,i,n)}};const Mu=St;let y8=class extends ff{get _targetWindow(){return ht(this._target.targetElements[0])}get _targetDocumentElement(){return ht(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(e,t,i,r,s,o){var h,f,m,g,_,v,S;super(),this._keybindingService=t,this._configurationService=i,this._openerService=r,this._instantiationService=s,this._accessibilityService=o,this._messageListeners=new at,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new ge),this._onRequestLayout=this._register(new ge),this._linkHandler=e.linkHandler||(C=>LAe(this._openerService,C,DS(e.content)?e.content.isTrusted:void 0)),this._target="targetElements"in e.target?e.target:new zst(e.target),this._hoverPointer=(h=e.appearance)!=null&&h.showPointer?Mu("div.workbench-hover-pointer"):void 0,this._hover=this._register(new Trt),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),(f=e.appearance)!=null&&f.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),(m=e.appearance)!=null&&m.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),e.additionalClasses&&this._hover.containerDomNode.classList.add(...e.additionalClasses),(g=e.position)!=null&&g.forcePosition&&(this._forcePosition=!0),e.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=((_=e.position)==null?void 0:_.hoverPosition)??3,this.onmousedown(this._hover.containerDomNode,C=>C.stopPropagation()),this.onkeydown(this._hover.containerDomNode,C=>{C.equals(9)&&this.dispose()}),this._register(we(this._targetWindow,"blur",()=>this.dispose()));const a=Mu("div.hover-row.markdown-hover"),l=Mu("div.hover-contents");if(typeof e.content=="string")l.textContent=e.content,l.style.whiteSpace="pre-wrap";else if(as(e.content))l.appendChild(e.content),l.classList.add("html-hover-contents");else{const C=e.content,y=this._instantiationService.createInstance(v8,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||qa.fontFamily}),{element:b}=y.render(C,{actionHandler:{callback:w=>this._linkHandler(w),disposables:this._messageListeners},asyncRenderCallback:()=>{l.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});l.appendChild(b)}if(a.appendChild(l),this._hover.contentsDomNode.appendChild(a),e.actions&&e.actions.length>0){const C=Mu("div.hover-row.status-bar"),y=Mu("div.actions");e.actions.forEach(b=>{const w=this._keybindingService.lookupKeybinding(b.commandId),I=w?w.getLabel():null;Sq.render(y,{label:b.label,commandId:b.commandId,run:O=>{b.run(O),this.dispose()},iconClass:b.iconClass},I)}),C.appendChild(y),this._hover.containerDomNode.appendChild(C)}this._hoverContainer=Mu("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let c;if(e.actions&&e.actions.length>0?c=!1:((v=e.persistence)==null?void 0:v.hideOnHover)===void 0?c=typeof e.content=="string"||DS(e.content)&&!e.content.value.includes("](")&&!e.content.value.includes("</a>"):c=e.persistence.hideOnHover,(S=e.appearance)!=null&&S.showHoverHint){const C=Mu("div.hover-row.status-bar"),y=Mu("div.info");y.textContent=A("hoverhint","Hold {0} key to mouse over",bn?"Option":"Alt"),C.appendChild(y),this._hover.containerDomNode.appendChild(C)}const u=[...this._target.targetElements];c||u.push(this._hoverContainer);const d=this._register(new yce(u));if(this._register(d.onMouseOut(()=>{this._isLocked||this.dispose()})),c){const C=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new yce(C)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=d}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const e=this._hover.containerDomNode,t=this.findLastFocusableChild(this._hover.containerDomNode);if(t){const i=XK(this._hoverContainer,Mu("div")),r=st(this._hoverContainer,Mu("div"));i.tabIndex=0,r.tabIndex=0,this._register(we(r,"focus",s=>{e.focus(),s.preventDefault()})),this._register(we(i,"focus",s=>{t.focus(),s.preventDefault()}))}}findLastFocusableChild(e){if(e.hasChildNodes())for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes.item(e.childNodes.length-t-1);if(i.nodeType===i.ELEMENT_NODE){const s=i;if(typeof s.tabIndex=="number"&&s.tabIndex>=0)return s}const r=this.findLastFocusableChild(i);if(r)return r}}render(e){var r;e.appendChild(this._hoverContainer);const i=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&wrt(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(r=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))==null?void 0:r.getAriaLabel());i&&dx(i),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const e=u=>{const d=V1e(u),h=u.getBoundingClientRect();return{top:h.top*d,bottom:h.bottom*d,right:h.right*d,left:h.left*d}},t=this._target.targetElements.map(u=>e(u)),{top:i,right:r,bottom:s,left:o}=t[0],a=r-o,l=s-i,c={top:i,right:r,bottom:s,left:o,width:a,height:l,center:{x:o+a/2,y:i+l/2}};if(this.adjustHorizontalHoverPosition(c),this.adjustVerticalHoverPosition(c),this.adjustHoverMaxHeight(c),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:c.left+=3,c.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:c.left-=3,c.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:c.top+=3,c.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:c.top-=3,c.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}c.center.x=c.left+a/2,c.center.y=c.top+l/2}this.computeXCordinate(c),this.computeYCordinate(c),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(c)),this._hover.onContentsChanged()}computeXCordinate(e){const t=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=e.right:this._hoverPosition===0?this._x=e.left-t:(this._hoverPointer?this._x=e.center.x-this._hover.containerDomNode.clientWidth/2:this._x=e.left,this._x+t>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-t-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=e.left+2)}computeYCordinate(e){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=e.top:this._hoverPosition===2?this._y=e.bottom-2:this._hoverPointer?this._y=e.center.y+this._hover.containerDomNode.clientHeight/2:this._y=e.bottom,this._y>this._targetWindow.innerHeight&&(this._y=e.bottom)}adjustHorizontalHoverPosition(e){if(this._target.x!==void 0)return;const t=this._hoverPointer?3:0;if(this._forcePosition){const i=t+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-e.right-i}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${e.left-i}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-e.right<this._hover.containerDomNode.clientWidth+t&&(e.left>=this._hover.containerDomNode.clientWidth+t?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(e.left<this._hover.containerDomNode.clientWidth+t&&(this._targetDocumentElement.clientWidth-e.right>=this._hover.containerDomNode.clientWidth+t?this._hoverPosition=1:this._hoverPosition=2),e.left-this._hover.containerDomNode.clientWidth-t<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(e){if(this._target.y!==void 0||this._forcePosition)return;const t=this._hoverPointer?3:0;this._hoverPosition===3?e.top-this._hover.containerDomNode.clientHeight-t<0&&(this._hoverPosition=2):this._hoverPosition===2&&e.bottom+this._hover.containerDomNode.clientHeight+t>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(e){let t=this._targetWindow.innerHeight/2;if(this._forcePosition){const i=(this._hoverPointer?3:0)+2;this._hoverPosition===3?t=Math.min(t,e.top-i):this._hoverPosition===2&&(t=Math.min(t,this._targetWindow.innerHeight-e.bottom-i))}if(this._hover.containerDomNode.style.maxHeight=`${t}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const i=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==i&&(this._hover.contentsDomNode.style.paddingRight=i)}}setHoverPointerPosition(e){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const t=this._hover.containerDomNode.clientHeight;t>e.height?this._hoverPointer.style.top=`${e.center.y-(this._y-t)-3}px`:this._hoverPointer.style.top=`${Math.round(t/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const t=this._hover.containerDomNode.clientWidth;let i=Math.round(t/2)-3;const r=this._x+i;(r<e.left||r>e.right)&&(i=e.center.x-this._x-3),this._hoverPointer.style.left=`${i}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};y8=Gst([Vb(1,Rs),Vb(2,Zi),Vb(3,IA),Vb(4,oi),Vb(5,bu)],y8);class yce extends ff{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(e){super(),this._elements=e,this._isMouseIn=!0,this._onMouseOut=this._register(new ge),this._elements.forEach(t=>this.onmouseover(t,()=>this._onTargetMouseOver(t))),this._elements.forEach(t=>this.onmouseleave(t,()=>this._onTargetMouseLeave(t)))}_onTargetMouseOver(e){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(e)}_onTargetMouseLeave(e){this._isMouseIn=!1,this._evaluateMouseState(e)}_evaluateMouseState(e){this._clearEvaluateMouseStateTimeout(e),this._mouseTimeout=ht(e).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(e){this._mouseTimeout&&(ht(e).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class zst{constructor(e){this._element=e,this.targetElements=[this._element]}dispose(){}}var Ms;(function(n){function e(s,o){if(s.start>=o.end||o.start>=s.end)return{start:0,end:0};const a=Math.max(s.start,o.start),l=Math.min(s.end,o.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}n.intersect=e;function t(s){return s.end-s.start<=0}n.isEmpty=t;function i(s,o){return!t(e(s,o))}n.intersects=i;function r(s,o){const a=[],l={start:s.start,end:Math.min(o.start,s.end)},c={start:Math.max(o.end,s.start),end:s.end};return t(l)||a.push(l),t(c)||a.push(c),a}n.relativeComplement=r})(Ms||(Ms={}));function jst(n){const e=n;return!!e&&typeof e.x=="number"&&typeof e.y=="number"}var vg;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(vg||(vg={}));function Vv(n,e,t){const i=t.mode===vg.ALIGN?t.offset:t.offset+t.size,r=t.mode===vg.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=n-i?i:e<=r?r-e:Math.max(n-e,0):e<=r?r-e:e<=n-i?i:0}const fS=class fS extends Ne{constructor(e,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=Ne.None,this.toDisposeOnSetContainer=Ne.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=St(".context-view"),Fae(this.view),this.setContainer(e,t),this._register(Ht(()=>this.setContainer(null,1)))}setContainer(e,t){var r;this.useFixedPosition=t!==1;const i=this.useShadowDOM;if(this.useShadowDOM=t===3,!(e===this.container&&i===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.view.remove(),this.shadowRoot&&(this.shadowRoot=null,(r=this.shadowRootHostElement)==null||r.remove(),this.shadowRootHostElement=null),this.container=null),e)){if(this.container=e,this.useShadowDOM){this.shadowRootHostElement=St(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const o=document.createElement("style");o.textContent=Yst,this.shadowRoot.appendChild(o),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(St("slot"))}else this.container.appendChild(this.view);const s=new at;fS.BUBBLE_UP_EVENTS.forEach(o=>{s.add(Qr(this.container,o,a=>{this.onDOMEvent(a,!1)}))}),fS.BUBBLE_DOWN_EVENTS.forEach(o=>{s.add(Qr(this.container,o,a=>{this.onDOMEvent(a,!0)},!0))}),this.toDisposeOnSetContainer=s}}show(e){var t,i;this.isVisible()&&this.hide(),fu(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+(e.layer??0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",j1e(this.view),this.toDisposeOnClean=e.render(this.view)||Ne.None,this.delegate=e,this.doLayout(),(i=(t=this.delegate).focus)==null||i.call(t)}getViewElement(){return this.view}layout(){var e,t;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(w_&&b1e.pointerEvents)){this.hide();return}(t=(e=this.delegate)==null?void 0:e.layout)==null||t.call(e),this.doLayout()}}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(as(e)){const h=yl(e),f=V1e(e);t={top:h.top*f,left:h.left*f,width:h.width*f,height:h.height*f}}else jst(e)?t={top:e.y,left:e.x,width:e.width||1,height:e.height||2}:t={top:e.posy,left:e.posx,width:2,height:2};const i=jK(this.view),r=y6(this.view),s=this.delegate.anchorPosition||0,o=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,c;const u=ET();if(a===0){const h={offset:t.top-u.pageYOffset,size:t.height,position:s===0?0:1},f={offset:t.left,size:t.width,position:o===0?0:1,mode:vg.ALIGN};l=Vv(u.innerHeight,r,h)+u.pageYOffset,Ms.intersects({start:l,end:l+r},{start:h.offset,end:h.offset+h.size})&&(f.mode=vg.AVOID),c=Vv(u.innerWidth,i,f)}else{const h={offset:t.left,size:t.width,position:o===0?0:1},f={offset:t.top,size:t.height,position:s===0?0:1,mode:vg.ALIGN};c=Vv(u.innerWidth,i,h),Ms.intersects({start:c,end:c+i},{start:h.offset,end:h.offset+h.size})&&(f.mode=vg.AVOID),l=Vv(u.innerHeight,r,f)+u.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(s===0?"bottom":"top"),this.view.classList.add(o===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const d=yl(this.container);this.view.style.top=`${l-(this.useFixedPosition?yl(this.view).top:d.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?yl(this.view).left:d.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,t!=null&&t.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),Fae(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,ht(e).document.activeElement):t&&!Xr(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}};fS.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],fS.BUBBLE_DOWN_EVENTS=["click"];let b8=fS;const Yst=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var Kst=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},qst=function(n,e){return function(t,i){e(t,i,n)}};let fx=class extends Ne{constructor(e){super(),this.layoutService=e,this.contextView=this._register(new b8(this.layoutService.mainContainer,1)),this.layout(),this._register(e.onDidLayoutContainer(()=>this.layout()))}showContextView(e,t,i){let r;t?t===this.layoutService.getContainer(ht(t))?r=1:i?r=3:r=2:r=1,this.contextView.setContainer(t??this.layoutService.activeContainer,r),this.contextView.show(e);const s={close:()=>{this.openContextView===s&&this.hideContextView()}};return this.openContextView=s,s}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e),this.openContextView=void 0}};fx=Kst([qst(0,gp)],fx);class Xst extends fx{getContextViewElement(){return this.contextView.getViewElement()}}class Qst{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}async update(e,t,i){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let r;if(e===void 0||Ka(e)||as(e))r=e;else if(!IO(e.markdown))r=e.markdown??e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(A("iconLabel.loading","Loading..."),t,i),this._cancellationTokenSource=new vy;const s=this._cancellationTokenSource.token;if(r=await e.markdown(s),r===void 0&&(r=e.markdownNotSupportedFallback),this.isDisposed||s.isCancellationRequested)return}this.show(r,t,i)}show(e,t,i){var s;const r=this._hoverWidget;if(this.hasContent(e)){const o={content:e,target:this.target,actions:i==null?void 0:i.actions,linkHandler:i==null?void 0:i.linkHandler,trapFocus:i==null?void 0:i.trapFocus,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!r,showHoverHint:(s=i==null?void 0:i.appearance)==null?void 0:s.showHoverHint},position:{hoverPosition:2}};this._hoverWidget=this.hoverDelegate.showHover(o,t)}r==null||r.dispose()}hasContent(e){return e?DS(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)==null?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)==null||e.dispose(),(t=this._cancellationTokenSource)==null||t.dispose(!0),this._cancellationTokenSource=void 0}}var Zst=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Wb=function(n,e){return function(t,i){e(t,i,n)}};let T8=class extends Ne{constructor(e,t,i,r,s){super(),this._instantiationService=e,this._keybindingService=i,this._layoutService=r,this._accessibilityService=s,this._managedHovers=new Map,t.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new fx(this._layoutService))}showHover(e,t,i){var l,c,u,d;if(bce(this._currentHoverOptions)===bce(e)||this._currentHover&&((c=(l=this._currentHoverOptions)==null?void 0:l.persistence)!=null&&c.sticky))return;this._currentHoverOptions=e,this._lastHoverOptions=e;const r=e.trapFocus||this._accessibilityService.isScreenReaderOptimized(),s=fo();i||(r&&s?s.classList.contains("monaco-hover")||(this._lastFocusedElementBeforeOpen=s):this._lastFocusedElementBeforeOpen=void 0);const o=new at,a=this._instantiationService.createInstance(y8,e);if((u=e.persistence)!=null&&u.sticky&&(a.isLocked=!0),a.onDispose(()=>{var f,m;((f=this._currentHover)==null?void 0:f.domNode)&&$1e(this._currentHover.domNode)&&((m=this._lastFocusedElementBeforeOpen)==null||m.focus()),this._currentHoverOptions===e&&(this._currentHoverOptions=void 0),o.dispose()},void 0,o),!e.container){const h=as(e.target)?e.target:e.target.targetElements[0];e.container=this._layoutService.getContainer(ht(h))}if(this._contextViewHandler.showContextView(new Jst(a,t),e.container),a.onRequestLayout(()=>this._contextViewHandler.layout(),void 0,o),(d=e.persistence)!=null&&d.sticky)o.add(we(ht(e.container).document,Ve.MOUSE_DOWN,h=>{Xr(h.target,a.domNode)||this.doHideHover()}));else{if("targetElements"in e.target)for(const f of e.target.targetElements)o.add(we(f,Ve.CLICK,()=>this.hideHover()));else o.add(we(e.target,Ve.CLICK,()=>this.hideHover()));const h=fo();if(h){const f=ht(h).document;o.add(we(h,Ve.KEY_DOWN,m=>{var g;return this._keyDown(m,a,!!((g=e.persistence)!=null&&g.hideOnKeyDown))})),o.add(we(f,Ve.KEY_DOWN,m=>{var g;return this._keyDown(m,a,!!((g=e.persistence)!=null&&g.hideOnKeyDown))})),o.add(we(h,Ve.KEY_UP,m=>this._keyUp(m,a))),o.add(we(f,Ve.KEY_UP,m=>this._keyUp(m,a)))}}if("IntersectionObserver"in fi){const h=new IntersectionObserver(m=>this._intersectionChange(m,a),{threshold:0}),f="targetElements"in e.target?e.target.targetElements[0]:e.target;h.observe(f),o.add(Ht(()=>h.disconnect()))}return this._currentHover=a,a}hideHover(){var e;(e=this._currentHover)!=null&&e.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(e,t){e[e.length-1].isIntersecting||t.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(e,t,i){var o,a;if(e.key==="Alt"){t.isLocked=!0;return}const r=new wi(e);this._keybindingService.resolveKeyboardEvent(r).getSingleModifierDispatchChords().some(l=>!!l)||this._keybindingService.softDispatch(r,r.target).kind!==0||i&&(!((o=this._currentHoverOptions)!=null&&o.trapFocus)||e.key!=="Tab")&&(this.hideHover(),(a=this._lastFocusedElementBeforeOpen)==null||a.focus())}_keyUp(e,t){var i;e.key==="Alt"&&(t.isLocked=!1,t.isMouseIn||(this.hideHover(),(i=this._lastFocusedElementBeforeOpen)==null||i.focus()))}setupManagedHover(e,t,i,r){t.setAttribute("custom-hover","true"),t.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",t.title),t.title="");let s,o;const a=(C,y)=>{var w;const b=o!==void 0;C&&(o==null||o.dispose(),o=void 0),y&&(s==null||s.dispose(),s=void 0),b&&((w=e.onDidHideHover)==null||w.call(e),o=void 0)},l=(C,y,b,w)=>new nE(async()=>{(!o||o.isDisposed)&&(o=new Qst(e,b||t,C>0),await o.update(typeof i=="function"?i():i,y,{...r,trapFocus:w}))},C);let c=!1;const u=we(t,Ve.MOUSE_DOWN,()=>{c=!0,a(!0,!0)},!0),d=we(t,Ve.MOUSE_UP,()=>{c=!1},!0),h=we(t,Ve.MOUSE_LEAVE,C=>{c=!1,a(!1,C.fromElement===t)},!0),f=C=>{if(s)return;const y=new at,b={targetElements:[t],dispose:()=>{}};if(e.placement===void 0||e.placement==="mouse"){const w=I=>{b.x=I.x+10,as(I.target)&&Tce(I.target,t)!==t&&a(!0,!0)};y.add(we(t,Ve.MOUSE_MOVE,w,!0))}s=y,!(as(C.target)&&Tce(C.target,t)!==t)&&y.add(l(e.delay,!1,b))},m=we(t,Ve.MOUSE_OVER,f,!0),g=()=>{if(c||s)return;const C={targetElements:[t],dispose:()=>{}},y=new at,b=()=>a(!0,!0);y.add(we(t,Ve.BLUR,b,!0)),y.add(l(e.delay,!1,C)),s=y};let _;const v=t.tagName.toLowerCase();v!=="input"&&v!=="textarea"&&(_=we(t,Ve.FOCUS,g,!0));const S={show:C=>{a(!1,!0),l(0,C,void 0,C)},hide:()=>{a(!0,!0)},update:async(C,y)=>{i=C,await(o==null?void 0:o.update(i,void 0,y))},dispose:()=>{this._managedHovers.delete(t),m.dispose(),h.dispose(),u.dispose(),d.dispose(),_==null||_.dispose(),a(!0,!0)}};return this._managedHovers.set(t,S),S}showManagedHover(e){const t=this._managedHovers.get(e);t&&t.show(!0)}dispose(){this._managedHovers.forEach(e=>e.dispose()),super.dispose()}};T8=Zst([Wb(0,oi),Wb(1,hf),Wb(2,Rs),Wb(3,gp),Wb(4,bu)],T8);function bce(n){if(n!==void 0)return(n==null?void 0:n.id)??n}class Jst{get anchorPosition(){return this._hover.anchor}constructor(e,t=!1){this._hover=e,this._focus=t,this.layer=1}render(e){return this._hover.render(e),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function Tce(n,e){for(e=e??ht(n).document.body;!n.hasAttribute("custom-hover")&&n!==e;)n=n.parentElement;return n}Pn(AA,T8,1);df((n,e)=>{const t=n.getColor(Bnt);t&&(e.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`))});const eot=Cn("IWorkspaceEditService");class Lq{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(Zm.is(t))return Zm.lift(t);if(PS.is(t))return PS.lift(t);throw new Error("Unsupported edit")})}}class Zm extends Lq{static is(e){return e instanceof Zm?!0:Yo(e)&&en.isUri(e.resource)&&Yo(e.textEdit)}static lift(e){return e instanceof Zm?e:new Zm(e.resource,e.textEdit,e.versionId,e.metadata)}constructor(e,t,i=void 0,r){super(r),this.resource=e,this.textEdit=t,this.versionId=i}}class PS extends Lq{static is(e){return e instanceof PS?!0:Yo(e)&&(!!e.newResource||!!e.oldResource)}static lift(e){return e instanceof PS?e:new PS(e.oldResource,e.newResource,e.options,e.metadata)}constructor(e,t,i={},r){super(r),this.oldResource=e,this.newResource=t,this.options=i}}const _s={enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0,useTrueInlineView:!1},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0,compactMode:!1},tot=Object.freeze({id:"editor",order:5,type:"object",title:A("editorConfigurationTitle","Editor"),scope:5}),gx={...tot,properties:{"editor.tabSize":{type:"number",default:Fs.tabSize,minimum:1,markdownDescription:A("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:A("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:Fs.insertSpaces,markdownDescription:A("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:Fs.detectIndentation,markdownDescription:A("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:Fs.trimAutoWhitespace,description:A("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Fs.largeFileOptimizations,description:A("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[A("wordBasedSuggestions.off","Turn off Word Based Suggestions."),A("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),A("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),A("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:A("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[A("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),A("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),A("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:A("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:A("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:A("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!0,description:A("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:A("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:A("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.experimental.treeSitterTelemetry":{type:"boolean",default:!1,markdownDescription:A("editor.experimental.treeSitterTelemetry","Controls whether tree sitter parsing should be turned on and telemetry collected. Setting `editor.experimental.preferTreeSitter` for specific languages will take precedence."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:A("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:A("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:A("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:A("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:A("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:A("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:_s.maxComputationTime,description:A("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:_s.maxFileSize,description:A("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:_s.renderSideBySide,description:A("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:_s.renderSideBySideInlineBreakpoint,description:A("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:_s.useInlineViewWhenSpaceIsLimited,description:A("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:_s.renderMarginRevertIcon,description:A("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.renderGutterMenu":{type:"boolean",default:_s.renderGutterMenu,description:A("renderGutterMenu","When enabled, the diff editor shows a special gutter for revert and stage actions.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:_s.ignoreTrimWhitespace,description:A("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:_s.renderIndicators,description:A("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:_s.diffCodeLens,description:A("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:_s.diffWordWrap,markdownEnumDescriptions:[A("wordWrap.off","Lines will never wrap."),A("wordWrap.on","Lines will wrap at the viewport width."),A("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:_s.diffAlgorithm,markdownEnumDescriptions:[A("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),A("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:_s.hideUnchangedRegions.enabled,markdownDescription:A("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:_s.hideUnchangedRegions.revealLineCount,markdownDescription:A("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:_s.hideUnchangedRegions.minimumLineCount,markdownDescription:A("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:_s.hideUnchangedRegions.contextLineCount,markdownDescription:A("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:_s.experimental.showMoves,markdownDescription:A("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:_s.experimental.showEmptyDecorations,description:A("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")},"diffEditor.experimental.useTrueInlineView":{type:"boolean",default:_s.experimental.useTrueInlineView,description:A("useTrueInlineView","If enabled and the editor uses the inline view, word changes are rendered inline.")}}};function not(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of xv){const e=n.schema;if(typeof e<"u")if(not(e))gx.properties[`editor.${n.name}`]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(gx.properties[t]=e[t])}let nN=null;function OAe(){return nN===null&&(nN=Object.create(null),Object.keys(gx.properties).forEach(n=>{nN[n]=!0})),nN}function iot(n){return OAe()[`editor.${n}`]||!1}function rot(n){return OAe()[`diffEditor.${n}`]||!1}const sot=hs.as(cE.Configuration);sot.registerConfiguration(gx);class oot{static insert(e,t){return{range:new ce(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}function iN(n){return Object.isFrozen(n)?n:yqe(n)}class rs{static createEmptyModel(e){return new rs({},[],[],void 0,e)}constructor(e,t,i,r,s){this._contents=e,this._keys=t,this._overrides=i,this.raw=r,this.logService=s,this.overrideConfigurations=new Map}get rawConfiguration(){var e;if(!this._rawConfiguration)if((e=this.raw)!=null&&e.length){const t=this.raw.map(i=>{if(i instanceof rs)return i;const r=new aot("",this.logService);return r.parseRaw(i),r.configurationModel});this._rawConfiguration=t.reduce((i,r)=>r===i?r:i.merge(r),t[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?Zae(this.contents,e):this.contents}inspect(e,t){const i=this;return{get value(){return iN(i.rawConfiguration.getValue(e))},get override(){return t?iN(i.rawConfiguration.getOverrideValue(e,t)):void 0},get merged(){return iN(t?i.rawConfiguration.override(t).getValue(e):i.rawConfiguration.getValue(e))},get overrides(){const r=[];for(const{contents:s,identifiers:o,keys:a}of i.rawConfiguration.overrides){const l=new rs(s,a,[],void 0,i.logService).getValue(e);l!==void 0&&r.push({identifiers:o,value:l})}return r.length?iN(r):void 0}}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?Zae(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){var o,a;const t=Qf(this.contents),i=Qf(this.overrides),r=[...this.keys],s=(o=this.raw)!=null&&o.length?[...this.raw]:[this];for(const l of e)if(s.push(...(a=l.raw)!=null&&a.length?l.raw:[l]),!l.isEmpty()){this.mergeContents(t,l.contents);for(const c of l.overrides){const[u]=i.filter(d=>Mr(d.identifiers,c.identifiers));u?(this.mergeContents(u.contents,c.contents),u.keys.push(...c.keys),u.keys=T_(u.keys)):i.push(Qf(c))}for(const c of l.keys)r.indexOf(c)===-1&&r.push(c)}return new rs(t,r,i,s.every(l=>l instanceof rs)?void 0:s,this.logService)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const i={};for(const r of T_([...Object.keys(this.contents),...Object.keys(t)])){let s=this.contents[r];const o=t[r];o&&(typeof s=="object"&&typeof o=="object"?(s=Qf(s),this.mergeContents(s,o)):s=o),i[r]=s}return new rs(i,this.keys,this.overrides,void 0,this.logService)}mergeContents(e,t){for(const i of Object.keys(t)){if(i in e&&Yo(e[i])&&Yo(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=Qf(t[i])}}getContentsForOverrideIdentifer(e){let t=null,i=null;const r=s=>{s&&(i?this.mergeContents(i,s):i=Qf(s))};for(const s of this.overrides)s.identifiers.length===1&&s.identifiers[0]===e?t=s.contents:s.identifiers.includes(e)&&r(s.contents);return r(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);t!==-1&&(this.keys.splice(t,1),set(this.contents,e),Xg.test(e)&&this.overrides.splice(this.overrides.findIndex(i=>Mr(i.identifiers,zO(e))),1))}updateValue(e,t,i){if(cwe(this.contents,e,t,r=>this.logService.error(r)),i=i||this.keys.indexOf(e)===-1,i&&this.keys.push(e),Xg.test(e)){const r=zO(e),s={identifiers:r,keys:Object.keys(this.contents[e]),contents:x6(this.contents[e],a=>this.logService.error(a))},o=this.overrides.findIndex(a=>Mr(a.identifiers,r));o!==-1?this.overrides[o]=s:this.overrides.push(s)}}}class aot{constructor(e,t){this._name=e,this.logService=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||rs.createEmptyModel(this.logService)}parseRaw(e,t){this._raw=e;const{contents:i,keys:r,overrides:s,restricted:o,hasExcludedProperties:a}=this.doParseRaw(e,t);this._configurationModel=new rs(i,r,s,a?[e]:void 0,this.logService),this._restrictedConfigurations=o||[]}doParseRaw(e,t){const i=hs.as(cE.Configuration).getConfigurationProperties(),r=this.filter(e,i,!0,t);e=r.raw;const s=x6(e,l=>this.logService.error(`Conflict in settings file ${this._name}: ${l}`)),o=Object.keys(e),a=this.toOverrides(e,l=>this.logService.error(`Conflict in settings file ${this._name}: ${l}`));return{contents:s,keys:o,overrides:a,restricted:r.restricted,hasExcludedProperties:r.hasExcludedProperties}}filter(e,t,i,r){var l,c,u;let s=!1;if(!(r!=null&&r.scopes)&&!(r!=null&&r.skipRestricted)&&!((l=r==null?void 0:r.exclude)!=null&&l.length))return{raw:e,restricted:[],hasExcludedProperties:s};const o={},a=[];for(const d in e)if(Xg.test(d)&&i){const h=this.filter(e[d],t,!1,r);o[d]=h.raw,s=s||h.hasExcludedProperties,a.push(...h.restricted)}else{const h=t[d],f=h?typeof h.scope<"u"?h.scope:3:void 0;h!=null&&h.restricted&&a.push(d),!((c=r.exclude)!=null&&c.includes(d))&&((u=r.include)!=null&&u.includes(d)||(f===void 0||r.scopes===void 0||r.scopes.includes(f))&&!(r.skipRestricted&&(h!=null&&h.restricted)))?o[d]=e[d]:s=!0}return{raw:o,restricted:a,hasExcludedProperties:s}}toOverrides(e,t){const i=[];for(const r of Object.keys(e))if(Xg.test(r)){const s={};for(const o in e[r])s[o]=e[r][o];i.push({identifiers:zO(r),keys:Object.keys(s),contents:x6(s,t)})}return i}}class lot{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f){this.key=e,this.overrides=t,this._value=i,this.overrideIdentifiers=r,this.defaultConfiguration=s,this.policyConfiguration=o,this.applicationConfiguration=a,this.userConfiguration=l,this.localUserConfiguration=c,this.remoteUserConfiguration=u,this.workspaceConfiguration=d,this.folderConfigurationModel=h,this.memoryConfigurationModel=f}toInspectValue(e){return(e==null?void 0:e.value)!==void 0||(e==null?void 0:e.override)!==void 0||(e==null?void 0:e.overrides)!==void 0?e:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class i2{constructor(e,t,i,r,s,o,a,l,c,u){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=r,this._remoteUserConfiguration=s,this._workspaceConfiguration=o,this._folderConfigurations=a,this._memoryConfiguration=l,this._memoryConfigurationByResource=c,this.logService=u,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Xa,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let r;i.resource?(r=this._memoryConfigurationByResource.get(i.resource),r||(r=rs.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(i.resource,r))):r=this._memoryConfiguration,t===void 0?r.removeValue(e):r.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const r=this.getConsolidatedConfigurationModel(e,t,i),s=this.getFolderConfigurationModelForResource(t.resource,i),o=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=new Set;for(const l of r.overrides)for(const c of l.identifiers)r.getOverrideValue(e,c)!==void 0&&a.add(c);return new lot(e,t,r.getValue(e),a.size?[...a]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,i?this._workspaceConfiguration:void 0,s||void 0,o)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let r=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(r=r.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(e)!==void 0&&(r=r.merge(this._policyConfiguration)),r}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const r=t.getFolder(e);r&&(i=this.getFolderConsolidatedConfiguration(r.uri)||i);const s=this._memoryConfigurationByResource.get(e);s&&(i=i.merge(s))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(e);r?(t=i.merge(r),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:r,keys:s}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:r,keys:s}]),e},[])}}static parse(e,t){const i=this.parseConfigurationModel(e.defaults,t),r=this.parseConfigurationModel(e.policy,t),s=this.parseConfigurationModel(e.application,t),o=this.parseConfigurationModel(e.user,t),a=this.parseConfigurationModel(e.workspace,t),l=e.folders.reduce((c,u)=>(c.set(en.revive(u[0]),this.parseConfigurationModel(u[1],t)),c),new Xa);return new i2(i,r,s,o,rs.createEmptyModel(t),a,l,rs.createEmptyModel(t),new Xa,t)}static parseConfigurationModel(e,t){return new rs(e.contents,e.keys,e.overrides,void 0,t)}}class cot{constructor(e,t,i,r,s){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=r,this.logService=s,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const o of e.keys)this.affectedKeys.add(o);for(const[,o]of e.overrides)for(const a of o)this.affectedKeys.add(a);this._affectsConfigStr=this._marker;for(const o of this.affectedKeys)this._affectsConfigStr+=o+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=i2.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(e,t){var a;const i=this._marker+e,r=this._affectsConfigStr.indexOf(i);if(r<0)return!1;const s=r+i.length;if(s>=this._affectsConfigStr.length)return!1;const o=this._affectsConfigStr.charCodeAt(s);if(o!==this._markerCode1&&o!==this._markerCode2)return!1;if(t){const l=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(a=this.previous)==null?void 0:a.workspace):void 0,c=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!va(l,c)}return!0}}class uot{constructor(){this._onDidChange=new ge,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const JT=new uot,px={kind:0},dot={kind:1};function hot(n,e,t){return{kind:2,commandId:n,commandArgs:e,isBubble:t}}class e0{constructor(e,t,i){var r;this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const s of e){const o=s.command;o&&o.charAt(0)!=="-"&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=e0.handleRemovals([].concat(e).concat(t));for(let s=0,o=this._keybindings.length;s<o;s++){const a=this._keybindings[s];if(a.chords.length===0)continue;const l=(r=a.when)==null?void 0:r.substituteConstants();l&&l.type===0||this._addKeyPress(a.chords[0],a)}}static _isTargetedForRemoval(e,t,i){if(t){for(let r=0;r<t.length;r++)if(t[r]!==e.chords[r])return!1}return!(i&&i.type!==1&&(!e.when||!pJe(i,e.when)))}static handleRemovals(e){const t=new Map;for(let r=0,s=e.length;r<s;r++){const o=e[r];if(o.command&&o.command.charAt(0)==="-"){const a=o.command.substring(1);t.has(a)?t.get(a).push(o):t.set(a,[o])}}if(t.size===0)return e;const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];if(!o.command||o.command.length===0){i.push(o);continue}if(o.command.charAt(0)==="-")continue;const a=t.get(o.command);if(!a||!o.isDefault){i.push(o);continue}let l=!1;for(const c of a){const u=c.when;if(this._isTargetedForRemoval(o,c.chords,u)){l=!0;break}}if(!l){i.push(o);continue}}return i}_addKeyPress(e,t){const i=this._map.get(e);if(typeof i>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.command===t.command)continue;let o=!0;for(let a=1;a<s.chords.length&&a<t.chords.length;a++)if(s.chords[a]!==t.chords[a]){o=!1;break}o&&e0.whenIsEntirelyIncluded(s.when,t.when)&&this._removeFromLookupMap(s)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(let i=0,r=t.length;i<r;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:I6(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(typeof i>"u"||i.length===0)return null;if(i.length===1)return i[0];for(let r=i.length-1;r>=0;r--){const s=i[r];if(t.contextMatchesRules(s.when))return s}return i[i.length-1]}resolve(e,t,i){const r=[...t,i];this._log(`| Resolving ${r}`);const s=this._map.get(r[0]);if(s===void 0)return this._log("\\ No keybinding entries."),px;let o=null;if(r.length<2)o=s;else{o=[];for(let l=0,c=s.length;l<c;l++){const u=s[l];if(r.length>u.chords.length)continue;let d=!0;for(let h=1;h<r.length;h++)if(u.chords[h]!==r[h]){d=!1;break}d&&o.push(u)}}const a=this._findCommand(e,o);return a?r.length<a.chords.length?(this._log(`\\ From ${o.length} keybinding entries, awaiting ${a.chords.length-r.length} more chord(s), when: ${wce(a.when)}, source: ${Ace(a)}.`),dot):(this._log(`\\ From ${o.length} keybinding entries, matched ${a.command}, when: ${wce(a.when)}, source: ${Ace(a)}.`),hot(a.command,a.commandArgs,a.bubble)):(this._log(`\\ From ${o.length} keybinding entries, no when clauses matched the context.`),px)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const r=t[i];if(e0._contextMatchesRules(e,r.when))return r}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function wce(n){return n?`${n.serialize()}`:"no when condition"}function Ace(n){return n.extensionId?n.isBuiltinExtension?`built-in extension ${n.extensionId}`:`user extension ${n.extensionId}`:n.isDefault?"built-in":"user"}const fot=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class got extends Ne{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Ue.None}get inChordMode(){return this._currentChords.length>0}constructor(e,t,i,r,s){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=r,this._logService=s,this._onDidUpdateKeybindings=this._register(new ge),this._currentChords=[],this._currentChordChecker=new VK,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Wv.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new nE,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),px;const[r]=i.getDispatchChords();if(r===null)return this._log("\\ Keyboard event cannot be dispatched"),px;const s=this._contextKeyService.getContext(t),o=this._currentChords.map(({keypress:a})=>a);return this._getResolver().resolve(s,o,r)}_scheduleLeaveChordMode(){const e=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-e>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(e,t){switch(this._currentChords.push({keypress:e,label:t}),this._currentChords.length){case 0:throw RK("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(A("first.chord","({0}) was pressed. Waiting for second key of chord...",t));break;default:{const i=this._currentChords.map(({label:r})=>r).join(", ");this._currentChordStatusMessage=this._notificationService.status(A("next.chord","({0}) was pressed. Waiting for next key of chord...",i))}}this._scheduleLeaveChordMode(),JT.enabled&&JT.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],JT.enable()}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[r]=i.getSingleModifierDispatchChords();if(r)return this._ignoreSingleModifiers.has(r)?(this._log(`+ Ignoring single modifier ${r} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Wv.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Wv.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${r}.`),this._currentSingleModifier=r,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):r===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${r} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[s]=i.getChords();return this._ignoreSingleModifiers=new Wv(s),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let r=!1;if(e.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let s=null,o=null;if(i){const[u]=e.getSingleModifierDispatchChords();s=u,o=u?[u]:[]}else[s]=e.getDispatchChords(),o=this._currentChords.map(({keypress:u})=>u);if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),r;const a=this._contextKeyService.getContext(t),l=e.getLabel(),c=this._getResolver().resolve(a,o,s);switch(c.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",l,"[ No matching keybinding ]"),this.inChordMode){const u=this._currentChords.map(({label:d})=>d).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${u}, ${l}".`),this._notificationService.status(A("missing.chord","The key combination ({0}, {1}) is not a command.",u,l),{hideAfter:10*1e3}),this._leaveChordMode(),r=!0}return r}case 1:return this._logService.trace("KeybindingService#dispatch",l,"[ Several keybindings match - more chords needed ]"),r=!0,this._expectAnotherChord(s,l),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),r;case 2:{if(this._logService.trace("KeybindingService#dispatch",l,`[ Will dispatch command ${c.commandId} ]`),c.commandId===null||c.commandId===""){if(this.inChordMode){const u=this._currentChords.map(({label:d})=>d).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${u}, ${l}".`),this._notificationService.status(A("missing.chord","The key combination ({0}, {1}) is not a command.",u,l),{hideAfter:10*1e3}),this._leaveChordMode(),r=!0}}else{this.inChordMode&&this._leaveChordMode(),c.isBubble||(r=!0),this._log(`+ Invoking command ${c.commandId}.`),this._currentlyDispatchingCommandId=c.commandId;try{typeof c.commandArgs>"u"?this._commandService.executeCommand(c.commandId).then(void 0,u=>this._notificationService.warn(u)):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,u=>this._notificationService.warn(u))}finally{this._currentlyDispatchingCommandId=null}fot.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding",detail:e.getUserSettingsLabel()??void 0})}return r}}}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}const NP=class NP{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}};NP.EMPTY=new NP(null);let Wv=NP;class Rce{constructor(e,t,i,r,s,o,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.chords=e?w8(e.getDispatchChords()):[],e&&this.chords.length===0&&(this.chords=w8(e.getSingleModifierDispatchChords())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=r,this.isDefault=s,this.extensionId=o,this.isBuiltinExtension=a}}function w8(n){const e=[];for(let t=0,i=n.length;t<i;t++){const r=n[t];if(!r)return[];e.push(r)}return e}class r2{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=i(a);if(l===null)return null;r[s]=Eot(a,l,this.modifierLabels[e])}return r.join(" ")}}const Oq=new r2({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:A({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:A({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:A({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:A({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:A({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:A({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:A({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:A({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),pot=new r2({ctrlKey:A({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:A({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:A({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:A({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:A({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:A({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:A({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:A({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:A({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:A({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:A({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:A({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),mot=new r2({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),_ot=new r2({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function Eot(n,e,t){if(e===null)return"";const i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}class vot extends BQe{constructor(e,t){if(super(),t.length===0)throw IM("chords");this._os=e,this._chords=t}getLabel(){return Oq.toLabel(this._os,this._chords,e=>this._getLabel(e))}getAriaLabel(){return pot.toLabel(this._os,this._chords,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:mot.toLabel(this._os,this._chords,e=>this._getElectronAccelerator(e))}getUserSettingsLabel(){return _ot.toLabel(this._os,this._chords,e=>this._getUserSettingsLabel(e))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(e=>this._getChord(e))}_getChord(e){return new FQe(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchChords(){return this._chords.map(e=>this._getChordDispatch(e))}getSingleModifierDispatchChords(){return this._chords.map(e=>this._getSingleModifierChordDispatch(e))}}class V1 extends vot{constructor(e,t){super(t,e)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return yh.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":yh.toString(e.keyCode)}_getElectronAccelerator(e){return yh.toElectronAccelerator(e.keyCode)}_getUserSettingsLabel(e){if(e.isDuplicateModifierCase())return"";const t=yh.toUserSettingsUS(e.keyCode);return t&&t.toLowerCase()}_getChordDispatch(e){return V1.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=yh.toString(e.keyCode),t}_getSingleModifierChordDispatch(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){const t=OK[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(e){if(!e)return null;if(e instanceof R_)return e;const t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new R_(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveKeybinding(e,t){const i=w8(e.chords.map(r=>this._toKeyCodeChord(r)));return i.length>0?[new V1(i,t)]:[]}}const Sot=Cn("labelService"),Cot=Cn("progressService"),KQ=class KQ{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}};KQ.None=Object.freeze({report(){}});let Ice=KQ;const xq=Cn("editorProgressService");class yot{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class bot{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?DK(e,this._value,0,e.length,this._from,this._to):pA(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Tot{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?DK(e,this._value,0,e.length,this._from,this._to):pA(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class wot{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Tot(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return Sae(e,this._value.scheme);if(this._states[this._stateIdx]===2)return Sae(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return l6(e,this._value.query);if(this._states[this._stateIdx]===5)return l6(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class rN{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e;return((e=this.left)==null?void 0:e.height)??0}get heightRight(){var e;return((e=this.right)==null?void 0:e.height)??0}}class t0{static forUris(e=()=>!1,t=()=>!1){return new t0(new wot(e,t))}static forStrings(){return new t0(new yot)}static forConfigKeys(){return new t0(new bot)}constructor(e){this._iter=e}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let r;this._root||(this._root=new rN,this._root.segment=i.value());const s=[];for(r=this._root;;){const a=i.cmp(r.segment);if(a>0)r.left||(r.left=new rN,r.left.segment=i.value()),s.push([-1,r]),r=r.left;else if(a<0)r.right||(r.right=new rN,r.right.segment=i.value()),s.push([1,r]),r=r.right;else if(i.hasNext())i.next(),r.mid||(r.mid=new rN,r.mid.segment=i.value()),s.push([0,r]),r=r.mid;else break}const o=r.value;r.value=t,r.key=e;for(let a=s.length-1;a>=0;a--){const l=s[a][1];l.updateHeight();const c=l.balanceFactor();if(c<-1||c>1){const u=s[a][0],d=s[a+1][0];if(u===1&&d===1)s[a][1]=l.rotateLeft();else if(u===-1&&d===-1)s[a][1]=l.rotateRight();else if(u===1&&d===-1)l.right=s[a+1][1]=s[a+1][1].rotateRight(),s[a][1]=l.rotateLeft();else if(u===-1&&d===1)l.left=s[a+1][1]=s[a+1][1].rotateLeft(),s[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(s[a-1][0]){case-1:s[a-1][1].left=s[a][1];break;case 1:s[a-1][1].right=s[a][1];break;case 0:s[a-1][1].mid=s[a][1];break}else this._root=s[0][1]}}return o}get(e){var t;return(t=this._getNode(e))==null?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),r=[];let s=this._root;for(;s;){const o=i.cmp(s.segment);if(o>0)r.push([-1,s]),s=s.left;else if(o<0)r.push([1,s]),s=s.right;else if(i.hasNext())i.next(),r.push([0,s]),s=s.mid;else break}if(s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){const o=this._min(s.right);if(o.key){const{key:a,value:l,segment:c}=o;this._delete(o.key,!1),s.key=a,s.value=l,s.segment=c}}else{const o=s.left??s.right;if(r.length>0){const[a,l]=r[r.length-1];switch(a){case-1:l.left=o;break;case 0:l.mid=o;break;case 1:l.right=o;break}}else this._root=o}for(let o=r.length-1;o>=0;o--){const a=r[o][1];a.updateHeight();const l=a.balanceFactor();if(l>1?(a.right.balanceFactor()>=0||(a.right=a.right.rotateRight()),r[o][1]=a.rotateLeft()):l<-1&&(a.left.balanceFactor()<=0||(a.left=a.left.rotateLeft()),r[o][1]=a.rotateRight()),o>0)switch(r[o-1][0]){case-1:r[o-1][1].left=r[o][1];break;case 1:r[o-1][1].right=r[o][1];break;case 0:r[o-1][1].mid=r[o][1];break}else this._root=r[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i=this._root,r;for(;i;){const s=t.cmp(i.segment);if(s>0)i=i.left;else if(s<0)i=i.right;else if(t.hasNext())t.next(),r=i.value||r,i=i.mid;else break}return i&&i.value||r}findSuperstr(e){return this._findSuperstrOrElement(e,!1)}_findSuperstrOrElement(e,t){const i=this._iter.reset(e);let r=this._root;for(;r;){const s=i.cmp(r.segment);if(s>0)r=r.left;else if(s<0)r=r.right;else if(i.hasNext())i.next(),r=r.mid;else return r.mid?this._entries(r.mid):t?r.value:void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}const Aot=Cn("contextService");class Rot{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const Iot="code-workspace";A("codeWorkspace","Code Workspace");const Not="4064f6ec-cb38-4ad0-af64-ee6467e63c82";var Nce;(function(n){n.inspectTokensAction=A("inspectTokens","Developer: Inspect Tokens")})(Nce||(Nce={}));var Lce;(function(n){n.gotoLineActionLabel=A("gotoLineActionLabel","Go to Line/Column...")})(Lce||(Lce={}));var Oce;(function(n){n.helpQuickAccessActionLabel=A("helpQuickAccess","Show all Quick Access Providers")})(Oce||(Oce={}));var xce;(function(n){n.quickCommandActionLabel=A("quickCommandActionLabel","Command Palette"),n.quickCommandHelp=A("quickCommandActionHelp","Show And Run Commands")})(xce||(xce={}));var Dce;(function(n){n.quickOutlineActionLabel=A("quickOutlineActionLabel","Go to Symbol..."),n.quickOutlineByCategoryActionLabel=A("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(Dce||(Dce={}));var A8;(function(n){n.editorViewAccessibleLabel=A("editorViewAccessibleLabel","Editor content")})(A8||(A8={}));var Pce;(function(n){n.toggleHighContrast=A("toggleHighContrast","Toggle High Contrast Theme")})(Pce||(Pce={}));var R8;(function(n){n.bulkEditServiceSummary=A("bulkEditServiceSummary","Made {0} edits in {1} files")})(R8||(R8={}));const Lot=Cn("workspaceTrustManagementService");let TC=[],Dq=[],xAe=[];function sN(n,e=!1){Oot(n,!1,e)}function Oot(n,e,t){const i=xot(n,e);TC.push(i),i.userConfigured?xAe.push(i):Dq.push(i),t&&!i.userConfigured&&TC.forEach(r=>{r.mime===i.mime||r.userConfigured||(i.extension&&r.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&r.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&r.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&r.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function xot(n,e){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:e,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?Hwe(n.filepattern.toLowerCase()):void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf(or.sep)>=0:!1}}function Dot(){TC=TC.filter(n=>n.userConfigured),Dq=[]}function Pot(n,e){return kot(n,e).map(t=>t.id)}function kot(n,e){let t;if(n)switch(n.scheme){case Jt.file:t=n.fsPath;break;case Jt.data:{t=cx.parseMetaData(n).get(cx.META_DATA_LABEL);break}case Jt.vscodeNotebookCell:t=void 0;break;default:t=n.path}if(!t)return[{id:"unknown",mime:wh.unknown}];t=t.toLowerCase();const i=l1e(t),r=kce(t,i,xAe);if(r)return[r,{id:cc,mime:wh.text}];const s=kce(t,i,Dq);if(s)return[s,{id:cc,mime:wh.text}];if(e){const o=Mot(e);if(o)return[o,{id:cc,mime:wh.text}]}return[{id:"unknown",mime:wh.unknown}]}function kce(n,e,t){var o;let i,r,s;for(let a=t.length-1;a>=0;a--){const l=t[a];if(e===l.filenameLowercase){i=l;break}if(l.filepattern&&(!r||l.filepattern.length>r.filepattern.length)){const c=l.filepatternOnPath?n:e;(o=l.filepatternLowercase)!=null&&o.call(l,c)&&(r=l)}l.extension&&(!s||l.extension.length>s.extension.length)&&e.endsWith(l.extensionLowercase)&&(s=l)}if(i)return i;if(r)return r;if(s)return s}function Mot(n){if(HK(n)&&(n=n.substr(1)),n.length>0)for(let e=TC.length-1;e>=0;e--){const t=TC[e];if(!t.firstline)continue;const i=n.match(t.firstline);if(i&&i.length>0)return t}}const oN=Object.prototype.hasOwnProperty,Mce="vs.editor.nullLanguage";class Fot{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Mce,0),this._register(cc,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||Mce}}const B0=class B0 extends Ne{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,B0.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new Fot,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(pC.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){B0.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Dot();const e=[].concat(pC.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{const i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(r=>{this._lowercaseNameMap[r.toLowerCase()]=i.identifier}),i.mimetypes.forEach(r=>{this._mimeTypesMap[r]=i.identifier})}),hs.as(cE.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;oN.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let r=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),r=t.mimetypes[0]),r||(r=`text/x-${i}`,e.mimetypes.push(r)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const a of t.extensions)sN({id:i,mime:r,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const a of t.filenames)sN({id:i,mime:r,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(const a of t.filenamePatterns)sN({id:i,mime:r,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const l=new RegExp(a);AQe(l)||sN({id:i,mime:r,firstline:l},this._warnOnOverwrite)}catch(l){console.warn(`[${t.id}]: Invalid regular expression \`${a}\`: `,l)}}e.aliases.push(i);let s=null;if(typeof t.aliases<"u"&&Array.isArray(t.aliases)&&(t.aliases.length===0?s=[null]:s=t.aliases),s!==null)for(const a of s)!a||a.length===0||e.aliases.push(a);const o=s!==null&&s.length>0;if(!(o&&s[0]===null)){const a=(o?s[0]:null)||i;(o||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return e?oN.call(this._languages,e):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return oN.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&oN.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return!e&&!t?[]:Pot(e,t)}};B0.instanceCount=0;let I8=B0;const fc=(n,e)=>n===e;function Bot(n=fc){return(e,t)=>Mr(e,t,n)}function Fce(n,e,t){{const i=n;return(r,s)=>r==null||s===void 0||s===null?s===r:i(r,s)}}class Io{constructor(e,t,i){this.owner=e,this.debugNameSource=t,this.referenceFn=i}getDebugName(e){return Uot(e,this)}}const Bce=new Map,N8=new WeakMap;function Uot(n,e){const t=N8.get(n);if(t)return t;const i=Hot(n,e);if(i){let r=Bce.get(i)??0;r++,Bce.set(i,r);const s=r===1?i:`${i}#${r}`;return N8.set(n,s),s}}function Hot(n,e){const t=N8.get(n);if(t)return t;const i=e.owner?Wot(e.owner)+".":"";let r;const s=e.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(r=s(),r!==void 0)return i+r}else return i+s;const o=e.referenceFn;if(o!==void 0&&(r=Pq(o),r!==void 0))return i+r;if(e.owner!==void 0){const a=Vot(e.owner,n);if(a!==void 0)return i+a}}function Vot(n,e){for(const t in n)if(n[t]===e)return t}const Uce=new Map,Hce=new WeakMap;function Wot(n){const e=Hce.get(n);if(e)return e;const t=$ot(n);let i=Uce.get(t)??0;i++,Uce.set(t,i);const r=i===1?t:`${t}#${i}`;return Hce.set(n,r),r}function $ot(n){const e=n.constructor;return e?e.name:"Object"}function Pq(n){const e=n.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e),r=i?i[1]:void 0;return r==null?void 0:r.trim()}let Got;function DAe(){return Got}let PAe;function zot(n){PAe=n}let kAe;function jot(n){kAe=n}let L8;function Yot(n){L8=n}class MAe{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const i=t===void 0?void 0:e,r=t===void 0?e:t;return L8({owner:i,debugName:()=>{const s=Pq(r);if(s!==void 0)return s;const a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(r.toString());if(a)return`${this.debugName}.${a[2]}`;if(!i)return`${this.debugName} (mapped)`},debugReferenceFn:r},s=>r(this.read(s),s))}flatten(){return L8({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(PAe(this,t)),this}keepObserved(e){return e.add(kAe(this)),this}}class by extends MAe{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function Pr(n,e){const t=new NA(n,e);try{n(t)}finally{t.finish()}}let aN;function bT(n){if(aN)n(aN);else{const e=new NA(n,void 0);aN=e;try{n(e)}finally{e.finish(),aN=void 0}}}function kq(n,e,t){n?e(n):Pr(e,t)}class NA{constructor(e,t){this._fn=e,this._getDebugName=t,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():Pq(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){const e=this.updatingObservers;for(let t=0;t<e.length;t++){const{observer:i,observable:r}=e[t];i.endUpdate(r)}this.updatingObservers=null}}function Nn(n,e){let t;return typeof n=="string"?t=new Io(void 0,n,void 0):t=new Io(n,void 0,void 0),new Mq(t,e,fc)}class Mq extends by{get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}constructor(e,t,i){super(),this._debugNameData=e,this._equalityComparator=i,this._value=t}get(){return this._value}set(e,t,i){var s;if(i===void 0&&this._equalityComparator(this._value,e))return;let r;t||(t=r=new NA(()=>{},()=>`Setting ${this.debugName}`));try{const o=this._value;this._setValue(e),(s=DAe())==null||s.handleObservableChanged(this,{oldValue:o,newValue:e,change:i,didChange:!0,hadValue:!0});for(const a of this.observers)t.updateObserver(a,this),a.handleChange(this,i)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function FAe(n,e){let t;return typeof n=="string"?t=new Io(void 0,n,void 0):t=new Io(n,void 0,void 0),new Kot(t,e,fc)}class Kot extends Mq{_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){var e;(e=this._value)==null||e.dispose()}}function Ut(n,e){return e!==void 0?new wC(new Io(n,void 0,e),e,void 0,void 0,void 0,fc):new wC(new Io(void 0,void 0,n),n,void 0,void 0,void 0,fc)}function Fq(n,e,t){return new qot(new Io(n,void 0,e),e,void 0,void 0,void 0,fc,t)}function s2(n,e){return new wC(new Io(n.owner,n.debugName,n.debugReferenceFn),e,void 0,void 0,n.onLastObserverRemoved,n.equalsFn??fc)}Yot(s2);function Ty(n,e){let t,i;e===void 0?(t=n,i=void 0):(i=n,t=e);const r=new at;return new wC(new Io(i,void 0,t),s=>(r.clear(),t(s,r)),void 0,void 0,()=>r.dispose(),fc)}function Vu(n,e){let t,i;e===void 0?(t=n,i=void 0):(i=n,t=e);let r;return new wC(new Io(i,void 0,t),s=>{r?r.clear():r=new at;const o=t(s);return o&&r.add(o),o},void 0,void 0,()=>{r&&(r.dispose(),r=void 0)},fc)}class wC extends by{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,i,r,s=void 0,o){var a;super(),this._debugNameData=e,this._computeFn=t,this.createChangeSummary=i,this._handleChange=r,this._handleLastObserverRemoved=s,this._equalityComparator=o,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(a=this.createChangeSummary)==null?void 0:a.call(this)}onLastObserverRemoved(){var e;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(e=this._handleLastObserverRemoved)==null||e.call(this)}get(){var e;if(this.observers.size===0){const t=this._computeFn(this,(e=this.createChangeSummary)==null?void 0:e.call(this));return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var o;if(this.state===3)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e;const t=this.state!==0,i=this.value;this.state=3;const r=this.changeSummary;this.changeSummary=(o=this.createChangeSummary)==null?void 0:o.call(this);try{this.value=this._computeFn(this,r)}finally{for(const a of this.dependenciesToBeRemoved)a.removeObserver(this);this.dependenciesToBeRemoved.clear()}if(t&&!this._equalityComparator(i,this.value))for(const a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const i of this.observers)i.handlePossibleChange(this);if(t)for(const i of this.observers)i.beginUpdate(this)}endUpdate(e){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const i of t)i.endUpdate(this)}L_(()=>this.updateCount>=0)}handlePossibleChange(e){if(this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const i=this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:s=>s===e},this.changeSummary):!0,r=this.state===3;if(i&&(this.state===1||r)&&(this.state=2,r))for(const s of this.observers)s.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}class qot extends wC{constructor(e,t,i,r,s=void 0,o,a){super(e,t,i,r,s,o),this.set=a}}function Un(n){return new l2(new Io(void 0,void 0,n),n,void 0,void 0)}function o2(n,e){return new l2(new Io(n.owner,n.debugName,n.debugReferenceFn??e),e,void 0,void 0)}function a2(n,e){return new l2(new Io(n.owner,n.debugName,n.debugReferenceFn??e),e,n.createEmptyChangeSummary,n.handleChange)}function su(n){const e=new at,t=o2({owner:void 0,debugName:void 0,debugReferenceFn:n},i=>{e.clear(),n(i,e)});return Ht(()=>{t.dispose(),e.dispose()})}class l2{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,i,r){var s;this._debugNameData=e,this._runFn=t,this.createChangeSummary=i,this._handleChange=r,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(s=this.createChangeSummary)==null?void 0:s.call(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var i,r;if(this.state===3)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;const t=this.disposed;try{if(!t){(i=DAe())==null||i.handleAutorunTriggered(this);const s=this.changeSummary;this.changeSummary=(r=this.createChangeSummary)==null?void 0:r.call(this),this._runFn(this,s)}}finally{for(const s of this.dependenciesToBeRemoved)s.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,L_(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:r=>r===e},this.changeSummary))&&(this.state=2)}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}(function(n){n.Observer=l2})(Un||(Un={}));function mx(n){return new Xot(n)}class Xot extends MAe{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function Qi(...n){let e,t,i;return n.length===3?[e,t,i]=n:[t,i]=n,new $v(new Io(e,void 0,i),t,i,()=>$v.globalTransaction,fc)}class $v extends by{constructor(e,t,i,r,s){super(),this._debugNameData=e,this.event=t,this._getValue=i,this._getTransaction=r,this._equalityComparator=s,this.hasValue=!1,this.handleEvent=o=>{const a=this._getValue(o),l=this.value;(!this.hasValue||!this._equalityComparator(l,a))&&(this.value=a,this.hasValue&&kq(this._getTransaction(),u=>{for(const d of this.observers)u.updateObserver(d,this),d.handleChange(this,void 0)},()=>{const u=this.getDebugName();return"Event fired"+(u?`: ${u}`:"")}),this.hasValue=!0)}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(n){n.Observer=$v;function e(t,i){let r=!1;$v.globalTransaction===void 0&&($v.globalTransaction=t,r=!0);try{i()}finally{r&&($v.globalTransaction=void 0)}}n.batchEventsGlobally=e})(Qi||(Qi={}));function El(n,e){return new Qot(n,e)}class Qot extends by{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{Pr(i=>{for(const r of this.observers)i.updateObserver(r,this),r.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function Bq(n){return typeof n=="string"?new Vce(n):new Vce(void 0,n)}class Vce extends by{get debugName(){return new Io(this._owner,this._debugName,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(!e){Pr(i=>{this.trigger(i,t)},()=>`Trigger signal ${this.debugName}`);return}for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,t)}get(){}}function Zot(n){const e=new BAe(!1,void 0);return n.addObserver(e),Ht(()=>{n.removeObserver(e)})}jot(Zot);function c2(n,e){const t=new BAe(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),Ht(()=>{n.removeObserver(t)})}zot(c2);class BAe{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}function Jot(n,e){let t;return s2({owner:n,debugReferenceFn:e},r=>(t=e(r,t),t))}function eat(n,e){return Jot(n,(t,i)=>i??e(t))}function tat(n,e,t,i){return e||(e=r=>r!=null),new Promise((r,s)=>{let o=!0,a=!1;const l=n.map(u=>({isFinished:e(u),error:!1,state:u})),c=Un(u=>{const{isFinished:d,error:h,state:f}=l.read(u);(d||h)&&(o?a=!0:c.dispose(),h?s(h===!0?f:h):r(f))});o=!1,a&&c.dispose()})}class nat extends by{get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}constructor(e,t,i){super(),this._debugNameData=e,this._equalityComparator=i,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=t}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const e of this.observers)for(const t of this._deltas)e.handleChange(this,t);this._deltas.length=0}else for(const e of this.observers)e.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(const e of this.observers)e.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();const e=[...this.observers];for(const t of e)t.endUpdate(this)}}addObserver(e){const t=!this.observers.has(e)&&this._updateCounter>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this._updateCounter>0;super.removeObserver(e),t&&e.endUpdate(this)}set(e,t,i){if(i===void 0&&this._equalityComparator(this._value,e))return;let r;t||(t=r=new NA(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(e),i!==void 0&&this._deltas.push(i),t.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(s,o)=>{},handlePossibleChange:s=>{}},this),this._updateCounter>1)for(const s of this.observers)s.handlePossibleChange(this)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function O8(n,e){return n.lazy?new nat(new Io(n.owner,n.debugName,void 0),e,n.equalsFn??fc):new Mq(new Io(n.owner,n.debugName,void 0),e,n.equalsFn??fc)}const U0=class U0 extends Ne{constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new ge),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new ge),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new ge({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,U0.instanceCount++,this._registry=this._register(new I8(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){U0.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return SK(i,null)}createById(e){return new Wce(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new Wce(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(e){return(!e||!this.isRegisteredLanguageId(e))&&(e=cc),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),gr.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}};U0.instanceCount=0;let x8=U0;class Wce{constructor(e,t){this._value=Qi(this,e,()=>t()),this.onDidChange=Ue.fromObservable(this._value)}get languageId(){return this._value.get()}}const UAe={TEXT:wh.text},iat=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});let u2=iat;const rat=new Yg(()=>u2("mouse",!1)),sat=new Yg(()=>u2("element",!1));function oat(n){u2=n}function xl(n){return n==="element"?sat.value:rat.value}function Uq(){return u2("element",!0)}let HAe={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function aat(n){HAe=n}function xd(){return HAe}class lat{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(r=>r.splice(e,t,i))}}class Gp extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function $ce(n,e){const t=[];for(const i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;const r=Ms.intersect(n,i.range);Ms.isEmpty(r)||t.push({range:r,size:i.size})}return t}function D8({start:n,end:e},t){return{start:n+t,end:e+t}}function cat(n){const e=[];let t=null;for(const i of n){const r=i.range.start,s=i.range.end,o=i.size;if(t&&o===t.size){t.range.end=s;continue}t={range:{start:r,end:s},size:o},e.push(t)}return e}function uat(...n){return cat(n.reduce((e,t)=>e.concat(t),[]))}class dat{get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,i=[]){const r=i.length-t,s=$ce({start:0,end:e},this.groups),o=$ce({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:D8(l.range,r),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=uat(s,a,o),this._size=this._paddingTop+this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(const r of this.groups){const s=r.range.end-r.range.start,o=i+s*r.size;if(e<o)return t+Math.floor((e-i)/r.size);t+=s,i=o}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(const r of this.groups){const s=r.range.end-r.range.start,o=i+s;if(e<o)return this._paddingTop+t+(e-i)*r.size;t+=s*r.size,i=o}return-1}}class hat{constructor(e){this.renderers=e,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{const r=St(".monaco-list-row"),o=this.getRenderer(e).renderTemplate(r);t={domNode:r,templateId:e,templateData:o}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(const t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),e.remove()}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var gf=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};const zp={CurrentDragAndDropData:void 0},Fu={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class LA{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class fat{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class gat{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}function pat(n,e){return Array.isArray(n)&&Array.isArray(e)?Mr(n,e):n===e}class mat{constructor(e){e!=null&&e.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,r)=>r,e!=null&&e.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e!=null&&e.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e!=null&&e.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}const LP=class LP{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:JH(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(e,t,i,r=Fu){var o,a;if(this.virtualDelegate=t,this.domId=`list_id_${++LP.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new _A(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Ne.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Ne.None,this.onDragLeaveTimeout=Ne.None,this.disposables=new at,this._onDidChangeContentHeight=new ge,this._onDidChangeContentWidth=new ge,this.onDidChangeContentHeight=Ue.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,r.horizontalScrolling&&r.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(r.paddingTop??0);for(const l of i)this.renderers.set(l.templateId,l);this.cache=this.disposables.add(new hat(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof r.mouseSupport=="boolean"?r.mouseSupport:!0),this._horizontalScrolling=r.horizontalScrolling??Fu.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof r.paddingBottom>"u"?0:r.paddingBottom,this.accessibilityProvider=new mat(r.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(r.transformOptimization??Fu.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(Ro.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new yy({forceIntegerValues:!0,smoothScrollDuration:r.smoothScrolling??!1?125:0,scheduleAtNextAnimationFrame:l=>wa(ht(this.domNode),l)})),this.scrollableElement=this.disposables.add(new e2(this.rowsContainer,{alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel??Fu.alwaysConsumeMouseWheel,horizontal:1,vertical:r.verticalScrollMode??Fu.verticalScrollMode,useShadows:r.useShadows??Fu.useShadows,mouseWheelScrollSensitivity:r.mouseWheelScrollSensitivity,fastScrollSensitivity:r.fastScrollSensitivity,scrollByPage:r.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(we(this.rowsContainer,_i.Change,l=>this.onTouchChange(l))),this.disposables.add(we(this.scrollableElement.getDomNode(),"scroll",l=>l.target.scrollTop=0)),this.disposables.add(we(this.domNode,"dragover",l=>this.onDragOver(this.toDragEvent(l)))),this.disposables.add(we(this.domNode,"drop",l=>this.onDrop(this.toDragEvent(l)))),this.disposables.add(we(this.domNode,"dragleave",l=>this.onDragLeave(this.toDragEvent(l)))),this.disposables.add(we(this.domNode,"dragend",l=>this.onDragEnd(l))),this.setRowLineHeight=r.setRowLineHeight??Fu.setRowLineHeight,this.setRowHeight=r.setRowHeight??Fu.setRowHeight,this.supportDynamicHeights=r.supportDynamicHeights??Fu.supportDynamicHeights,this.dnd=r.dnd??this.disposables.add(Fu.dnd),this.layout((o=r.initialSize)==null?void 0:o.height,(a=r.initialSize)==null?void 0:a.width)}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(i,Math.max(0,this.lastRenderTop+r),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(e){return new dat(e)}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s={start:e,end:e+t},o=Ms.intersect(r,s),a=new Map;for(let b=o.end-1;b>=o.start;b--){const w=this.items[b];if(w.dragStartDisposable.dispose(),w.checkedDisposable.dispose(),w.row){let I=a.get(w.templateId);I||(I=[],a.set(w.templateId,I));const O=this.renderers.get(w.templateId);O&&O.disposeElement&&O.disposeElement(w.element,b,w.row.templateData,w.size),I.unshift(w.row)}w.row=null,w.stale=!0}const l={start:e+t,end:this.items.length},c=Ms.intersect(l,r),u=Ms.relativeComplement(l,r),d=i.map(b=>({id:String(this.itemId++),element:b,templateId:this.virtualDelegate.getTemplateId(b),size:this.virtualDelegate.getHeight(b),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(b),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Ne.None,checkedDisposable:Ne.None,stale:!1}));let h;e===0&&t>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,d),h=this.items,this.items=d):(this.rangeMap.splice(e,t,d),h=this.items.splice(e,t,...d));const f=i.length-t,m=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),g=D8(c,f),_=Ms.intersect(m,g);for(let b=_.start;b<_.end;b++)this.updateItemInDOM(this.items[b],b);const v=Ms.relativeComplement(g,m);for(const b of v)for(let w=b.start;w<b.end;w++)this.removeItemFromDOM(w);const S=u.map(b=>D8(b,f)),y=[{start:e,end:e+i.length},...S].map(b=>Ms.intersect(m,b)).reverse();for(const b of y)for(let w=b.end-1;w>=b.start;w--){const I=this.items[w],O=a.get(I.templateId),x=O==null?void 0:O.pop();this.insertItemInDOM(w,x)}for(const b of a.values())for(const w of b)this.cache.release(w);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map(b=>b.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=wa(ht(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const i={height:typeof e=="number"?e:LZe(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:JH(this.domNode)})}render(e,t,i,r,s,o=!1){const a=this.getRenderRange(t,i),l=Ms.relativeComplement(a,e).reverse(),c=Ms.relativeComplement(e,a);if(o){const u=Ms.intersect(e,a);for(let d=u.start;d<u.end;d++)this.updateItemInDOM(this.items[d],d)}this.cache.transact(()=>{for(const u of c)for(let d=u.start;d<u.end;d++)this.removeItemFromDOM(d);for(const u of l)for(let d=u.end-1;d>=u.start;d--)this.insertItemInDOM(d)}),r!==void 0&&(this.rowsContainer.style.left=`-${r}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&s!==void 0&&(this.rowsContainer.style.width=`${Math.max(s,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t){var l,c;const i=this.items[e];if(!i.row)if(t)i.row=t,i.stale=!0;else{const u=this.cache.alloc(i.templateId);i.row=u.row,i.stale||(i.stale=u.isReusingConnectedDomNode)}const r=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",r);const s=this.accessibilityProvider.isChecked(i.element);if(typeof s=="boolean")i.row.domNode.setAttribute("aria-checked",String(!!s));else if(s){const u=d=>i.row.domNode.setAttribute("aria-checked",String(!!d));u(s.value),i.checkedDisposable=s.onDidChange(()=>u(s.value))}if(i.stale||!i.row.domNode.parentElement){const u=((c=(l=this.items.at(e+1))==null?void 0:l.row)==null?void 0:c.domNode)??null;(i.row.domNode.parentElement!==this.rowsContainer||i.row.domNode.nextElementSibling!==u)&&this.rowsContainer.insertBefore(i.row.domNode,u),i.stale=!1}this.updateItemInDOM(i,e);const o=this.renderers.get(i.templateId);if(!o)throw new Error(`No renderer found for template id ${i.templateId}`);o==null||o.renderElement(i.element,e,i.row.templateData,i.size);const a=this.dnd.getDragURI(i.element);i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!a,a&&(i.dragStartDisposable=we(i.row.domNode,"dragstart",u=>this.onDragStart(i.element,a,u))),this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=JH(e.row.domNode);const t=ht(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return Ue.map(this.disposables.add(new sn(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return Ue.map(this.disposables.add(new sn(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return Ue.filter(Ue.map(this.disposables.add(new sn(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseDown(){return Ue.map(this.disposables.add(new sn(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return Ue.map(this.disposables.add(new sn(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return Ue.map(this.disposables.add(new sn(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return Ue.any(Ue.map(this.disposables.add(new sn(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),Ue.map(this.disposables.add(new sn(this.domNode,_i.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return Ue.map(this.disposables.add(new sn(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return Ue.map(this.disposables.add(new sn(this.rowsContainer,_i.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element,s=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:r,sector:s}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){var s,o;if(!i.dataTransfer)return;const r=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(UAe.TEXT,t),i.dataTransfer.setDragImage){let a;this.dnd.getDragLabel&&(a=this.dnd.getDragLabel(r,i)),typeof a>"u"&&(a=String(r.length));const l=St(".monaco-drag-image");l.textContent=a,(d=>{for(;d&&!d.classList.contains("monaco-workbench");)d=d.parentElement;return d||this.domNode.ownerDocument})(this.domNode).appendChild(l),i.dataTransfer.setDragImage(l,-10,-10),setTimeout(()=>l.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new LA(r),zp.CurrentDragAndDropData=new fat(r),(o=(s=this.dnd).onDragStart)==null||o.call(s,this.currentDragData,i)}onDragOver(e){var s,o;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),zp.CurrentDragAndDropData&&zp.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(zp.CurrentDragAndDropData)this.currentDragData=zp.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new gat}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&((s=t.effect)==null?void 0:s.type)===0?"copy":"move";let i;typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=T_(i).filter(a=>a>=-1&&a<this.length).sort((a,l)=>a-l),i=i[0]===-1?[-1]:i;let r=typeof t!="boolean"&&t.effect&&t.effect.position?t.effect.position:"drop-target";if(pat(this.currentDragFeedback,i)&&this.currentDragFeedbackPosition===r)return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackPosition=r,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add(r),this.rowsContainer.classList.add(r),this.currentDragFeedbackDisposable=Ht(()=>{this.domNode.classList.remove(r),this.rowsContainer.classList.remove(r)});else{if(i.length>1&&r!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");r==="drop-target-after"&&i[0]<this.length-1&&(i[0]+=1,r="drop-target-before");for(const a of i){const l=this.items[a];l.dropTarget=!0,(o=l.row)==null||o.domNode.classList.add(r)}this.currentDragFeedbackDisposable=Ht(()=>{var a;for(const l of i){const c=this.items[l];c.dropTarget=!1,(a=c.row)==null||a.domNode.classList.remove(r)}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=g6(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((i=(t=this.dnd).onDragLeave)==null||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,zp.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){var t,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,zp.CurrentDragAndDropData=void 0,(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Ne.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=NZe(this.domNode).top;this.dragOverAnimationDisposable=WZe(ht(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=g6(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;const i=e.offsetY/this.items[t].size,r=Math.floor(i/.25);return $o(r,0,3)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;(as(i)||MZe(i))&&i!==this.rowsContainer&&t.contains(i);){const r=i.getAttribute("data-index");if(r){const s=Number(r);if(!isNaN(s))return s}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const r=this.getRenderRange(e,t);let s,o;e===this.elementTop(r.start)?(s=r.start,o=0):r.end-r.start>1&&(s=r.start+1,o=this.elementTop(s)-e);let a=0;for(;;){const l=this.getRenderRange(e,t);let c=!1;for(let u=l.start;u<l.end;u++){const d=this.probeDynamicHeight(u);d!==0&&this.rangeMap.splice(u,1,[this.items[u]]),a+=d,c=c||d!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();const u=Ms.relativeComplement(r,l);for(const h of u)for(let f=h.start;f<h.end;f++)this.items[f].row&&this.removeItemFromDOM(f);const d=Ms.relativeComplement(l,r).reverse();for(const h of d)for(let f=h.end-1;f>=h.start;f--)this.insertItemInDOM(f);for(let h=l.start;h<l.end;h++)this.items[h].row&&this.updateItemInDOM(this.items[h],h);if(typeof s=="number"){const h=this.scrollable.getFutureScrollPosition().scrollTop-e,f=this.elementTop(s)-o+h;this.setScrollTop(f,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){var o,a,l;const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){const c=this.virtualDelegate.getDynamicHeight(t.element);if(c!==null){const u=t.size;return t.size=c,t.lastDynamicHeightWidth=this.renderWidth,c-u}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(t.row)return t.row.domNode.style.height="",t.size=t.row.domNode.offsetHeight,t.size===0&&!Xr(t.row.domNode,ht(t.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),t.lastDynamicHeightWidth=this.renderWidth,t.size-i;const{row:r}=this.cache.alloc(t.templateId);r.domNode.style.height="",this.rowsContainer.appendChild(r.domNode);const s=this.renderers.get(t.templateId);if(!s)throw new Kn("Missing renderer for templateId: "+t.templateId);return s.renderElement(t.element,e,r.templateData,void 0),t.size=r.domNode.offsetHeight,(o=s.disposeElement)==null||o.call(s,t.element,e,r.templateData,void 0),(l=(a=this.virtualDelegate).setDynamicHeight)==null||l.call(a,t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,r.domNode.remove(),this.cache.release(r),t.size-i}getElementDomId(e){return`${this.domId}_${e}`}dispose(){var e,t,i;for(const r of this.items)if(r.dragStartDisposable.dispose(),r.checkedDisposable.dispose(),r.row){const s=this.renderers.get(r.row.templateId);s&&((e=s.disposeElement)==null||e.call(s,r.element,-1,r.row.templateData,void 0),s.disposeTemplate(r.row.templateData))}this.items=[],(t=this.domNode)==null||t.remove(),(i=this.dragOverAnimationDisposable)==null||i.dispose(),this.disposables.dispose()}};LP.InstanceCount=0;let gc=LP;gf([Ji],gc.prototype,"onMouseClick",null);gf([Ji],gc.prototype,"onMouseDblClick",null);gf([Ji],gc.prototype,"onMouseMiddleClick",null);gf([Ji],gc.prototype,"onMouseDown",null);gf([Ji],gc.prototype,"onMouseOver",null);gf([Ji],gc.prototype,"onMouseOut",null);gf([Ji],gc.prototype,"onContextMenu",null);gf([Ji],gc.prototype,"onTouchStart",null);gf([Ji],gc.prototype,"onTap",null);var mp=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class _at{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){const r=this.renderedElements.findIndex(s=>s.templateData===i);if(r>=0){const s=this.renderedElements[r];this.trait.unrender(i),s.index=t}else{const s={index:t,templateData:i};this.renderedElements.push(s)}this.trait.renderIndex(t,i)}splice(e,t,i){const r=[];for(const s of this.renderedElements)s.index<e?r.push(s):s.index>=e+t&&r.push({index:s.index+i-t,templateData:s.templateData});this.renderedElements=r}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}let _x=class{get name(){return this._trait}get renderer(){return new _at(this)}constructor(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new ge,this.onChange=this._onChange.event}splice(e,t,i){const r=i.length-t,s=e+t,o=[];let a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)o.push(this.sortedIndexes[a++]);for(let l=0;l<i.length;l++)i[l]&&o.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=s;)o.push(this.sortedIndexes[a++]+r);this.renderer.splice(e,t,i.length),this._set(o,o)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(zce),t)}_set(e,t,i){const r=this.indexes,s=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const o=P8(s,e);return this.renderer.renderIndexes(o),this._onChange.fire({indexes:e,browserEvent:i}),r}get(){return this.indexes}contains(e){return dqe(this.sortedIndexes,e,zce)>=0}dispose(){As(this._onChange)}};mp([Ji],_x.prototype,"renderer",null);class Eat extends _x{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class A3{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));const r=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(r.length===0)return this.trait.splice(e,t,new Array(i.length).fill(!1));const s=new Set(r),o=i.map(a=>s.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,o)}}function kg(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}function OA(n,e){return n.classList.contains(e)?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:OA(n.parentElement,e)}function TT(n){return OA(n,"monaco-editor")}function vat(n){return OA(n,"monaco-custom-toggle")}function Sat(n){return OA(n,"action-item")}function n0(n){return OA(n,"monaco-tree-sticky-row")}function W1(n){return n.classList.contains("monaco-tree-sticky-container")}function VAe(n){return n.tagName==="A"&&n.classList.contains("monaco-button")||n.tagName==="DIV"&&n.classList.contains("monaco-button-dropdown")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:VAe(n.parentElement)}class WAe{get onKeyDown(){return Ue.chain(this.disposables.add(new sn(this.view.domNode,"keydown")).event,e=>e.filter(t=>!kg(t.target)).map(t=>new wi(t)))}constructor(e,t,i){this.list=e,this.view=t,this.disposables=new at,this.multipleSelectionDisposables=new at,this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown(r=>{switch(r.keyCode){case 3:return this.onEnter(r);case 16:return this.onUpArrow(r);case 18:return this.onDownArrow(r);case 11:return this.onPageUpArrow(r);case 12:return this.onPageDownArrow(r);case 9:return this.onEscape(r);case 31:this.multipleSelectionSupport&&(bn?r.metaKey:r.ctrlKey)&&this.onCtrlA(r)}}))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Vo(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}mp([Ji],WAe.prototype,"onKeyDown",null);var td;(function(n){n[n.Automatic=0]="Automatic",n[n.Trigger=1]="Trigger"})(td||(td={}));var Gv;(function(n){n[n.Idle=0]="Idle",n[n.Typing=1]="Typing"})(Gv||(Gv={}));const Cat=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=98&&n.keyCode<=107||n.keyCode>=85&&n.keyCode<=95}};class yat{constructor(e,t,i,r,s){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=r,this.delegate=s,this.enabled=!1,this.state=Gv.Idle,this.mode=td.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new at,this.disposables=new at,this.updateOptions(e.options)}updateOptions(e){e.typeNavigationEnabled??!0?this.enable():this.disable(),this.mode=e.typeNavigationMode??td.Automatic}enable(){if(this.enabled)return;let e=!1;const t=Ue.chain(this.enabledDisposables.add(new sn(this.view.domNode,"keydown")).event,s=>s.filter(o=>!kg(o.target)).filter(()=>this.mode===td.Automatic||this.triggered).map(o=>new wi(o)).filter(o=>e||this.keyboardNavigationEventFilter(o)).filter(o=>this.delegate.mightProducePrintableCharacter(o)).forEach(o=>gn.stop(o,!0)).map(o=>o.browserEvent.key)),i=Ue.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);Ue.reduce(Ue.any(t,i),(s,o)=>o===null?null:(s||"")+o,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var t;const e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){const i=(t=this.list.options.accessibilityProvider)==null?void 0:t.getAriaLabel(this.list.element(e[0]));typeof i=="string"?H1(i):i&&H1(i.get())}this.previouslyFocused=-1}onInput(e){if(!e){this.state=Gv.Idle,this.triggered=!1;return}const t=this.list.getFocus(),i=t.length>0?t[0]:0,r=this.state===Gv.Idle?1:0;this.state=Gv.Typing;for(let s=0;s<this.list.length;s++){const o=(i+s+r)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(o)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(lx(e,l)){this.previouslyFocused=i,this.list.setFocus([o]),this.list.reveal(o);return}const c=zrt(e,l);if(c&&c[0].end-c[0].start>1&&c.length===1){this.previouslyFocused=i,this.list.setFocus([o]),this.list.reveal(o);return}}}else if(typeof l>"u"||lx(e,l)){this.previouslyFocused=i,this.list.setFocus([o]),this.list.reveal(o);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class bat{constructor(e,t){this.list=e,this.view=t,this.disposables=new at;const i=Ue.chain(this.disposables.add(new sn(t.domNode,"keydown")).event,s=>s.filter(o=>!kg(o.target)).map(o=>new wi(o)));Ue.chain(i,s=>s.filter(o=>o.keyCode===2&&!o.ctrlKey&&!o.metaKey&&!o.shiftKey&&!o.altKey))(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const i=this.view.domElement(t[0]);if(!i)return;const r=i.querySelector("[tabIndex]");if(!r||!as(r)||r.tabIndex===-1)return;const s=ht(r).getComputedStyle(r);s.visibility==="hidden"||s.display==="none"||(e.preventDefault(),e.stopPropagation(),r.focus())}dispose(){this.disposables.dispose()}}function $Ae(n){return bn?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function GAe(n){return n.browserEvent.shiftKey}function Tat(n){return qK(n)&&n.button===2}const Gce={isSelectionSingleChangeEvent:$Ae,isSelectionRangeChangeEvent:GAe};class zAe{constructor(e){this.list=e,this.disposables=new at,this._onPointer=new ge,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Gce),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Ro.addTarget(e.getHTMLElement()))),Ue.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Gce))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){TT(e.browserEvent.target)||fo()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(kg(e.browserEvent.target)||TT(e.browserEvent.target))return;const t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||kg(e.browserEvent.target)||TT(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),Tat(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(kg(e.browserEvent.target)||TT(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){typeof i>"u"&&(i=this.list.getFocus()[0]??t,this.list.setAnchor(i));const r=Math.min(i,t),s=Math.max(i,t),o=Vo(r,s+1),a=this.list.getSelection(),l=Rat(P8(a,[i]),i);if(l.length===0)return;const c=P8(o,Iat(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const r=this.list.getSelection(),s=r.filter(o=>o!==t);this.list.setFocus([t]),this.list.setAnchor(t),r.length===s.length?this.list.setSelection([...s,t],e.browserEvent):this.list.setSelection(s,e.browserEvent)}}dispose(){this.disposables.dispose()}}class jAe{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);const r=Vh(e.listFocusAndSelectionOutline,Vh(e.listSelectionOutline,e.listFocusOutline??""));r&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);const s=Vh(e.listSelectionOutline,e.listInactiveFocusOutline??"");s&&i.push(`.monaco-list${t} .monaco-list-row.focused.selected { outline: 1px dotted ${s}; outline-offset: -1px; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${t} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${t} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&i.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}}const wat={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:Me.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:Me.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:Me.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},Aat={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function Rat(n,e){const t=n.indexOf(e);if(t===-1)return[];const i=[];let r=t-1;for(;r>=0&&n[r]===e-(t-r);)i.push(n[r--]);for(i.reverse(),r=t;r<n.length&&n[r]===e+(r-t);)i.push(n[r++]);return i}function P8(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){t.push(n[i]),i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):t.push(e[r++]);return t}function Iat(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):r++;return t}const zce=(n,e)=>n-e;class Nat{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,r){let s=0;for(const o of this.renderers)o.renderElement(e,t,i[s++],r)}disposeElement(e,t,i,r){var o;let s=0;for(const a of this.renderers)(o=a.disposeElement)==null||o.call(a,e,t,i[s],r),s+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class Lat{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return{container:e,disposables:new at}}renderElement(e,t,i){const r=this.accessibilityProvider.getAriaLabel(e),s=r&&typeof r!="string"?r:mx(r);i.disposables.add(Un(a=>{this.setAriaLabel(a.readObservable(s),i.container)}));const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?i.container.setAttribute("aria-level",`${o}`):i.container.removeAttribute("aria-level")}setAriaLabel(e,t){e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")}disposeElement(e,t,i,r){i.disposables.clear()}disposeTemplate(e){e.disposables.dispose()}}class Oat{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,r;(r=(i=this.dnd).onDragStart)==null||r.call(i,e,t)}onDragOver(e,t,i,r,s){return this.dnd.onDragOver(e,t,i,r,s)}onDragLeave(e,t,i,r){var s,o;(o=(s=this.dnd).onDragLeave)==null||o.call(s,e,t,i,r)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}drop(e,t,i,r,s){this.dnd.drop(e,t,i,r,s)}dispose(){this.dnd.dispose()}}class Tu{get onDidChangeFocus(){return Ue.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return Ue.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=Ue.chain(this.disposables.add(new sn(this.view.domNode,"keydown")).event,s=>s.map(o=>new wi(o)).filter(o=>e=o.keyCode===58||o.shiftKey&&o.keyCode===68).map(o=>gn.stop(o,!0)).filter(()=>!1)),i=Ue.chain(this.disposables.add(new sn(this.view.domNode,"keyup")).event,s=>s.forEach(()=>e=!1).map(o=>new wi(o)).filter(o=>o.keyCode===58||o.shiftKey&&o.keyCode===68).map(o=>gn.stop(o,!0)).map(({browserEvent:o})=>{const a=this.getFocus(),l=a.length?a[0]:void 0,c=typeof l<"u"?this.view.element(l):void 0,u=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:c,anchor:u,browserEvent:o}})),r=Ue.chain(this.view.onContextMenu,s=>s.filter(o=>!e).map(({element:o,index:a,browserEvent:l})=>({element:o,index:a,anchor:new Jc(ht(this.view.domNode),l),browserEvent:l})));return Ue.any(t,i,r)}get onKeyDown(){return this.disposables.add(new sn(this.view.domNode,"keydown")).event}get onDidFocus(){return Ue.signal(this.disposables.add(new sn(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return Ue.signal(this.disposables.add(new sn(this.view.domNode,"blur",!0)).event)}constructor(e,t,i,r,s=Aat){var c,u,d;this.user=e,this._options=s,this.focus=new _x("focused"),this.anchor=new _x("anchor"),this.eventBufferer=new gA,this._ariaLabel="",this.disposables=new at,this._onDidDispose=new ge,this.onDidDispose=this._onDidDispose.event;const o=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(c=this._options.accessibilityProvider)==null?void 0:c.getWidgetRole():"list";this.selection=new Eat(o!=="listbox");const a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=s.accessibilityProvider,this.accessibilityProvider&&(a.push(new Lat(this.accessibilityProvider)),(d=(u=this.accessibilityProvider).onDidChangeActiveDescendant)==null||d.call(u,this.onDidChangeActiveDescendant,this,this.disposables)),r=r.map(h=>new Nat(h.templateId,[...a,h]));const l={...s,dnd:s.dnd&&new Oat(this,s.dnd)};if(this.view=this.createListView(t,i,r,l),this.view.domNode.setAttribute("role",o),s.styleController)this.styleController=s.styleController(this.view.domId);else{const h=Ol(this.view.domNode);this.styleController=new jAe(h,this.view.domId)}if(this.spliceable=new lat([new A3(this.focus,this.view,s.identityProvider),new A3(this.selection,this.view,s.identityProvider),new A3(this.anchor,this.view,s.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new bat(this,this.view)),(typeof s.keyboardSupport!="boolean"||s.keyboardSupport)&&(this.keyboardController=new WAe(this,this.view,s),this.disposables.add(this.keyboardController)),s.keyboardNavigationLabelProvider){const h=s.keyboardNavigationDelegate||Cat;this.typeNavigationController=new yat(this,this.view,s.keyboardNavigationLabelProvider,s.keyboardNavigationEventFilter??(()=>!0),h),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(s),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(e,t,i,r){return new gc(e,t,i,r)}createMouseController(e){return new zAe(this)}updateOptions(e={}){var t,i;this._options={...this._options,...e},(t=this.typeNavigationController)==null||t.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(i=this.keyboardController)==null||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Gp(this.user,`Invalid start index: ${e}`);if(t<0)throw new Gp(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new Gp(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Gp(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return SK(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new Gp(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,r){if(this.length===0)return;const s=this.focus.get(),o=this.findNextIndex(s.length>0?s[0]+e:0,t,r);o>-1&&this.setFocus([o],i)}focusPrevious(e=1,t=!1,i,r){if(this.length===0)return;const s=this.focus.get(),o=this.findPreviousIndex(s.length>0?s[0]-e:0,t,r);o>-1&&this.setFocus([o],i)}async focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;const r=this.getFocus()[0];if(r!==i&&(r===void 0||i>r)){const s=this.findPreviousIndex(i,!1,t);s>-1&&r!==s?this.setFocus([s],e):this.setFocus([i],e)}else{const s=this.view.getScrollTop();let o=s+this.view.renderHeight;i>r&&(o-=this.view.elementHeight(i)),this.view.setScrollTop(o),this.view.getScrollTop()!==s&&(this.setFocus([]),await I1(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,i=()=>0){let r;const s=i(),o=this.view.getScrollTop()+s;o===0?r=this.view.indexAt(o):r=this.view.indexAfter(o-1);const a=this.getFocus()[0];if(a!==r&&(a===void 0||a>=r)){const l=this.findNextIndex(r,!1,t);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([r],e)}else{const l=o;this.view.setScrollTop(o-this.view.renderHeight-s),this.view.getScrollTop()+i()!==l&&(this.setFocus([]),await I1(0),await this.focusPreviousPage(e,t,i))}}focusLast(e,t){if(this.length===0)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;const r=this.findNextIndex(e,!1,i);r>-1&&this.setFocus([r],t)}findNextIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,i=0){if(e<0||e>=this.length)throw new Gp(this.user,`Invalid index ${e}`);const r=this.view.getScrollTop(),s=this.view.elementTop(e),o=this.view.elementHeight(e);if(my(t)){const a=o-this.view.renderHeight+i;this.view.setScrollTop(a*$o(t,0,1)+s-i)}else{const a=s+o,l=r+this.view.renderHeight;s<r+i&&a>=l||(s<r+i||a>=l&&o>=this.view.renderHeight?this.view.setScrollTop(s-i):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new Gp(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),r=this.view.elementTop(e),s=this.view.elementHeight(e);if(r<i+t||r+s>i+this.view.renderHeight)return null;const o=s-this.view.renderHeight+t;return Math.abs((i+t-r)/o)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var t;const e=this.focus.get();if(e.length>0){let i;(t=this.accessibilityProvider)!=null&&t.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}mp([Ji],Tu.prototype,"onDidChangeFocus",null);mp([Ji],Tu.prototype,"onDidChangeSelection",null);mp([Ji],Tu.prototype,"onContextMenu",null);mp([Ji],Tu.prototype,"onKeyDown",null);mp([Ji],Tu.prototype,"onDidFocus",null);mp([Ji],Tu.prototype,"onDidBlur",null);const Um=St,YAe="selectOption.entry.template";class xat{get templateId(){return YAe}renderTemplate(e){const t=Object.create(null);return t.root=e,t.text=st(e,Um(".option-text")),t.detail=st(e,Um(".option-detail")),t.decoratorRight=st(e,Um(".option-decorator-right")),t}renderElement(e,t,i){const r=i,s=e.text,o=e.detail,a=e.decoratorRight,l=e.isDisabled;r.text.textContent=s,r.detail.textContent=o||"",r.decoratorRight.innerText=a||"",l?r.root.classList.add("option-disabled"):r.root.classList.remove("option-disabled")}disposeTemplate(e){}}const zu=class zu extends Ne{constructor(e,t,i,r,s){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=r,this.selectBoxOptions=s||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=zu.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new ge,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(i),this.selected=t||0,e&&this.setOptions(e,t),this.initStyleSheet()}setTitle(e){!this._hover&&e?this._hover=this._register(xd().setupManagedHover(xl("mouse"),this.selectElement,e)):this._hover&&this._hover.update(e)}getHeight(){return 22}getTemplateId(){return YAe}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=St(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=st(this.selectDropDownContainer,Um(".select-box-details-pane"));const t=st(this.selectDropDownContainer,Um(".select-box-dropdown-container-width-control")),i=st(t,Um(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",st(i,this.widthControlElement),this._dropDownPosition=0,this.styleElement=Ol(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(we(this.selectDropDownContainer,Ve.DRAG_START,r=>{gn.stop(r,!0)}))}registerListeners(){this._register(Qr(this.selectElement,"change",t=>{this.selected=t.target.selectedIndex,this._onDidSelect.fire({index:t.target.selectedIndex,selected:t.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(we(this.selectElement,Ve.CLICK,t=>{gn.stop(t),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(we(this.selectElement,Ve.MOUSE_DOWN,t=>{gn.stop(t)}));let e;this._register(we(this.selectElement,"touchstart",t=>{e=this._isVisible})),this._register(we(this.selectElement,"touchend",t=>{gn.stop(t),e?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(we(this.selectElement,Ve.KEY_DOWN,t=>{const i=new wi(t);let r=!1;bn?(i.keyCode===18||i.keyCode===16||i.keyCode===10||i.keyCode===3)&&(r=!0):(i.keyCode===18&&i.altKey||i.keyCode===16&&i.altKey||i.keyCode===10||i.keyCode===3)&&(r=!0),r&&(this.showSelectDropDown(),gn.stop(t,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){Mr(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((i,r)=>{this.selectElement.add(this.createOption(i.text,r,i.isDisabled)),typeof i.description=="string"&&(this._hasDetails=!0)})),t!==void 0&&(this.select(t),this._currentSelection=this.selected)}setOptionsList(){var e;(e=this.selectList)==null||e.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join(`
`)}styleSelectElement(){const e=this.styles.selectBackground??"",t=this.styles.selectForeground??"",i=this.styles.selectBorder??"";this.selectElement.style.backgroundColor=e,this.selectElement.style.color=t,this.selectElement.style.borderColor=i}styleList(){const e=this.styles.selectBackground??"",t=Vh(this.styles.selectListBackground,e);this.selectDropDownListContainer.style.backgroundColor=t,this.selectionDetailsPane.style.backgroundColor=t;const i=this.styles.focusBorder??"";this.selectDropDownContainer.style.outlineColor=i,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,t,i){const r=document.createElement("option");return r.value=e,r.text=e,r.disabled=!!i,r}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,t){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:()=>{this.selectDropDownContainer.remove()}}}measureMaxDetailsHeight(){let e=0;return this.options.forEach((t,i)=>{this.updateDetail(i),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)}),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const t=ht(this.selectElement),i=yl(this.selectElement),r=ht(this.selectElement).getComputedStyle(this.selectElement),s=parseFloat(r.getPropertyValue("--dropdown-padding-top"))+parseFloat(r.getPropertyValue("--dropdown-padding-bottom")),o=t.innerHeight-i.top-i.height-(this.selectBoxOptions.minBottomMargin||0),a=i.top-zu.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,l=this.selectElement.offsetWidth,c=this.setWidthControlElement(this.widthControlElement),u=Math.max(c,Math.round(l)).toString()+"px";this.selectDropDownContainer.style.width=u,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let d=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const h=this._hasDetails?this._cachedMaxDetailsHeight:0,f=d+s+h,m=Math.floor((o-s-h)/this.getHeight()),g=Math.floor((a-s-h)/this.getHeight());if(e)return i.top+i.height>t.innerHeight-22||i.top<zu.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||m<1&&g<1?!1:(m<zu.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&g>m&&this.options.length>m?(this._dropDownPosition=1,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(i.top+i.height>t.innerHeight-22||i.top<zu.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&m<1||this._dropDownPosition===1&&g<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&m+g<1)return this.hideSelectDropDown(!0),!1;f>o&&(d=m*this.getHeight())}else f>a&&(d=g*this.getHeight());return this.selectList.layout(d),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=d+s+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=d+s+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=u,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(e){let t=0;if(e){let i=0,r=0;this.options.forEach((s,o)=>{const a=s.detail?s.detail.length:0,l=s.decoratorRight?s.decoratorRight.length:0,c=s.text.length+a+l;c>r&&(i=o,r=c)}),e.textContent=this.options[i].text+(this.options[i].decoratorRight?this.options[i].decoratorRight+" ":""),t=jK(e)}return t}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=st(e,Um(".select-box-dropdown-list-container")),this.listRenderer=new xat,this.selectList=this._register(new Tu("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:r=>{let s=r.text;return r.detail&&(s+=`. ${r.detail}`),r.decoratorRight&&(s+=`. ${r.decoratorRight}`),r.description&&(s+=`. ${r.description}`),s},getWidgetAriaLabel:()=>A({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>bn?"":"option",getWidgetRole:()=>"listbox"}})),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const t=this._register(new sn(this.selectDropDownListContainer,"keydown")),i=Ue.chain(t.event,r=>r.filter(()=>this.selectList.length>0).map(s=>new wi(s)));this._register(Ue.chain(i,r=>r.filter(s=>s.keyCode===3))(this.onEnter,this)),this._register(Ue.chain(i,r=>r.filter(s=>s.keyCode===2))(this.onEnter,this)),this._register(Ue.chain(i,r=>r.filter(s=>s.keyCode===9))(this.onEscape,this)),this._register(Ue.chain(i,r=>r.filter(s=>s.keyCode===16))(this.onUpArrow,this)),this._register(Ue.chain(i,r=>r.filter(s=>s.keyCode===18))(this.onDownArrow,this)),this._register(Ue.chain(i,r=>r.filter(s=>s.keyCode===12))(this.onPageDown,this)),this._register(Ue.chain(i,r=>r.filter(s=>s.keyCode===11))(this.onPageUp,this)),this._register(Ue.chain(i,r=>r.filter(s=>s.keyCode===14))(this.onHome,this)),this._register(Ue.chain(i,r=>r.filter(s=>s.keyCode===13))(this.onEnd,this)),this._register(Ue.chain(i,r=>r.filter(s=>s.keyCode>=21&&s.keyCode<=56||s.keyCode>=85&&s.keyCode<=113))(this.onCharacter,this)),this._register(we(this.selectList.getHTMLElement(),Ve.POINTER_UP,r=>this.onPointerUp(r))),this._register(this.selectList.onMouseOver(r=>typeof r.index<"u"&&this.selectList.setFocus([r.index]))),this._register(this.selectList.onDidChangeFocus(r=>this.onListFocus(r))),this._register(we(this.selectDropDownContainer,Ve.FOCUS_OUT,r=>{!this._isVisible||Xr(r.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;gn.stop(e);const t=e.target;if(!t||t.classList.contains("slider"))return;const i=t.closest(".monaco-list-row");if(!i)return;const r=Number(i.getAttribute("data-index")),s=i.classList.contains("option-disabled");r>=0&&r<this.options.length&&!s&&(this.selected=r,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,t){const i=s=>{for(let o=0;o<s.childNodes.length;o++){const a=s.childNodes.item(o);(a.tagName&&a.tagName.toLowerCase())==="img"?a.remove():i(a)}},r=Rq({value:e,supportThemeIcons:!0},{actionHandler:t});return r.element.classList.add("select-box-description-markdown"),i(r.element),r.element}onListFocus(e){!this._isVisible||!this._hasDetails||this.updateDetail(e.indexes[0])}updateDetail(e){this.selectionDetailsPane.innerText="";const t=this.options[e],i=(t==null?void 0:t.description)??"",r=(t==null?void 0:t.descriptionIsMarkdown)??!1;if(i){if(r){const s=t.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(i,s))}else this.selectionDetailsPane.innerText=i;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){gn.stop(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){gn.stop(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){gn.stop(e,!0);const t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){this.selected>0&&(gn.stop(e,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(e){gn.stop(e),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(e){gn.stop(e),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(e){gn.stop(e),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){gn.stop(e),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const t=yh.toString(e.keyCode);let i=-1;for(let r=0;r<this.options.length-1;r++)if(i=(r+this.selected+1)%this.options.length,this.options[i].text.charAt(0).toUpperCase()===t&&!this.options[i].isDisabled){this.select(i),this.selectList.setFocus([i]),this.selectList.reveal(this.selectList.getFocus()[0]),gn.stop(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}};zu.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,zu.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,zu.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;let k8=zu;class Dat extends Ne{constructor(e,t,i,r){super(),this.selected=0,this.selectBoxOptions=r||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new ge),this.styles=i,this.registerListeners(),this.setOptions(e,t)}registerListeners(){this._register(Ro.addTarget(this.selectElement)),[_i.Tap].forEach(e=>{this._register(we(this.selectElement,e,t=>{this.selectElement.focus()}))}),this._register(Qr(this.selectElement,"click",e=>{gn.stop(e,!0)})),this._register(Qr(this.selectElement,"change",e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})})),this._register(Qr(this.selectElement,"keydown",e=>{let t=!1;bn?(e.keyCode===18||e.keyCode===16||e.keyCode===10)&&(t=!0):(e.keyCode===18&&e.altKey||e.keyCode===10||e.keyCode===3)&&(t=!0),t&&e.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){(!this.options||!Mr(this.options,e))&&(this.options=e,this.selectElement.options.length=0,this.options.forEach((i,r)=>{this.selectElement.add(this.createOption(i.text,r,i.isDisabled))})),t!==void 0&&this.select(t)}select(e){this.options.length===0?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){this.selectElement&&(this.selectElement.style.backgroundColor=this.styles.selectBackground??"",this.selectElement.style.color=this.styles.selectForeground??"",this.selectElement.style.borderColor=this.styles.selectBorder??"")}createOption(e,t,i){const r=document.createElement("option");return r.value=e,r.text=e,r.disabled=!!i,r}}class Pat extends ff{constructor(e,t,i,r,s){super(),bn&&!(s!=null&&s.useCustomDrawn)?this.selectBoxDelegate=new Dat(e,t,r,s):this.selectBoxDelegate=new k8(e,t,i,r,s),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,t){this.selectBoxDelegate.setOptions(e,t)}select(e){this.selectBoxDelegate.select(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}render(e){this.selectBoxDelegate.render(e)}}class jc extends Ne{get action(){return this._action}constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof Wh&&this._register(t.onDidChange(r=>{this.element&&this.handleActionChangeEvent(r)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new N_)),this._actionRunner}set actionRunner(e){this._actionRunner=e}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(Ro.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,dc&&this._register(we(e,Ve.DRAG_START,r=>{var s;return(s=r.dataTransfer)==null?void 0:s.setData(UAe.TEXT,this._action.label)}))),this._register(we(t,_i.Tap,r=>this.onClick(r,!0))),this._register(we(t,Ve.MOUSE_DOWN,r=>{i||gn.stop(r,!0),this._action.enabled&&r.button===0&&t.classList.add("active")})),bn&&this._register(we(t,Ve.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register(we(t,Ve.CLICK,r=>{gn.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register(we(t,Ve.DBLCLICK,r=>{gn.stop(r,!0)})),[Ve.MOUSE_UP,Ve.MOUSE_OUT].forEach(r=>{this._register(we(t,r,s=>{gn.stop(s),t.classList.remove("active")}))})}onClick(e,t=!1){var r;gn.stop(e,!0);const i=Wa(this._context)?(r=this.options)!=null&&r.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,i)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var t;if(!this.element)return;const e=this.getTooltip()??"";if(this.updateAriaLabel(),(t=this.options.hoverDelegate)!=null&&t.showNativeHover)this.element.title=e;else if(!this.customHover&&e!==""){const i=this.options.hoverDelegate??xl("element");this.customHover=this._store.add(xd().setupManagedHover(i,this.element,e))}else this.customHover&&this.customHover.update(e)}updateAriaLabel(){if(this.element){const e=this.getTooltip()??"";this.element.setAttribute("aria-label",e)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class Hq extends jc{constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),Og(this.element);const t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){const i=document.createElement("span");i.classList.add("keybinding"),i.textContent=this.options.keybinding,this.element.appendChild(i)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===go.ID?"presentation":this.options.isMenu?"menuitem":this.options.isTabList?"tab":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=A({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(e=this.label)==null||e.classList.remove("codicon")}updateEnabled(){var e,t;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(e=this.element)==null||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(t=this.element)==null||t.classList.add("disabled"))}updateAriaLabel(){if(this.label){const e=this.getTooltip()??"";this.label.setAttribute("aria-label",e)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.options.isTabList?this.label.setAttribute("aria-selected",this.action.checked?"true":"false"):(this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox"))):(this.label.classList.remove("checked"),this.label.removeAttribute(this.options.isTabList?"aria-selected":"aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class kat extends jc{constructor(e,t,i,r,s,o,a){super(e,t),this.selectBox=new Pat(i,r,s,o,a),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(e){this.selectBox.select(e)}registerListeners(){this._register(this.selectBox.onDidSelect(e=>this.runAction(e.selected,e.index)))}runAction(e,t){this.actionRunner.run(this._action,this.getActionContext(e,t))}getActionContext(e,t){return e}setFocusable(e){this.selectBox.setFocusable(e)}focus(){var e;(e=this.selectBox)==null||e.focus()}blur(){var e;(e=this.selectBox)==null||e.blur()}render(e){this.selectBox.render(e)}}class Mat extends N_{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new ge),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=st(e,St(".monaco-dropdown")),this._label=st(this._element,St(".dropdown-label"));let i=t.labelRenderer;i||(i=s=>(s.textContent=t.label||"",null));for(const s of[Ve.CLICK,Ve.MOUSE_DOWN,_i.Tap])this._register(we(this.element,s,o=>gn.stop(o,!0)));for(const s of[Ve.MOUSE_DOWN,_i.Tap])this._register(we(this._label,s,o=>{qK(o)&&(o.detail>1||o.button!==0)||(this.visible?this.hide():this.show())}));this._register(we(this._label,Ve.KEY_UP,s=>{const o=new wi(s);(o.equals(3)||o.equals(10))&&(gn.stop(s,!0),this.visible?this.hide():this.show())}));const r=i(this._label);r&&this._register(r),this._register(Ro.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}let Fat=class extends Mat{constructor(e,t){super(e,t),this._options=t,this._actions=[],this.actions=t.actions||[]}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(e,t)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e,t):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}};class Ex extends jc{constructor(e,t,i,r=Object.create(null)){super(null,e,r),this.actionItem=null,this._onDidChangeVisibility=this._register(new ge),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=r,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=s=>{this.element=st(s,St("a.action-label"));let o=[];return typeof this.options.classNames=="string"?o=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(o=this.options.classNames),o.find(a=>a==="icon")||o.push("codicon"),this.element.classList.add(...o),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register(xd().setupManagedHover(this.options.hoverDelegate??xl("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new Fat(e,r)),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{var o;(o=this.element)==null||o.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const s=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return s.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:this.action.label&&(e=this.action.label),e??void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}show(){var e;(e=this.dropdownMenu)==null||e.show()}updateEnabled(){var t,i;const e=!this.action.enabled;(t=this.actionItem)==null||t.classList.toggle("disabled",e),(i=this.element)==null||i.classList.toggle("disabled",e)}}function Bat(n){return n?n.condition!==void 0:!1}var kS;(function(n){n[n.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",n[n.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(kS||(kS={}));var zv;(function(n){n[n.None=0]="None",n[n.Initialized=1]="Initialized",n[n.Closed=2]="Closed"})(zv||(zv={}));const OP=class OP extends Ne{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new T1),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=zv.None,this.cache=new Map,this.flushDelayer=this._register(new A1e(OP.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;this._onDidChangeStorage.pause();try{(t=e.changed)==null||t.forEach((r,s)=>this.acceptExternal(s,r)),(i=e.deleted)==null||i.forEach(r=>this.acceptExternal(r,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,t){if(this.state===zv.Closed)return;let i=!1;Wa(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire({key:e,external:!0})}get(e,t){const i=this.cache.get(e);return Wa(i)?t:i}getBoolean(e,t){const i=this.get(e);return Wa(i)?t:i==="true"}getNumber(e,t){const i=this.get(e);return Wa(i)?t:parseInt(i,10)}async set(e,t,i=!1){if(this.state===zv.Closed)return;if(Wa(t))return this.delete(e,i);const r=Yo(t)||Array.isArray(t)?fst(t):String(t);if(this.cache.get(e)!==r)return this.cache.set(e,r),this.pendingInserts.set(e,r),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:i}),this.doFlush()}async delete(e,t=!1){if(!(this.state===zv.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:t}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())==null||t()})}async doFlush(e){return this.options.hint===kS.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),e)}};OP.DEFAULT_FLUSH_DELAY=100;let i0=OP;class R3{constructor(){this.onDidChangeItemsExternal=Ue.None,this.items=new Map}async updateItems(e){var t,i;(t=e.insert)==null||t.forEach((r,s)=>this.items.set(s,r)),(i=e.delete)==null||i.forEach(r=>this.items.delete(r))}}const SL="__$__targetStorageMarker",d2=Cn("storageService");var jce;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(jce||(jce={}));function Uat(n){const e=n.get(SL);if(e)try{return JSON.parse(e)}catch{}return Object.create(null)}const xP=class xP extends Ne{constructor(e={flushInterval:xP.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new T1),this._onDidChangeTarget=this._register(new T1),this._onWillSaveState=this._register(new ge),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(e,t,i){return Ue.filter(this._onDidChangeValue.event,r=>r.scope===e&&(t===void 0||r.key===t),i)}emitDidChangeValue(e,t){const{key:i,external:r}=t;if(i===SL){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:i,target:this.getKeyTargets(e)[i],external:r})}get(e,t,i){var r;return(r=this.getStorage(t))==null?void 0:r.get(e,i)}getBoolean(e,t,i){var r;return(r=this.getStorage(t))==null?void 0:r.getBoolean(e,i)}getNumber(e,t,i){var r;return(r=this.getStorage(t))==null?void 0:r.getNumber(e,i)}store(e,t,i,r,s=!1){if(Wa(t)){this.remove(e,i,s);return}this.withPausedEmitters(()=>{var o;this.updateKeyTarget(e,i,r),(o=this.getStorage(i))==null||o.set(e,t,s)})}remove(e,t,i=!1){this.withPausedEmitters(()=>{var r;this.updateKeyTarget(e,t,void 0),(r=this.getStorage(t))==null||r.delete(e,i)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i,r=!1){var o,a;const s=this.getKeyTargets(t);typeof i=="number"?s[e]!==i&&(s[e]=i,(o=this.getStorage(t))==null||o.set(SL,JSON.stringify(s),r)):typeof s[e]=="number"&&(delete s[e],(a=this.getStorage(t))==null||a.set(SL,JSON.stringify(s),r))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.getStorage(e);return t?Uat(t):Object.create(null)}};xP.DEFAULT_FLUSH_INTERVAL=60*1e3;let M8=xP;class Hat extends M8{constructor(){super(),this.applicationStorage=this._register(new i0(new R3,{hint:kS.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new i0(new R3,{hint:kS.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new i0(new R3,{hint:kS.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.profileStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e))),this._register(this.applicationStorage.onDidChangeStorage(e=>this.emitDidChangeValue(-1,e)))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}function Vat(n,e){const t={...e};for(const i in n){const r=n[i];t[i]=r!==void 0?$e(r):void 0}return t}const Wat={keybindingLabelBackground:$e(Oit),keybindingLabelForeground:$e(xit),keybindingLabelBorder:$e(Dit),keybindingLabelBottomBorder:$e(Pit),keybindingLabelShadow:$e(wA)},$at={buttonForeground:$e(sAe),buttonSeparator:$e(_it),buttonBackground:$e(ST),buttonHoverBackground:$e(Eit),buttonSecondaryForeground:$e(Sit),buttonSecondaryBackground:$e(a8),buttonSecondaryHoverBackground:$e(Cit),buttonBorder:$e(vit)},Gat={progressBarBackground:$e(Pnt)},KAe={inputActiveOptionBorder:$e(nAe),inputActiveOptionForeground:$e(rAe),inputActiveOptionBackground:$e(iAe)};$e(CT),$e(yit),$e(bit),$e(Tit),$e(wit),$e(Ait),$e(Rit);$e(Iit),$e(Lit),$e(Nit);$e(sc),$e(QM),$e(wA),$e(Hn),$e(Knt),$e(qnt),$e(Xnt),$e(xnt);const qAe={inputBackground:$e(iit),inputForeground:$e(rit),inputBorder:$e(sit),inputValidationInfoBorder:$e(cit),inputValidationInfoBackground:$e(ait),inputValidationInfoForeground:$e(lit),inputValidationWarningBorder:$e(hit),inputValidationWarningBackground:$e(uit),inputValidationWarningForeground:$e(dit),inputValidationErrorBorder:$e(pit),inputValidationErrorBackground:$e(fit),inputValidationErrorForeground:$e(git)},zat={listFilterWidgetBackground:$e(jit),listFilterWidgetOutline:$e(Yit),listFilterWidgetNoMatchesOutline:$e(Kit),listFilterWidgetShadow:$e(qit),inputBoxStyles:qAe,toggleStyles:KAe},jat={badgeBackground:$e(mL),badgeForeground:$e(Dnt),badgeBorder:$e(Hn)};$e(jnt),$e(znt),$e(Jle),$e(Jle),$e(Ynt);const wy={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:$e(kit),listFocusForeground:$e(Mit),listFocusOutline:$e(Fit),listActiveSelectionBackground:$e(D_),listActiveSelectionForeground:$e(M1),listActiveSelectionIconForeground:$e(oAe),listFocusAndSelectionOutline:$e(Bit),listFocusAndSelectionBackground:$e(D_),listFocusAndSelectionForeground:$e(M1),listInactiveSelectionBackground:$e(Uit),listInactiveSelectionIconForeground:$e(Vit),listInactiveSelectionForeground:$e(Hit),listInactiveFocusBackground:$e(Wit),listInactiveFocusOutline:$e($it),listHoverBackground:$e(aAe),listHoverForeground:$e(lAe),listDropOverBackground:$e(Git),listDropBetweenBackground:$e(zit),listSelectionOutline:$e(cr),listHoverOutline:$e(cr),treeIndentGuidesStroke:$e(cAe),treeInactiveIndentGuidesStroke:$e(Xit),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:$e(fq),tableColumnsBorder:$e(Qit),tableOddRowsBackgroundColor:$e(Zit)};function xA(n){return Vat(n,wy)}const Yat={selectBackground:$e(ZM),selectListBackground:$e(mit),selectForeground:$e(mq),decoratorRightForeground:$e(uAe),selectBorder:$e(_q),focusBorder:$e(Sd),listFocusBackground:$e(c8),listInactiveSelectionIconForeground:$e(dAe),listFocusForeground:$e(l8),listFocusOutline:Ant(cr,Me.transparent.toString()),listHoverBackground:$e(aAe),listHoverForeground:$e(lAe),listHoverOutline:$e(cr),selectListBorder:$e(Xwe),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},Kat={shadowColor:$e(wA),borderColor:$e(Jit),foregroundColor:$e(ert),backgroundColor:$e(trt),selectionForegroundColor:$e(nrt),selectionBackgroundColor:$e(irt),selectionBorderColor:$e(rrt),separatorColor:$e(srt),scrollbarShadow:$e(fq),scrollbarSliderBackground:$e(Ywe),scrollbarSliderHoverBackground:$e(Kwe),scrollbarSliderActiveBackground:$e(qwe)};var h2=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},zo=function(n,e){return function(t,i){e(t,i,n)}};function qat(n,e,t,i){let r,s,o;if(Array.isArray(n))o=n,r=e,s=t;else{const c=e;o=n.getActions(c),r=t,s=i}const a=mg.getInstance(),l=a.keyStatus.altKey||(ba||Zo)&&a.keyStatus.shiftKey;XAe(o,r,l,s?c=>c===s:c=>c==="navigation")}function Xat(n,e,t,i,r,s){let o,a,l,c,u;if(Array.isArray(n))u=n,o=e,a=t,l=i,c=r;else{const h=e;u=n.getActions(h),o=t,a=i,l=r,c=s}XAe(u,o,!1,typeof a=="string"?h=>h===a:a,l,c)}function XAe(n,e,t,i=o=>o==="navigation",r=()=>!1,s=!1){let o,a;Array.isArray(e)?(o=e,a=e):(o=e.primary,a=e.secondary);const l=new Set;for(const[c,u]of n){let d;i(c)?(d=o,d.length>0&&s&&d.push(new go)):(d=a,d.length>0&&d.push(new go));for(let h of u){t&&(h=h instanceof $h&&h.alt?h.alt:h);const f=d.push(h);h instanceof MM&&l.add({group:c,action:h,index:f-1})}}for(const{group:c,action:u,index:d}of l){const h=i(c)?o:a,f=u.actions;r(u,c,h.length)&&h.splice(d,1,...f)}}let $1=class extends Hq{constructor(e,t,i,r,s,o,a,l){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable,keybinding:t==null?void 0:t.keybinding,hoverDelegate:t==null?void 0:t.hoverDelegate}),this._options=t,this._keybindingService=i,this._notificationService=r,this._contextKeyService=s,this._themeService=o,this._contextMenuService=a,this._accessibilityService=l,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new rf),this._altKey=mg.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(e){e.preventDefault(),e.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}render(e){if(super.render(e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let t=!1;const i=()=>{var s;const r=!!((s=this._menuItemAction.alt)!=null&&s.enabled)&&(!this._accessibilityService.isMotionReduced()||t)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&t);r!==this._wantsAltCommand&&(this._wantsAltCommand=r,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(i)),this._register(we(e,"mouseleave",r=>{t=!1,i()})),this._register(we(e,"mouseenter",r=>{t=!0,i()})),i()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var s;const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let r=t?A("titleAndKb","{0} ({1})",i,t):i;if(!this._wantsAltCommand&&((s=this._menuItemAction.alt)!=null&&s.enabled)){const o=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,a=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),l=a&&a.getLabel(),c=l?A("titleAndKb","{0} ({1})",o,l):o;r=A("titleAndKbAndAlt",`{0}
[{1}] {2}`,r,Oq.modifierLabels[rc].altKey,c)}return r}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:i}=this;if(!t||!i)return;const r=this._commandAction.checked&&Bat(e.toggled)&&e.toggled.icon?e.toggled.icon:e.icon;if(r)if(Ln.isThemeIcon(r)){const s=Ln.asClassNameArray(r);i.classList.add(...s),this._itemClassDispose.value=Ht(()=>{i.classList.remove(...s)})}else i.style.backgroundImage=qM(this._themeService.getColorTheme().type)?of(r.dark):of(r.light),i.classList.add("icon"),this._itemClassDispose.value=dd(Ht(()=>{i.style.backgroundImage="",i.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};$1=h2([zo(2,Rs),zo(3,yu),zo(4,qn),zo(5,_c),zo(6,hf),zo(7,bu)],$1);let F8=class extends Ex{constructor(e,t,i,r,s){const o={...t,menuAsChild:(t==null?void 0:t.menuAsChild)??!1,classNames:(t==null?void 0:t.classNames)??(Ln.isThemeIcon(e.item.icon)?Ln.asClassName(e.item.icon):void 0),keybindingProvider:(t==null?void 0:t.keybindingProvider)??(a=>i.lookupKeybinding(a.id))};super(e,{getActions:()=>e.actions},r,o),this._keybindingService=i,this._contextMenuService=r,this._themeService=s}render(e){super.render(e),Og(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!Ln.isThemeIcon(i)){this.element.classList.add("icon");const r=()=>{this.element&&(this.element.style.backgroundImage=qM(this._themeService.getColorTheme().type)?of(i.dark):of(i.light))};r(),this._register(this._themeService.onDidColorThemeChange(()=>{r()}))}}};F8=h2([zo(2,Rs),zo(3,hf),zo(4,_c)],F8);let B8=class extends jc{constructor(e,t,i,r,s,o,a,l){super(null,e),this._keybindingService=i,this._notificationService=r,this._contextMenuService=s,this._menuService=o,this._instaService=a,this._storageService=l,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;let c;const u=t!=null&&t.persistLastActionId?l.get(this._storageKey,1):void 0;u&&(c=e.actions.find(h=>u===h.id)),c||(c=e.actions[0]),this._defaultAction=this._instaService.createInstance($1,c,{keybinding:this._getDefaultActionKeybindingLabel(c)});const d={keybindingProvider:h=>this._keybindingService.lookupKeybinding(h.id),...t,menuAsChild:(t==null?void 0:t.menuAsChild)??!0,classNames:(t==null?void 0:t.classNames)??["codicon","codicon-chevron-down"],actionRunner:(t==null?void 0:t.actionRunner)??new N_};this._dropdown=new Ex(e,e.actions,this._contextMenuService,d),this._register(this._dropdown.actionRunner.onDidRun(h=>{h.action instanceof $h&&this.update(h.action)}))}update(e){var t;(t=this._options)!=null&&t.persistLastActionId&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance($1,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends N_{async runAction(i,r){await i.run(void 0)}},this._container&&this._defaultAction.render(XK(this._container,St(".action-container")))}_getDefaultActionKeybindingLabel(e){var i;let t;if((i=this._options)!=null&&i.renderKeybindingWithDefaultActionLabel){const r=this._keybindingService.lookupKeybinding(e.id);r&&(t=`(${r.getLabel()})`)}return t}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=St(".action-container");this._defaultAction.render(st(this._container,t)),this._register(we(t,Ve.KEY_DOWN,r=>{const s=new wi(r);s.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),s.stopPropagation())}));const i=St(".dropdown-action-container");this._dropdown.render(st(this._container,i)),this._register(we(i,Ve.KEY_DOWN,r=>{var o;const s=new wi(r);s.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(o=this._defaultAction.element)==null||o.focus(),s.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};B8=h2([zo(2,Rs),zo(3,yu),zo(4,hf),zo(5,oE),zo(6,oi),zo(7,d2)],B8);let U8=class extends kat{constructor(e,t){super(null,e,e.actions.map(i=>({text:i.id===go.ID?"":i.label,isDisabled:!i.enabled})),0,t,Yat,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex(i=>i.checked)))}render(e){super.render(e),e.style.borderColor=$e(_q)}runAction(e,t){const i=this.action.actions[t];i&&this.actionRunner.run(i)}};U8=h2([zo(1,RA)],U8);function Qat(n,e,t){return e instanceof $h?n.createInstance($1,e,t):e instanceof QT?e.item.isSelection?n.createInstance(U8,e):e.item.rememberDefaultAction?n.createInstance(B8,e,{...t,persistLastActionId:!0}):n.createInstance(F8,e,t):void 0}class zh extends Ne{constructor(e,t={}){var s,o;super(),this._actionRunnerDisposables=this._register(new at),this.viewItemDisposables=this._register(new IK),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new ge),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new ge({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new ge),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new ge),this.onWillRun=this._onWillRun.event,this.options=t,this._context=t.context??null,this._orientation=this.options.orientation??0,this._triggerKeys={keyDown:((s=this.options.triggerKeys)==null?void 0:s.keyDown)??!1,keys:((o=this.options.triggerKeys)==null?void 0:o.keys)??[3,10]},this._hoverDelegate=t.hoverDelegate??this._register(Uq()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new N_,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(a=>this._onDidRun.fire(a))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(a=>this._onWillRun.fire(a))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let i,r;switch(this._orientation){case 0:i=[15],r=[17];break;case 1:i=[16],r=[18],this.domNode.className+=" vertical";break}this._register(we(this.domNode,Ve.KEY_DOWN,a=>{const l=new wi(a);let c=!0;const u=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;i&&(l.equals(i[0])||l.equals(i[1]))?c=this.focusPrevious():r&&(l.equals(r[0])||l.equals(r[1]))?c=this.focusNext():l.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():l.equals(14)?c=this.focusFirst():l.equals(13)?c=this.focusLast():l.equals(2)&&u instanceof jc&&u.trapsArrowNavigation?c=this.focusNext(void 0,!0):this.isTriggerKeyEvent(l)?this._triggerKeys.keyDown?this.doTrigger(l):this.triggerKeyDown=!0:c=!1,c&&(l.preventDefault(),l.stopPropagation())})),this._register(we(this.domNode,Ve.KEY_UP,a=>{const l=new wi(a);this.isTriggerKeyEvent(l)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(l)),l.preventDefault(),l.stopPropagation()):(l.equals(2)||l.equals(1026)||l.equals(16)||l.equals(18)||l.equals(15)||l.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(N1(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(fo()===this.domNode||!Xr(fo(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const t=this.viewItems.find(i=>i instanceof jc&&i.isEnabled());t instanceof jc&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof jc&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){var e,t;for(let i=0;i<this.actionsList.children.length;i++){const r=this.actionsList.children[i];if(Xr(fo(),r)){this.focusedItem=i,(t=(e=this.viewItems[this.focusedItem])==null?void 0:e.showHover)==null||t.call(e);break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}getAction(e){var t;if(typeof e=="number")return(t=this.viewItems[e])==null?void 0:t.action;if(as(e)){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===e)return this.viewItems[i].action}}push(e,t={}){const i=Array.isArray(e)?e:[e];let r=my(t.index)?t.index:null;i.forEach(s=>{const o=document.createElement("li");o.className="action-item",o.setAttribute("role","presentation");let a;const l={hoverDelegate:this._hoverDelegate,...t,isTabList:this.options.ariaRole==="tablist"};this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(s,l)),a||(a=new Hq(this.context,s,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,we(o,Ve.CONTEXT_MENU,c=>{gn.stop(c,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(o),this.focusable&&a instanceof jc&&this.viewItems.length===0&&a.setFocusable(!0),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(o),this.viewItems.push(a)):(this.actionsList.insertBefore(o,this.actionsList.children[r]),this.viewItems.splice(r,0,a),r++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=As(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),fu(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){const r=this.viewItems.findIndex(s=>s.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e,t){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let r;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,r=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!r.isEnabled()||r.action.id===go.ID));return this.updateFocus(void 0,void 0,t),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===go.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var s,o;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((s=this.viewItems[this.previouslyFocusedItem])==null||s.blur());const r=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(r){let a=!0;IO(r.focus)||(a=!1),this.options.focusOnlyEnabledItems&&IO(r.isEnabled)&&!r.isEnabled()&&(a=!1),r.action.id===go.ID&&(a=!1),a?(i||this.previouslyFocusedItem!==this.focusedItem)&&(r.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),a&&((o=r.showHover)==null||o.call(r))}}doTrigger(e){if(typeof this.focusedItem>"u")return;const t=this.viewItems[this.focusedItem];if(t instanceof jc){const i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=As(this.viewItems),this.getContainer().remove(),super.dispose()}}const H8=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,I3=/(&amp;)?(&amp;)([^\s&])/g;var vx;(function(n){n[n.Right=0]="Right",n[n.Left=1]="Left"})(vx||(vx={}));var V8;(function(n){n[n.Above=0]="Above",n[n.Below=1]="Below"})(V8||(V8={}));class MS extends zh{constructor(e,t,i,r){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const s=document.createElement("div");s.classList.add("monaco-menu"),s.setAttribute("role","presentation"),super(s,{orientation:1,actionViewItemProvider:c=>this.doGetActionViewItem(c,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...bn||Zo?[10]:[]],keyDown:!0}}),this.menuStyles=r,this.menuElement=s,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(e,r),this._register(Ro.addTarget(s)),this._register(we(s,Ve.KEY_DOWN,c=>{new wi(c).equals(2)&&c.preventDefault()})),i.enableMnemonics&&this._register(we(s,Ve.KEY_DOWN,c=>{const u=c.key.toLocaleLowerCase();if(this.mnemonics.has(u)){gn.stop(c,!0);const d=this.mnemonics.get(u);if(d.length===1&&(d[0]instanceof Yce&&d[0].container&&this.focusItemByElement(d[0].container),d[0].onClick(c)),d.length>1){const h=d.shift();h&&h.container&&(this.focusItemByElement(h.container),d.push(h)),this.mnemonics.set(u,d)}}})),Zo&&this._register(we(s,Ve.KEY_DOWN,c=>{const u=new wi(c);u.equals(14)||u.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),gn.stop(c,!0)):(u.equals(13)||u.equals(12))&&(this.focusedItem=0,this.focusPrevious(),gn.stop(c,!0))})),this._register(we(this.domNode,Ve.MOUSE_OUT,c=>{const u=c.relatedTarget;Xr(u,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),c.stopPropagation())})),this._register(we(this.actionsList,Ve.MOUSE_OVER,c=>{let u=c.target;if(!(!u||!Xr(u,this.actionsList)||u===this.actionsList)){for(;u.parentElement!==this.actionsList&&u.parentElement!==null;)u=u.parentElement;if(u.classList.contains("action-item")){const d=this.focusedItem;this.setFocusedItem(u),d!==this.focusedItem&&this.updateFocus()}}})),this._register(Ro.addTarget(this.actionsList)),this._register(we(this.actionsList,_i.Tap,c=>{let u=c.initialTarget;if(!(!u||!Xr(u,this.actionsList)||u===this.actionsList)){for(;u.parentElement!==this.actionsList&&u.parentElement!==null;)u=u.parentElement;if(u.classList.contains("action-item")){const d=this.focusedItem;this.setFocusedItem(u),d!==this.focusedItem&&this.updateFocus()}}}));const o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new vq(s,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const a=this.scrollableElement.getDomNode();a.style.position="",this.styleScrollElement(a,r),this._register(we(s,_i.Change,c=>{gn.stop(c,!0);const u=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:u-c.translationY})})),this._register(we(a,Ve.MOUSE_UP,c=>{c.preventDefault()}));const l=ht(e);s.style.maxHeight=`${Math.max(10,l.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((c,u)=>{var d;return(d=i.submenuIds)!=null&&d.has(c.id)?(console.warn(`Found submenu cycle: ${c.id}`),!1):!(c instanceof go&&(u===t.length-1||u===0||t[u-1]instanceof go))}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(c=>!(c instanceof Kce)).forEach((c,u,d)=>{c.updatePositionInSet(u+1,d.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(VO(e)?this.styleSheet=Ol(e):(MS.globalStyleSheet||(MS.globalStyleSheet=Ol()),this.styleSheet=MS.globalStyleSheet)),this.styleSheet.textContent=Jat(t,VO(e))}styleScrollElement(e,t){const i=t.foregroundColor??"",r=t.backgroundColor??"",s=t.borderColor?`1px solid ${t.borderColor}`:"",o="5px",a=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";e.style.outline=s,e.style.borderRadius=o,e.style.color=i,e.style.backgroundColor=r,e.style.boxShadow=a}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof go)return new Kce(t.context,e,{icon:!0},this.menuStyles);if(e instanceof MM){const r=new Yce(e,e.actions,i,{...t,submenuIds:new Set([...t.submenuIds||[],e.id])},this.menuStyles);if(t.enableMnemonics){const s=r.getMnemonic();if(s&&r.isEnabled()){let o=[];this.mnemonics.has(s)&&(o=this.mnemonics.get(s)),o.push(r),this.mnemonics.set(s,o)}}return r}else{const r={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const o=t.getKeyBinding(e);if(o){const a=o.getLabel();a&&(r.keybinding=a)}}const s=new QAe(t.context,e,r,this.menuStyles);if(t.enableMnemonics){const o=s.getMnemonic();if(o&&s.isEnabled()){let a=[];this.mnemonics.has(o)&&(a=this.mnemonics.get(o)),a.push(s),this.mnemonics.set(o,a)}}return s}}}class QAe extends jc{constructor(e,t,i,r){if(i.isMenu=!0,super(t,t,i),this.menuStyle=r,this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){const s=this.action.label;if(s){const o=H8.exec(s);o&&(this.mnemonic=(o[1]?o[1]:o[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new ho(()=>{this.element&&(this._register(we(this.element,Ve.MOUSE_UP,s=>{if(gn.stop(s,!0),dc){if(new Jc(ht(this.element),s).rightButton)return;this.onClick(s)}else setTimeout(()=>{this.onClick(s)},0)})),this._register(we(this.element,Ve.CONTEXT_MENU,s=>{gn.stop(s,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=st(this.element,St("a.action-menu-item")),this._action.id===go.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=st(this.item,St("span.menu-item-check"+Ln.asCSSSelector(tt.menuSelection))),this.check.setAttribute("role","none"),this.label=st(this.item,St("span.action-label")),this.options.label&&this.options.keybinding&&(st(this.item,St("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var e;super.focus(),(e=this.item)==null||e.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(this.label&&this.options.label){fu(this.label);let t=bAe(this.action.label);if(t){const i=Zat(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const r=H8.exec(t);if(r){t=jT(t),I3.lastIndex=0;let s=I3.exec(t);for(;s&&s[1];)s=I3.exec(t);const o=a=>a.replace(/&amp;&amp;/g,"&amp;");s?this.label.append(LM(o(t.substr(0,s.index))," "),St("u",{"aria-hidden":"true"},s[3]),TQe(o(t.substr(s.index+s[0].length))," ")):this.label.innerText=o(t).trim(),(e=this.item)==null||e.setAttribute("aria-keyshortcuts",(r[1]?r[1]:r[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.action.checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,r=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",s=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=t??"",this.item.style.backgroundColor=i??"",this.item.style.outline=r,this.item.style.outlineOffset=s),this.check&&(this.check.style.color=t??"")}}class Yce extends QAe{constructor(e,t,i,r,s){super(e,e,r,s),this.submenuActions=t,this.parentData=i,this.submenuOptions=r,this.mysubmenu=null,this.submenuDisposables=this._register(new at),this.mouseOver=!1,this.expandDirection=r&&r.expandDirection!==void 0?r.expandDirection:{horizontal:vx.Right,vertical:V8.Below},this.showScheduler=new ho(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new ho(()=>{this.element&&!Xr(fo(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=st(this.item,St("span.submenu-indicator"+Ln.asCSSSelector(tt.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(we(this.element,Ve.KEY_UP,t=>{const i=new wi(t);(i.equals(17)||i.equals(3))&&(gn.stop(t,!0),this.createSubmenu(!0))})),this._register(we(this.element,Ve.KEY_DOWN,t=>{const i=new wi(t);fo()===this.item&&(i.equals(17)||i.equals(3))&&gn.stop(t,!0)})),this._register(we(this.element,Ve.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(we(this.element,Ve.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(we(this.element,Ve.FOCUS_OUT,t=>{this.element&&!Xr(fo(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(e){gn.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,r){const s={top:0,left:0};return s.left=Vv(e.width,t.width,{position:r.horizontal===vx.Right?0:1,offset:i.left,size:i.width}),s.left>=i.left&&s.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(s.left=i.left+10),i.top+=10,i.height=0),s.top=Vv(e.height,t.height,{position:0,offset:i.top,size:0}),s.top+t.height===i.top&&s.top+i.height+t.height<=e.height&&(s.top+=i.height),s}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=st(this.element,St("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=ht(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new MS(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new A6],this.submenuOptions,this.menuStyle);const r=this.element.getBoundingClientRect(),s={top:r.top-i,left:r.left,height:r.height+2*i,width:r.width},o=this.submenuContainer.getBoundingClientRect(),a=ht(this.element),{top:l,left:c}=this.calculateSubmenuMenuLayout(new bh(a.innerWidth,a.innerHeight),bh.lift(o),s,this.expandDirection);this.submenuContainer.style.left=`${c-o.left}px`,this.submenuContainer.style.top=`${l-o.top}px`,this.submenuDisposables.add(we(this.submenuContainer,Ve.KEY_UP,u=>{new wi(u).equals(15)&&(gn.stop(u,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(we(this.submenuContainer,Ve.KEY_DOWN,u=>{new wi(u).equals(15)&&gn.stop(u,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)==null||t.setAttribute("aria-expanded",e))}applyStyle(){super.applyStyle();const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Kce extends Hq{constructor(e,t,i,r){super(e,t,i),this.menuStyles=r}render(e){super.render(e),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function Zat(n){const e=H8,t=e.exec(n);if(!t)return n;const i=!t[1];return n.replace(e,i?"$2$3":"").trim()}function qce(n){const e=h1e()[n.id];return`.codicon-${n.id}:before { content: '\\${e.toString(16)}'; }`}function Jat(n,e){let t=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${qce(tt.menuSelection)}
${qce(tt.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
	max-height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){t+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const i=n.scrollbarShadow;i&&(t+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${i} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${i} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${i} 6px 6px 6px -6px inset;
				}
			`);const r=n.scrollbarSliderBackground;r&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${r};
				}
			`);const s=n.scrollbarSliderHoverBackground;s&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${s};
				}
			`);const o=n.scrollbarSliderActiveBackground;o&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${o};
				}
			`)}return t}class elt{constructor(e,t,i,r){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=r,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=fo();let i;const r=as(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:s=>{var u;this.lastContainer=s;const o=e.getMenuClassName?e.getMenuClassName():"";o&&(s.className+=" "+o),this.options.blockMouse&&(this.block=s.appendChild(St(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(u=this.blockDisposable)==null||u.dispose(),this.blockDisposable=we(this.block,Ve.MOUSE_DOWN,d=>d.stopPropagation()));const a=new at,l=e.actionRunner||new N_;l.onWillRun(d=>this.onActionRun(d,!e.skipTelemetry),this,a),l.onDidRun(this.onDidActionRun,this,a),i=new MS(s,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:d=>this.keybindingService.lookupKeybinding(d.id)},Kat),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a);const c=ht(s);return a.add(we(c,Ve.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(we(c,Ve.MOUSE_DOWN,d=>{if(d.defaultPrevented)return;const h=new Jc(c,d);let f=h.target;if(!h.rightButton){for(;f;){if(f===s)return;f=f.parentElement}this.contextViewService.hideContextView(!0)}})),dd(a,i)},focus:()=>{i==null||i.focus(!!e.autoSelectFirstItem)},onHide:s=>{var o,a,l;(o=e.onHide)==null||o.call(e,!!s),this.block&&(this.block.remove(),this.block=null),(a=this.blockDisposable)==null||a.dispose(),this.blockDisposable=null,this.lastContainer&&(fo()===this.lastContainer||Xr(fo(),this.lastContainer))&&((l=this.focusToReturn)==null||l.focus()),this.lastContainer=null}},r,!!r)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!hA(e.error)&&this.notificationService.error(e.error)}}var tlt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},dv=function(n,e){return function(t,i){e(t,i,n)}};let W8=class extends Ne{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new elt(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,i,r,s,o){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=r,this.menuService=s,this.contextKeyService=o,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new ge),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new ge)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=$8.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...e,onHide:t=>{var i;(i=e.onHide)==null||i.call(e,t),this._onDidHideContextMenu.fire()}}),mg.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};W8=tlt([dv(0,aE),dv(1,yu),dv(2,RA),dv(3,Rs),dv(4,oE),dv(5,qn)],W8);var $8;(function(n){function e(i){return i&&i.menuId instanceof bs}function t(i,r,s){if(!e(i))return i;const{menuId:o,menuActionOptions:a,contextKeyService:l}=i;return{...i,getActions:()=>{const c=[];if(o){const u=r.getMenuActions(o,l??s,a);qat(u,c)}return i.getActions?go.join(i.getActions(),c):c}}}n.transform=t})($8||($8={}));var Sx;(function(n){n[n.API=0]="API",n[n.USER=1]="USER"})(Sx||(Sx={}));var Vq=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Cx=function(n,e){return function(t,i){e(t,i,n)}};let G8=class{constructor(e){this._commandService=e}async open(e,t){if(!WK(e,Jt.command))return!1;if(!(t!=null&&t.allowCommands)||(typeof e=="string"&&(e=en.parse(e)),Array.isArray(t.allowCommands)&&!t.allowCommands.includes(e.path)))return!0;let i=[];try{i=p8(decodeURIComponent(e.query))}catch{try{i=p8(e.query)}catch{}}return Array.isArray(i)||(i=[i]),await this._commandService.executeCommand(e.path,...i),!0}};G8=Vq([Cx(0,el)],G8);let z8=class{constructor(e){this._editorService=e}async open(e,t){typeof e=="string"&&(e=en.parse(e));const{selection:i,uri:r}=Irt(e);return e=r,e.scheme===Jt.file&&(e=ost(e)),await this._editorService.openCodeEditor({resource:e,options:{selection:i,source:t!=null&&t.fromUserGesture?Sx.USER:Sx.API,...t==null?void 0:t.editorOptions}},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0}};z8=Vq([Cx(0,Fr)],z8);let j8=class{constructor(e,t){this._openers=new pa,this._validators=new pa,this._resolvers=new pa,this._resolvedUriTargets=new Xa(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new pa,this._defaultExternalOpener={openExternal:async i=>(Dae(i,Jt.http,Jt.https)?Y1e(i):fi.location.href=i,!0)},this._openers.push({open:async(i,r)=>r!=null&&r.openExternal||Dae(i,Jt.mailto,Jt.http,Jt.https,Jt.vsls)?(await this._doOpenExternal(i,r),!0):!1}),this._openers.push(new G8(t)),this._openers.push(new z8(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}async open(e,t){const i=typeof e=="string"?en.parse(e):e,r=this._resolvedUriTargets.get(i)??e;for(const s of this._validators)if(!await s.shouldOpen(r,t))return!1;for(const s of this._openers)if(await s.open(e,t))return!0;return!1}async resolveExternalUri(e,t){for(const i of this._resolvers)try{const r=await i.resolveExternalUri(e,t);if(r)return this._resolvedUriTargets.has(r.resolved)||this._resolvedUriTargets.set(r.resolved,e),r}catch{}throw new Error("Could not resolve external URI: "+e.toString())}async _doOpenExternal(e,t){const i=typeof e=="string"?en.parse(e):e;let r;try{r=(await this.resolveExternalUri(i,t)).resolved}catch{r=i}let s;if(typeof e=="string"&&i.toString()===r.toString()?s=e:s=encodeURI(r.toString(!0)),t!=null&&t.allowContributedOpeners){const o=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(await a.openExternal(s,{sourceUri:i,preferredOpenerId:o},uc.None))return!0}return this._defaultExternalOpener.openExternal(s,{sourceUri:i},uc.None)}dispose(){this._validators.clear()}};j8=Vq([Cx(0,Fr),Cx(1,el)],j8);const DA=Cn("editorWorkerService");var vl;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(vl||(vl={}));(function(n){function e(o,a){return a-o}n.compare=e;const t=Object.create(null);t[n.Error]=A("sev.error","Error"),t[n.Warning]=A("sev.warning","Warning"),t[n.Info]=A("sev.info","Info");function i(o){return t[o]||""}n.toString=i;function r(o){switch(o){case Tr.Error:return n.Error;case Tr.Warning:return n.Warning;case Tr.Info:return n.Info;case Tr.Ignore:return n.Hint}}n.fromSeverity=r;function s(o){switch(o){case n.Error:return Tr.Error;case n.Warning:return Tr.Warning;case n.Info:return Tr.Info;case n.Hint:return Tr.Ignore}}n.toSeverity=s})(vl||(vl={}));var Xce;(function(n){const e="";function t(r){return i(r,!0)}n.makeKey=t;function i(r,s){const o=[e];return r.source?o.push(r.source.replace("","\\")):o.push(e),r.code?typeof r.code=="string"?o.push(r.code.replace("","\\")):o.push(r.code.value.replace("","\\")):o.push(e),r.severity!==void 0&&r.severity!==null?o.push(vl.toString(r.severity)):o.push(e),r.message&&s?o.push(r.message.replace("","\\")):o.push(e),r.startLineNumber!==void 0&&r.startLineNumber!==null?o.push(r.startLineNumber.toString()):o.push(e),r.startColumn!==void 0&&r.startColumn!==null?o.push(r.startColumn.toString()):o.push(e),r.endLineNumber!==void 0&&r.endLineNumber!==null?o.push(r.endLineNumber.toString()):o.push(e),r.endColumn!==void 0&&r.endColumn!==null?o.push(r.endColumn.toString()):o.push(e),o.push(e),o.join("")}n.makeKeyOptionalMessage=i})(Xce||(Xce={}));const dE=Cn("markerService"),ZAe=ie("editor.lineHighlightBackground",null,A("lineHighlight","Background color for the highlight of line at the cursor position.")),Qce=ie("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:Hn},A("lineHighlightBorderBox","Background color for the border around the line at the cursor position."));ie("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},A("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:cr,hcLight:cr},A("rangeHighlightBorder","Background color of the border around highlighted ranges."));ie("editor.symbolHighlightBackground",{dark:_g,light:_g,hcDark:null,hcLight:null},A("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:cr,hcLight:cr},A("symbolHighlightBorder","Background color of the border around highlighted symbols."));const f2=ie("editorCursor.foreground",{dark:"#AEAFAD",light:Me.black,hcDark:Me.white,hcLight:"#0F4A85"},A("caret","Color of the editor cursor.")),Wq=ie("editorCursor.background",null,A("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),JAe=ie("editorMultiCursor.primary.foreground",f2,A("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),nlt=ie("editorMultiCursor.primary.background",Wq,A("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),eRe=ie("editorMultiCursor.secondary.foreground",f2,A("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),ilt=ie("editorMultiCursor.secondary.background",Wq,A("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),$q=ie("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},A("editorWhitespaces","Color of whitespace characters in the editor.")),rlt=ie("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:Me.white,hcLight:"#292929"},A("editorLineNumbers","Color of editor line numbers.")),slt=ie("editorIndentGuide.background",$q,A("editorIndentGuides","Color of the editor indentation guides."),!1,A("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),olt=ie("editorIndentGuide.activeBackground",$q,A("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,A("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),PA=ie("editorIndentGuide.background1",slt,A("editorIndentGuides1","Color of the editor indentation guides (1).")),alt=ie("editorIndentGuide.background2","#00000000",A("editorIndentGuides2","Color of the editor indentation guides (2).")),llt=ie("editorIndentGuide.background3","#00000000",A("editorIndentGuides3","Color of the editor indentation guides (3).")),clt=ie("editorIndentGuide.background4","#00000000",A("editorIndentGuides4","Color of the editor indentation guides (4).")),ult=ie("editorIndentGuide.background5","#00000000",A("editorIndentGuides5","Color of the editor indentation guides (5).")),dlt=ie("editorIndentGuide.background6","#00000000",A("editorIndentGuides6","Color of the editor indentation guides (6).")),kA=ie("editorIndentGuide.activeBackground1",olt,A("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),hlt=ie("editorIndentGuide.activeBackground2","#00000000",A("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),flt=ie("editorIndentGuide.activeBackground3","#00000000",A("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),glt=ie("editorIndentGuide.activeBackground4","#00000000",A("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),plt=ie("editorIndentGuide.activeBackground5","#00000000",A("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),mlt=ie("editorIndentGuide.activeBackground6","#00000000",A("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),_lt=ie("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:cr,hcLight:cr},A("editorActiveLineNumber","Color of editor active line number"),!1,A("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));ie("editorLineNumber.activeForeground",_lt,A("editorActiveLineNumber","Color of editor active line number"));const Elt=ie("editorLineNumber.dimmedForeground",null,A("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."));ie("editorRuler.foreground",{dark:"#5A5A5A",light:Me.lightgrey,hcDark:Me.white,hcLight:"#292929"},A("editorRuler","Color of the editor rulers."));ie("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},A("editorCodeLensForeground","Foreground color of editor CodeLens"));ie("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},A("editorBracketMatchBackground","Background color behind matching brackets"));ie("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:Hn,hcLight:Hn},A("editorBracketMatchBorder","Color for matching brackets boxes"));const vlt=ie("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},A("editorOverviewRulerBorder","Color of the overview ruler border.")),Slt=ie("editorOverviewRuler.background",null,A("editorOverviewRulerBackground","Background color of the editor overview ruler."));ie("editorGutter.background",gu,A("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers."));ie("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:Me.fromHex("#fff").transparent(.8),hcLight:Hn},A("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor."));const Clt=ie("editorUnnecessaryCode.opacity",{dark:Me.fromHex("#000a"),light:Me.fromHex("#0007"),hcDark:null,hcLight:null},A("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`));ie("editorGhostText.border",{dark:null,light:null,hcDark:Me.fromHex("#fff").transparent(.8),hcLight:Me.fromHex("#292929").transparent(.8)},A("editorGhostTextBorder","Border color of ghost text in the editor."));ie("editorGhostText.foreground",{dark:Me.fromHex("#ffffff56"),light:Me.fromHex("#0007"),hcDark:null,hcLight:null},A("editorGhostTextForeground","Foreground color of the ghost text in the editor."));ie("editorGhostText.background",null,A("editorGhostTextBackground","Background color of the ghost text in the editor."));const ylt=new Me(new xn(0,122,204,.6));ie("editorOverviewRuler.rangeHighlightForeground",ylt,A("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const blt=ie("editorOverviewRuler.errorForeground",{dark:new Me(new xn(255,18,18,.7)),light:new Me(new xn(255,18,18,.7)),hcDark:new Me(new xn(255,50,50,1)),hcLight:"#B5200D"},A("overviewRuleError","Overview ruler marker color for errors.")),Tlt=ie("editorOverviewRuler.warningForeground",{dark:Jg,light:Jg,hcDark:ix,hcLight:ix},A("overviewRuleWarning","Overview ruler marker color for warnings.")),wlt=ie("editorOverviewRuler.infoForeground",{dark:x_,light:x_,hcDark:rx,hcLight:rx},A("overviewRuleInfo","Overview ruler marker color for infos.")),tRe=ie("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},A("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),nRe=ie("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},A("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),iRe=ie("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},A("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),rRe=ie("editorBracketHighlight.foreground4","#00000000",A("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),sRe=ie("editorBracketHighlight.foreground5","#00000000",A("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),oRe=ie("editorBracketHighlight.foreground6","#00000000",A("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Alt=ie("editorBracketHighlight.unexpectedBracket.foreground",{dark:new Me(new xn(255,18,18,.8)),light:new Me(new xn(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},A("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Rlt=ie("editorBracketPairGuide.background1","#00000000",A("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Ilt=ie("editorBracketPairGuide.background2","#00000000",A("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Nlt=ie("editorBracketPairGuide.background3","#00000000",A("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Llt=ie("editorBracketPairGuide.background4","#00000000",A("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Olt=ie("editorBracketPairGuide.background5","#00000000",A("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),xlt=ie("editorBracketPairGuide.background6","#00000000",A("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Dlt=ie("editorBracketPairGuide.activeBackground1","#00000000",A("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Plt=ie("editorBracketPairGuide.activeBackground2","#00000000",A("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),klt=ie("editorBracketPairGuide.activeBackground3","#00000000",A("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Mlt=ie("editorBracketPairGuide.activeBackground4","#00000000",A("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Flt=ie("editorBracketPairGuide.activeBackground5","#00000000",A("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Blt=ie("editorBracketPairGuide.activeBackground6","#00000000",A("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));ie("editorUnicodeHighlight.border",Jg,A("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));ie("editorUnicodeHighlight.background",knt,A("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));df((n,e)=>{const t=n.getColor(gu),i=n.getColor(ZAe),r=i&&!i.isTransparent()?i:t;r&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${r}; }`)});function Ult(n,e){const t=[],i=[];for(const r of n)e.has(r)||t.push(r);for(const r of e)n.has(r)||i.push(r);return{removed:t,added:i}}function Hlt(n,e){const t=new Set;for(const i of e)n.has(i)&&t.add(i);return t}var Vlt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Zce=function(n,e){return function(t,i){e(t,i,n)}};let Y8=class extends Ne{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new ge),this._markerDecorations=new Xa,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){const t=new Wlt(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var i;const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===Jt.inMemory||e.uri.scheme===Jt.internal||e.uri.scheme===Jt.vscode)&&((i=this._markerService)==null||i.read({resource:e.uri}).map(r=>r.owner).forEach(r=>this._markerService.remove(r,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});e.update(t)&&this._onDidChangeMarker.fire(e.model)}};Y8=Vlt([Zce(0,No),Zce(1,dE)],Y8);class Wlt extends Ne{constructor(e){super(),this.model=e,this._map=new Fet,this._register(Ht(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(e){const{added:t,removed:i}=Ult(new Set(this._map.keys()),new Set(e));if(t.length===0&&i.length===0)return!1;const r=i.map(a=>this._map.get(a)),s=t.map(a=>({range:this._createDecorationRange(this.model,a),options:this._createDecorationOption(a)})),o=this.model.deltaDecorations(r,s);for(const a of i)this._map.delete(a);for(let a=0;a<o.length;a++)this._map.set(t[a],o[a]);return!0}getMarker(e){return this._map.getKey(e.id)}_createDecorationRange(e,t){let i=ce.lift(t);if(t.severity===vl.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){const r=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(r===1||i.endColumn>=r)return i;const s=e.getWordAtPosition(i.getStartPosition());s&&(i=new ce(i.startLineNumber,s.startColumn,i.endLineNumber,s.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&i.startLineNumber===i.endLineNumber){const r=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);r<i.endColumn&&(i=new ce(i.startLineNumber,r,i.endLineNumber,i.endColumn),t.startColumn=r)}return i}_createDecorationOption(e){let t,i,r,s,o;switch(e.severity){case vl.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",r=0;break;case vl.Info:t="squiggly-info",i=uv(wlt),r=10,o={color:uv(Znt),position:1};break;case vl.Warning:t="squiggly-warning",i=uv(Tlt),r=20,o={color:uv(Jnt),position:1};break;case vl.Error:default:t="squiggly-error",i=uv(blt),r=30,o={color:uv(eit),position:1};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(s="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(s="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:KO.Right},minimap:o,zIndex:r,inlineClassName:s}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}}const aRe=Cn("markerDecorationsService");class xr{static _nextVisibleColumn(e,t,i){return e===9?xr.nextRenderTabStop(t,i):Kg(e)||UK(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const r=Math.min(t-1,e.length),s=e.substring(0,r),o=new BO(s);let a=0;for(;!o.eol();){const l=FO(s,r,o.offset);o.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const r=e.length,s=new BO(e);let o=0,a=1;for(;!s.eol();){const l=FO(e,r,s.offset);s.nextGraphemeLength();const c=this._nextVisibleColumn(l,o,i),u=s.offset+1;if(c>=t){const d=t-o;return c-t<d?u:a}o=c,a=u}return r+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}function $lt(n,e,t){let i=0;for(let s=0;s<n.length;s++)n.charAt(s)==="	"?i=xr.nextIndentTabStop(i,e):i++;let r="";if(!t){const s=Math.floor(i/e);i=i%e;for(let o=0;o<s;o++)r+="	"}for(let s=0;s<i;s++)r+=" ";return r}function lRe(n,e,t){let i=Sa(n);return i===-1&&(i=n.length),$lt(n.substring(0,i),e,t)+n.substring(i)}class Jce{constructor(e,t,i,r){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=r}}class Glt{constructor(e,t,i,r,s,o){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=r,this.nestingLevelOfEqualBracketType=s,this.bracketPairNode=o}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class zlt extends Glt{constructor(e,t,i,r,s,o,a){super(e,t,i,r,s,o),this.minVisibleColumnIndentation=a}}function jlt(n,e,t,i){return n!==t?sr(t-n,i):sr(0,i-e)}const Xo=0;function yx(n){return n===0}const ja=2**26;function sr(n,e){return n*ja+e}function Al(n){const e=n,t=Math.floor(e/ja),i=e-t*ja;return new Zg(t,i)}function Ylt(n){return Math.floor(n/ja)}function yr(n,e){let t=n+e;return e>=ja&&(t=t-n%ja),t}function Klt(n,e){return n.reduce((t,i)=>yr(t,e(i)),Xo)}function cRe(n,e){return n===e}function G1(n,e){const t=n,i=e;if(i-t<=0)return Xo;const s=Math.floor(t/ja),o=Math.floor(i/ja),a=i-o*ja;if(s===o){const l=t-s*ja;return sr(0,a-l)}else return sr(o-s,a)}function FS(n,e){return n<e}function BS(n,e){return n<=e}function wT(n,e){return n>=e}function jv(n){return sr(n.lineNumber-1,n.column-1)}function Jm(n,e){const t=n,i=Math.floor(t/ja),r=t-i*ja,s=e,o=Math.floor(s/ja),a=s-o*ja;return new ce(i+1,r+1,o+1,a+1)}function qlt(n){const e=Sy(n);return sr(e.length-1,e[e.length-1].length)}class Ph{static fromModelContentChanges(e){return e.map(i=>{const r=ce.lift(i.range);return new Ph(jv(r.getStartPosition()),jv(r.getEndPosition()),qlt(i.text))}).reverse()}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return`[${Al(this.startOffset)}...${Al(this.endOffset)}) -> ${Al(this.newLength)}`}}class Xlt{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>Gq.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return i===null?null:G1(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?sr(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):sr(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=Al(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?sr(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):sr(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(BS(i,e)){this.nextEditIdx++;const r=Al(i),s=Al(this.translateOldToCur(t.endOffsetBeforeObj)),o=r.lineCount-s.lineCount;this.deltaOldToNewLineCount+=o;const a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=r.columnCount-s.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}}class Gq{static from(e){return new Gq(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=Al(t),this.endOffsetAfterObj=Al(yr(e,i)),this.offsetObj=Al(e)}}const lN=[],ll=class ll{static create(e,t){if(e<=128&&t.length===0){let i=ll.cache[e];return i||(i=new ll(e,t),ll.cache[e]=i),i}return new ll(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let r=i>>5;if(r===0){const o=1<<i|this.items;return o===this.items?this:ll.create(o,this.additionalItems)}r--;const s=this.additionalItems.slice(0);for(;s.length<r;)s.push(0);return s[r]|=1<<(i&31),ll.create(this.items,s)}merge(e){const t=this.items|e.items;if(this.additionalItems===lN&&e.additionalItems===lN)return t===this.items?this:t===e.items?e:ll.create(t,lN);const i=[];for(let r=0;r<Math.max(this.additionalItems.length,e.additionalItems.length);r++){const s=this.additionalItems[r]||0,o=e.additionalItems[r]||0;i.push(s|o)}return ll.create(t,i)}intersects(e){if((this.items&e.items)!==0)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if((this.additionalItems[t]&e.additionalItems[t])!==0)return!0;return!1}};ll.cache=new Array(129),ll.empty=ll.create(0,lN);let fa=ll;const eue={getKey(n){return n}};class Qlt{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}class zq{get length(){return this._length}constructor(e){this._length=e}}class z1 extends zq{static create(e,t,i){let r=e.length;return t&&(r=yr(r,t.length)),i&&(r=yr(r,i.length)),new z1(r,e,t,i,t?t.missingOpeningBracketIds:fa.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,r,s){super(e),this.openingBracket=t,this.child=i,this.closingBracket=r,this.missingOpeningBracketIds=s}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new z1(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(yr(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class Cd extends zq{static create23(e,t,i,r=!1){let s=e.length,o=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(s=yr(s,t.length),o=o.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");s=yr(s,i.length),o=o.merge(i.missingOpeningBracketIds)}return r?new Zlt(s,e.listHeight+1,e,t,i,o):new j1(s,e.listHeight+1,e,t,i,o)}static getEmpty(){return new Jlt(Xo,0,[],fa.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let t=this;for(;t.kind===4;){const i=t.childrenLength;if(i===0)throw new Kn;t=t.getChild(i-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<e;r++){const s=this.getChild(r);t=yr(t,s.length),i=i.merge(s.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,r=e;for(let s=0;s<this.childrenLength;s++){const o=this.getChild(s);o&&(i=Math.min(i,o.computeMinIndentation(r,t)),r=yr(r,o.length))}return this.cachedMinIndentation=i,i}}class j1 extends Cd{get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,r,s,o){super(e,t,o),this._item1=i,this._item2=r,this._item3=s}deepClone(){return new j1(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class Zlt extends j1{toMutable(){return new j1(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class bx extends Cd{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,r){super(e,t,r),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new bx(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class Jlt extends bx{toMutable(){return new bx(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const ect=[];class jq extends zq{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return ect}deepClone(){return this}}class Sm extends jq{get kind(){return 0}get missingOpeningBracketIds(){return fa.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=Al(e),r=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,s=Ylt(yr(e,this.length))+1;let o=Number.MAX_SAFE_INTEGER;for(let a=r;a<=s;a++){const l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;const u=xr.visibleColumnFromColumn(c,l,t.getOptions().tabSize);o=Math.min(o,u)}return o}}class Tx extends jq{static create(e,t,i){return new Tx(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return fa.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class tct extends jq{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class og{constructor(e,t,i,r,s){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=r,this.astNode=s}}class nct{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new ict(this.textModel,this.bracketTokens),this._offset=Xo,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return sr(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=yr(this._offset,e);const t=Al(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=yr(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class ict{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const s=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=s.length,s}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const s=this.lineTokens,o=s.getCount();let a=null;if(this.lineTokenOffset<o){const l=s.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<o&&l===s.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=zc.getTokenType(l)===0,u=zc.containsBalancedBrackets(l),d=s.getEndOffset(this.lineTokenOffset);if(u&&c&&this.lineCharOffset<d){const h=s.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,d),m=this.bracketTokens.getSingleLanguageBracketTokens(h),g=m.regExpGlobal;if(g){g.lastIndex=0;const _=g.exec(f);_&&(a=m.getToken(_[0]),a&&(this.lineCharOffset+=_.index))}}if(i+=d-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=d}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const r=jlt(e,t,this.lineIdx,this.lineCharOffset);return new og(r,0,-1,fa.getEmpty(),new Sm(r))}}class rct{constructor(e,t){this.text=e,this._offset=Xo,this.idx=0;const i=t.getRegExpStr(),r=i?new RegExp(i+`|
`,"gi"):null,s=[];let o,a=0,l=0,c=0,u=0;const d=[];for(let m=0;m<60;m++)d.push(new og(sr(0,m),0,-1,fa.getEmpty(),new Sm(sr(0,m))));const h=[];for(let m=0;m<60;m++)h.push(new og(sr(1,m),0,-1,fa.getEmpty(),new Sm(sr(1,m))));if(r)for(r.lastIndex=0;(o=r.exec(e))!==null;){const m=o.index,g=o[0];if(g===`
`)a++,l=m+1;else{if(c!==m){let _;if(u===a){const v=m-c;if(v<d.length)_=d[v];else{const S=sr(0,v);_=new og(S,0,-1,fa.getEmpty(),new Sm(S))}}else{const v=a-u,S=m-l;if(v===1&&S<h.length)_=h[S];else{const C=sr(v,S);_=new og(C,0,-1,fa.getEmpty(),new Sm(C))}}s.push(_)}s.push(t.getToken(g)),c=m+g.length,u=a}}const f=e.length;if(c!==f){const m=u===a?sr(0,f-c):sr(a-u,f-l);s.push(new og(m,0,-1,fa.getEmpty(),new Sm(m)))}this.length=sr(a,f-l),this.tokens=s}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new DXe}}class Yq{static createFromLanguage(e,t){function i(s){return t.getKey(`${s.languageId}:::${s.bracketText}`)}const r=new Map;for(const s of e.bracketsNew.openingBrackets){const o=sr(0,s.bracketText.length),a=i(s),l=fa.getEmpty().add(a,eue);r.set(s.bracketText,new og(o,1,a,l,Tx.create(o,s,l)))}for(const s of e.bracketsNew.closingBrackets){const o=sr(0,s.bracketText.length);let a=fa.getEmpty();const l=s.getOpeningBrackets();for(const c of l)a=a.add(i(c),eue);r.set(s.bracketText,new og(o,2,i(l[0]),a,Tx.create(o,s,a)))}return new Yq(r)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>sct(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}}function sct(n){let e=sf(n);return/^[\w ]+/.test(n)&&(e=`\\b${e}`),/[\w ]+$/.test(n)&&(e=`${e}\\b`),e}class oct{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=Yq.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function act(n){if(n.length===0)return null;if(n.length===1)return n[0];let e=0;function t(){if(e>=n.length)return null;const o=e,a=n[o].listHeight;for(e++;e<n.length&&n[e].listHeight===a;)e++;return e-o>=2?uRe(o===0&&e===n.length?n:n.slice(o,e),!1):n[o]}let i=t(),r=t();if(!r)return i;for(let o=t();o;o=t())tue(i,r)<=tue(r,o)?(i=N3(i,r),r=o):r=N3(r,o);return N3(i,r)}function uRe(n,e=!1){if(n.length===0)return null;if(n.length===1)return n[0];let t=n.length;for(;t>3;){const i=t>>1;for(let r=0;r<i;r++){const s=r<<1;n[r]=Cd.create23(n[s],n[s+1],s+3===t?n[s+2]:null,e)}t=i}return Cd.create23(n[0],n[1],t>=3?n[2]:null,e)}function tue(n,e){return Math.abs(n.listHeight-e.listHeight)}function N3(n,e){return n.listHeight===e.listHeight?Cd.create23(n,e,null,!1):n.listHeight>e.listHeight?lct(n,e):cct(e,n)}function lct(n,e){n=n.toMutable();let t=n;const i=[];let r;for(;;){if(e.listHeight===t.listHeight){r=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let s=i.length-1;s>=0;s--){const o=i[s];r?o.childrenLength>=3?r=Cd.create23(o.unappendChild(),r,null,!1):(o.appendChildOfSameHeight(r),r=void 0):o.handleChildrenChanged()}return r?Cd.create23(n,r,null,!1):n}function cct(n,e){n=n.toMutable();let t=n;const i=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let r=e;for(let s=i.length-1;s>=0;s--){const o=i[s];r?o.childrenLength>=3?r=Cd.create23(r,o.unprependChild(),null,!1):(o.prependChildOfSameHeight(r),r=void 0):o.handleChildrenChanged()}return r?Cd.create23(r,n,null,!1):n}class uct{constructor(e){this.lastOffset=Xo,this.nextNodes=[e],this.offsets=[Xo],this.idxs=[]}readLongestNodeAt(e,t){if(FS(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=$b(this.nextNodes);if(!i)return;const r=$b(this.offsets);if(FS(e,r))return;if(FS(r,e))if(yr(r,i.length)<=e)this.nextNodeAfterCurrent();else{const s=L3(i);s!==-1?(this.nextNodes.push(i.getChild(s)),this.offsets.push(r),this.idxs.push(s)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const s=L3(i);if(s===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(s)),this.offsets.push(r),this.idxs.push(s)}}}}nextNodeAfterCurrent(){for(;;){const e=$b(this.offsets),t=$b(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=$b(this.nextNodes),r=L3(i,this.idxs[this.idxs.length-1]);if(r!==-1){this.nextNodes.push(i.getChild(r)),this.offsets.push(yr(e,t.length)),this.idxs[this.idxs.length-1]=r;break}else this.idxs.pop()}}}function L3(n,e=-1){for(;;){if(e++,e>=n.childrenLength)return-1;if(n.getChild(e))return e}}function $b(n){return n.length>0?n[n.length-1]:void 0}function nue(n,e,t,i){return new dct(n,e,t,i).parseDocument()}class dct{constructor(e,t,i,r){if(this.tokenizer=e,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,i&&r)throw new Error("Not supported");this.oldNodeReader=i?new uct(i):void 0,this.positionMapper=new Xlt(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(fa.getEmpty(),0);return e||(e=Cd.getEmpty()),e}parseList(e,t){const i=[];for(;;){let s=this.tryReadChildFromCache(e);if(!s){const o=this.tokenizer.peek();if(!o||o.kind===2&&o.bracketIds.intersects(e))break;s=this.parseChild(e,t+1)}s.kind===4&&s.childrenLength===0||i.push(s)}return this.oldNodeReader?act(i):uRe(i,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!yx(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),r=>t!==null&&!FS(r.length,t)?!1:r.canBeReused(e));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new tct(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new Sm(i.length);const r=e.merge(i.bracketIds),s=this.parseList(r,t+1),o=this.tokenizer.peek();return o&&o.kind===2&&(o.bracketId===i.bracketId||o.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),z1.create(i.astNode,s,o.astNode)):z1.create(i.astNode,s,null)}default:throw new Error("unexpected")}}}function wx(n,e){if(n.length===0)return e;if(e.length===0)return n;const t=new nf(iue(n)),i=iue(e);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let r=t.dequeue();function s(c){if(c===void 0){const d=t.takeWhile(h=>!0)||[];return r&&d.unshift(r),d}const u=[];for(;r&&!yx(c);){const[d,h]=r.splitAt(c);u.push(d),c=G1(d.lengthAfter,c),r=h??t.dequeue()}return yx(c)||u.push(new Sg(!1,c,c)),u}const o=[];function a(c,u,d){if(o.length>0&&cRe(o[o.length-1].endOffset,c)){const h=o[o.length-1];o[o.length-1]=new Ph(h.startOffset,u,yr(h.newLength,d))}else o.push({startOffset:c,endOffset:u,newLength:d})}let l=Xo;for(const c of i){const u=s(c.lengthBefore);if(c.modified){const d=Klt(u,f=>f.lengthBefore),h=yr(l,d);a(l,h,c.lengthAfter),l=h}else for(const d of u){const h=l;l=yr(l,d.lengthBefore),d.modified&&a(h,l,d.lengthAfter)}}return o}class Sg{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=G1(e,this.lengthAfter);return cRe(t,Xo)?[this,void 0]:this.modified?[new Sg(this.modified,this.lengthBefore,e),new Sg(this.modified,Xo,t)]:[new Sg(this.modified,e,e),new Sg(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${Al(this.lengthBefore)} -> ${Al(this.lengthAfter)}`}}function iue(n){const e=[];let t=Xo;for(const i of n){const r=G1(t,i.startOffset);yx(r)||e.push(new Sg(!1,r,r));const s=G1(i.startOffset,i.endOffset);e.push(new Sg(!0,s,i.newLength)),t=i.endOffset}return e}class hct extends Ne{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new ge,this.denseKeyProvider=new Qlt,this.brackets=new oct(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),r=new rct(this.textModel.getValue(),i);this.initialAstWithoutTokens=nue(r,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new Ph(sr(i.fromLineNumber-1,0),sr(i.toLineNumber,0),sr(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=Ph.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=wx(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=wx(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const r=t,s=new nct(this.textModel,this.brackets);return nue(s,e,r,i)}getBracketsInRange(e,t){this.flushQueue();const i=sr(e.startLineNumber-1,e.startColumn-1),r=sr(e.endLineNumber-1,e.endColumn-1);return new qm(s=>{const o=this.initialAstWithoutTokens||this.astWithTokens;K8(o,Xo,o.length,i,r,s,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const i=jv(e.getStartPosition()),r=jv(e.getEndPosition());return new qm(s=>{const o=this.initialAstWithoutTokens||this.astWithTokens,a=new fct(s,t,this.textModel);q8(o,Xo,o.length,i,r,a,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return hRe(t,Xo,t.length,jv(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return dRe(t,Xo,t.length,jv(e))}}function dRe(n,e,t,i){if(n.kind===4||n.kind===2){const r=[];for(const s of n.children)t=yr(e,s.length),r.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let s=r.length-1;s>=0;s--){const{nodeOffsetStart:o,nodeOffsetEnd:a}=r[s];if(FS(o,i)){const l=dRe(n.children[s],o,a,i);if(l)return l}}return null}else{if(n.kind===3)return null;if(n.kind===1){const r=Jm(e,t);return{bracketInfo:n.bracketInfo,range:r}}}return null}function hRe(n,e,t,i){if(n.kind===4||n.kind===2){for(const r of n.children){if(t=yr(e,r.length),FS(i,t)){const s=hRe(r,e,t,i);if(s)return s}e=t}return null}else{if(n.kind===3)return null;if(n.kind===1){const r=Jm(e,t);return{bracketInfo:n.bracketInfo,range:r}}}return null}function K8(n,e,t,i,r,s,o,a,l,c,u=!1){if(o>200)return!0;e:for(;;)switch(n.kind){case 4:{const d=n.childrenLength;for(let h=0;h<d;h++){const f=n.getChild(h);if(f){if(t=yr(e,f.length),BS(e,r)&&wT(t,i)){if(wT(t,r)){n=f;continue e}if(!K8(f,e,t,i,r,s,o,0,l,c))return!1}e=t}}return!0}case 2:{const d=!c||!n.closingBracket||n.closingBracket.bracketInfo.closesColorized(n.openingBracket.bracketInfo);let h=0;if(l){let m=l.get(n.openingBracket.text);m===void 0&&(m=0),h=m,d&&(m++,l.set(n.openingBracket.text,m))}const f=n.childrenLength;for(let m=0;m<f;m++){const g=n.getChild(m);if(g){if(t=yr(e,g.length),BS(e,r)&&wT(t,i)){if(wT(t,r)&&g.kind!==1){n=g,d?(o++,a=h+1):a=h;continue e}if((d||g.kind!==1||!n.closingBracket)&&!K8(g,e,t,i,r,s,d?o+1:o,d?h+1:h,l,c,!n.closingBracket))return!1}e=t}}return l==null||l.set(n.openingBracket.text,h),!0}case 3:{const d=Jm(e,t);return s(new Jce(d,o-1,0,!0))}case 1:{const d=Jm(e,t);return s(new Jce(d,o-1,a-1,u))}case 0:return!0}}class fct{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}}function q8(n,e,t,i,r,s,o,a){var c;if(o>200)return!0;let l=!0;if(n.kind===2){let u=0;if(a){let f=a.get(n.openingBracket.text);f===void 0&&(f=0),u=f,f++,a.set(n.openingBracket.text,f)}const d=yr(e,n.openingBracket.length);let h=-1;if(s.includeMinIndentation&&(h=n.computeMinIndentation(e,s.textModel)),l=s.push(new zlt(Jm(e,t),Jm(e,d),n.closingBracket?Jm(yr(d,((c=n.child)==null?void 0:c.length)||Xo),t):void 0,o,u,n,h)),e=d,l&&n.child){const f=n.child;if(t=yr(e,f.length),BS(e,r)&&wT(t,i)&&(l=q8(f,e,t,i,r,s,o+1,a),!l))return!1}a==null||a.set(n.openingBracket.text,u)}else{let u=e;for(const d of n.children){const h=u;if(u=yr(u,d.length),BS(h,r)&&BS(i,u)&&(l=q8(d,h,u,i,r,s,o,a),!l))return!1}}return l}class gct extends Ne{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new rf),this.onDidChangeEmitter=new ge,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(e){var t;(!e.languageId||(t=this.bracketPairsTree.value)!=null&&t.object.didLanguageChange(e.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)==null||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)==null||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)==null||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new at;this.bracketPairsTree.value=pct(e.add(new hct(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)==null?void 0:t.object.getBracketPairsInRange(e,!1))||qm.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)==null?void 0:t.object.getBracketPairsInRange(e,!0))||qm.empty}getBracketsInRange(e,t=!1){var i;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)==null?void 0:i.object.getBracketsInRange(e,t))||qm.empty}findMatchingBracketUp(e,t,i){const r=this.textModel.validatePosition(t),s=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const o=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(e);if(!o)return null;const a=this.getBracketPairsInRange(ce.fromPositions(t,t)).findLast(l=>o.closes(l.openingBracketInfo));return a?a.openingBracketRange:null}else{const o=e.toLowerCase(),a=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!a)return null;const l=a.textIsBracket[o];return l?cN(this._findMatchingBracketUp(l,r,O3(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=this.getBracketPairsInRange(ce.fromPositions(e,e)).filter(r=>r.closingBracketRange!==void 0&&(r.openingBracketRange.containsPosition(e)||r.closingBracketRange.containsPosition(e))).findLastMaxBy(lc(r=>r.openingBracketRange.containsPosition(e)?r.openingBracketRange:r.closingBracketRange,ce.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{const i=O3(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,r){const s=t.getCount(),o=t.getLanguageId(r);let a=Math.max(0,e.column-1-i.maxBracketLength);for(let c=r-1;c>=0;c--){const u=t.getEndOffset(c);if(u<=a)break;if(Hu(t.getStandardTokenType(c))||t.getLanguageId(c)!==o){a=u;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let c=r+1;c<s;c++){const u=t.getStartOffset(c);if(u>=l)break;if(Hu(t.getStandardTokenType(c))||t.getLanguageId(c)!==o){l=u;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e,t){const i=e.lineNumber,r=this.textModel.tokenization.getLineTokens(i),s=this.textModel.getLineContent(i),o=r.findTokenIndexAtOffset(e.column-1);if(o<0)return null;const a=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(o)).brackets;if(a&&!Hu(r.getStandardTokenType(o))){let{searchStartOffset:l,searchEndOffset:c}=this._establishBracketSearchOffsets(e,r,a,o),u=null;for(;;){const d=Kl.findNextBracketInRange(a.forwardRegex,i,s,l,c);if(!d)break;if(d.startColumn<=e.column&&e.column<=d.endColumn){const h=s.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),f=this._matchFoundBracket(d,a.textIsBracket[h],a.textIsOpenBracket[h],t);if(f){if(f instanceof Eh)return null;u=f}}l=d.endColumn-1}if(u)return u}if(o>0&&r.getStartOffset(o)===e.column-1){const l=o-1,c=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(l)).brackets;if(c&&!Hu(r.getStandardTokenType(l))){const{searchStartOffset:u,searchEndOffset:d}=this._establishBracketSearchOffsets(e,r,c,l),h=Kl.findPrevBracketInRange(c.reversedRegex,i,s,u,d);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn){const f=s.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),m=this._matchFoundBracket(h,c.textIsBracket[f],c.textIsOpenBracket[f],t);if(m)return m instanceof Eh?null:m}}}return null}_matchFoundBracket(e,t,i,r){if(!t)return null;const s=i?this._findMatchingBracketDown(t,e.getEndPosition(),r):this._findMatchingBracketUp(t,e.getStartPosition(),r);return s?s instanceof Eh?s:[e,s]:null}_findMatchingBracketUp(e,t,i){const r=e.languageId,s=e.reversedRegex;let o=-1,a=0;const l=(c,u,d,h)=>{for(;;){if(i&&++a%100===0&&!i())return Eh.INSTANCE;const f=Kl.findPrevBracketInRange(s,c,u,d,h);if(!f)break;const m=u.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(e.isOpen(m)?o++:e.isClose(m)&&o--,o===0)return f;h=f.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){const u=this.textModel.tokenization.getLineTokens(c),d=u.getCount(),h=this.textModel.getLineContent(c);let f=d-1,m=h.length,g=h.length;c===t.lineNumber&&(f=u.findTokenIndexAtOffset(t.column-1),m=t.column-1,g=t.column-1);let _=!0;for(;f>=0;f--){const v=u.getLanguageId(f)===r&&!Hu(u.getStandardTokenType(f));if(v)_?m=u.getStartOffset(f):(m=u.getStartOffset(f),g=u.getEndOffset(f));else if(_&&m!==g){const S=l(c,h,m,g);if(S)return S}_=v}if(_&&m!==g){const v=l(c,h,m,g);if(v)return v}}return null}_findMatchingBracketDown(e,t,i){const r=e.languageId,s=e.forwardRegex;let o=1,a=0;const l=(u,d,h,f)=>{for(;;){if(i&&++a%100===0&&!i())return Eh.INSTANCE;const m=Kl.findNextBracketInRange(s,u,d,h,f);if(!m)break;const g=d.substring(m.startColumn-1,m.endColumn-1).toLowerCase();if(e.isOpen(g)?o++:e.isClose(g)&&o--,o===0)return m;h=m.endColumn-1}return null},c=this.textModel.getLineCount();for(let u=t.lineNumber;u<=c;u++){const d=this.textModel.tokenization.getLineTokens(u),h=d.getCount(),f=this.textModel.getLineContent(u);let m=0,g=0,_=0;u===t.lineNumber&&(m=d.findTokenIndexAtOffset(t.column-1),g=t.column-1,_=t.column-1);let v=!0;for(;m<h;m++){const S=d.getLanguageId(m)===r&&!Hu(d.getStandardTokenType(m));if(S)v||(g=d.getStartOffset(m)),_=d.getEndOffset(m);else if(v&&g!==_){const C=l(u,f,g,_);if(C)return C}v=S}if(v&&g!==_){const S=l(u,f,g,_);if(S)return S}}return null}findPrevBracket(e){var o;const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((o=this.bracketPairsTree.value)==null?void 0:o.object.getFirstBracketBefore(t))||null;let i=null,r=null,s=null;for(let a=t.lineNumber;a>=1;a--){const l=this.textModel.tokenization.getLineTokens(a),c=l.getCount(),u=this.textModel.getLineContent(a);let d=c-1,h=u.length,f=u.length;if(a===t.lineNumber){d=l.findTokenIndexAtOffset(t.column-1),h=t.column-1,f=t.column-1;const g=l.getLanguageId(d);i!==g&&(i=g,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let m=!0;for(;d>=0;d--){const g=l.getLanguageId(d);if(i!==g){if(r&&s&&m&&h!==f){const v=Kl.findPrevBracketInRange(r.reversedRegex,a,u,h,f);if(v)return this._toFoundBracket(s,v);m=!1}i=g,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}const _=!!r&&!Hu(l.getStandardTokenType(d));if(_)m?h=l.getStartOffset(d):(h=l.getStartOffset(d),f=l.getEndOffset(d));else if(s&&r&&m&&h!==f){const v=Kl.findPrevBracketInRange(r.reversedRegex,a,u,h,f);if(v)return this._toFoundBracket(s,v)}m=_}if(s&&r&&m&&h!==f){const g=Kl.findPrevBracketInRange(r.reversedRegex,a,u,h,f);if(g)return this._toFoundBracket(s,g)}}return null}findNextBracket(e){var a;const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((a=this.bracketPairsTree.value)==null?void 0:a.object.getFirstBracketAfter(t))||null;const i=this.textModel.getLineCount();let r=null,s=null,o=null;for(let l=t.lineNumber;l<=i;l++){const c=this.textModel.tokenization.getLineTokens(l),u=c.getCount(),d=this.textModel.getLineContent(l);let h=0,f=0,m=0;if(l===t.lineNumber){h=c.findTokenIndexAtOffset(t.column-1),f=t.column-1,m=t.column-1;const _=c.getLanguageId(h);r!==_&&(r=_,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let g=!0;for(;h<u;h++){const _=c.getLanguageId(h);if(r!==_){if(o&&s&&g&&f!==m){const S=Kl.findNextBracketInRange(s.forwardRegex,l,d,f,m);if(S)return this._toFoundBracket(o,S);g=!1}r=_,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const v=!!s&&!Hu(c.getStandardTokenType(h));if(v)g||(f=c.getStartOffset(h)),m=c.getEndOffset(h);else if(o&&s&&g&&f!==m){const S=Kl.findNextBracketInRange(s.forwardRegex,l,d,f,m);if(S)return this._toFoundBracket(o,S)}g=v}if(o&&s&&g&&f!==m){const _=Kl.findNextBracketInRange(s.forwardRegex,l,d,f,m);if(_)return this._toFoundBracket(o,_)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const f=ce.fromPositions(i),m=this.getBracketPairsInRange(ce.fromPositions(i,i)).findLast(g=>g.closingBracketRange!==void 0&&g.range.strictContainsRange(f));return m?[m.openingBracketRange,m.closingBracketRange]:null}const r=O3(t),s=this.textModel.getLineCount(),o=new Map;let a=[];const l=(f,m)=>{if(!o.has(f)){const g=[];for(let _=0,v=m?m.brackets.length:0;_<v;_++)g[_]=0;o.set(f,g)}a=o.get(f)};let c=0;const u=(f,m,g,_,v)=>{for(;;){if(r&&++c%100===0&&!r())return Eh.INSTANCE;const S=Kl.findNextBracketInRange(f.forwardRegex,m,g,_,v);if(!S)break;const C=g.substring(S.startColumn-1,S.endColumn-1).toLowerCase(),y=f.textIsBracket[C];if(y&&(y.isOpen(C)?a[y.index]++:y.isClose(C)&&a[y.index]--,a[y.index]===-1))return this._matchFoundBracket(S,y,!1,r);_=S.endColumn-1}return null};let d=null,h=null;for(let f=i.lineNumber;f<=s;f++){const m=this.textModel.tokenization.getLineTokens(f),g=m.getCount(),_=this.textModel.getLineContent(f);let v=0,S=0,C=0;if(f===i.lineNumber){v=m.findTokenIndexAtOffset(i.column-1),S=i.column-1,C=i.column-1;const b=m.getLanguageId(v);d!==b&&(d=b,h=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l(d,h))}let y=!0;for(;v<g;v++){const b=m.getLanguageId(v);if(d!==b){if(h&&y&&S!==C){const I=u(h,f,_,S,C);if(I)return cN(I);y=!1}d=b,h=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l(d,h)}const w=!!h&&!Hu(m.getStandardTokenType(v));if(w)y||(S=m.getStartOffset(v)),C=m.getEndOffset(v);else if(h&&y&&S!==C){const I=u(h,f,_,S,C);if(I)return cN(I)}y=w}if(h&&y&&S!==C){const b=u(h,f,_,S,C);if(b)return cN(b)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const r=e.getBracketInfo(i);return r?{range:t,bracketInfo:r}:null}}function pct(n,e){return{object:n,dispose:()=>e==null?void 0:e.dispose()}}function O3(n){if(typeof n>"u")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=n}}const DP=class DP{constructor(){this._searchCanceledBrand=void 0}};DP.INSTANCE=new DP;let Eh=DP;function cN(n){return n instanceof Eh?null:n}class mct extends Ne{constructor(e){super(),this.textModel=e,this.colorProvider=new fRe,this.onDidChangeEmitter=new ge,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,r){return r?[]:t===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(o=>({id:`bracket${o.range.toString()}-${o.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(o,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:o.range})).toArray():[]}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new ce(1,1,this.textModel.getLineCount(),1),e,t):[]}}class fRe{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}df((n,e)=>{const t=[tRe,nRe,iRe,rRe,sRe,oRe],i=new fRe;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${n.getColor(Alt)}; }`);const r=t.map(s=>n.getColor(s)).filter(s=>!!s).filter(s=>!s.isTransparent());for(let s=0;s<30;s++){const o=r[s%r.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(s)} { color: ${o}; }`)}});function uN(n){return n.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class ys{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,r){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=r}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${uN(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${uN(this.oldText)}")`:`(replace@${this.oldPosition} "${uN(this.oldText)}" with "${uN(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const r=t.length;Vc(e,r,i),i+=4;for(let s=0;s<r;s++)jJe(e,t.charCodeAt(s),i),i+=2;return i}static _readString(e,t){const i=Hc(e,t);return t+=4,KJe(e,t,i)}writeSize(){return 8+ys._writeStringSize(this.oldText)+ys._writeStringSize(this.newText)}write(e,t){return Vc(e,this.oldPosition,t),t+=4,Vc(e,this.newPosition,t),t+=4,t=ys._writeString(e,this.oldText,t),t=ys._writeString(e,this.newText,t),t}static read(e,t,i){const r=Hc(e,t);t+=4;const s=Hc(e,t);t+=4;const o=ys._readString(e,t);t+=ys._writeStringSize(o);const a=ys._readString(e,t);return t+=ys._writeStringSize(a),i.push(new ys(r,o,s,a)),t}}function _ct(n,e){return n===null||n.length===0?e:new Wu(n,e).compress()}class Wu{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),r=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(r),r=this._getCurr(++t);continue}if(r===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldEnd<=i.newPosition){this._acceptCurr(r),r=this._getCurr(++t);continue}if(i.newEnd<=r.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldPosition<i.newPosition){const[c,u]=Wu._splitCurr(r,i.newPosition-r.oldPosition);this._acceptCurr(c),r=u;continue}if(i.newPosition<r.oldPosition){const[c,u]=Wu._splitPrev(i,r.oldPosition-i.newPosition);this._acceptPrev(c),i=u;continue}let a,l;if(r.oldEnd===i.newEnd)a=i,l=r,i=this._getPrev(++e),r=this._getCurr(++t);else if(r.oldEnd<i.newEnd){const[c,u]=Wu._splitPrev(i,r.oldLength);a=c,l=r,i=u,r=this._getCurr(++t)}else{const[c,u]=Wu._splitCurr(r,i.newLength);a=i,l=c,i=this._getPrev(++e),r=u}this._result[this._resultLen++]=new ys(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const s=Wu._merge(this._result);return Wu._removeNoOps(s)}_acceptCurr(e){this._result[this._resultLen++]=Wu._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Wu._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new ys(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new ys(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),r=e.newText.substr(t);return[new ys(e.oldPosition,e.oldText,e.newPosition,i),new ys(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new ys(e.oldPosition,i,e.newPosition,e.newText),new ys(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let i=0,r=e[0];for(let s=1;s<e.length;s++){const o=e[s];r.oldEnd===o.oldPosition?r=new ys(r.oldPosition,r.oldText+o.oldText,r.newPosition,r.newText+o.newText):(t[i++]=r,r=o)}return t[i++]=r,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let i=0;for(let r=0;r<e.length;r++){const s=e[r];s.oldText!==s.newText&&(t[i++]=s)}return t}}function hv(n){return n.toString()}class Wr{static create(e,t){const i=e.getAlternativeVersionId(),r=X8(e);return new Wr(i,i,r,r,t,t,[])}constructor(e,t,i,r,s,o,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=r,this.beforeCursorState=s,this.afterCursorState=o,this.changes=a}append(e,t,i,r,s){t.length>0&&(this.changes=_ct(this.changes,t)),this.afterEOL=i,this.afterVersionId=r,this.afterCursorState=s}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(Vc(e,t?t.length:0,i),i+=4,t)for(const r of t)Vc(e,r.selectionStartLineNumber,i),i+=4,Vc(e,r.selectionStartColumn,i),i+=4,Vc(e,r.positionLineNumber,i),i+=4,Vc(e,r.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const r=Hc(e,t);t+=4;for(let s=0;s<r;s++){const o=Hc(e,t);t+=4;const a=Hc(e,t);t+=4;const l=Hc(e,t);t+=4;const c=Hc(e,t);t+=4,i.push(new vn(o,a,l,c))}return t}serialize(){let e=10+Wr._writeSelectionsSize(this.beforeCursorState)+Wr._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)e+=r.writeSize();const t=new Uint8Array(e);let i=0;Vc(t,this.beforeVersionId,i),i+=4,Vc(t,this.afterVersionId,i),i+=4,Qae(t,this.beforeEOL,i),i+=1,Qae(t,this.afterEOL,i),i+=1,i=Wr._writeSelections(t,this.beforeCursorState,i),i=Wr._writeSelections(t,this.afterCursorState,i),Vc(t,this.changes.length,i),i+=4;for(const r of this.changes)i=r.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const r=Hc(t,i);i+=4;const s=Hc(t,i);i+=4;const o=Xae(t,i);i+=1;const a=Xae(t,i);i+=1;const l=[];i=Wr._readSelections(t,i,l);const c=[];i=Wr._readSelections(t,i,c);const u=Hc(t,i);i+=4;const d=[];for(let h=0;h<u;h++)i=ys.read(t,i,d);return new Wr(r,s,o,a,l,c,d)}}class gRe{get type(){return 0}get resource(){return en.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,r){this.label=e,this.code=t,this.model=i,this._data=Wr.create(i,r)}toString(){return(this._data instanceof Wr?this._data:Wr.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(en.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof Wr}append(e,t,i,r,s){this._data instanceof Wr&&this._data.append(e,t,i,r,s)}close(){this._data instanceof Wr&&(this._data=this._data.serialize())}open(){this._data instanceof Wr||(this._data=Wr.deserialize(this._data))}undo(){if(en.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Wr&&(this._data=this._data.serialize());const e=Wr.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(en.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Wr&&(this._data=this._data.serialize());const e=Wr.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof Wr&&(this._data=this._data.serialize()),this._data.byteLength+168}}class Ect{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const r of this._editStackElementsArr){const s=hv(r.resource);this._editStackElementsMap.set(s,r)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=hv(e);return this._editStackElementsMap.has(t)}setModel(e){const t=hv(en.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=hv(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,r,s){const o=hv(e.uri);this._editStackElementsMap.get(o).append(e,t,i,r,s)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=hv(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${Aq(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function X8(n){return n.getEOL()===`
`?0:1}function vh(n){return n?n instanceof gRe||n instanceof Ect:!1}class Kq{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);vh(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);vh(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(vh(i)&&i.canAppend(this._model))return i;const r=new gRe(A("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(r,t),r}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],X8(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,r){const s=this._getOrCreateEditStackElement(e,r),o=this._model.applyEdits(t,!0),a=Kq._computeCursorState(i,o),l=o.map((c,u)=>({index:u,textChange:c.textChange}));return l.sort((c,u)=>c.textChange.oldPosition===u.textChange.oldPosition?c.index-u.index:c.textChange.oldPosition-u.textChange.oldPosition),s.append(this._model,l.map(c=>c.textChange),X8(this._model),this._model.getAlternativeVersionId(),a),a}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return hi(i),null}}}class pRe extends Ne{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}function vct(n,e){let t=0,i=0;const r=n.length;for(;i<r;){const s=n.charCodeAt(i);if(s===32)t++;else if(s===9)t=t-t%e+e;else break;i++}return i===r?-1:t}var e_;(function(n){n[n.Disabled=0]="Disabled",n[n.EnabledForActive=1]="EnabledForActive",n[n.Enabled=2]="Enabled"})(e_||(e_={}));class Hm{constructor(e,t,i,r,s,o){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=r,this.forWrappedLinesAfterColumn=s,this.forWrappedLinesBeforeOrAtColumn=o,e!==-1==(t!==-1))throw new Error}}class r0{constructor(e,t){this.top=e,this.endColumn=t}}class Sct extends pRe{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return vct(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const r=this.textModel.getLineCount();if(e<1||e>r)throw new Kn("Illegal value for lineNumber");const s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=!!(s&&s.offSide);let a=-2,l=-1,c=-2,u=-1;const d=I=>{if(a!==-1&&(a===-2||a>I-1)){a=-1,l=-1;for(let O=I-2;O>=0;O--){const x=this._computeIndentLevel(O);if(x>=0){a=O,l=x;break}}}if(c===-2){c=-1,u=-1;for(let O=I;O<r;O++){const x=this._computeIndentLevel(O);if(x>=0){c=O,u=x;break}}}};let h=-2,f=-1,m=-2,g=-1;const _=I=>{if(h===-2){h=-1,f=-1;for(let O=I-2;O>=0;O--){const x=this._computeIndentLevel(O);if(x>=0){h=O,f=x;break}}}if(m!==-1&&(m===-2||m<I-1)){m=-1,g=-1;for(let O=I;O<r;O++){const x=this._computeIndentLevel(O);if(x>=0){m=O,g=x;break}}}};let v=0,S=!0,C=0,y=!0,b=0,w=0;for(let I=0;S||y;I++){const O=e-I,x=e+I;I>1&&(O<1||O<t)&&(S=!1),I>1&&(x>r||x>i)&&(y=!1),I>5e4&&(S=!1,y=!1);let k=-1;if(S&&O>=1){const M=this._computeIndentLevel(O-1);M>=0?(c=O-1,u=M,k=Math.ceil(M/this.textModel.getOptions().indentSize)):(d(O),k=this._getIndentLevelForWhitespaceLine(o,l,u))}let P=-1;if(y&&x<=r){const M=this._computeIndentLevel(x-1);M>=0?(h=x-1,f=M,P=Math.ceil(M/this.textModel.getOptions().indentSize)):(_(x),P=this._getIndentLevelForWhitespaceLine(o,f,g))}if(I===0){w=k;continue}if(I===1){if(x<=r&&P>=0&&w+1===P){S=!1,v=x,C=x,b=P;continue}if(O>=1&&k>=0&&k-1===w){y=!1,v=O,C=O,b=k;continue}if(v=e,C=e,b=w,b===0)return{startLineNumber:v,endLineNumber:C,indent:b}}S&&(k>=b?v=O:S=!1),y&&(P>=b?C=x:y=!1)}return{startLineNumber:v,endLineNumber:C,indent:b}}getLinesBracketGuides(e,t,i,r){var d;const s=[];for(let h=e;h<=t;h++)s.push([]);const o=!0,a=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new ce(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let l;if(i&&a.length>0){const h=(e<=i.lineNumber&&i.lineNumber<=t?a:this.textModel.bracketPairs.getBracketPairsInRange(ce.fromPositions(i)).toArray()).filter(f=>ce.strictContainsPosition(f.range,i));l=(d=qO(h,f=>o))==null?void 0:d.range}const c=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,u=new mRe;for(const h of a){if(!h.closingBracketRange)continue;const f=l&&h.range.equalsRange(l);if(!f&&!r.includeInactive)continue;const m=u.getInlineClassName(h.nestingLevel,h.nestingLevelOfEqualBracketType,c)+(r.highlightActive&&f?" "+u.activeClassName:""),g=h.openingBracketRange.getStartPosition(),_=h.closingBracketRange.getStartPosition(),v=r.horizontalGuides===e_.Enabled||r.horizontalGuides===e_.EnabledForActive&&f;if(h.range.startLineNumber===h.range.endLineNumber){v&&s[h.range.startLineNumber-e].push(new Hm(-1,h.openingBracketRange.getEndPosition().column,m,new r0(!1,_.column),-1,-1));continue}const S=this.getVisibleColumnFromPosition(_),C=this.getVisibleColumnFromPosition(h.openingBracketRange.getStartPosition()),y=Math.min(C,S,h.minVisibleColumnIndentation+1);let b=!1;Sa(this.textModel.getLineContent(h.closingBracketRange.startLineNumber))<h.closingBracketRange.startColumn-1&&(b=!0);const O=Math.max(g.lineNumber,e),x=Math.min(_.lineNumber,t),k=b?1:0;for(let P=O;P<x+k;P++)s[P-e].push(new Hm(y,-1,m,null,P===g.lineNumber?g.column:-1,P===_.lineNumber?_.column:-1));v&&(g.lineNumber>=e&&C>y&&s[g.lineNumber-e].push(new Hm(y,-1,m,new r0(!1,g.column),-1,-1)),_.lineNumber<=t&&S>y&&s[_.lineNumber-e].push(new Hm(y,-1,m,new r0(!b,_.column),-1,-1)))}for(const h of s)h.sort((f,m)=>f.visibleColumn-m.visibleColumn);return s}getVisibleColumnFromPosition(e){return xr.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const r=this.textModel.getOptions(),s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=!!(s&&s.offSide),a=new Array(t-e+1);let l=-2,c=-1,u=-2,d=-1;for(let h=e;h<=t;h++){const f=h-e,m=this._computeIndentLevel(h-1);if(m>=0){l=h-1,c=m,a[f]=Math.ceil(m/r.indentSize);continue}if(l===-2){l=-1,c=-1;for(let g=h-2;g>=0;g--){const _=this._computeIndentLevel(g);if(_>=0){l=g,c=_;break}}}if(u!==-1&&(u===-2||u<h-1)){u=-1,d=-1;for(let g=h;g<i;g++){const _=this._computeIndentLevel(g);if(_>=0){u=g,d=_;break}}}a[f]=this._getIndentLevelForWhitespaceLine(o,c,d)}return a}_getIndentLevelForWhitespaceLine(e,t,i){const r=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/r.indentSize):t===i||e?Math.ceil(i/r.indentSize):1+Math.floor(i/r.indentSize)}}class mRe{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}class Cct{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function yct(n,e,t,i,r){r.spacesDiff=0,r.looksLikeAlignment=!1;let s;for(s=0;s<e&&s<i;s++){const h=n.charCodeAt(s),f=t.charCodeAt(s);if(h!==f)break}let o=0,a=0;for(let h=s;h<e;h++)n.charCodeAt(h)===32?o++:a++;let l=0,c=0;for(let h=s;h<i;h++)t.charCodeAt(h)===32?l++:c++;if(o>0&&a>0||l>0&&c>0)return;const u=Math.abs(a-c),d=Math.abs(o-l);if(u===0){r.spacesDiff=d,d>0&&0<=l-1&&l-1<n.length&&l<t.length&&t.charCodeAt(l)!==32&&n.charCodeAt(l-1)===32&&n.charCodeAt(n.length-1)===44&&(r.looksLikeAlignment=!0);return}if(d%u===0){r.spacesDiff=d/u;return}}function rue(n,e,t){const i=Math.min(n.getLineCount(),1e4);let r=0,s=0,o="",a=0;const l=[2,4,6,8,3,5,7],c=8,u=[0,0,0,0,0,0,0,0,0],d=new Cct;for(let m=1;m<=i;m++){const g=n.getLineLength(m),_=n.getLineContent(m),v=g<=65536;let S=!1,C=0,y=0,b=0;for(let I=0,O=g;I<O;I++){const x=v?_.charCodeAt(I):n.getLineCharCode(m,I);if(x===9)b++;else if(x===32)y++;else{S=!0,C=I;break}}if(!S||(b>0?r++:y>1&&s++,yct(o,a,_,C,d),d.looksLikeAlignment&&!(t&&e===d.spacesDiff)))continue;const w=d.spacesDiff;w<=c&&u[w]++,o=_,a=C}let h=t;r!==s&&(h=r<s);let f=e;if(h){let m=h?0:.1*i;l.forEach(g=>{const _=u[g];_>m&&(m=_,f=g)}),f===4&&u[4]>0&&u[2]>0&&u[2]>=u[4]/2&&(f=2)}return{insertSpaces:h,tabSize:f}}function Ho(n){return(n.metadata&1)>>>0}function yi(n,e){n.metadata=n.metadata&254|e<<0}function Ts(n){return(n.metadata&2)>>>1===1}function Ei(n,e){n.metadata=n.metadata&253|(e?1:0)<<1}function _Re(n){return(n.metadata&4)>>>2===1}function sue(n,e){n.metadata=n.metadata&251|(e?1:0)<<2}function ERe(n){return(n.metadata&64)>>>6===1}function oue(n,e){n.metadata=n.metadata&191|(e?1:0)<<6}function bct(n){return(n.metadata&24)>>>3}function aue(n,e){n.metadata=n.metadata&231|e<<3}function Tct(n){return(n.metadata&32)>>>5===1}function lue(n,e){n.metadata=n.metadata&223|(e?1:0)<<5}class vRe{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,yi(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,sue(this,!1),oue(this,!1),aue(this,1),lue(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Ei(this,!1)}reset(e,t,i,r){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=r}setOptions(e){this.options=e;const t=this.options.className;sue(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),oue(this,this.options.glyphMarginClassName!==null),aue(this,this.options.stickiness),lue(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const Qt=new vRe(null,0,0);Qt.parent=Qt;Qt.left=Qt;Qt.right=Qt;yi(Qt,0);class x3{constructor(){this.root=Qt,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,r,s,o){return this.root===Qt?[]:xct(this,e,t,i,r,s,o)}search(e,t,i,r){return this.root===Qt?[]:Oct(this,e,t,i,r)}collectNodesFromOwner(e){return Nct(this,e)}collectNodesPostOrder(){return Lct(this)}insert(e){cue(this,e),this._normalizeDeltaIfNecessary()}delete(e){uue(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let r=0;for(;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;const s=i.start+r,o=i.end+r;i.setCachedOffsets(s,o,t)}acceptReplace(e,t,i,r){const s=Rct(this,e,e+t);for(let o=0,a=s.length;o<a;o++){const l=s[o];uue(this,l)}this._normalizeDeltaIfNecessary(),Ict(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let o=0,a=s.length;o<a;o++){const l=s[o];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,Act(l,e,e+t,i,r),l.maxEnd=l.end,cue(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,wct(this))}}function wct(n){let e=n.root,t=0;for(;e!==Qt;){if(e.left!==Qt&&!Ts(e.left)){e=e.left;continue}if(e.right!==Qt&&!Ts(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,ep(e),Ei(e,!0),Ei(e.left,!1),Ei(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}Ei(n.root,!1)}function fv(n,e,t,i){return n<t?!0:n>t||i===1?!1:i===2?!0:e}function Act(n,e,t,i,r){const s=bct(n),o=s===0||s===2,a=s===1||s===2,l=t-e,c=i,u=Math.min(l,c),d=n.start;let h=!1;const f=n.end;let m=!1;e<=d&&f<=t&&Tct(n)&&(n.start=e,h=!0,n.end=e,m=!0);{const _=r?1:l>0?2:0;!h&&fv(d,o,e,_)&&(h=!0),!m&&fv(f,a,e,_)&&(m=!0)}if(u>0&&!r){const _=l>c?2:0;!h&&fv(d,o,e+u,_)&&(h=!0),!m&&fv(f,a,e+u,_)&&(m=!0)}{const _=r?1:0;!h&&fv(d,o,t,_)&&(n.start=e+c,h=!0),!m&&fv(f,a,t,_)&&(n.end=e+c,m=!0)}const g=c-l;h||(n.start=Math.max(0,d+g)),m||(n.end=Math.max(0,f+g)),n.start>n.end&&(n.end=n.start)}function Rct(n,e,t){let i=n.root,r=0,s=0,o=0,a=0;const l=[];let c=0;for(;i!==Qt;){if(Ts(i)){Ei(i.left,!1),Ei(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;continue}if(!Ts(i.left)){if(s=r+i.maxEnd,s<e){Ei(i,!0);continue}if(i.left!==Qt){i=i.left;continue}}if(o=r+i.start,o>t){Ei(i,!0);continue}if(a=r+i.end,a>=e&&(i.setCachedOffsets(o,a,0),l[c++]=i),Ei(i,!0),i.right!==Qt&&!Ts(i.right)){r+=i.delta,i=i.right;continue}}return Ei(n.root,!1),l}function Ict(n,e,t,i){let r=n.root,s=0,o=0,a=0;const l=i-(t-e);for(;r!==Qt;){if(Ts(r)){Ei(r.left,!1),Ei(r.right,!1),r===r.parent.right&&(s-=r.parent.delta),ep(r),r=r.parent;continue}if(!Ts(r.left)){if(o=s+r.maxEnd,o<e){Ei(r,!0);continue}if(r.left!==Qt){r=r.left;continue}}if(a=s+r.start,a>t){r.start+=l,r.end+=l,r.delta+=l,(r.delta<-1073741824||r.delta>1073741824)&&(n.requestNormalizeDelta=!0),Ei(r,!0);continue}if(Ei(r,!0),r.right!==Qt&&!Ts(r.right)){s+=r.delta,r=r.right;continue}}Ei(n.root,!1)}function Nct(n,e){let t=n.root;const i=[];let r=0;for(;t!==Qt;){if(Ts(t)){Ei(t.left,!1),Ei(t.right,!1),t=t.parent;continue}if(t.left!==Qt&&!Ts(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[r++]=t),Ei(t,!0),t.right!==Qt&&!Ts(t.right)){t=t.right;continue}}return Ei(n.root,!1),i}function Lct(n){let e=n.root;const t=[];let i=0;for(;e!==Qt;){if(Ts(e)){Ei(e.left,!1),Ei(e.right,!1),e=e.parent;continue}if(e.left!==Qt&&!Ts(e.left)){e=e.left;continue}if(e.right!==Qt&&!Ts(e.right)){e=e.right;continue}t[i++]=e,Ei(e,!0)}return Ei(n.root,!1),t}function Oct(n,e,t,i,r){let s=n.root,o=0,a=0,l=0;const c=[];let u=0;for(;s!==Qt;){if(Ts(s)){Ei(s.left,!1),Ei(s.right,!1),s===s.parent.right&&(o-=s.parent.delta),s=s.parent;continue}if(s.left!==Qt&&!Ts(s.left)){s=s.left;continue}a=o+s.start,l=o+s.end,s.setCachedOffsets(a,l,i);let d=!0;if(e&&s.ownerId&&s.ownerId!==e&&(d=!1),t&&_Re(s)&&(d=!1),r&&!ERe(s)&&(d=!1),d&&(c[u++]=s),Ei(s,!0),s.right!==Qt&&!Ts(s.right)){o+=s.delta,s=s.right;continue}}return Ei(n.root,!1),c}function xct(n,e,t,i,r,s,o){let a=n.root,l=0,c=0,u=0,d=0;const h=[];let f=0;for(;a!==Qt;){if(Ts(a)){Ei(a.left,!1),Ei(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;continue}if(!Ts(a.left)){if(c=l+a.maxEnd,c<e){Ei(a,!0);continue}if(a.left!==Qt){a=a.left;continue}}if(u=l+a.start,u>t){Ei(a,!0);continue}if(d=l+a.end,d>=e){a.setCachedOffsets(u,d,s);let m=!0;i&&a.ownerId&&a.ownerId!==i&&(m=!1),r&&_Re(a)&&(m=!1),o&&!ERe(a)&&(m=!1),m&&(h[f++]=a)}if(Ei(a,!0),a.right!==Qt&&!Ts(a.right)){l+=a.delta,a=a.right;continue}}return Ei(n.root,!1),h}function cue(n,e){if(n.root===Qt)return e.parent=Qt,e.left=Qt,e.right=Qt,yi(e,0),n.root=e,n.root;Dct(n,e),Kf(e.parent);let t=e;for(;t!==n.root&&Ho(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;Ho(i)===1?(yi(t.parent,0),yi(i,0),yi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,s0(n,t)),yi(t.parent,0),yi(t.parent.parent,1),o0(n,t.parent.parent))}else{const i=t.parent.parent.left;Ho(i)===1?(yi(t.parent,0),yi(i,0),yi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,o0(n,t)),yi(t.parent,0),yi(t.parent.parent,1),s0(n,t.parent.parent))}return yi(n.root,0),e}function Dct(n,e){let t=0,i=n.root;const r=e.start,s=e.end;for(;;)if(kct(r,s,i.start+t,i.end+t)<0)if(i.left===Qt){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===Qt){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=Qt,e.right=Qt,yi(e,1)}function uue(n,e){let t,i;if(e.left===Qt?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===Qt?(t=e.left,i=e):(i=Pct(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(n.requestNormalizeDelta=!0)),i===n.root){n.root=t,yi(t,0),e.detach(),D3(),ep(t),n.root.parent=Qt;return}const r=Ho(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,yi(i,Ho(e)),e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Qt&&(i.left.parent=i),i.right!==Qt&&(i.right.parent=i)),e.detach(),r){Kf(t.parent),i!==e&&(Kf(i),Kf(i.parent)),D3();return}Kf(t),Kf(t.parent),i!==e&&(Kf(i),Kf(i.parent));let s;for(;t!==n.root&&Ho(t)===0;)t===t.parent.left?(s=t.parent.right,Ho(s)===1&&(yi(s,0),yi(t.parent,1),s0(n,t.parent),s=t.parent.right),Ho(s.left)===0&&Ho(s.right)===0?(yi(s,1),t=t.parent):(Ho(s.right)===0&&(yi(s.left,0),yi(s,1),o0(n,s),s=t.parent.right),yi(s,Ho(t.parent)),yi(t.parent,0),yi(s.right,0),s0(n,t.parent),t=n.root)):(s=t.parent.left,Ho(s)===1&&(yi(s,0),yi(t.parent,1),o0(n,t.parent),s=t.parent.left),Ho(s.left)===0&&Ho(s.right)===0?(yi(s,1),t=t.parent):(Ho(s.left)===0&&(yi(s.right,0),yi(s,1),s0(n,s),s=t.parent.left),yi(s,Ho(t.parent)),yi(t.parent,0),yi(s.left,0),o0(n,t.parent),t=n.root));yi(t,0),D3()}function Pct(n){for(;n.left!==Qt;)n=n.left;return n}function D3(){Qt.parent=Qt,Qt.delta=0,Qt.start=0,Qt.end=0}function s0(n,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==Qt&&(t.left.parent=e),t.parent=e.parent,e.parent===Qt?n.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,ep(e),ep(t)}function o0(n,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(n.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==Qt&&(t.right.parent=e),t.parent=e.parent,e.parent===Qt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,ep(e),ep(t)}function SRe(n){let e=n.end;if(n.left!==Qt){const t=n.left.maxEnd;t>e&&(e=t)}if(n.right!==Qt){const t=n.right.maxEnd+n.delta;t>e&&(e=t)}return e}function ep(n){n.maxEnd=SRe(n)}function Kf(n){for(;n!==Qt;){const e=SRe(n);if(n.maxEnd===e)return;n.maxEnd=e,n=n.parent}}function kct(n,e,t,i){return n===t?e-i:n-t}class Q8{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==At)return qq(this.right);let e=this;for(;e.parent!==At&&e.parent.left!==e;)e=e.parent;return e.parent===At?At:e.parent}prev(){if(this.left!==At)return CRe(this.left);let e=this;for(;e.parent!==At&&e.parent.right!==e;)e=e.parent;return e.parent===At?At:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const At=new Q8(null,0);At.parent=At;At.left=At;At.right=At;At.color=0;function qq(n){for(;n.left!==At;)n=n.left;return n}function CRe(n){for(;n.right!==At;)n=n.right;return n}function Xq(n){return n===At?0:n.size_left+n.piece.length+Xq(n.right)}function Qq(n){return n===At?0:n.lf_left+n.piece.lineFeedCnt+Qq(n.right)}function P3(){At.parent=At}function a0(n,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==At&&(t.left.parent=e),t.parent=e.parent,e.parent===At?n.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function l0(n,e){const t=e.left;e.left=t.right,t.right!==At&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===At?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function dN(n,e){let t,i;if(e.left===At?(i=e,t=i.right):e.right===At?(i=e,t=i.left):(i=qq(e.right),t=i.right),i===n.root){n.root=t,t.color=0,e.detach(),P3(),n.root.parent=At;return}const r=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,AT(n,t)):(i.parent===e?t.parent=i:t.parent=i.parent,AT(n,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==At&&(i.left.parent=i),i.right!==At&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,AT(n,i)),e.detach(),t.parent.left===t){const o=Xq(t),a=Qq(t);if(o!==t.parent.size_left||a!==t.parent.lf_left){const l=o-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=o,t.parent.lf_left=a,rh(n,t.parent,l,c)}}if(AT(n,t.parent),r){P3();return}let s;for(;t!==n.root&&t.color===0;)t===t.parent.left?(s=t.parent.right,s.color===1&&(s.color=0,t.parent.color=1,a0(n,t.parent),s=t.parent.right),s.left.color===0&&s.right.color===0?(s.color=1,t=t.parent):(s.right.color===0&&(s.left.color=0,s.color=1,l0(n,s),s=t.parent.right),s.color=t.parent.color,t.parent.color=0,s.right.color=0,a0(n,t.parent),t=n.root)):(s=t.parent.left,s.color===1&&(s.color=0,t.parent.color=1,l0(n,t.parent),s=t.parent.left),s.left.color===0&&s.right.color===0?(s.color=1,t=t.parent):(s.left.color===0&&(s.right.color=0,s.color=1,a0(n,s),s=t.parent.left),s.color=t.parent.color,t.parent.color=0,s.left.color=0,l0(n,t.parent),t=n.root));t.color=0,P3()}function due(n,e){for(AT(n,e);e!==n.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,a0(n,e)),e.parent.color=0,e.parent.parent.color=1,l0(n,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,l0(n,e)),e.parent.color=0,e.parent.parent.color=1,a0(n,e.parent.parent))}n.root.color=0}function rh(n,e,t,i){for(;e!==n.root&&e!==At;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function AT(n,e){let t=0,i=0;if(e!==n.root){for(;e!==n.root&&e===e.parent.right;)e=e.parent;if(e!==n.root)for(e=e.parent,t=Xq(e.left)-e.size_left,i=Qq(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==n.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}const Qd=65535;function yRe(n){let e;return n[n.length-1]<65536?e=new Uint16Array(n.length):e=new Uint32Array(n.length),e.set(n,0),e}class Mct{constructor(e,t,i,r,s){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=r,this.isBasicASCII=s}}function ah(n,e=!0){const t=[0];let i=1;for(let r=0,s=n.length;r<s;r++){const o=n.charCodeAt(r);o===13?r+1<s&&n.charCodeAt(r+1)===10?(t[i++]=r+2,r++):t[i++]=r+1:o===10&&(t[i++]=r+1)}return e?yRe(t):t}function Fct(n,e){n.length=0,n[0]=0;let t=1,i=0,r=0,s=0,o=!0;for(let l=0,c=e.length;l<c;l++){const u=e.charCodeAt(l);u===13?l+1<c&&e.charCodeAt(l+1)===10?(s++,n[t++]=l+2,l++):(i++,n[t++]=l+1):u===10?(r++,n[t++]=l+1):o&&u!==9&&(u<32||u>126)&&(o=!1)}const a=new Mct(yRe(n),i,r,s,o);return n.length=0,a}class oa{constructor(e,t,i,r,s){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=r,this.length=s}}class Cm{constructor(e,t){this.buffer=e,this.lineStarts=t}}class Bct{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==At&&e.iterate(e.root,i=>(i!==At&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Uct{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let r=0;r<i.length;r++){const s=i[r];if(s.node.parent===null||s.nodeStartOffset>=e){i[r]=null,t=!0;continue}}if(t){const r=[];for(const s of i)s!==null&&r.push(s);this._cache=r}}}class Hct{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new Cm("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=At,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let r=null;for(let s=0,o=e.length;s<o;s++)if(e[s].buffer.length>0){e[s].lineStarts||(e[s].lineStarts=ah(e[s].buffer));const a=new oa(s+1,{line:0,column:0},{line:e[s].lineStarts.length-1,column:e[s].buffer.length-e[s].lineStarts[e[s].lineStarts.length-1]},e[s].lineStarts.length-1,e[s].buffer.length);this._buffers.push(e[s]),r=this.rbInsertRight(r,a)}this._searchCache=new Uct(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=Qd,i=t-Math.floor(t/3),r=i*2;let s="",o=0;const a=[];if(this.iterate(this.root,l=>{const c=this.getNodeContent(l),u=c.length;if(o<=i||o+u<r)return s+=c,o+=u,!0;const d=s.replace(/\r\n|\r|\n/g,e);return a.push(new Cm(d,ah(d))),s=c,o=u,!0}),o>0){const l=s.replace(/\r\n|\r|\n/g,e);a.push(new Cm(l,ah(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new Bct(this,e)}getOffsetAt(e,t){let i=0,r=this.root;for(;r!==At;)if(r.left!==At&&r.lf_left+1>=e)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=e){i+=r.size_left;const s=this.getAccumulatedValue(r,e-r.lf_left-2);return i+=s+t-1}else e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right;return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const r=e;for(;t!==At;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const s=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+s.index,s.index===0){const o=this.getOffsetAt(i+1,1),a=r-o;return new Ee(i+1,a+1)}return new Ee(i+1,s.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===At){const s=this.getOffsetAt(i+1,1),o=r-e-s;return new Ee(i+1,o+1)}else t=t.right;return new Ee(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),s=this.getValueInRange2(i,r);return t?t!==this._EOL||!this._EOLNormalized?s.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?s:s.replace(/\r\n|\r|\n/g,t):s}getValueInRange2(e,t){if(e.node===t.node){const a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let i=e.node;const r=this._buffers[i.piece.bufferIndex].buffer,s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let o=r.substring(s+e.remainder,s+i.piece.length);for(i=i.next();i!==At;){const a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){o+=a.substring(l,l+t.remainder);break}else o+=a.substr(l,i.piece.length);i=i.next()}return o}getLinesContent(){const e=[];let t=0,i="",r=!1;return this.iterate(this.root,s=>{if(s===At)return!0;const o=s.piece;let a=o.length;if(a===0)return!0;const l=this._buffers[o.bufferIndex].buffer,c=this._buffers[o.bufferIndex].lineStarts,u=o.start.line,d=o.end.line;let h=c[u]+o.start.column;if(r&&(l.charCodeAt(h)===10&&(h++,a--),e[t++]=i,i="",r=!1,a===0))return!0;if(u===d)return!this._EOLNormalized&&l.charCodeAt(h+a-1)===13?(r=!0,i+=l.substr(h,a-1)):i+=l.substr(h,a),!0;i+=this._EOLNormalized?l.substring(h,Math.max(h,c[u+1]-this._EOLLength)):l.substring(h,c[u+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let f=u+1;f<d;f++)i=this._EOLNormalized?l.substring(c[f],c[f+1]-this._EOLLength):l.substring(c[f],c[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(c[d]+o.end.column-1)===13?(r=!0,o.end.column===0?t--:i=l.substr(c[d],o.end.column-1)):i=l.substr(c[d],o.end.column),!0}),r&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(r)}else{const t=this._buffers[e.node.piece.bufferIndex],r=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,r,s,o,a,l,c,u,d){const h=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),m=this.offsetInBuffer(e.piece.bufferIndex,s),g=this.offsetInBuffer(e.piece.bufferIndex,o);let _;const v={line:0,column:0};let S,C;t._wordSeparators?(S=h.buffer.substring(m,g),C=y=>y+m,t.reset(0)):(S=h.buffer,C=y=>y,t.reset(m));do if(_=t.next(S),_){if(C(_.index)>=g)return u;this.positionInBuffer(e,C(_.index)-f,v);const y=this.getLineFeedCnt(e.piece.bufferIndex,s,v),b=v.line===s.line?v.column-s.column+r:v.column+1,w=b+_[0].length;if(d[u++]=pm(new ce(i+y,b,i+y,w),_,l),C(_.index)+_[0].length>=g||u>=c)return u}while(_);return u}findMatchesLineByLine(e,t,i,r){const s=[];let o=0;const a=new Fv(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];const c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let u=this.positionInBuffer(l.node,l.remainder);const d=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,u,d,t,i,r,o,s),s;let h=e.startLineNumber,f=l.node;for(;f!==c.node;){const g=this.getLineFeedCnt(f.piece.bufferIndex,u,f.piece.end);if(g>=1){const v=this._buffers[f.piece.bufferIndex].lineStarts,S=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),C=v[u.line+g],y=h===e.startLineNumber?e.startColumn:1;if(o=this.findMatchesInNode(f,a,h,y,u,this.positionInBuffer(f,C-S),t,i,r,o,s),o>=r)return s;h+=g}const _=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const v=this.getLineContent(h).substring(_,e.endColumn-1);return o=this._findMatchesInLine(t,a,v,e.endLineNumber,_,o,s,i,r),s}if(o=this._findMatchesInLine(t,a,this.getLineContent(h).substr(_),h,_,o,s,i,r),o>=r)return s;h++,l=this.nodeAt2(h,1),f=l.node,u=this.positionInBuffer(l.node,l.remainder)}if(h===e.endLineNumber){const g=h===e.startLineNumber?e.startColumn-1:0,_=this.getLineContent(h).substring(g,e.endColumn-1);return o=this._findMatchesInLine(t,a,_,e.endLineNumber,g,o,s,i,r),s}const m=h===e.startLineNumber?e.startColumn:1;return o=this.findMatchesInNode(c.node,a,h,m,u,d,t,i,r,o,s),s}_findMatchesInLine(e,t,i,r,s,o,a,l,c){const u=e.wordSeparators;if(!l&&e.simpleSearch){const h=e.simpleSearch,f=h.length,m=i.length;let g=-f;for(;(g=i.indexOf(h,g+f))!==-1;)if((!u||sq(u,i,m,g,f))&&(a[o++]=new x1(new ce(r,g+1+s,r,g+1+f+s),null),o>=c))return o;return o}let d;t.reset(0);do if(d=t.next(i),d&&(a[o++]=pm(new ce(r,d.index+1+s,r,d.index+1+d[0].length+s),d,l),o>=c))return o;while(d);return o}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==At){const{node:r,remainder:s,nodeStartOffset:o}=this.nodeAt(e),a=r.piece,l=a.bufferIndex,c=this.positionInBuffer(r,s);if(r.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&o+a.length===e&&t.length<Qd){this.appendToNode(r,t),this.computeBufferMetadata();return}if(o===e)this.insertContentToNodeLeft(t,r),this._searchCache.validate(e);else if(o+r.piece.length>e){const u=[];let d=new oa(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(r,s)===10){const g={line:d.start.line+1,column:0};d=new oa(d.bufferIndex,g,d.end,this.getLineFeedCnt(d.bufferIndex,g,d.end),d.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(r,s-1)===13){const g=this.positionInBuffer(r,s-1);this.deleteNodeTail(r,g),t="\r"+t,r.piece.length===0&&u.push(r)}else this.deleteNodeTail(r,c);else this.deleteNodeTail(r,c);const h=this.createNewPieces(t);d.length>0&&this.rbInsertRight(r,d);let f=r;for(let m=0;m<h.length;m++)f=this.rbInsertRight(f,h[m]);this.deleteNodes(u)}else this.insertContentToNodeRight(t,r)}else{const r=this.createNewPieces(t);let s=this.rbInsertLeft(null,r[0]);for(let o=1;o<r.length;o++)s=this.rbInsertRight(s,r[o])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===At)return;const i=this.nodeAt(e),r=this.nodeAt(e+t),s=i.node,o=r.node;if(s===o){const h=this.positionInBuffer(s,i.remainder),f=this.positionInBuffer(s,r.remainder);if(i.nodeStartOffset===e){if(t===s.piece.length){const m=s.next();dN(this,s),this.validateCRLFWithPrevNode(m),this.computeBufferMetadata();return}this.deleteNodeHead(s,f),this._searchCache.validate(e),this.validateCRLFWithPrevNode(s),this.computeBufferMetadata();return}if(i.nodeStartOffset+s.piece.length===e+t){this.deleteNodeTail(s,h),this.validateCRLFWithNextNode(s),this.computeBufferMetadata();return}this.shrinkNode(s,h,f),this.computeBufferMetadata();return}const a=[],l=this.positionInBuffer(s,i.remainder);this.deleteNodeTail(s,l),this._searchCache.validate(e),s.piece.length===0&&a.push(s);const c=this.positionInBuffer(o,r.remainder);this.deleteNodeHead(o,c),o.piece.length===0&&a.push(o);const u=s.next();for(let h=u;h!==At&&h!==o;h=h.next())a.push(h);const d=s.piece.length===0?s.prev():s;this.deleteNodes(a),this.validateCRLFWithNextNode(d),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const o=t.piece,a={line:o.start.line+1,column:0},l=new oa(o.bufferIndex,a,o.end,this.getLineFeedCnt(o.bufferIndex,a,o.end),o.length-1);t.piece=l,e+=`
`,rh(this,t,-1,-1),t.piece.length===0&&i.push(t)}const r=this.createNewPieces(e);let s=this.rbInsertLeft(t,r[r.length-1]);for(let o=r.length-2;o>=0;o--)s=this.rbInsertLeft(s,r[o]);this.validateCRLFWithPrevNode(s),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const i=this.createNewPieces(e),r=this.rbInsertRight(t,i[0]);let s=r;for(let o=1;o<i.length;o++)s=this.rbInsertRight(s,i[o]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,i){const r=e.piece,s=e.piece.bufferIndex,o=this._buffers[s].lineStarts,l=o[r.start.line]+r.start.column+t;let c=r.start.line,u=r.end.line,d=0,h=0,f=0;for(;c<=u&&(d=c+(u-c)/2|0,f=o[d],d!==u);)if(h=o[d+1],l<f)u=d-1;else if(l>=h)c=d+1;else break;return i?(i.line=d,i.column=l-f,null):{line:d,column:l-f}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;const r=this._buffers[e].lineStarts;if(i.line===r.length-1)return i.line-t.line;const s=r[i.line+1],o=r[i.line]+i.column;if(s>o+1)return i.line-t.line;const a=o-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)dN(this,e[t])}createNewPieces(e){if(e.length>Qd){const u=[];for(;e.length>Qd;){const h=e.charCodeAt(Qd-1);let f;h===13||h>=55296&&h<=56319?(f=e.substring(0,Qd-1),e=e.substring(Qd-1)):(f=e.substring(0,Qd),e=e.substring(Qd));const m=ah(f);u.push(new oa(this._buffers.length,{line:0,column:0},{line:m.length-1,column:f.length-m[m.length-1]},m.length-1,f.length)),this._buffers.push(new Cm(f,m))}const d=ah(e);return u.push(new oa(this._buffers.length,{line:0,column:0},{line:d.length-1,column:e.length-d[d.length-1]},d.length-1,e.length)),this._buffers.push(new Cm(e,d)),u}let t=this._buffers[0].buffer.length;const i=ah(e,!1);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let u=0;u<i.length;u++)i[u]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let u=0;u<i.length;u++)i[u]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const s=this._buffers[0].buffer.length,o=this._buffers[0].lineStarts.length-1,a=s-this._buffers[0].lineStarts[o],l={line:o,column:a},c=new oa(0,r,l,this.getLineFeedCnt(0,r,l),s-t);return this._lastChangeBufferPos=l,[c]}getLineRawContent(e,t=0){let i=this.root,r="";const s=this._searchCache.get2(e);if(s){i=s.node;const o=this.getAccumulatedValue(i,e-s.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(s.nodeStartLineNumber+i.piece.lineFeedCnt===e)r=a.substring(l+o,l+i.piece.length);else{const c=this.getAccumulatedValue(i,e-s.nodeStartLineNumber);return a.substring(l+o,l+c-t)}}else{let o=0;const a=e;for(;i!==At;)if(i.left!==At&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1),u=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:a-(e-1-i.lf_left)}),u.substring(d+l,d+c-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this._buffers[i.piece.bufferIndex].buffer,u=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r=c.substring(u+l,u+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==At;){const o=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=o.substring(l,l+a-t),r}else{const a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r+=o.substr(a,i.piece.length)}i=i.next()}return r}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==At;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,r=this.positionInBuffer(e,t),s=r.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const o=this.getLineFeedCnt(e.piece.bufferIndex,i.start,r);if(o!==s)return{index:o,remainder:0}}return{index:s,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,r=this._buffers[i.bufferIndex].lineStarts,s=i.start.line+t+1;return s>i.end.line?r[i.end.line]+i.end.column-r[i.start.line]-i.start.column:r[s]-r[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,r=i.lineFeedCnt,s=this.offsetInBuffer(i.bufferIndex,i.end),o=t,a=this.offsetInBuffer(i.bufferIndex,o),l=this.getLineFeedCnt(i.bufferIndex,i.start,o),c=l-r,u=a-s,d=i.length+u;e.piece=new oa(i.bufferIndex,i.start,o,l,d),rh(this,e,u,c)}deleteNodeHead(e,t){const i=e.piece,r=i.lineFeedCnt,s=this.offsetInBuffer(i.bufferIndex,i.start),o=t,a=this.getLineFeedCnt(i.bufferIndex,o,i.end),l=this.offsetInBuffer(i.bufferIndex,o),c=a-r,u=s-l,d=i.length+u;e.piece=new oa(i.bufferIndex,o,i.end,a,d),rh(this,e,u,c)}shrinkNode(e,t,i){const r=e.piece,s=r.start,o=r.end,a=r.length,l=r.lineFeedCnt,c=t,u=this.getLineFeedCnt(r.bufferIndex,r.start,c),d=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,s);e.piece=new oa(r.bufferIndex,r.start,c,u,d),rh(this,e,d-a,u-l);const h=new oa(r.bufferIndex,i,o,this.getLineFeedCnt(r.bufferIndex,i,o),this.offsetInBuffer(r.bufferIndex,o)-this.offsetInBuffer(r.bufferIndex,i)),f=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const s=ah(t,!1);for(let f=0;f<s.length;f++)s[f]+=r;if(i){const f=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-f}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1));const o=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[o],l={line:o,column:a},c=e.piece.length+t.length,u=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,l),h=d-u;e.piece=new oa(e.piece.bufferIndex,e.piece.start,l,d,c),this._lastChangeBufferPos=l,rh(this,e,t.length,h)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let r=0;for(;t!==At;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){r+=t.size_left;const s={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(s),s}else e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,r=0;for(;i!==At;)if(i.left!==At&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const s=this.getAccumulatedValue(i,e-i.lf_left-2),o=this.getAccumulatedValue(i,e-i.lf_left-1);return r+=i.size_left,{node:i,remainder:Math.min(s+t-1,o),nodeStartOffset:r}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const s=this.getAccumulatedValue(i,e-i.lf_left-2);if(s+t-1<=i.piece.length)return{node:i,remainder:s+t-1,nodeStartOffset:r};t-=i.piece.length-s;break}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==At;){if(i.piece.lineFeedCnt>0){const s=this.getAccumulatedValue(i,0),o=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,s),nodeStartOffset:o}}else if(i.piece.length>=t-1){const s=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:s}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===At||e.piece.lineFeedCnt===0)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,s=i[r]+t.start.column;return r===i.length-1||i[r+1]>s+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(s)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===At||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],r=this._buffers[e.piece.bufferIndex].lineStarts;let s;e.piece.end.column===0?s={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:s={line:e.piece.end.line,column:e.piece.end.column-1};const o=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new oa(e.piece.bufferIndex,e.piece.start,s,a,o),rh(this,e,-1,-1),e.piece.length===0&&i.push(e);const l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,u=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new oa(t.piece.bufferIndex,l,t.piece.end,u,c),rh(this,t,-1,-1),t.piece.length===0&&i.push(t);const d=this.createNewPieces(`\r
`);this.rbInsertRight(e,d[0]);for(let h=0;h<i.length;h++)dN(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)dN(this,i);else{const r=i.piece,s={line:r.start.line+1,column:0},o=r.length-1,a=this.getLineFeedCnt(r.bufferIndex,s,r.end);i.piece=new oa(r.bufferIndex,s,r.end,a,o),rh(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===At)return t(At);const i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===At)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,r=this.offsetInBuffer(i.bufferIndex,i.start),s=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(r,s)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,r)}rbInsertRight(e,t){const i=new Q8(t,1);if(i.left=At,i.right=At,i.parent=At,i.size_left=0,i.lf_left=0,this.root===At)this.root=i,i.color=0;else if(e.right===At)e.right=i,i.parent=e;else{const s=qq(e.right);s.left=i,i.parent=s}return due(this,i),i}rbInsertLeft(e,t){const i=new Q8(t,1);if(i.left=At,i.right=At,i.parent=At,i.size_left=0,i.lf_left=0,this.root===At)this.root=i,i.color=0;else if(e.left===At)e.left=i,i.parent=e;else{const r=CRe(e.left);r.right=i,i.parent=r}return due(this,i),i}}class US extends Ne{constructor(e,t,i,r,s,o,a){super(),this._onDidChangeContent=this._register(new ge),this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._pieceTree=new Hct(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,r=this.getPositionAt(e),s=this.getPositionAt(i);return new ce(r.lineNumber,r.column,s.lineNumber,s.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),r=this.getOffsetAt(e.endLineNumber,e.endColumn);let s=0;const o=this._getEndOfLine(t),a=this.getEOL();if(o.length!==a.length){const l=o.length-a.length,c=e.endLineNumber-e.startLineNumber;s=l*c}return r-i+s}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const r=e.startLineNumber,s=e.endLineNumber;for(let o=r;o<=s;o++){const a=this.getLineContent(o),l=o===r?e.startColumn-1:0,c=o===s?e.endColumn-1:a.length;for(let u=l;u<c;u++)Kr(a.charCodeAt(u))?(i=i+1,u=u+1):i=i+1}return i+=this._getEndOfLine(t).length*(s-r),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=Sa(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=tE(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let r=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,o=this._mightContainNonBasicASCII,a=!0,l=[];for(let g=0;g<e.length;g++){const _=e[g];a&&_._isTracked&&(a=!1);const v=_.range;if(_.text){let w=!0;o||(w=!BK(_.text),o=w),!r&&w&&(r=A1(_.text)),!s&&w&&(s=v1e(_.text))}let S="",C=0,y=0,b=0;if(_.text){let w;[C,y,b,w]=vC(_.text);const I=this.getEOL();w===0||w===(I===`\r
`?2:1)?S=_.text:S=_.text.replace(/\r\n|\r|\n/g,I)}l[g]={sortIndex:g,identifier:_.identifier||null,range:v,rangeOffset:this.getOffsetAt(v.startLineNumber,v.startColumn),rangeLength:this.getValueLengthInRange(v),text:S,eolCount:C,firstLineLength:y,lastLineLength:b,forceMoveMarkers:!!_.forceMoveMarkers,isAutoWhitespaceEdit:_.isAutoWhitespaceEdit||!1}}l.sort(US._sortOpsAscending);let c=!1;for(let g=0,_=l.length-1;g<_;g++){const v=l[g].range.getEndPosition(),S=l[g+1].range.getStartPosition();if(S.isBeforeOrEqual(v)){if(S.isBefore(v))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));const u=i||t?US._getInverseEditRanges(l):[],d=[];if(t)for(let g=0;g<l.length;g++){const _=l[g],v=u[g];if(_.isAutoWhitespaceEdit&&_.range.isEmpty())for(let S=v.startLineNumber;S<=v.endLineNumber;S++){let C="";S===v.startLineNumber&&(C=this.getLineContent(_.range.startLineNumber),Sa(C)!==-1)||d.push({lineNumber:S,oldContent:C})}}let h=null;if(i){let g=0;h=[];for(let _=0;_<l.length;_++){const v=l[_],S=u[_],C=this.getValueInRange(v.range),y=v.rangeOffset+g;g+=v.text.length-C.length,h[_]={sortIndex:v.sortIndex,identifier:v.identifier,range:S,text:C,textChange:new ys(v.rangeOffset,C,y,v.text)}}c||h.sort((_,v)=>_.sortIndex-v.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=o;const f=this._doApplyEdits(l);let m=null;if(t&&d.length>0){d.sort((g,_)=>_.lineNumber-g.lineNumber),m=[];for(let g=0,_=d.length;g<_;g++){const v=d[g].lineNumber;if(g>0&&d[g-1].lineNumber===v)continue;const S=d[g].oldContent,C=this.getLineContent(v);C.length===0||C===S||Sa(C)!==-1||m.push(v)}}return this._onDidChangeContent.fire(),new Vet(h,f,m)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,r=e[e.length-1].range,s=new ce(i.startLineNumber,i.startColumn,r.endLineNumber,r.endColumn);let o=i.startLineNumber,a=i.startColumn;const l=[];for(let f=0,m=e.length;f<m;f++){const g=e[f],_=g.range;t=t||g.forceMoveMarkers,l.push(this.getValueInRange(new ce(o,a,_.startLineNumber,_.startColumn))),g.text.length>0&&l.push(g.text),o=_.endLineNumber,a=_.endColumn}const c=l.join(""),[u,d,h]=vC(c);return{sortIndex:0,identifier:e[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:c,eolCount:u,firstLineLength:d,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(US._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const r=e[i],s=r.range.startLineNumber,o=r.range.startColumn,a=r.range.endLineNumber,l=r.range.endColumn;if(s===a&&o===l&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const c=new ce(s,o,a,l);t.push({range:c,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,r){return this._pieceTree.findMatchesLineByLine(e,t,i,r)}static _getInverseEditRanges(e){const t=[];let i=0,r=0,s=null;for(let o=0,a=e.length;o<a;o++){const l=e[o];let c,u;s?s.range.endLineNumber===l.range.startLineNumber?(c=i,u=r+(l.range.startColumn-s.range.endColumn)):(c=i+(l.range.startLineNumber-s.range.endLineNumber),u=l.range.startColumn):(c=l.range.startLineNumber,u=l.range.startColumn);let d;if(l.text.length>0){const h=l.eolCount+1;h===1?d=new ce(c,u,c,u+l.firstLineLength):d=new ce(c,u,c+h-1,l.lastLineLength+1)}else d=new ce(c,u,c,u);i=d.endLineNumber,r=d.endColumn,t.push(d),s=l}return t}static _sortOpsAscending(e,t){const i=ce.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=ce.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}class Vct{constructor(e,t,i,r,s,o,a,l,c){this._chunks=e,this._bom=t,this._cr=i,this._lf=r,this._crlf=s,this._containsRTL=o,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let s=0,o=i.length;s<o;s++){const a=i[s].buffer.replace(/\r\n|\r|\n/g,t),l=ah(a);i[s]=new Cm(a,l)}const r=new US(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}class bRe{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&HK(e)&&(this.BOM=OQe,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=Fct(this._tmpLineStarts,e);this.chunks.push(new Cm(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=A1(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=v1e(e)))}finish(e=!0){return this._finish(),new Vct(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=ah(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}class Wct{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(t===0){this.insert(e,i);return}else if(i===0){this.delete(e,t);return}const r=this._store.slice(0,e),s=this._store.slice(e+t),o=$ct(i,this._default);this._store=r.concat(o,s)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const i=[];for(let r=0;r<t;r++)i[r]=this._default;this._store=AM(this._store,e,i)}}function $ct(n,e){const t=[];for(let i=0;i<n;i++)t[i]=e;return t}class Gct{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class Z8{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new Gct(e,[t]))}finalize(){return this._tokens}}class zct{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new J8(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class jct extends zct{constructor(e,t,i,r){super(e,t),this._textModel=i,this._languageIdCodec=r}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const r=this.getFirstInvalidLine();if(!r||r.lineNumber>t)break;const s=this._textModel.getLineContent(r.lineNumber),o=Gb(this._languageIdCodec,i,this.tokenizationSupport,s,!0,r.startState);e.add(r.lineNumber,o.tokens),this.store.setEndState(r.lineNumber,o.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const r=this._textModel.getLanguageId(),s=this._textModel.getLineContent(e.lineNumber),o=s.substring(0,e.column-1)+t+s.substring(e.column-1),a=Gb(this._languageIdCodec,r,this.tokenizationSupport,o,!0,i),l=new ls(a.tokens,o,this._languageIdCodec);if(l.getCount()===0)return 0;const c=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(c)}tokenizeLineWithEdit(e,t,i){const r=e.lineNumber,s=e.column,o=this.getStartState(r);if(!o)return null;const a=this._textModel.getLineContent(r),l=a.substring(0,s-1)+i+a.substring(s-1+t),c=this._textModel.getLanguageIdAtPosition(r,0),u=Gb(this._languageIdCodec,c,this.tokenizationSupport,l,!0,o);return new ls(u.tokens,l,this._languageIdCodec)}hasAccurateTokensForLine(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let r=this.guessStartState(t);const s=this._textModel.getLanguageId();for(let o=t;o<=i;o++){const a=this._textModel.getLineContent(o),l=Gb(this._languageIdCodec,s,this.tokenizationSupport,a,!0,r);e.add(o,l.tokens),r=l.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let r=null;for(let a=e-1;t>1&&a>=1;a--){const l=this._textModel.getLineFirstNonWhitespaceColumn(a);if(l!==0&&l<t&&(i.push(this._textModel.getLineContent(a)),t=l,r=this.getStartState(a),r))break}r||(r=this.tokenizationSupport.getInitialState()),i.reverse();const s=this._textModel.getLanguageId();let o=r;for(const a of i)o=Gb(this._languageIdCodec,s,this.tokenizationSupport,a,!1,o).endState;return o}}class J8{constructor(e){this.lineCount=e,this._tokenizationStateStore=new Yct,this._invalidEndStatesLineNumbers=new Kct,this._invalidEndStatesLineNumbers.addRange(new jt(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new Kn("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new jt(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new jt(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[i]=vC(t.text);this.acceptChange(new Rt(t.range.startLineNumber,t.range.endLineNumber+1),i+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new jt(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;const i=this.getStartState(t,e);if(!i)throw new Kn("Start state must be defined");return{lineNumber:t,startState:i}}}class Yct{constructor(){this._lineEndStates=new Wct(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return i&&i.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}}class Kct{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(i=>i.contains(e));if(t!==-1){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new jt(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new jt(i.start,e):this._ranges.splice(t,1,new jt(i.start,e),new jt(e+1,i.endExclusive))}}addRange(e){jt.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let r=i;for(;!(r>=this._ranges.length||e.endExclusive<this._ranges[r].start);)r++;const s=t-e.length;for(let o=r;o<this._ranges.length;o++)this._ranges[o]=this._ranges[o].delta(s);if(i===r){const o=new jt(e.start,e.start+t);o.isEmpty||this._ranges.splice(i,0,o)}else{const o=Math.min(e.start,this._ranges[i].start),a=Math.max(e.endExclusive,this._ranges[r-1].endExclusive),l=new jt(o,a+s);l.isEmpty?this._ranges.splice(i,r-i):this._ranges.splice(i,r-i,l)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}}function Gb(n,e,t,i,r,s){let o=null;if(t)try{o=t.tokenizeEncoded(i,r,s.clone())}catch(a){hi(a)}return o||(o=Nq(n.encodeLanguageId(e),s)),ls.convertToEndOffset(o.tokens,i.length),o}class qct{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,R1e(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?Y0e(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new Z8,i=eE.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){var i;const t=(i=this._tokenizerWithStateStore)==null?void 0:i.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new Rt(e,t))}}class Xct{constructor(){this._onDidChangeVisibleRanges=new ge,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new Qct(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class Qct{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map(r=>new Rt(r.startLineNumber,r.endLineNumber+1));this.handleStateChange({visibleLineRanges:i,stabilized:t})}}class Zct extends Ne{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new ho(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){Mr(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class TRe extends Ne{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new ge),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new ge),this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}}class hue extends TRe{constructor(e,t,i,r){super(t,i,r),this._treeSitterService=e,this._tokenizationSupport=null,this._initialize()}_initialize(){const e=this.getLanguageId();(!this._tokenizationSupport||this._lastLanguageId!==e)&&(this._lastLanguageId=e,this._tokenizationSupport=f7.get(e))}getLineTokens(e){const t=this._textModel.getLineContent(e);if(this._tokenizationSupport){const i=this._tokenizationSupport.tokenizeEncoded(e,this._textModel);if(i)return new ls(i,t,this._languageIdCodec)}return ls.createEmpty(t,this._languageIdCodec)}resetTokenization(e=!0){e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(e){e.isFlush&&this.resetTokenization(!1)}forceTokenization(e){}hasAccurateTokensForLine(e){return!0}isCheapToTokenize(e){return!0}getTokenTypeIfInsertingCharacter(e,t,i){return 0}tokenizeLineWithEdit(e,t,i){return null}get hasTokens(){return this._treeSitterService.getParseResult(this._textModel)!==void 0}}const wRe=Cn("treeSitterParserService"),lh=new Uint32Array(0).buffer;class ju{static deleteBeginning(e,t){return e===null||e===lh?e:ju.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===lh)return e;const i=Rh(e),r=i[i.length-2];return ju.delete(e,t,r)}static delete(e,t,i){if(e===null||e===lh||t===i)return e;const r=Rh(e),s=r.length>>>1;if(t===0&&r[r.length-2]===i)return lh;const o=ls.findIndexInTokensArray(r,t),a=o>0?r[o-1<<1]:0,l=r[o<<1];if(i<l){const f=i-t;for(let m=o;m<s;m++)r[m<<1]-=f;return e}let c,u;a!==t?(r[o<<1]=t,c=o+1<<1,u=t):(c=o<<1,u=a);const d=i-t;for(let f=o+1;f<s;f++){const m=r[f<<1]-d;m>u&&(r[c++]=m,r[c++]=r[(f<<1)+1],u=m)}if(c===r.length)return e;const h=new Uint32Array(c);return h.set(r.subarray(0,c),0),h.buffer}static append(e,t){if(t===lh)return e;if(e===lh)return t;if(e===null)return e;if(t===null)return null;const i=Rh(e),r=Rh(t),s=r.length>>>1,o=new Uint32Array(i.length+r.length);o.set(i,0);let a=i.length;const l=i[i.length-2];for(let c=0;c<s;c++)o[a++]=r[c<<1]+l,o[a++]=r[(c<<1)+1];return o.buffer}static insert(e,t,i){if(e===null||e===lh)return e;const r=Rh(e),s=r.length>>>1;let o=ls.findIndexInTokensArray(r,t);o>0&&r[o-1<<1]===t&&o--;for(let a=o;a<s;a++)r[a<<1]+=i;return e}}function Rh(n){return n instanceof Uint32Array?n:new Uint32Array(n)}class Y1{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let r=null;if(t<this._len&&(r=this._lineTokens[t]),r!==null&&r!==lh)return new ls(Rh(r),i,this._languageIdCodec);const s=new Uint32Array(2);return s[0]=i.length,s[1]=fue(this._languageIdCodec.encodeLanguageId(e)),new ls(s,i,this._languageIdCodec)}static _massageTokens(e,t,i){const r=i?Rh(i):null;if(t===0){let s=!1;if(r&&r.length>1&&(s=zc.getLanguageId(r[1])!==e),!s)return lh}if(!r||r.length===0){const s=new Uint32Array(2);return s[0]=t,s[1]=fue(e),s.buffer}return r[r.length-2]=t,r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const i=[];for(let r=0;r<t;r++)i[r]=null;this._lineTokens=AM(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,r,s){const o=Y1._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,r);this._ensureLine(t);const a=this._lineTokens[t];return this._lineTokens[t]=o,s?!Y1._equals(a,o):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=Rh(e),r=Rh(t);if(i.length!==r.length)return!1;for(let s=0,o=i.length;s<o;s++)if(i[s]!==r[s])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new Ee(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=ju.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=ju.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let r=null;i<this._len&&(r=ju.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=ju.append(this._lineTokens[t],r),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const r=e.lineNumber-1;if(!(r>=this._len)){if(t===0){this._lineTokens[r]=ju.insert(this._lineTokens[r],e.column-1,i);return}this._lineTokens[r]=ju.deleteEnding(this._lineTokens[r],e.column-1),this._lineTokens[r]=ju.insert(this._lineTokens[r],e.column-1,i),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];let a=0,l=0,c=!1;for(let u=o.startLineNumber;u<=o.endLineNumber;u++)c?(this.setTokens(t.getLanguageId(),u-1,t.getLineLength(u),o.getLineTokens(u),!1),l=u):this.setTokens(t.getLanguageId(),u-1,t.getLineLength(u),o.getLineTokens(u),!0)&&(c=!0,a=u,l=u);c&&i.push({fromLineNumber:a,toLineNumber:l})}return{changes:i}}}function fue(n){return(n<<0|0|0|32768|2<<24|1024)>>>0}class Zq{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const s=t[0].getRange(),o=t[t.length-1].getRange();if(!s||!o)return e;i=e.plusRange(s).plusRange(o)}let r=null;for(let s=0,o=this._pieces.length;s<o;s++){const a=this._pieces[s];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:s};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(s,1),s--,o--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:s};continue}const[l,c]=a.split(i);if(l.isEmpty()){r=r||{index:s};continue}c.isEmpty()||(this._pieces.splice(s,1,l,c),s++,o++,r=r||{index:s})}return r=r||{index:this._pieces.length},t.length>0&&(this._pieces=AM(this._pieces,r.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;const i=this._pieces;if(i.length===0)return t;const r=Zq._findFirstPieceWithLine(i,e),s=i[r].getLineTokens(e);if(!s)return t;const o=t.getCount(),a=s.getCount();let l=0;const c=[];let u=0,d=0;const h=(f,m)=>{f!==d&&(d=f,c[u++]=f,c[u++]=m)};for(let f=0;f<a;f++){const m=s.getStartCharacter(f),g=s.getEndCharacter(f),_=s.getMetadata(f),v=((_&1?2048:0)|(_&2?4096:0)|(_&4?8192:0)|(_&8?16384:0)|(_&16?16744448:0)|(_&32?4278190080:0))>>>0,S=~v>>>0;for(;l<o&&t.getEndOffset(l)<=m;)h(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<o&&t.getStartOffset(l)<m&&h(m,t.getMetadata(l));l<o&&t.getEndOffset(l)<g;)h(t.getEndOffset(l),t.getMetadata(l)&S|_&v),l++;if(l<o)h(g,t.getMetadata(l)&S|_&v),t.getEndOffset(l)===g&&l++;else{const C=Math.min(Math.max(0,l-1),o-1);h(g,t.getMetadata(C)&S|_&v)}}for(;l<o;)h(t.getEndOffset(l),t.getMetadata(l)),l++;return new ls(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,r=e.length-1;for(;i<r;){let s=i+Math.floor((r-i)/2);if(e[s].endLineNumber<t)i=s+1;else if(e[s].startLineNumber>t)r=s-1;else{for(;s>i&&e[s-1].startLineNumber<=t&&t<=e[s-1].endLineNumber;)s--;return s}}return i}acceptEdit(e,t,i,r,s){for(const o of this._pieces)o.acceptEdit(e,t,i,r,s)}}var Jct=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},k3=function(n,e){return function(t,i){e(t,i,n)}},CL;let e$=CL=class extends pRe{constructor(e,t,i,r,s,o,a){super(),this._textModel=e,this._bracketPairsTextModelPart=t,this._languageId=i,this._attachedViews=r,this._languageService=s,this._languageConfigurationService=o,this._treeSitterService=a,this._semanticTokens=new Zq(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new ge),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new ge),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new ge),this.onDidChangeTokens=this._onDidChangeTokens.event,this._tokensDisposables=this._register(new at),this._register(this._languageConfigurationService.onDidChange(l=>{l.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(Ue.filter(f7.onDidChange,l=>l.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new gue(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new hue(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(e){var i;const t=this._tokens!==void 0;(i=this._tokens)==null||i.dispose(),this._tokens=e?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens(r=>{this._emitModelTokensChangedEvent(r)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(r=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),t&&this._tokens.resetTokenization()}createPreferredTokenProvider(){f7.get(this._languageId)?this._tokens instanceof hue||this.createTokens(!0):this._tokens instanceof gue||this.createTokens(!1)}handleLanguageConfigurationServiceChange(e){e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[i,r,s]=vC(t.text);this._semanticTokens.acceptEdit(t.range,i,r,s,t.text.length>0?t.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(e)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this._tokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new Kn("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this._tokens.forceTokenization(e)}hasAccurateTokensForLine(e){return this.validateLineNumber(e),this._tokens.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this._tokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this._tokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this._tokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this._tokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),r=this.getLineTokens(t.lineNumber),s=r.findTokenIndexAtOffset(t.column-1),[o,a]=CL._findLanguageBoundaries(r,s),l=y1(t.column,this.getLanguageConfiguration(r.getLanguageId(s)).getWordDefinition(),i.substring(o,a),o);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(s>0&&o===t.column-1){const[c,u]=CL._findLanguageBoundaries(r,s-1),d=y1(t.column,this.getLanguageConfiguration(r.getLanguageId(s-1)).getWordDefinition(),i.substring(c,u),c);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn)return d}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let r=0;for(let o=t;o>=0&&e.getLanguageId(o)===i;o--)r=e.getStartOffset(o);let s=e.getLineContent().length;for(let o=t,a=e.getCount();o<a&&e.getLanguageId(o)===i;o++)s=e.getEndOffset(o);return[r,s]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new Ee(e,t)),r=this.getLineTokens(i.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(i.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}};e$=CL=Jct([k3(4,Zr),k3(5,Od),k3(6,wRe)],e$);class gue extends TRe{constructor(e,t,i,r){super(e,t,i),this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new rf),this._tokens=new Y1(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new rf),this._attachedViewStates=this._register(new IK),this._register(gr.onDidChange(s=>{const o=this.getLanguageId();s.changedLanguages.indexOf(o)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(r.onDidChangeVisibleRanges(({view:s,state:o})=>{if(o){let a=this._attachedViewStates.get(s);a||(a=new Zct(()=>this.refreshRanges(a.lineRanges)),this._attachedViewStates.set(s,a)),a.handleStateChange(o)}else this._attachedViewStates.deleteAndDispose(s)}))}resetTokenization(e=!0){var s;this._tokens.flush(),(s=this._debugBackgroundTokens)==null||s.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new J8(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const t=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const o=gr.get(this.getLanguageId());if(!o)return[null,null];let a;try{a=o.getInitialState()}catch(l){return hi(l),[null,null]}return[o,a]},[i,r]=t();if(i&&r?this._tokenizer=new jct(this._textModel.getLineCount(),i,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const o={setTokens:a=>{this.setTokens(a)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const a=2;this._backgroundTokenizationState=a,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(a,l)=>{var u;if(!this._tokenizer)return;const c=this._tokenizer.store.getFirstInvalidEndStateLineNumber();c!==null&&a>=c&&((u=this._tokenizer)==null||u.store.setEndState(a,l))}};i&&i.createBackgroundTokenizer&&!i.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,o)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new qct(this._tokenizer,o),this._defaultBackgroundTokenizer.handleChanges()),i!=null&&i.backgroundTokenizerShouldOnlyVerifyTokens&&i.createBackgroundTokenizer?(this._debugBackgroundTokens=new Y1(this._languageIdCodec),this._debugBackgroundStates=new J8(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,{setTokens:a=>{var l;(l=this._debugBackgroundTokens)==null||l.setMultilineTokens(a,this._textModel)},backgroundTokenizationFinished(){},setEndState:(a,l)=>{var c;(c=this._debugBackgroundStates)==null||c.setEndState(a,l)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var e;(e=this._defaultBackgroundTokenizer)==null||e.handleChanges()}handleDidChangeContent(e){var t,i,r;if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const s of e.changes){const[o,a]=vC(s.text);this._tokens.acceptEdit(s.range,o,a),(t=this._debugBackgroundTokens)==null||t.acceptEdit(s.range,o,a)}(i=this._debugBackgroundStates)==null||i.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),(r=this._defaultBackgroundTokenizer)==null||r.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=Rt.joinMany([...this._attachedViewStates].map(([t,i])=>i.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){var o,a;if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const i=new Z8,{heuristicTokens:r}=this._tokenizer.tokenizeHeuristically(i,e,t),s=this.setTokens(i.finalize());if(r)for(const l of s.changes)(o=this._backgroundTokenizer.value)==null||o.requestTokens(l.fromLineNumber,l.toLineNumber+1);(a=this._defaultBackgroundTokenizer)==null||a.checkFinished()}forceTokenization(e){var i,r;const t=new Z8;(i=this._tokenizer)==null||i.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),(r=this._defaultBackgroundTokenizer)==null||r.checkFinished()}hasAccurateTokensForLine(e){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(e):!0}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}getLineTokens(e){var r;const t=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const s=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!i.equals(s)&&((r=this._debugBackgroundTokenizer.value)!=null&&r.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return i}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const r=this._textModel.validatePosition(new Ee(e,t));return this.forceTokenization(r.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(r,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const r=this._textModel.validatePosition(e);return this.forceTokenization(r.lineNumber),this._tokenizer.tokenizeLineWithEdit(r,t,i)}get hasTokens(){return this._tokens.hasTokens}}class eut{constructor(){this.changeType=1}}class pu{static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",r=0;for(const s of t)i+=e.substring(r,s.column-1),r=s.column-1,i+=s.options.content;return i+=e.substring(r),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new pu(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new pu(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,r)=>i.lineNumber===r.lineNumber?i.column===r.column?i.order-r.order:i.column-r.column:i.lineNumber-r.lineNumber),t}constructor(e,t,i,r,s){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=r,this.order=s}}class pue{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class tut{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class nut{constructor(e,t,i,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class iut{constructor(){this.changeType=5}}class HS{constructor(e,t,i,r){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=r,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.versionId,s=e.isUndoing||t.isUndoing,o=e.isRedoing||t.isRedoing;return new HS(i,r,s,o)}}class ARe{constructor(e){this.changes=e}}class t_{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=HS.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=t_._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new t_(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.eol,s=t.versionId,o=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush,c=e.isEolChange&&t.isEolChange;return{changes:i,eol:r,isEolChange:c,versionId:s,isUndoing:o,isRedoing:a,isFlush:l}}}var rut=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},hN=function(n,e){return function(t,i){e(t,i,n)}},rm;function sut(n){const e=new bRe;return e.acceptChunk(n),e.finish()}function out(n){const e=new bRe;let t;for(;typeof(t=n.read())=="string";)e.acceptChunk(t);return e.finish()}function mue(n,e){let t;return typeof n=="string"?t=sut(n):Uet(n)?t=out(n):t=n,t.create(e)}let fN=0;const aut=999,lut=1e4;class cut{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;do{const r=this._source.read();if(r===null)return this._eos=!0,t===0?null:e.join("");if(r.length>0&&(e[t++]=r,i+=r.length),i>=64*1024)return e.join("")}while(!0)}}const zb=()=>{throw new Error("Invalid change accessor")};var Yc;let t$=(Yc=class extends Ne{static resolveOptions(e,t){if(t.detectIndentation){const i=rue(e,t.tabSize,t.insertSpaces);return new dL({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new dL(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return dd(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i,r=null,s,o,a,l){super(),this._undoRedoService=s,this._languageService=o,this._languageConfigurationService=a,this.instantiationService=l,this._onWillDispose=this._register(new ge),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new put(m=>this.handleBeforeFireDecorationsChangedEvent(m))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new ge),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new ge),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new ge),this._eventEmitter=this._register(new mut),this._languageSelectionListener=this._register(new rf),this._deltaDecorationCallCnt=0,this._attachedViews=new Xct,fN++,this.id="$model"+fN,this.isForSimpleWidget=i.isForSimpleWidget,typeof r>"u"||r===null?this._associatedResource=en.parse("inmemory://model/"+fN):this._associatedResource=r,this._attachedEditorCount=0;const{textBuffer:c,disposable:u}=mue(e,i.defaultEOL);this._buffer=c,this._bufferDisposable=u,this._options=rm.resolveOptions(this._buffer,i);const d=typeof t=="string"?t:t.languageId;typeof t!="string"&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new gct(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Sct(this,this._languageConfigurationService)),this._decorationProvider=this._register(new mct(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(e$,this,this._bracketPairs,d,this._attachedViews);const h=this._buffer.getLineCount(),f=this._buffer.getValueLengthInRange(new ce(1,1,h,this._buffer.getLineLength(h)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=f>rm.LARGE_FILE_SIZE_THRESHOLD||h>rm.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=f>rm.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=f>rm._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=S1e(fN),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new _ue,this._commandManager=new Kq(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(d),this._register(this._languageConfigurationService.onDidChange(m=>{this._bracketPairs.handleLanguageConfigurationServiceChange(m),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(m)}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new US([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=Ne.None}_assertNotDisposed(){if(this._isDisposed)throw new Kn("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new t_(e,t)))}setValue(e){if(this._assertNotDisposed(),e==null)throw IM();const{textBuffer:t,disposable:i}=mue(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,r,s,o,a,l){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:r}],eol:this._buffer.getEOL(),isEolChange:l,versionId:this.getVersionId(),isUndoing:s,isRedoing:o,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),s=this.getLineCount(),o=this.getLineMaxColumn(s);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new _ue,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new HS([new eut],this._versionId,!1,!1),this._createContentChanged2(new ce(1,1,s,o),0,r,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),s=this.getLineCount(),o=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new HS([new iut],this._versionId,!1,!1),this._createContentChanged2(new ce(1,1,s,o),0,r,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,r=t.length;i<r;i++){const s=t[i],o=s.range,a=s.cachedAbsoluteStart-s.start,l=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),c=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);s.cachedAbsoluteStart=l,s.cachedAbsoluteEnd=c,s.cachedVersionId=e,s.start=l-a,s.end=c-a,ep(s)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let r=1;r<=i;r++){const s=this._buffer.getLineLength(r);s>=lut?t+=s:e+=s}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,i=typeof e.indentSize<"u"?e.indentSize:this._options.originalIndentSize,r=typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,s=typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,o=typeof e.bracketColorizationOptions<"u"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new dL({tabSize:t,indentSize:i,insertSpaces:r,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s,bracketPairColorizationOptions:o});if(this._options.equals(a))return;const l=this._options.createChangeEvent(a);this._options=a,this._bracketPairs.handleDidChangeOptions(l),this._decorationProvider.handleDidChangeOptions(l),this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();const i=rue(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),lRe(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(E1e.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new Kn("Operation would exceed heap memory limits");const i=this.getFullModelRange(),r=this.getValueInRange(i,e);return t?this._buffer.getBOM()+r:r}createSnapshot(e=!1){return new cut(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+r:r}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Kn("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Kn("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new Kn("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Kn("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Kn("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Kn("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,r=e.startColumn;let s=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),o=Math.floor(typeof r=="number"&&!isNaN(r)?r:1);if(s<1)s=1,o=1;else if(s>t)s=t,o=this.getLineMaxColumn(s);else if(o<=1)o=1;else{const d=this.getLineMaxColumn(s);o>=d&&(o=d)}const a=e.endLineNumber,l=e.endColumn;let c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),u=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(c<1)c=1,u=1;else if(c>t)c=t,u=this.getLineMaxColumn(c);else if(u<=1)u=1;else{const d=this.getLineMaxColumn(c);u>=d&&(u=d)}return i===s&&r===o&&a===c&&l===u&&e instanceof ce&&!(e instanceof vn)?e:new ce(s,o,c,u)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const r=this._buffer.getLineCount();if(e>r)return!1;if(t===1)return!0;const s=this.getLineMaxColumn(e);if(t>s)return!1;if(i===1){const o=this._buffer.getLineCharCode(e,t-2);if(Kr(o))return!1}return!0}_validatePosition(e,t,i){const r=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),s=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),o=this._buffer.getLineCount();if(r<1)return new Ee(1,1);if(r>o)return new Ee(o,this.getLineMaxColumn(o));if(s<=1)return new Ee(r,1);const a=this.getLineMaxColumn(r);if(s>=a)return new Ee(r,a);if(i===1){const l=this._buffer.getLineCharCode(r,s-2);if(Kr(l))return new Ee(r,s-1)}return new Ee(r,s)}validatePosition(e){return this._assertNotDisposed(),e instanceof Ee&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn;if(!this._isValidPosition(i,r,0)||!this._isValidPosition(s,o,0))return!1;if(t===1){const a=r>1?this._buffer.getLineCharCode(i,r-2):0,l=o>1&&o<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,o-2):0,c=Kr(a),u=Kr(l);return!c&&!u}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof ce&&!(e instanceof vn)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),r=this._validatePosition(e.endLineNumber,e.endColumn,0),s=i.lineNumber,o=i.column,a=r.lineNumber,l=r.column;{const c=o>1?this._buffer.getLineCharCode(s,o-2):0,u=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,d=Kr(c),h=Kr(u);return!d&&!h?new ce(s,o,a,l):s===a&&o===l?new ce(s,o-1,a,l-1):d&&h?new ce(s,o-1,a,l+1):d?new ce(s,o-1,a,l):new ce(s,o,a,l+1)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new ce(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,r){return this._buffer.findMatchesLineByLine(e,t,i,r)}findMatches(e,t,i,r,s,o,a=aut){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(d=>ce.isIRange(d))&&(l=t.map(d=>this.validateRange(d)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((d,h)=>d.startLineNumber-h.startLineNumber||d.startColumn-h.startColumn);const c=[];c.push(l.reduce((d,h)=>ce.areIntersecting(d,h)?d.plusRange(h):(c.push(d),h)));let u;if(!i&&e.indexOf(`
`)<0){const h=new lv(e,i,r,s).parseSearchRequest();if(!h)return[];u=f=>this.findMatchesLineByLine(f,h,o,a)}else u=d=>jI.findMatches(this,new lv(e,i,r,s),d,o,a);return c.map(u).reduce((d,h)=>d.concat(h),[])}findNextMatch(e,t,i,r,s,o){this._assertNotDisposed();const a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const c=new lv(e,i,r,s).parseSearchRequest();if(!c)return null;const u=this.getLineCount();let d=new ce(a.lineNumber,a.column,u,this.getLineMaxColumn(u)),h=this.findMatchesLineByLine(d,c,o,1);return jI.findNextMatch(this,new lv(e,i,r,s),a,o),h.length>0||(d=new ce(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),h=this.findMatchesLineByLine(d,c,o,1),h.length>0)?h[0]:null}return jI.findNextMatch(this,new lv(e,i,r,s),a,o)}findPreviousMatch(e,t,i,r,s,o){this._assertNotDisposed();const a=this.validatePosition(t);return jI.findPreviousMatch(this,new lv(e,i,r,s),a,o)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof f3?e:new f3(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,r){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,r)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,r){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const s=t.map(a=>({range:this.validateRange(a.range),text:a.text}));let o=!0;if(e)for(let a=0,l=e.length;a<l;a++){const c=e[a];let u=!1;for(let d=0,h=s.length;d<h;d++){const f=s[d].range,m=f.startLineNumber>c.endLineNumber,g=c.startLineNumber>f.endLineNumber;if(!m&&!g){u=!0;break}}if(!u){o=!1;break}}if(o)for(let a=0,l=this._trimAutoWhitespaceLines.length;a<l;a++){const c=this._trimAutoWhitespaceLines[a],u=this.getLineMaxColumn(c);let d=!0;for(let h=0,f=s.length;h<f;h++){const m=s[h].range,g=s[h].text;if(!(c<m.startLineNumber||c>m.endLineNumber)&&!(c===m.startLineNumber&&m.startColumn===u&&m.isEmpty()&&g&&g.length>0&&g.charAt(0)===`
`)&&!(c===m.startLineNumber&&m.startColumn===1&&m.isEmpty()&&g&&g.length>0&&g.charAt(g.length-1)===`
`)){d=!1;break}}if(d){const h=new ce(c,1,c,u);t.push(new f3(null,h,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,r)}_applyUndo(e,t,i,r){const s=e.map(o=>{const a=this.getPositionAt(o.newPosition),l=this.getPositionAt(o.newEnd);return{range:new ce(a.lineNumber,a.column,l.lineNumber,l.column),text:o.oldText}});this._applyUndoRedoEdits(s,t,!0,!1,i,r)}_applyRedo(e,t,i,r){const s=e.map(o=>{const a=this.getPositionAt(o.oldPosition),l=this.getPositionAt(o.oldEnd);return{range:new ce(a.lineNumber,a.column,l.lineNumber,l.column),text:o.newText}});this._applyUndoRedoEdits(s,t,!1,!0,i,r)}_applyUndoRedoEdits(e,t,i,r,s,o){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=r,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(s)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(o),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),s=this._buffer.getLineCount(),o=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,o.length!==0){for(let c=0,u=o.length;c<u;c++){const d=o[c];this._decorationsTree.acceptReplace(d.rangeOffset,d.rangeLength,d.text.length,d.forceMoveMarkers)}const a=[];this._increaseVersionId();let l=i;for(let c=0,u=o.length;c<u;c++){const d=o[c],[h]=vC(d.text);this._onDidChangeDecorations.fire();const f=d.range.startLineNumber,m=d.range.endLineNumber,g=m-f,_=h,v=Math.min(g,_),S=_-g,C=s-l-S+f,y=C,b=C+_,w=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new Ee(y,1)),this.getOffsetAt(new Ee(b,this.getLineMaxColumn(b))),0),I=pu.fromDecorations(w),O=new nf(I);for(let x=v;x>=0;x--){const k=f+x,P=C+x;O.takeFromEndWhile(W=>W.lineNumber>P);const M=O.takeFromEndWhile(W=>W.lineNumber===P);a.push(new pue(k,this.getLineContent(P),M))}if(v<g){const x=f+v;a.push(new tut(x+1,m))}if(v<_){const x=new nf(I),k=f+v,P=_-v,M=s-l-P+k+1,W=[],F=[];for(let H=0;H<P;H++){const V=M+H;F[H]=this.getLineContent(V),x.takeWhile(Y=>Y.lineNumber<V),W[H]=x.takeWhile(Y=>Y.lineNumber===V)}a.push(new nut(k+1,f+_,F,W))}l+=S}this._emitContentChangedEvent(new HS(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return r.reverseEdits===null?void 0:r.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=Array.from(e).map(r=>new pue(r,this.getLineContent(r),this._getInjectedTextInLine(r)));this._onDidChangeInjectedText.fire(new ARe(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(s,o)=>this._deltaDecorationsImpl(e,[],[{range:s,options:o}])[0],changeDecoration:(s,o)=>{this._changeDecorationImpl(s,o)},changeDecorationOptions:(s,o)=>{this._changeDecorationOptionsImpl(s,vue(o))},removeDecoration:s=>{this._deltaDecorationsImpl(e,[s],[])},deltaDecorations:(s,o)=>s.length===0&&o.length===0?[]:this._deltaDecorationsImpl(e,s,o)};let r=null;try{r=t(i)}catch(s){hi(s)}return i.addDecoration=zb,i.changeDecoration=zb,i.changeDecorationOptions=zb,i.removeDecoration=zb,i.deltaDecorations=zb,r}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),hi(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const r=e?this._decorations[e]:null;if(!r)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Eue[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(r),delete this._decorations[r.id],null;const s=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),a=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(r),r.reset(this.getVersionId(),o,a,s),r.setOptions(Eue[i]),this._decorationsTree.insert(r),r.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,r=t.length;i<r;i++){const s=t[i];this._decorationsTree.delete(s),delete this._decorations[s.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,r=!1,s=!1){const o=this.getLineCount(),a=Math.min(o,Math.max(1,e)),l=Math.min(o,Math.max(1,t)),c=this.getLineMaxColumn(l),u=new ce(a,1,l,c),d=this._getDecorationsInRange(u,i,r,s);return J9(d,this._decorationProvider.getDecorationsInRange(u,i,r)),d}getDecorationsInRange(e,t=0,i=!1,r=!1,s=!1){const o=this.validateRange(e),a=this._getDecorationsInRange(o,t,i,s);return J9(a,this._decorationProvider.getDecorationsInRange(o,t,i,r)),a}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),r=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return pu.fromDecorations(r).filter(s=>s.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,r){const s=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,s,o,t,i,r)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}const r=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),o=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),s,o,r),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const r=!!(i.options.overviewRuler&&i.options.overviewRuler.color),s=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const l=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.endLineNumber)}if(i.options.before||t.before){const l=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.startLineNumber)}const o=r!==s,a=dut(t)!==yL(i);o||a?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i,r=!1){const s=this.getVersionId(),o=t.length;let a=0;const l=i.length;let c=0;this._onDidChangeDecorations.beginDeferredEmit();try{const u=new Array(l);for(;a<o||c<l;){let d=null;if(a<o){do d=this._decorations[t[a++]];while(!d&&a<o);if(d){if(d.options.after){const h=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber)}if(d.options.before){const h=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber)}this._decorationsTree.delete(d),r||this._onDidChangeDecorations.checkAffectedAndFire(d.options)}}if(c<l){if(!d){const v=++this._lastDecorationId,S=`${this._instanceId};${v}`;d=new vRe(S,0,0),this._decorations[S]=d}const h=i[c],f=this._validateRangeRelaxedNoAllocations(h.range),m=vue(h.options),g=this._buffer.getOffsetAt(f.startLineNumber,f.startColumn),_=this._buffer.getOffsetAt(f.endLineNumber,f.endColumn);d.ownerId=e,d.reset(s,g,_,f),d.setOptions(m),d.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.endLineNumber),d.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.startLineNumber),r||this._onDidChangeDecorations.checkAffectedAndFire(m),this._decorationsTree.insert(d),u[c]=d.id,c++}else d&&delete this._decorations[d.id]}return u}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){typeof e=="string"?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return uut(this.getLineContent(e))+1}},rm=Yc,Yc._MODEL_SYNC_LIMIT=50*1024*1024,Yc.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,Yc.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,Yc.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,Yc.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Fs.tabSize,indentSize:Fs.indentSize,insertSpaces:Fs.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Fs.trimAutoWhitespace,largeFileOptimizations:Fs.largeFileOptimizations,bracketPairColorizationOptions:Fs.bracketPairColorizationOptions},Yc);t$=rm=rut([hN(4,uq),hN(5,Zr),hN(6,Od),hN(7,oi)],t$);function uut(n){let e=0;for(const t of n)if(t===" "||t==="	")e++;else break;return e}function M3(n){return!!(n.options.overviewRuler&&n.options.overviewRuler.color)}function dut(n){return!!n.after||!!n.before}function yL(n){return!!n.options.after||!!n.options.before}class _ue{constructor(){this._decorationsTree0=new x3,this._decorationsTree1=new x3,this._injectedTextDecorationsTree=new x3}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,r,s,o){const a=e.getVersionId(),l=this._intervalSearch(t,i,r,s,a,o);return this._ensureNodesHaveRanges(e,l)}_intervalSearch(e,t,i,r,s,o){const a=this._decorationsTree0.intervalSearch(e,t,i,r,s,o),l=this._decorationsTree1.intervalSearch(e,t,i,r,s,o),c=this._injectedTextDecorationsTree.intervalSearch(e,t,i,r,s,o);return a.concat(l).concat(c)}getInjectedTextInInterval(e,t,i,r){const s=e.getVersionId(),o=this._injectedTextDecorationsTree.intervalSearch(t,i,r,!1,s,!1);return this._ensureNodesHaveRanges(e,o).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),r=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,r).filter(s=>s.options.showIfCollapsed||!s.range.isEmpty())}getAll(e,t,i,r,s){const o=e.getVersionId(),a=this._search(t,i,r,o,s);return this._ensureNodesHaveRanges(e,a)}_search(e,t,i,r,s){if(i)return this._decorationsTree1.search(e,t,r,s);{const o=this._decorationsTree0.search(e,t,r,s),a=this._decorationsTree1.search(e,t,r,s),l=this._injectedTextDecorationsTree.search(e,t,r,s);return o.concat(a).concat(l)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(r)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){yL(e)?this._injectedTextDecorationsTree.insert(e):M3(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){yL(e)?this._injectedTextDecorationsTree.delete(e):M3(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){yL(e)?this._injectedTextDecorationsTree.resolveNode(e,t):M3(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,r){this._decorationsTree0.acceptReplace(e,t,i,r),this._decorationsTree1.acceptReplace(e,t,i,r),this._injectedTextDecorationsTree.acceptReplace(e,t,i,r)}}function Bu(n){return n.replace(/[^a-z0-9\-_]/gi," ")}class RRe{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class hut extends RRe{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:KO.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class fut{constructor(e){this.position=(e==null?void 0:e.position)??Qg.Center,this.persistLane=e==null?void 0:e.persistLane}}class gut extends RRe{constructor(e){super(e),this.position=e.position,this.sectionHeaderStyle=e.sectionHeaderStyle??null,this.sectionHeaderText=e.sectionHeaderText??null}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?Me.fromHex(e):t.getColor(e.id)}}class K1{static from(e){return e instanceof K1?e:new K1(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class kr{static register(e){return new kr(e)}static createDynamic(e){return new kr(e)}constructor(e){this.description=e.description,this.blockClassName=e.blockClassName?Bu(e.blockClassName):null,this.blockDoesNotCollapse=e.blockDoesNotCollapse??null,this.blockIsAfterEnd=e.blockIsAfterEnd??null,this.blockPadding=e.blockPadding??null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Bu(e.className):null,this.shouldFillLineOnLineBreak=e.shouldFillLineOnLineBreak??null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new hut(e.overviewRuler):null,this.minimap=e.minimap?new gut(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new fut(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?Bu(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Bu(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?Bu(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?bQe(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Bu(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Bu(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Bu(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Bu(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Bu(e.afterContentClassName):null,this.after=e.after?K1.from(e.after):null,this.before=e.before?K1.from(e.before):null,this.hideInCommentTokens=e.hideInCommentTokens??!1,this.hideInStringTokens=e.hideInStringTokens??!1}}kr.EMPTY=kr.register({description:"empty"});const Eue=[kr.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),kr.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),kr.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),kr.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function vue(n){return n instanceof kr?n:kr.createDynamic(n)}class put extends Ne{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new ge),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(e=this._affectedInjectedTextLines)==null||e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){var t,i;this._affectsMinimap||(this._affectsMinimap=!!((t=e.minimap)!=null&&t.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!((i=e.overviewRuler)!=null&&i.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!e.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!e.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class mut extends Ne{constructor(){super(),this._fastEmitter=this._register(new ge),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new ge),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}var _ut=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},gN=function(n,e){return function(t,i){e(t,i,n)}},wv;function jp(n){return n.toString()}let Eut=class{constructor(e,t,i){this.model=e,this._modelEventListeners=new at,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(r=>i(e,r)))}dispose(){this._modelEventListeners.dispose()}};const vut=Zo||bn?1:2;class Sut{constructor(e,t,i,r,s,o,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=r,this.heapSize=s,this.sha1=o,this.versionId=a,this.alternativeVersionId=l}}var a_;let n$=(a_=class extends Ne{constructor(e,t,i,r){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=i,this._instantiationService=r,this._onModelAdded=this._register(new ge),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new ge),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new ge),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(s=>this._updateModelOptions(s))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){var h;let i=Fs.tabSize;if(e.editor&&typeof e.editor.tabSize<"u"){const f=parseInt(e.editor.tabSize,10);isNaN(f)||(i=f),i<1&&(i=1)}let r="tabSize";if(e.editor&&typeof e.editor.indentSize<"u"&&e.editor.indentSize!=="tabSize"){const f=parseInt(e.editor.indentSize,10);isNaN(f)||(r=Math.max(f,1))}let s=Fs.insertSpaces;e.editor&&typeof e.editor.insertSpaces<"u"&&(s=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let o=vut;const a=e.eol;a===`\r
`?o=2:a===`
`&&(o=1);let l=Fs.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace<"u"&&(l=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let c=Fs.detectIndentation;e.editor&&typeof e.editor.detectIndentation<"u"&&(c=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let u=Fs.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations<"u"&&(u=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations);let d=Fs.bracketPairColorizationOptions;return(h=e.editor)!=null&&h.bracketPairColorization&&typeof e.editor.bracketPairColorization=="object"&&(d={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:i,indentSize:r,insertSpaces:s,detectIndentation:c,defaultEOL:o,trimAutoWhitespace:l,largeFileOptimizations:u,bracketPairColorizationOptions:d}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:rc===3||rc===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){const r=typeof e=="string"?e:e.languageId;let s=this._modelCreationOptionsByLanguageAndResource[r+t];if(!s){const o=this._configurationService.getValue("editor",{overrideIdentifier:r,resource:t}),a=this._getEOL(t,r);s=wv._readModelOptions({editor:o,eol:a},i),this._modelCreationOptionsByLanguageAndResource[r+t]=s}return s}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let r=0,s=i.length;r<s;r++){const o=i[r],a=this._models[o],l=a.model.getLanguageId(),c=a.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:l,resource:c})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:l,resource:c}))continue;const u=t[l+c],d=this.getCreationOptions(l,c,a.model.isForSimpleWidget);wv._setModelOptionsForModel(a.model,d,u)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&va(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(jp(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(jp(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(jp(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,r)=>i.time-r.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,r){const s=this.getCreationOptions(t,i,r),o=this._instantiationService.createInstance(t$,e,t,s,i);if(i&&this._disposedModels.has(jp(i))){const c=this._removeDisposedModel(i),u=this._undoRedoService.getElements(i),d=this._getSHA1Computer(),h=d.canComputeSHA1(o)?d.computeSHA1(o)===c.sha1:!1;if(h||c.sharesUndoRedoStack){for(const f of u.past)vh(f)&&f.matchesResource(i)&&f.setModel(o);for(const f of u.future)vh(f)&&f.matchesResource(i)&&f.setModel(o);this._undoRedoService.setElementsValidFlag(i,!0,f=>vh(f)&&f.matchesResource(i)),h&&(o._overwriteVersionId(c.versionId),o._overwriteAlternativeVersionId(c.alternativeVersionId),o._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}const a=jp(o.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const l=new Eut(o,c=>this._onWillDispose(c),(c,u)=>this._onDidChangeLanguage(c,u));return this._models[a]=l,l}createModel(e,t,i,r=!1){let s;return t?s=this._createModelData(e,t,i,r):s=this._createModelData(e,cc,i,r),this._onModelAdded.fire(s.model),s.model}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push(this._models[s].model)}return e}getModel(e){const t=jp(e),i=this._models[t];return i?i.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===Jt.file||e.scheme===Jt.vscodeRemote||e.scheme===Jt.vscodeUserData||e.scheme===Jt.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=jp(e.uri),i=this._models[t],r=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let s=!1,o=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const c=this._undoRedoService.getElements(e.uri);if(c.past.length>0||c.future.length>0){for(const u of c.past)vh(u)&&u.matchesResource(e.uri)&&(s=!0,o+=u.heapSize(e.uri),u.setModel(e.uri));for(const u of c.future)vh(u)&&u.matchesResource(e.uri)&&(s=!0,o+=u.heapSize(e.uri),u.setModel(e.uri))}}const a=wv.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,l=this._getSHA1Computer();if(s)if(!r&&(o>a||!l.canComputeSHA1(e))){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}else this._ensureDisposedModelsHeapSize(a-o),this._undoRedoService.setElementsValidFlag(e.uri,!1,c=>vh(c)&&c.matchesResource(e.uri)),this._insertDisposedModel(new Sut(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,o,l.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!r){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,r=e.getLanguageId(),s=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),o=this.getCreationOptions(r,e.uri,e.isForSimpleWidget);wv._setModelOptionsForModel(e,o,s),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}_getSHA1Computer(){return new i$}},wv=a_,a_.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,a_);n$=wv=_ut([gN(0,Zi),gN(1,Awe),gN(2,uq),gN(3,oi)],n$);const PP=class PP{canComputeSHA1(e){return e.getValueLength()<=PP.MAX_MODEL_SIZE}computeSHA1(e){const t=new S6,i=e.createSnapshot();let r;for(;r=i.read();)t.update(r);return t.digest()}};PP.MAX_MODEL_SIZE=10*1024*1024;let i$=PP;var r$;(function(n){n[n.PRESERVE=0]="PRESERVE",n[n.LAST=1]="LAST"})(r$||(r$={}));const IRe={Quickaccess:"workbench.contributions.quickaccess"};class Cut{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),Ht(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return vK([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}}hs.add(IRe.Quickaccess,new Cut);const yut={ctrlCmd:!1,alt:!1};var AC;(function(n){n[n.Blur=1]="Blur",n[n.Gesture=2]="Gesture",n[n.Other=3]="Other"})(AC||(AC={}));var Yu;(function(n){n[n.NONE=0]="NONE",n[n.FIRST=1]="FIRST",n[n.SECOND=2]="SECOND",n[n.LAST=3]="LAST"})(Yu||(Yu={}));var mi;(function(n){n[n.First=1]="First",n[n.Second=2]="Second",n[n.Last=3]="Last",n[n.Next=4]="Next",n[n.Previous=5]="Previous",n[n.NextPage=6]="NextPage",n[n.PreviousPage=7]="PreviousPage",n[n.NextSeparator=8]="NextSeparator",n[n.PreviousSeparator=9]="PreviousSeparator"})(mi||(mi={}));var Ax;(function(n){n[n.Title=1]="Title",n[n.Inline=2]="Inline"})(Ax||(Ax={}));const g2=Cn("quickInputService");var but=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Sue=function(n,e){return function(t,i){e(t,i,n)}};let s$=class extends Ne{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=hs.as(IRe.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var m,g;const[r,s]=this.getOrInstantiateProvider(e,i==null?void 0:i.enabledProviderPrefixes),o=this.visibleQuickAccess,a=o==null?void 0:o.descriptor;if(o&&s&&a===s){e!==s.prefix&&!(i!=null&&i.preserveValue)&&(o.picker.value=e),this.adjustValueSelection(o.picker,s,i);return}if(s&&!(i!=null&&i.preserveValue)){let _;if(o&&a&&a!==s){const v=o.value.substr(a.prefix.length);v&&(_=`${s.prefix}${v}`)}if(!_){const v=r==null?void 0:r.defaultFilterValue;v===r$.LAST?_=this.lastAcceptedPickerValues.get(s):typeof v=="string"&&(_=`${s.prefix}${v}`)}typeof _=="string"&&(e=_)}const l=(m=o==null?void 0:o.picker)==null?void 0:m.valueSelection,c=(g=o==null?void 0:o.picker)==null?void 0:g.value,u=new at,d=u.add(this.quickInputService.createQuickPick({useSeparators:!0}));d.value=e,this.adjustValueSelection(d,s,i),d.placeholder=(i==null?void 0:i.placeholder)??(s==null?void 0:s.placeholder),d.quickNavigate=i==null?void 0:i.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!o,(typeof(i==null?void 0:i.itemActivation)=="number"||i!=null&&i.quickNavigateConfiguration)&&(d.itemActivation=(i==null?void 0:i.itemActivation)??Yu.SECOND),d.contextKey=s==null?void 0:s.contextKey,d.filterValue=_=>_.substring(s?s.prefix.length:0);let h;t&&(h=new I1e,u.add(Ue.once(d.onWillAccept)(_=>{_.veto(),d.hide()}))),u.add(this.registerPickerListeners(d,r,s,e,i));const f=u.add(new vy);if(r&&u.add(r.provide(d,f.token,i==null?void 0:i.providerOptions)),Ue.once(d.onDidHide)(()=>{d.selectedItems.length===0&&f.cancel(),u.dispose(),h==null||h.complete(d.selectedItems.slice(0))}),d.show(),l&&c===e&&(d.valueSelection=l),t)return h==null?void 0:h.p}adjustValueSelection(e,t,i){let r;i!=null&&i.preserveValue?r=[e.value.length,e.value.length]:r=[(t==null?void 0:t.prefix.length)??0,e.value.length],e.valueSelection=r}registerPickerListeners(e,t,i,r,s){const o=new at,a=this.visibleQuickAccess={picker:e,descriptor:i,value:r};return o.add(Ht(()=>{a===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(e.onDidChangeValue(l=>{const[c]=this.getOrInstantiateProvider(l,s==null?void 0:s.enabledProviderPrefixes);c!==t?this.show(l,{enabledProviderPrefixes:s==null?void 0:s.enabledProviderPrefixes,preserveValue:!0,providerOptions:s==null?void 0:s.providerOptions}):a.value=l})),i&&o.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),o}getOrInstantiateProvider(e,t){const i=this.registry.getQuickAccessProvider(e);if(!i||t&&!(t!=null&&t.includes(i.prefix)))return[void 0,void 0];let r=this.mapProviderToDescriptor.get(i);return r||(r=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,r)),[r,i]}};s$=but([Sue(0,g2),Sue(1,oi)],s$);class p2 extends ff{constructor(e){super(),this._onChange=this._register(new ge),this.onChange=this._onChange.event,this._onKeyDown=this._register(new ge),this.onKeyDown=this._onKeyDown.event,this._opts=e,this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...Ln.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(xd().setupManagedHover(e.hoverDelegate??xl("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var Tut=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class NRe{constructor(e){this.nodes=e}toString(){return this.nodes.map(e=>typeof e=="string"?e:e.label).join("")}}Tut([Ji],NRe.prototype,"toString",null);const wut=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function Aut(n){const e=[];let t=0,i;for(;i=wut.exec(n);){i.index-t>0&&e.push(n.substring(t,i.index));const[,r,s,,o]=i;o?e.push({label:r,href:s,title:o}):e.push({label:r,href:s}),t=i.index+i[0].length}return t<n.length&&e.push(n.substring(t)),new NRe(e)}const F3={},Rut=new wAe("quick-input-button-icon-");function Iut(n){if(!n)return;let e;const t=n.dark.toString();return F3[t]?e=F3[t]:(e=Rut.nextId(),b6(`.${e}, .hc-light .${e}`,`background-image: ${of(n.light||n.dark)}`),b6(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${of(n.dark)}`),F3[t]=e),e}function c0(n,e,t){let i=n.iconClass||Iut(n.iconPath);return n.alwaysVisible&&(i=i?`${i} always-visible`:"always-visible"),{id:e,label:"",tooltip:n.tooltip||"",class:i,enabled:!0,run:t}}function Nut(n,e,t){wo(e);const i=Aut(n);let r=0;for(const s of i.nodes)if(typeof s=="string")e.append(...Qm(s));else{let o=s.title;!o&&s.href.startsWith("command:")?o=A("executeCommand","Click to execute command '{0}'",s.href.substring(8)):o||(o=s.href);const a=St("a",{href:s.href,title:o,tabIndex:r++},s.label);a.style.textDecoration="underline";const l=f=>{FZe(f)&&gn.stop(f,!0),t.callback(s.href)},c=t.disposables.add(new sn(a,Ve.CLICK)).event,u=t.disposables.add(new sn(a,Ve.KEY_DOWN)).event,d=Ue.chain(u,f=>f.filter(m=>{const g=new wi(m);return g.equals(10)||g.equals(3)}));t.disposables.add(Ro.addTarget(a));const h=t.disposables.add(new sn(a,_i.Tap)).event;Ue.any(c,h,d)(l,null,t.disposables),e.appendChild(a)}}var Lut=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Cue=function(n,e){return function(t,i){e(t,i,n)}};const LRe="inQuickInput",Out=new ct(LRe,!1,A("inQuickInput","Whether keyboard focus is inside the quick input control")),xut=$n.has(LRe),ORe="quickInputType",Dut=new ct(ORe,void 0,A("quickInputType","The type of the currently visible quick input")),xRe="cursorAtEndOfQuickInputBox",Put=new ct(xRe,!1,A("cursorAtEndOfQuickInputBox","Whether the cursor in the quick input is at the end of the input box")),kut=$n.has(xRe),o$={iconClass:Ln.asClassName(tt.quickInputBack),tooltip:A("quickInput.back","Back")},kP=class kP extends Ne{constructor(e){super(),this.ui=e,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._leftButtons=[],this._rightButtons=[],this._inlineButtons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=kP.noPromptMessage,this._severity=Tr.Ignore,this.onDidTriggerButtonEmitter=this._register(new ge),this.onDidHideEmitter=this._register(new ge),this.onWillHideEmitter=this._register(new ge),this.onDisposeEmitter=this._register(new ge),this.visibleDisposables=this._register(new at),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!w_;this._ignoreFocusOut=e&&!w_,t&&this.update()}get titleButtons(){return this._leftButtons.length?[...this._leftButtons,this._rightButtons]:this._rightButtons}get buttons(){return[...this._leftButtons,...this._rightButtons,...this._inlineButtons]}set buttons(e){this._leftButtons=e.filter(t=>t===o$),this._rightButtons=e.filter(t=>t!==o$&&t.location!==Ax.Inline),this._inlineButtons=e.filter(t=>t.location===Ax.Inline),this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(e){this._toggles=e??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=AC.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}willHide(e=AC.Other){this.onWillHideEmitter.fire({reason:e})}update(){var r;if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?wo(this.ui.widget,this._widget):wo(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new nE,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const s=this._leftButtons.map((l,c)=>c0(l,`id-${c}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.leftActionBar.push(s,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const o=this._rightButtons.map((l,c)=>c0(l,`id-${c}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.rightActionBar.push(o,{icon:!0,label:!1}),this.ui.inlineActionBar.clear();const a=this._inlineButtons.map((l,c)=>c0(l,`id-${c}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.inlineActionBar.push(a,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const s=((r=this.toggles)==null?void 0:r.filter(o=>o instanceof p2))??[];this.ui.inputBox.toggles=s}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,wo(this.ui.message),Nut(i,this.ui.message,{callback:s=>{this.ui.linkOpenerDelegate(s)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?A("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==Tr.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}};kP.noPromptMessage=A("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");let Rx=kP;const MP=class MP extends Rx{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new ge),this.onWillAcceptEmitter=this._register(new ge),this.onDidAcceptEmitter=this._register(new ge),this.onDidCustomEmitter=this._register(new ge),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=Yu.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new ge),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new ge),this.onDidTriggerItemButtonEmitter=this._register(new ge),this.onDidTriggerSeparatorButtonEmitter=this._register(new ge),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this._focusEventBufferer=new gA,this.type="quickPick",this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?yut:this.ui.keyMods}get valueSelection(){const e=this.ui.inputBox.getSelection();if(e)return[e.start,e.end]}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(mi.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,(e,t)=>t)(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&Mr(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&Mr(e,this._selectedItems,(i,r)=>i===r)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(qK(t)&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||!this.visible||this.selectedItemsToConfirm!==this._selectedItems&&Mr(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(e=>this.onDidTriggerSeparatorButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return we(this.ui.container,Ve.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new wi(e),i=t.keyCode;this._quickNavigate.keybindings.some(o=>{const a=o.getChords();return a.length>1?!1:a[0].shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a[0].altKey&&i===6||a[0].ctrlKey&&i===5||a[0].metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,i={title:!!this.title||!!this.step||!!this.titleButtons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let r=this.ariaLabel;!r&&i.inputBox&&(r=this.placeholder||MP.DEFAULT_ARIA_LABEL,this.title&&(r+=` - ${this.title}`)),this.ui.list.ariaLabel!==r&&(this.ui.list.ariaLabel=r??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents(()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this._itemActivation){case Yu.NONE:this._itemActivation=Yu.FIRST;break;case Yu.SECOND:this.ui.list.focus(mi.Second),this._itemActivation=Yu.FIRST;break;case Yu.LAST:this.ui.list.focus(mi.Last),this._itemActivation=Yu.FIRST;break;default:this.trySelectFirst();break}})),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(mi.First)),this.keepScrollPosition&&(this.scrollTop=e)}focus(e){this.ui.list.focus(e),this.canSelectMany&&this.ui.list.domFocus()}accept(e){e&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(e??!1))}};MP.DEFAULT_ARIA_LABEL=A("quickInputBox.ariaLabel","Type to narrow down results.");let Ix=MP,Mut=class extends Rx{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new ge),this.onDidAcceptEmitter=this._register(new ge),this.type="inputBox",this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(e){this._value=e||"",this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const e={title:!!this.title||!!this.step||!!this.titleButtons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}},a$=class extends F1{constructor(e,t){super("element",!1,i=>this.getOverrideOptions(i),e,t)}getOverrideOptions(e){const t=(as(e.content)?e.content.textContent??"":typeof e.content=="string"?e.content:e.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:t,skipFadeInAnimation:!0}}}};a$=Lut([Cue(0,Zi),Cue(1,AA)],a$);Me.white.toString(),Me.white.toString();let l$=class extends Ne{get onDidClick(){return this._onDidClick.event}constructor(e,t){super(),this._label="",this._onDidClick=this._register(new ge),this._onDidEscape=this._register(new ge),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);const i=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,r=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=r||"",this._element.style.backgroundColor=i||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof t.title=="string"&&this.setTitle(t.title),typeof t.ariaLabel=="string"&&this._element.setAttribute("aria-label",t.ariaLabel),e.appendChild(this._element),this._register(Ro.addTarget(this._element)),[Ve.CLICK,_i.Tap].forEach(s=>{this._register(we(this._element,s,o=>{if(!this.enabled){gn.stop(o);return}this._onDidClick.fire(o)}))}),this._register(we(this._element,Ve.KEY_DOWN,s=>{const o=new wi(s);let a=!1;this.enabled&&(o.equals(3)||o.equals(10))?(this._onDidClick.fire(s),a=!0):o.equals(9)&&(this._onDidEscape.fire(s),this._element.blur(),a=!0),a&&gn.stop(o,!0)})),this._register(we(this._element,Ve.MOUSE_OVER,s=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register(we(this._element,Ve.MOUSE_OUT,s=>{this.updateBackground(!1)})),this.focusTracker=this._register(N1(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){const t=[];for(let i of Qm(e))if(typeof i=="string"){if(i=i.trim(),i==="")continue;const r=document.createElement("span");r.textContent=i,t.push(r)}else t.push(i);return t}updateBackground(e){let t;this.options.secondary?t=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t=e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){var r;if(this._label===e||DS(this._label)&&DS(e)&&ast(this._label,e))return;this._element.classList.add("monaco-text-button");const t=this.options.supportShortLabel?this._labelElement:this._element;if(DS(e)){const s=Rq(e,{inline:!0});s.dispose();const o=(r=s.element.querySelector("p"))==null?void 0:r.innerHTML;if(o){const a=P1e(o,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});t.innerHTML=a}else wo(t)}else this.options.supportIcons?wo(t,...this.getContentElements(e)):t.textContent=e;let i="";typeof this.options.title=="string"?i=this.options.title:this.options.title&&(i=Est(e)),this.setTitle(i),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",i),this._label=e}get label(){return this._label}set icon(e){this._element.classList.add(...Ln.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(e){!this._hover&&e!==""?this._hover=this._register(xd().setupManagedHover(this.options.hoverDelegate??xl("mouse"),this._element,e)):this._hover&&this._hover.update(e)}};class yue{constructor(e,t,i){this.options=t,this.styles=i,this.count=0,this.element=st(e,St(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=a6(this.countFormat,this.count),this.element.title=a6(this.titleFormat,this.count),this.element.style.backgroundColor=this.styles.badgeBackground??"",this.element.style.color=this.styles.badgeForeground??"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}const bue="done",Tue="active",B3="infinite",U3="infinite-long-running",wue="discrete",FP=class FP extends Ne{constructor(e,t){super(),this.progressSignal=this._register(new rf),this.workedVal=0,this.showDelayedScheduler=this._register(new ho(()=>j1e(this.element),0)),this.longRunningScheduler=this._register(new ho(()=>this.infiniteLongRunning(),FP.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(t==null?void 0:t.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Tue,B3,U3,wue),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(bue),this.element.classList.contains(B3)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(wue,bue,U3),this.element.classList.add(Tue,B3),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(U3)}getContainer(){return this.element}};FP.LONG_RUNNING_INFINITE_THRESHOLD=1e4;let c$=FP;const Fut=A("caseDescription","Match Case"),But=A("wordsDescription","Match Whole Word"),Uut=A("regexDescription","Use Regular Expression");class Hut extends p2{constructor(e){super({icon:tt.caseSensitive,title:Fut+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??xl("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Vut extends p2{constructor(e){super({icon:tt.wholeWord,title:But+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??xl("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Wut extends p2{constructor(e){super({icon:tt.regex,title:Uut+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??xl("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class $ut{constructor(e,t=0,i=e.length,r=t-1){this.items=e,this.start=t,this.end=i,this.index=r}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class Gut{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new $ut(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const jb=St;class zut extends ff{constructor(e,t,i){super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new ge),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=this.options.tooltip??(this.placeholder||""),this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=st(e,jb(".monaco-inputbox.idle"));const r=this.options.flexibleHeight?"textarea":"input",s=st(this.element,jb(".ibwrapper"));if(this.input=st(s,jb(r+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=st(s,jb("div.mirror")),this.mirror.innerText="",this.scrollableElement=new yrt(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),st(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(l=>this.input.scrollTop=l.scrollTop));const o=this._register(new sn(e.ownerDocument,"selectionchange")),a=Ue.filter(o.event,()=>{const l=e.ownerDocument.getSelection();return(l==null?void 0:l.anchorNode)===s});this._register(a(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new zh(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.hover?this.hover.update(e):this.hover=this._register(xd().setupManagedHover(xl("mouse"),this.input,e))}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:y6(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return YK(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){const e=this.input.selectionStart;if(e===null)return null;const t=this.input.selectionEnd??e;return{start:e,end:t}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if(this.state==="open"&&va(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${Vh(i.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){const t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=jK(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:r=>{if(!this.message)return null;e=st(r,jb(".monaco-inputbox-container")),t();const s={inline:!0,className:"monaco-inputbox-message"},o=this.message.formatContent?Lrt(this.message.content,s):Nrt(this.message.content,s);o.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return o.style.backgroundColor=a.background??"",o.style.color=a.foreground??"",o.style.border=a.border?`1px solid ${a.border}`:"",st(e,o),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=A("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=A("alertWarningMessage","Warning: {0}",this.message.content):i=A("alertInfoMessage","Info: {0}",this.message.content),H1(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="",this.layout()}applyStyles(){const e=this.options.inputBoxStyles,t=e.inputBackground??"",i=e.inputForeground??"",r=e.inputBorder??"";this.element.style.backgroundColor=t,this.element.style.color=i,this.input.style.backgroundColor="inherit",this.input.style.color=i,this.element.style.border=`1px solid ${Vh(r,"transparent")}`}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=y6(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,r=t.selectionEnd,s=t.value;i!==null&&r!==null&&(this.value=s.substr(0,i)+e+s.substr(r),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){var e;this._hideMessage(),this.message=null,(e=this.actionbar)==null||e.dispose(),super.dispose()}}class jut extends zut{constructor(e,t,i){const r=A({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is  to represent the up and down arrow keys.']}," or {0} for history",""),s=A({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is  to represent the up and down arrow keys.']}," ({0} for history)","");super(e,t,i),this._onDidFocus=this._register(new ge),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ge),this.onDidBlur=this._onDidBlur.event,this.history=new Gut(i.history,100);const o=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(r)&&!this.placeholder.endsWith(s)&&this.history.getHistory().length){const a=this.placeholder.endsWith(")")?r:s,l=this.placeholder+a;i.showPlaceholderOnFocus&&!YK(this.input)?this.placeholder=l:this.setPlaceHolder(l)}};this.observer=new MutationObserver((a,l)=>{a.forEach(c=>{c.target.textContent||o()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>o()),this.onblur(this.input,()=>{const a=l=>{if(this.placeholder.endsWith(l)){const c=this.placeholder.slice(0,this.placeholder.length-l.length);return i.showPlaceholderOnFocus?this.placeholder=c:this.setPlaceHolder(c),!0}else return!1};a(s)||a(r)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",dx(this.value?this.value:A("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,dx(this.value))}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}const Yut=A("defaultLabel","input");class Kut extends ff{constructor(e,t,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new rf),this.additionalToggles=[],this._onDidOptionChange=this._register(new ge),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ge),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ge),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new ge),this._onKeyUp=this._register(new ge),this._onCaseSensitiveKeyDown=this._register(new ge),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new ge),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||Yut,this.showCommonFindToggles=!!i.showCommonFindToggles;const r=i.appendCaseSensitiveLabel||"",s=i.appendWholeWordsLabel||"",o=i.appendRegexLabel||"",a=i.history||[],l=!!i.flexibleHeight,c=!!i.flexibleWidth,u=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new jut(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:i.showHistoryHint,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:u,inputBoxStyles:i.inputBoxStyles}));const d=this._register(Uq());if(this.showCommonFindToggles){this.regex=this._register(new Wut({appendTitle:o,isChecked:!1,hoverDelegate:d,...i.toggleStyles})),this._register(this.regex.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(f=>{this._onRegexKeyDown.fire(f)})),this.wholeWords=this._register(new Vut({appendTitle:s,isChecked:!1,hoverDelegate:d,...i.toggleStyles})),this._register(this.wholeWords.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new Hut({appendTitle:r,isChecked:!1,hoverDelegate:d,...i.toggleStyles})),this._register(this.caseSensitive.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(f=>{this._onCaseSensitiveKeyDown.fire(f)}));const h=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){const m=h.indexOf(this.domNode.ownerDocument.activeElement);if(m>=0){let g=-1;f.equals(17)?g=(m+1)%h.length:f.equals(15)&&(m===0?g=h.length-1:g=m-1),f.equals(9)?(h[m].blur(),this.inputBox.focus()):g>=0&&h[g].focus(),gn.stop(f,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i==null?void 0:i.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e==null||e.appendChild(this.domNode),this._register(we(this.inputBox.inputElement,"compositionstart",h=>{this.imeSessionInProgress=!0})),this._register(we(this.inputBox.inputElement,"compositionend",h=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){var e,t,i;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(e=this.regex)==null||e.enable(),(t=this.wholeWords)==null||t.enable(),(i=this.caseSensitive)==null||i.enable();for(const r of this.additionalToggles)r.enable()}disable(){var e,t,i;this.domNode.classList.add("disabled"),this.inputBox.disable(),(e=this.regex)==null||e.disable(),(t=this.wholeWords)==null||t.disable(),(i=this.caseSensitive)==null||i.disable();for(const r of this.additionalToggles)r.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new at;for(const t of e??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){var t,i,r;e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=(((t=this.caseSensitive)==null?void 0:t.width())??0)+(((i=this.wholeWords)==null?void 0:i.width())??0)+(((r=this.regex)==null?void 0:r.width())??0)+this.additionalToggles.reduce((s,o)=>s+o.width(),0)}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var e;return((e=this.caseSensitive)==null?void 0:e.checked)??!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){var e;return((e=this.wholeWords)==null?void 0:e.checked)??!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){var e;return((e=this.regex)==null?void 0:e.checked)??!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){var e;(e=this.caseSensitive)==null||e.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}const qut=St;class Xut extends Ne{constructor(e,t,i){super(),this.parent=e,this.onKeyDown=s=>Qr(this.findInput.inputBox.inputElement,Ve.KEY_DOWN,s),this.onDidChange=s=>this.findInput.onDidChange(s),this.container=st(this.parent,qut(".quick-input-box")),this.findInput=this._register(new Kut(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:i}));const r=this.findInput.inputBox.inputElement;r.role="combobox",r.ariaHasPopup="menu",r.ariaAutoComplete="list",r.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(e){this.findInput.setValue(e)}select(e=null){this.findInput.inputBox.select(e)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.findInput.inputBox.setPlaceHolder(e)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(e){this.findInput.inputBox.inputElement.type=e?"password":"text"}set enabled(e){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!e)}set toggles(e){this.findInput.setAdditionalToggles(e)}setAttribute(e,t){this.findInput.inputBox.inputElement.setAttribute(e,t)}showDecoration(e){e===Tr.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:e===Tr.Info?1:e===Tr.Warning?2:3,content:""})}stylesForType(e){return this.findInput.inputBox.stylesForType(e===Tr.Info?1:e===Tr.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}class Qut{get templateId(){return this.renderer.templateId}constructor(e,t){this.renderer=e,this.modelProvider=t}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:Ne.None}}renderElement(e,t,i,r){var l;if((l=i.disposable)==null||l.dispose(),!i.data)return;const s=this.modelProvider();if(s.isResolved(e))return this.renderer.renderElement(s.get(e),e,i.data,r);const o=new vy,a=s.resolve(e,o.token);i.disposable={dispose:()=>o.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(c=>this.renderer.renderElement(c,e,i.data,r))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class Zut{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function Jut(n,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new Zut(n,e.accessibilityProvider)}}class edt{constructor(e,t,i,r,s={}){const o=()=>this.model,a=r.map(l=>new Qut(l,o));this.list=new Tu(e,t,i,a,Jut(o,s))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Ue.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return Ue.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return Ue.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(r=>this._model.get(r)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Vo(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var Ay=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};const tdt=!1;var Aue;(function(n){n.North="north",n.South="south",n.East="east",n.West="west"})(Aue||(Aue={}));let ndt=4;const idt=new ge;let rdt=300;const sdt=new ge;class Jq{constructor(e){this.el=e,this.disposables=new at}get onPointerMove(){return this.disposables.add(new sn(ht(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new sn(ht(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}Ay([Ji],Jq.prototype,"onPointerMove",null);Ay([Ji],Jq.prototype,"onPointerUp",null);class eX{get onPointerMove(){return this.disposables.add(new sn(this.el,_i.Change)).event}get onPointerUp(){return this.disposables.add(new sn(this.el,_i.End)).event}constructor(e){this.el=e,this.disposables=new at}dispose(){this.disposables.dispose()}}Ay([Ji],eX.prototype,"onPointerMove",null);Ay([Ji],eX.prototype,"onPointerUp",null);class Nx{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(e){this.factory=e}dispose(){}}Ay([Ji],Nx.prototype,"onPointerMove",null);Ay([Ji],Nx.prototype,"onPointerUp",null);const Rue="pointer-events-disabled";class ul extends Ne{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=st(this.el,St(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(Ht(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new sn(this._orthogonalStartDragHandle,"mouseenter")).event(()=>ul.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new sn(this._orthogonalStartDragHandle,"mouseleave")).event(()=>ul.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=st(this.el,St(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(Ht(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new sn(this._orthogonalEndDragHandle,"mouseenter")).event(()=>ul.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new sn(this._orthogonalEndDragHandle,"mouseleave")).event(()=>ul.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.hoverDelay=rdt,this.hoverDelayer=this._register(new _A(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new ge),this._onDidStart=this._register(new ge),this._onDidChange=this._register(new ge),this._onDidReset=this._register(new ge),this._onDidEnd=this._register(new ge),this.orthogonalStartSashDisposables=this._register(new at),this.orthogonalStartDragHandleDisposables=this._register(new at),this.orthogonalEndSashDisposables=this._register(new at),this.orthogonalEndDragHandleDisposables=this._register(new at),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=st(e,St(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),bn&&this.el.classList.add("mac");const r=this._register(new sn(this.el,"mousedown")).event;this._register(r(d=>this.onPointerStart(d,new Jq(e)),this));const s=this._register(new sn(this.el,"dblclick")).event;this._register(s(this.onPointerDoublePress,this));const o=this._register(new sn(this.el,"mouseenter")).event;this._register(o(()=>ul.onMouseEnter(this)));const a=this._register(new sn(this.el,"mouseleave")).event;this._register(a(()=>ul.onMouseLeave(this))),this._register(Ro.addTarget(this.el));const l=this._register(new sn(this.el,_i.Start)).event;this._register(l(d=>this.onPointerStart(d,new eX(this.el)),this));const c=this._register(new sn(this.el,_i.Tap)).event;let u;this._register(c(d=>{if(u){clearTimeout(u),u=void 0,this.onPointerDoublePress(d);return}clearTimeout(u),u=setTimeout(()=>u=void 0,250)},this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=ndt,this._register(idt.event(d=>{this.size=d,this.layout()}))),this._register(sdt.event(d=>this.hoverDelay=d)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",tdt),this.layout()}onPointerStart(e,t){gn.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const m=this.getOrthogonalSash(e);m&&(i=!0,e.__orthogonalSashEvent=!0,m.onPointerStart(e,new Nx(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new Nx(t))),!this.state)return;const r=this.el.ownerDocument.getElementsByTagName("iframe");for(const m of r)m.classList.add(Rue);const s=e.pageX,o=e.pageY,a=e.altKey,l={startX:s,currentX:s,startY:o,currentY:o,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const c=Ol(this.el),u=()=>{let m="";i?m="all-scroll":this.orientation===1?this.state===1?m="s-resize":this.state===2?m="n-resize":m=bn?"row-resize":"ns-resize":this.state===1?m="e-resize":this.state===2?m="w-resize":m=bn?"col-resize":"ew-resize",c.textContent=`* { cursor: ${m} !important; }`},d=new at;u(),i||this.onDidEnablementChange.event(u,null,d);const h=m=>{gn.stop(m,!1);const g={startX:s,currentX:m.pageX,startY:o,currentY:m.pageY,altKey:a};this._onDidChange.fire(g)},f=m=>{gn.stop(m,!1),c.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),d.dispose();for(const g of r)g.classList.remove(Rue)};t.onPointerMove(h,null,d),t.onPointerUp(f,null,d),d.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&ul.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&ul.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){ul.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){const t=e.initialTarget??e.target;if(!(!t||!as(t))&&t.classList.contains("orthogonal-drag-handle"))return t.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}const odt={separatorBorder:Me.transparent};class DRe{set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){var i,r;if(e!==this.visible){e?(this.size=$o(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{(r=(i=this.view).setVisible)==null||r.call(i,e)}catch(s){console.error("Splitview: Failed to set visible view"),console.error(s)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,r){this.container=e,this.view=t,this.disposable=r,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(i){console.error("Splitview: Failed to layout view"),console.error(i)}}dispose(){this.disposable.dispose()}}class adt extends DRe{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class ldt extends DRe{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var ch;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(ch||(ch={}));var Iue;(function(n){n.Distribute={type:"distribute"};function e(r){return{type:"split",index:r}}n.Split=e;function t(r){return{type:"auto",index:r}}n.Auto=t;function i(r){return{type:"invisible",cachedVisibleSize:r}}n.Invisible=i})(Iue||(Iue={}));class cdt extends Ne{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=ch.Idle,this._onDidSashChange=this._register(new ge),this._onDidSashReset=this._register(new ge),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=t.orientation??0,this.inverseAltBehavior=t.inverseAltBehavior??!1,this.proportionalLayout=t.proportionalLayout??!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=st(this.el,St(".sash-container")),this.viewContainer=St(".split-view-container"),this.scrollable=this._register(new yy({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:r=>wa(ht(this.el),r)})),this.scrollableElement=this._register(new e2(this.viewContainer,{vertical:this.orientation===0?t.scrollbarVisibility??1:2,horizontal:this.orientation===1?t.scrollbarVisibility??1:2},this.scrollable));const i=this._register(new sn(this.viewContainer,"scroll")).event;this._register(i(r=>{const s=this.scrollableElement.getScrollPosition(),o=Math.abs(this.viewContainer.scrollLeft-s.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,a=Math.abs(this.viewContainer.scrollTop-s.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(o!==void 0||a!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:o,scrollTop:a})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(r=>{r.scrollTopChanged&&(this.viewContainer.scrollTop=r.scrollTop),r.scrollLeftChanged&&(this.viewContainer.scrollLeft=r.scrollLeft)})),st(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||odt),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((r,s)=>{const o=Cl(r.visible)||r.visible?r.size:{type:"invisible",cachedVisibleSize:r.size},a=r.view;this.doAddView(a,o,s,!0)}),this._contentSize=this.viewItems.reduce((r,s)=>r+s.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,r){this.doAddView(e,t,i,r)}layout(e,t){const i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let r=0;for(let s=0;s<this.viewItems.length;s++){const o=this.viewItems[s],a=this.proportions[s];typeof a=="number"?r+=a:e-=o.size}for(let s=0;s<this.viewItems.length;s++){const o=this.viewItems[s],a=this.proportions[s];typeof a=="number"&&r>0&&(o.size=$o(Math.round(a*e/r),o.minimumSize,o.maximumSize))}}else{const r=Vo(this.viewItems.length),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,s,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:t,alt:i}){for(const a of this.viewItems)a.enabled=!1;const r=this.sashItems.findIndex(a=>a.sash===e),s=dd(we(this.el.ownerDocument.body,"keydown",a=>o(this.sashDragState.current,a.altKey)),we(this.el.ownerDocument.body,"keyup",()=>o(this.sashDragState.current,!1))),o=(a,l)=>{const c=this.viewItems.map(m=>m.size);let u=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(r===this.sashItems.length-1){const g=this.viewItems[r];u=(g.minimumSize-g.size)/2,d=(g.maximumSize-g.size)/2}else{const g=this.viewItems[r+1];u=(g.size-g.maximumSize)/2,d=(g.size-g.minimumSize)/2}let h,f;if(!l){const m=Vo(r,-1),g=Vo(r+1,this.viewItems.length),_=m.reduce((O,x)=>O+(this.viewItems[x].minimumSize-c[x]),0),v=m.reduce((O,x)=>O+(this.viewItems[x].viewMaximumSize-c[x]),0),S=g.length===0?Number.POSITIVE_INFINITY:g.reduce((O,x)=>O+(c[x]-this.viewItems[x].minimumSize),0),C=g.length===0?Number.NEGATIVE_INFINITY:g.reduce((O,x)=>O+(c[x]-this.viewItems[x].viewMaximumSize),0),y=Math.max(_,C),b=Math.min(S,v),w=this.findFirstSnapIndex(m),I=this.findFirstSnapIndex(g);if(typeof w=="number"){const O=this.viewItems[w],x=Math.floor(O.viewMinimumSize/2);h={index:w,limitDelta:O.visible?y-x:y+x,size:O.size}}if(typeof I=="number"){const O=this.viewItems[I],x=Math.floor(O.viewMinimumSize/2);f={index:I,limitDelta:O.visible?b+x:b-x,size:O.size}}}this.sashDragState={start:a,current:a,index:r,sizes:c,minDelta:u,maxDelta:d,alt:l,snapBefore:h,snapAfter:f,disposable:s}};o(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:r,alt:s,minDelta:o,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;const u=e-i,d=this.resize(t,u,r,void 0,void 0,o,a,l,c);if(s){const h=t===this.sashItems.length-1,f=this.viewItems.map(C=>C.size),m=h?t:t+1,g=this.viewItems[m],_=g.size-g.maximumSize,v=g.size-g.minimumSize,S=h?t-1:t+1;this.resize(S,-d,f,void 0,void 0,_,v)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=$o(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==ch.Idle)throw new Error("Cant modify splitview");this.state=ch.Busy;try{const i=Vo(this.viewItems.length).filter(a=>a!==e),r=[...i.filter(a=>this.viewItems[a].priority===1),e],s=i.filter(a=>this.viewItems[a].priority===2),o=this.viewItems[e];t=Math.round(t),t=$o(t,o.minimumSize,Math.min(o.maximumSize,this.size)),o.size=t,this.relayout(r,s)}finally{this.state=ch.Idle}}}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const i=Math.floor(t/e.length);for(const a of e)a.size=$o(i,a.minimumSize,a.maximumSize);const r=Vo(this.viewItems.length),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);this.relayout(s,o)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,r){if(this.state!==ch.Idle)throw new Error("Cant modify splitview");this.state=ch.Busy;try{const s=St(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(i));const o=e.onDidChange(h=>this.onViewChange(u,h)),a=Ht(()=>s.remove()),l=dd(o,a);let c;typeof t=="number"?c=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize);const u=this.orientation===0?new adt(s,e,c,l):new ldt(s,e,c,l);if(this.viewItems.splice(i,0,u),this.viewItems.length>1){const h={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},f=this.orientation===0?new ul(this.sashContainer,{getHorizontalSashTop:O=>this.getSashPosition(O),getHorizontalSashWidth:this.getSashOrthogonalSize},{...h,orientation:1}):new ul(this.sashContainer,{getVerticalSashLeft:O=>this.getSashPosition(O),getVerticalSashHeight:this.getSashOrthogonalSize},{...h,orientation:0}),m=this.orientation===0?O=>({sash:f,start:O.startY,current:O.currentY,alt:O.altKey}):O=>({sash:f,start:O.startX,current:O.currentX,alt:O.altKey}),_=Ue.map(f.onDidStart,m)(this.onSashStart,this),S=Ue.map(f.onDidChange,m)(this.onSashChange,this),y=Ue.map(f.onDidEnd,()=>this.sashItems.findIndex(O=>O.sash===f))(this.onSashEnd,this),b=f.onDidReset(()=>{const O=this.sashItems.findIndex(W=>W.sash===f),x=Vo(O,-1),k=Vo(O+1,this.viewItems.length),P=this.findFirstSnapIndex(x),M=this.findFirstSnapIndex(k);typeof P=="number"&&!this.viewItems[P].visible||typeof M=="number"&&!this.viewItems[M].visible||this._onDidSashReset.fire(O)}),w=dd(_,S,y,b,f),I={sash:f,disposable:w};this.sashItems.splice(i-1,0,I)}s.appendChild(e.element);let d;typeof t!="number"&&t.type==="split"&&(d=[t.index]),r||this.relayout([i],d),!r&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}finally{this.state=ch.Idle}}relayout(e,t){const i=this.viewItems.reduce((r,s)=>r+s.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(u=>u.size),r,s,o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;const u=Vo(e,-1),d=Vo(e+1,this.viewItems.length);if(s)for(const I of s)UH(u,I),UH(d,I);if(r)for(const I of r)kI(u,I),kI(d,I);const h=u.map(I=>this.viewItems[I]),f=u.map(I=>i[I]),m=d.map(I=>this.viewItems[I]),g=d.map(I=>i[I]),_=u.reduce((I,O)=>I+(this.viewItems[O].minimumSize-i[O]),0),v=u.reduce((I,O)=>I+(this.viewItems[O].maximumSize-i[O]),0),S=d.length===0?Number.POSITIVE_INFINITY:d.reduce((I,O)=>I+(i[O]-this.viewItems[O].minimumSize),0),C=d.length===0?Number.NEGATIVE_INFINITY:d.reduce((I,O)=>I+(i[O]-this.viewItems[O].maximumSize),0),y=Math.max(_,C,o),b=Math.min(S,v,a);let w=!1;if(l){const I=this.viewItems[l.index],O=t>=l.limitDelta;w=O!==I.visible,I.setVisible(O,l.size)}if(!w&&c){const I=this.viewItems[c.index],O=t<c.limitDelta;w=O!==I.visible,I.setVisible(O,c.size)}if(w)return this.resize(e,t,i,r,s,o,a);t=$o(t,y,b);for(let I=0,O=t;I<h.length;I++){const x=h[I],k=$o(f[I]+O,x.minimumSize,x.maximumSize),P=k-f[I];O-=P,x.size=k}for(let I=0,O=t;I<m.length;I++){const x=m[I],k=$o(g[I]-O,x.minimumSize,x.maximumSize),P=k-g[I];O+=P,x.size=k}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,l)=>a+l.size,0);let i=this.size-t;const r=Vo(this.viewItems.length-1,-1),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);for(const a of o)UH(r,a);for(const a of s)kI(r,a);typeof e=="number"&&kI(r,e);for(let a=0;i!==0&&a<r.length;a++){const l=this.viewItems[r[a]],c=$o(l.size+i,l.minimumSize,l.maximumSize),u=c-l.size;i-=u,l.size=c}}layoutViews(){this._contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),r=[...this.viewItems].reverse();e=!1;const s=r.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const o=r.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:c}=this.sashItems[l],u=this.viewItems[l];a+=u.size;const d=!(t[l]&&o[l+1]),h=!(i[l]&&s[l+1]);if(d&&h){const f=Vo(l,-1),m=Vo(l+1,this.viewItems.length),g=this.findFirstSnapIndex(f),_=this.findFirstSnapIndex(m),v=typeof g=="number"&&!this.viewItems[g].visible,S=typeof _=="number"&&!this.viewItems[_].visible;v&&s[l]&&(a>0||this.startSnappingEnabled)?c.state=1:S&&t[l]&&(a<this._contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else d&&!h?c.state=1:!d&&h?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}areViewsDistributed(){let e,t;for(const i of this.viewItems)if(e=e===void 0?i.size:Math.min(e,i.size),t=t===void 0?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){var e;(e=this.sashDragState)==null||e.disposable.dispose(),As(this.viewItems),this.viewItems=[],this.sashItems.forEach(t=>t.disposable.dispose()),this.sashItems=[],super.dispose()}}const BP=class BP{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=BP.TemplateId,this.renderedTemplates=new Set;const r=new Map(t.map(s=>[s.templateId,s]));this.renderers=[];for(const s of e){const o=r.get(s.templateId);if(!o)throw new Error(`Table cell renderer for template id ${s.templateId} not found.`);this.renderers.push(o)}}renderTemplate(e){const t=st(e,St(".monaco-table-tr")),i=[],r=[];for(let o=0;o<this.columns.length;o++){const a=this.renderers[o],l=st(t,St(".monaco-table-td",{"data-col-index":o}));l.style.width=`${this.getColumnSize(o)}px`,i.push(l),r.push(a.renderTemplate(l))}const s={container:e,cellContainers:i,cellTemplateData:r};return this.renderedTemplates.add(s),s}renderElement(e,t,i,r){for(let s=0;s<this.columns.length;s++){const a=this.columns[s].project(e);this.renderers[s].renderElement(a,t,i.cellTemplateData[s],r)}}disposeElement(e,t,i,r){for(let s=0;s<this.columns.length;s++){const o=this.renderers[s];if(o.disposeElement){const l=this.columns[s].project(e);o.disposeElement(l,t,i.cellTemplateData[s],r)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);fu(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}};BP.TemplateId="row";let Lx=BP;function udt(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return Lx.TemplateId}}}class ddt extends Ne{get minimumSize(){return this.column.minimumWidth??120}get maximumSize(){return this.column.maximumWidth??Number.POSITIVE_INFINITY}get onDidChange(){return this.column.onDidChangeWidthConstraints??Ue.None}constructor(e,t){super(),this.column=e,this.index=t,this._onDidLayout=new ge,this.onDidLayout=this._onDidLayout.event,this.element=St(".monaco-table-th",{"data-col-index":t},e.label),e.tooltip&&this._register(xd().setupManagedHover(xl("mouse"),this.element,e.tooltip))}layout(e){this._onDidLayout.fire([this.index,e])}}var l_;let hdt=(l_=class{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(e,t,i,r,s,o){this.virtualDelegate=i,this.columns=r,this.domId=`table_id_${++l_.InstanceCount}`,this.disposables=new at,this.cachedWidth=0,this.cachedHeight=0,this.domNode=st(t,St(`.monaco-table.${this.domId}`));const a=r.map((u,d)=>this.disposables.add(new ddt(u,d))),l={size:a.reduce((u,d)=>u+d.column.weight,0),views:a.map(u=>({size:u.column.weight,view:u}))};this.splitview=this.disposables.add(new cdt(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const c=new Lx(r,s,u=>this.splitview.getViewSize(u));this.list=this.disposables.add(new Tu(e,this.domNode,udt(i),[c],o)),Ue.any(...a.map(u=>u.onDidLayout))(([u,d])=>c.layoutColumn(u,d),null,this.disposables),this.splitview.onDidSashReset(u=>{const d=r.reduce((f,m)=>f+m.weight,0),h=r[u].weight/d*this.cachedWidth;this.splitview.resizeView(u,h)},null,this.disposables),this.styleElement=Ol(this.domNode),this.style(wat)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}},l_.InstanceCount=0,l_);var Ba;(function(n){n[n.Expanded=0]="Expanded",n[n.Collapsed=1]="Collapsed",n[n.PreserveOrExpanded=2]="PreserveOrExpanded",n[n.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(Ba||(Ba={}));var Vm;(function(n){n[n.Unknown=0]="Unknown",n[n.Twistie=1]="Twistie",n[n.Element=2]="Element",n[n.Filter=3]="Filter"})(Vm||(Vm={}));class $a extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class tX{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function nX(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function q1(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function H3(n){return typeof n.collapsible=="boolean"}class fdt{constructor(e,t,i,r={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new gA,this._onDidChangeCollapseState=new ge,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new ge,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new ge,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new _A(T1e),this.collapseByDefault=typeof r.collapseByDefault>"u"?!1:r.collapseByDefault,this.allowNonCollapsibleParents=r.allowNonCollapsibleParents??!1,this.filter=r.filter,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren>"u"?!1:r.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=Mn.empty(),r={}){if(e.length===0)throw new $a(this.user,"Invalid tree location");r.diffIdentityProvider?this.spliceSmart(r.diffIdentityProvider,e,t,i,r):this.spliceSimple(e,t,i,r)}spliceSmart(e,t,i,r=Mn.empty(),s,o=s.diffDepth??0){const{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,r,s);const l=[...r],c=t[t.length-1],u=new Ah({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,c),...l,...a.children.slice(c+i)].map(g=>e.getId(g.element).toString())}).ComputeDiff(!1);if(u.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,s);const d=t.slice(0,-1),h=(g,_,v)=>{if(o>0)for(let S=0;S<v;S++)g--,_--,this.spliceSmart(e,[...d,g,0],Number.MAX_SAFE_INTEGER,l[_].children,s,o-1)};let f=Math.min(a.children.length,c+i),m=l.length;for(const g of u.changes.sort((_,v)=>v.originalStart-_.originalStart))h(f,m,f-(g.originalStart+g.originalLength)),f=g.originalStart,m=g.modifiedStart-c,this.spliceSimple([...d,f],g.originalLength,Mn.slice(l,m,m+g.modifiedLength),s);h(f,m,f)}spliceSimple(e,t,i=Mn.empty(),{onDidCreateNode:r,onDidDeleteNode:s,diffIdentityProvider:o}){const{parentNode:a,listIndex:l,revealed:c,visible:u}=this.getParentNodeWithListIndex(e),d=[],h=Mn.map(i,b=>this.createTreeNode(b,a,a.visible?1:0,c,d,r)),f=e[e.length-1];let m=0;for(let b=f;b>=0&&b<a.children.length;b--){const w=a.children[b];if(w.visible){m=w.visibleChildIndex;break}}const g=[];let _=0,v=0;for(const b of h)g.push(b),v+=b.renderNodeCount,b.visible&&(b.visibleChildIndex=m+_++);const S=Xoe(a.children,f,t,g);o?a.lastDiffIds?Xoe(a.lastDiffIds,f,t,g.map(b=>o.getId(b.element).toString())):a.lastDiffIds=a.children.map(b=>o.getId(b.element).toString()):a.lastDiffIds=void 0;let C=0;for(const b of S)b.visible&&C++;if(C!==0)for(let b=f+g.length;b<a.children.length;b++){const w=a.children[b];w.visible&&(w.visibleChildIndex-=C)}if(a.visibleChildrenCount+=_-C,c&&u){const b=S.reduce((w,I)=>w+(I.visible?I.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,v-b),this.list.splice(l,b,d)}if(S.length>0&&s){const b=w=>{s(w),w.children.forEach(b)};S.forEach(b)}this._onDidSplice.fire({insertedNodes:g,deletedNodes:S});let y=a;for(;y;){if(y.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}y=y.parent}}rerender(e){if(e.length===0)throw new $a(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:r}=this.getTreeNodeWithListIndex(e);t.visible&&r&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:r}=this.getTreeNodeWithListIndex(e);return i&&r?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);const r={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const r=this.getTreeNode(e);typeof t>"u"&&(t=!r.collapsed);const s={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,s))}_setCollapseState(e,t){const{node:i,listIndex:r,revealed:s}=this.getTreeNodeWithListIndex(e),o=this._setListNodeCollapseState(i,r,s,t);if(i!==this.root&&this.autoExpandSingleChildren&&o&&!H3(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return o}_setListNodeCollapseState(e,t,i,r){const s=this._setNodeCollapseState(e,r,!1);if(!i||!e.visible||!s)return s;const o=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=o-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),s}_setNodeCollapseState(e,t,i){let r;if(e===this.root?r=!1:(H3(t)?(r=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(r=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):r=!1,r&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!H3(t)&&t.recursive)for(const s of e.children)r=this._setNodeCollapseState(s,t,!0)||r;return r}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,r,s,o){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,r&&s.push(a);const c=e.children||Mn.empty(),u=r&&l!==0&&!a.collapsed;let d=0,h=1;for(const f of c){const m=this.createTreeNode(f,a,l,u,s,o);a.children.push(m),h+=m.renderNodeCount,m.visible&&(m.visibleChildIndex=d++)}return this.allowNonCollapsibleParents||(a.collapsible=a.collapsible||a.children.length>0),a.visibleChildrenCount=d,a.visible=l===2?d>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=h):(a.renderNodeCount=0,r&&s.pop()),o==null||o(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,r=!0){let s;if(e!==this.root){if(s=this._filterNode(e,t),s===0)return e.visible=!1,e.renderNodeCount=0,!1;r&&i.push(e)}const o=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||s!==0){let l=0;for(const c of e.children)a=this._updateNodeAfterFilterChange(c,s,i,r&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=s===2?a:s===1,e.visibility=s),e.visible?e.collapsed||(e.renderNodeCount+=i.length-o):(e.renderNodeCount=0,r&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):nX(i)?(e.filterData=i.data,q1(i.visibility)):(e.filterData=void 0,q1(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[i,...r]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(r,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[i,...r]=e;if(i<0||i>t.children.length)throw new $a(this.user,"Invalid tree location");return this.getTreeNode(r,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:r,visible:s}=this.getParentNodeWithListIndex(e),o=e[e.length-1];if(o<0||o>t.children.length)throw new $a(this.user,"Invalid tree location");const a=t.children[o];return{node:a,listIndex:i,revealed:r,visible:s&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,r=!0,s=!0){const[o,...a]=e;if(o<0||o>t.children.length)throw new $a(this.user,"Invalid tree location");for(let l=0;l<o;l++)i+=t.children[l].renderNodeCount;return r=r&&!t.collapsed,s=s&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:r,visible:s}:this.getParentNodeWithListIndex(a,t.children[o],i+1,r,s)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:cqe(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}}class gdt extends LA{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function V3(n){return n instanceof LA?new gdt(n):n}class pdt{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=Ne.None,this.disposables=new at}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,r;(r=(i=this.dnd).onDragStart)==null||r.call(i,V3(e),t)}onDragOver(e,t,i,r,s,o=!0){const a=this.dnd.onDragOver(V3(e),t&&t.element,i,r,s),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(l&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=g6(()=>{const f=this.modelProvider(),m=f.getNodeLocation(t);f.isCollapsed(m)&&f.setCollapsed(m,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"||a.feedback){if(!o){const f=typeof a=="boolean"?a:a.accept,m=typeof a=="boolean"?void 0:a.effect;return{accept:f,effect:m,feedback:[i]}}return a}if(a.bubble===1){const f=this.modelProvider(),m=f.getNodeLocation(t),g=f.getParentNodeLocation(m),_=f.getNode(g),v=g&&f.getListIndex(g);return this.onDragOver(e,_,v,r,s,!1)}const c=this.modelProvider(),u=c.getNodeLocation(t),d=c.getListIndex(u),h=c.getListRenderCount(u);return{...a,feedback:Vo(d,d+h)}}drop(e,t,i,r,s){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(V3(e),t&&t.element,i,r,s)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function mdt(n,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new pdt(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element})},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(t){const i=n(),r=i.getNodeLocation(t),s=i.getParentNodeLocation(r);return i.getNode(s).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}}}class iX{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,r;(r=(i=this.delegate).setDynamicHeight)==null||r.call(i,e.element,t)}}var RC;(function(n){n.None="none",n.OnHover="onHover",n.Always="always"})(RC||(RC={}));class _dt{get elements(){return this._elements}constructor(e,t=[]){this._elements=t,this.disposables=new at,this.onDidChange=Ue.forEach(e,i=>this._elements=i,this.disposables)}dispose(){this.disposables.dispose()}}const H0=class H0{constructor(e,t,i,r,s,o={}){var a;this.renderer=e,this.modelProvider=t,this.activeNodes=r,this.renderedIndentGuides=s,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=H0.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=Ne.None,this.disposables=new at,this.templateId=e.templateId,this.updateOptions(o),Ue.map(i,l=>l.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(a=e.onDidChangeTwistieState)==null||a.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent<"u"){const t=$o(e.indent,0,40);if(t!==this.indent){this.indent=t;for(const[i,r]of this.renderedNodes)this.renderTreeElement(i,r)}}if(typeof e.renderIndentGuides<"u"){const t=e.renderIndentGuides!==RC.None;if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(const[i,r]of this.renderedNodes)this._renderIndentGuides(i,r);if(this.indentGuidesDisposable.dispose(),t){const i=new at;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=st(e,St(".monaco-tl-row")),i=st(t,St(".monaco-tl-indent")),r=st(t,St(".monaco-tl-twistie")),s=st(t,St(".monaco-tl-contents")),o=this.renderer.renderTemplate(s);return{container:e,indent:i,twistie:r,indentGuidesDisposable:Ne.None,templateData:o}}renderElement(e,t,i,r){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,r)}disposeElement(e,t,i,r){var s,o;i.indentGuidesDisposable.dispose(),(o=(s=this.renderer).disposeElement)==null||o.call(s,e,t,i.templateData,r),typeof r=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){const i=H0.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${i}px`,t.indent.style.width=`${i+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...Ln.asClassNameArray(tt.treeItemExpanded));let r=!1;this.renderer.renderTwistie&&(r=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(r||t.twistie.classList.add(...Ln.asClassNameArray(tt.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(fu(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new at,r=this.modelProvider();for(;;){const s=r.getNodeLocation(e),o=r.getParentNodeLocation(s);if(!o)break;const a=r.getNode(o),l=St(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(a)&&l.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(l):t.indent.insertBefore(l,t.indent.firstElementChild),this.renderedIndentGuides.add(a,l),i.add(Ht(()=>this.renderedIndentGuides.delete(a,l))),e=a}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(r=>{const s=i.getNodeLocation(r);try{const o=i.getParentNodeLocation(s);r.collapsible&&r.children.length>0&&!r.collapsed?t.add(r):o&&t.add(i.getNode(o))}catch{}}),this.activeIndentNodes.forEach(r=>{t.has(r)||this.renderedIndentGuides.forEach(r,s=>s.classList.remove("active"))}),t.forEach(r=>{this.activeIndentNodes.has(r)||this.renderedIndentGuides.forEach(r,s=>s.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),As(this.disposables)}};H0.DefaultIndent=8;let u$=H0;class Edt{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new at,e.onWillRefilter(this.reset,this,this.disposables)}filter(e,t){let i=1;if(this._filter){const o=this._filter.filter(e,t);if(typeof o=="boolean"?i=o?1:0:nX(o)?i=q1(o.visibility):i=o,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:xS.Default,visibility:i};const r=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),s=Array.isArray(r)?r:[r];for(const o of s){const a=o&&o.toString();if(typeof a>"u")return{data:xS.Default,visibility:i};let l;if(this.tree.findMatchType===P_.Contiguous){const c=a.toLowerCase().indexOf(this._lowercasePattern);if(c>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let u=this._lowercasePattern.length;u>0;u--)l.push(c+u-1)}}else l=yAe(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,s.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===kh.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:xS.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){As(this.disposables)}}var kh;(function(n){n[n.Highlight=0]="Highlight",n[n.Filter=1]="Filter"})(kh||(kh={}));var P_;(function(n){n[n.Fuzzy=0]="Fuzzy",n[n.Contiguous=1]="Contiguous"})(P_||(P_={}));class vdt{get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}constructor(e,t,i,r,s,o={}){this.tree=e,this.view=i,this.filter=r,this.contextViewProvider=s,this.options=o,this._pattern="",this.width=0,this._onDidChangeMode=new ge,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new ge,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new ge,this._onDidChangeOpenState=new ge,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new at,this.disposables=new at,this._mode=e.options.defaultFindMode??kh.Highlight,this._matchType=e.options.defaultFindMatchType??P_.Fuzzy,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var t,i,r;const e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&e?(H1(A("replFindNoResults","No results")),this.tree.options.showNotFoundMessage??!0?(t=this.widget)==null||t.showMessage({type:2,content:A("not found","No elements found.")}):(i=this.widget)==null||i.showMessage({type:2})):((r=this.widget)==null||r.clearMessage(),this.pattern&&H1(A("replFindResults","{0} results",this.filter.matchCount)))}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!xS.isDefault(e.filterData)}layout(e){var t;this.width=e,(t=this.widget)==null||t.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function Sdt(n,e){return n.position===e.position&&PRe(n,e)}function PRe(n,e){return n.node.element===e.node.element&&n.startIndex===e.startIndex&&n.height===e.height&&n.endIndex===e.endIndex}class Cdt{constructor(e=[]){this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return Mr(this.stickyNodes,e.stickyNodes,Sdt)}lastNodePartiallyVisible(){if(this.count===0)return!1;const e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;const t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!Mr(this.stickyNodes,e.stickyNodes,PRe)||this.count===0)return!1;const t=this.stickyNodes[this.count-1],i=e.stickyNodes[e.count-1];return t.position!==i.position}}class ydt{constrainStickyScrollNodes(e,t,i){for(let r=0;r<e.length;r++){const s=e[r];if(s.position+s.height>i||r>=t)return e.slice(0,r)}return e}}class Nue extends Ne{constructor(e,t,i,r,s,o={}){super(),this.tree=e,this.model=t,this.view=i,this.treeDelegate=s,this.maxWidgetViewRatio=.4;const a=this.validateStickySettings(o);this.stickyScrollMaxItemCount=a.stickyScrollMaxItemCount,this.stickyScrollDelegate=o.stickyScrollDelegate??new ydt,this._widget=this._register(new bdt(i.getScrollableElement(),i,e,r,s,o.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(i.onDidScroll(()=>this.update())),this._register(i.onDidChangeContentHeight(()=>this.update())),this._register(e.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(e){let t;if(e===0?t=this.view.firstVisibleIndex:t=this.view.indexAt(e+this.view.scrollTop),!(t<0||t>=this.view.length))return this.view.element(t)}update(){const e=this.getNodeAtHeight(0);if(!e||this.tree.scrollTop===0){this._widget.setState(void 0);return}const t=this.findStickyState(e);this._widget.setState(t)}findStickyState(e){const t=[];let i=e,r=0,s=this.getNextStickyNode(i,void 0,r);for(;s&&(t.push(s),r+=s.height,!(t.length<=this.stickyScrollMaxItemCount&&(i=this.getNextVisibleNode(s),!i)));)s=this.getNextStickyNode(i,s.node,r);const o=this.constrainStickyNodes(t);return o.length?new Cdt(o):void 0}getNextVisibleNode(e){return this.getNodeAtHeight(e.position+e.height)}getNextStickyNode(e,t,i){const r=this.getAncestorUnderPrevious(e,t);if(r&&!(r===e&&(!this.nodeIsUncollapsedParent(e)||this.nodeTopAlignsWithStickyNodesBottom(e,i))))return this.createStickyScrollNode(r,i)}nodeTopAlignsWithStickyNodesBottom(e,t){const i=this.getNodeIndex(e),r=this.view.getElementTop(i),s=t;return this.view.scrollTop===r-s}createStickyScrollNode(e,t){const i=this.treeDelegate.getHeight(e),{startIndex:r,endIndex:s}=this.getNodeRange(e),o=this.calculateStickyNodePosition(s,t,i);return{node:e,position:o,height:i,startIndex:r,endIndex:s}}getAncestorUnderPrevious(e,t=void 0){let i=e,r=this.getParentNode(i);for(;r;){if(r===t)return i;i=r,r=this.getParentNode(i)}if(t===void 0)return i}calculateStickyNodePosition(e,t,i){let r=this.view.getRelativeTop(e);if(r===null&&this.view.firstVisibleIndex===e&&e+1<this.view.length){const c=this.treeDelegate.getHeight(this.view.element(e)),u=this.view.getRelativeTop(e+1);r=u?u-c/this.view.renderHeight:null}if(r===null)return t;const s=this.view.element(e),o=this.treeDelegate.getHeight(s),l=r*this.view.renderHeight+o;return t+i>l&&t<=l?l-i:t}constrainStickyNodes(e){if(e.length===0)return[];const t=this.view.renderHeight*this.maxWidgetViewRatio,i=e[e.length-1];if(e.length<=this.stickyScrollMaxItemCount&&i.position+i.height<=t)return e;const r=this.stickyScrollDelegate.constrainStickyScrollNodes(e,this.stickyScrollMaxItemCount,t);if(!r.length)return[];const s=r[r.length-1];if(r.length>this.stickyScrollMaxItemCount||s.position+s.height>t)throw new Error("stickyScrollDelegate violates constraints");return r}getParentNode(e){const t=this.model.getNodeLocation(e),i=this.model.getParentNodeLocation(t);return i?this.model.getNode(i):void 0}nodeIsUncollapsedParent(e){const t=this.model.getNodeLocation(e);return this.model.getListRenderCount(t)>1}getNodeIndex(e){const t=this.model.getNodeLocation(e);return this.model.getListIndex(t)}getNodeRange(e){const t=this.model.getNodeLocation(e),i=this.model.getListIndex(t);if(i<0)throw new Error("Node not found in tree");const r=this.model.getListRenderCount(t),s=i+r-1;return{startIndex:i,endIndex:s}}nodePositionTopBelowWidget(e){const t=[];let i=this.getParentNode(e);for(;i;)t.push(i),i=this.getParentNode(i);let r=0;for(let s=0;s<t.length&&s<this.stickyScrollMaxItemCount;s++)r+=this.treeDelegate.getHeight(t[s]);return r}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(e={}){if(!e.stickyScrollMaxItemCount)return;const t=this.validateStickySettings(e);this.stickyScrollMaxItemCount!==t.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=t.stickyScrollMaxItemCount,this.update())}validateStickySettings(e){let t=7;return typeof e.stickyScrollMaxItemCount=="number"&&(t=Math.max(e.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:t}}}class bdt{constructor(e,t,i,r,s,o){this.view=t,this.tree=i,this.treeRenderers=r,this.treeDelegate=s,this.accessibilityProvider=o,this._previousElements=[],this._previousStateDisposables=new at,this._rootDomNode=St(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);const a=St(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(a),this.stickyScrollFocus=new Tdt(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const e=this._previousState.stickyNodes[this._previousState.count-1];return e.position+e.height}setState(e){const t=!!this._previousState&&this._previousState.count>0,i=!!e&&e.count>0;if(!t&&!i||t&&i&&this._previousState.equal(e))return;if(t!==i&&this.setVisible(i),!i){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const r=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${r.position}px`;else{this._previousStateDisposables.clear();const s=Array(e.count);for(let o=e.count-1;o>=0;o--){const a=e.stickyNodes[o],{element:l,disposable:c}=this.createElement(a,o,e.count);s[o]=l,this._rootDomNode.appendChild(l),this._previousStateDisposables.add(c)}this.stickyScrollFocus.updateElements(s,e),this._previousElements=s}this._previousState=e,this._rootDomNode.style.height=`${r.position+r.height}px`}createElement(e,t,i){const r=e.startIndex,s=document.createElement("div");s.style.top=`${e.position}px`,this.tree.options.setRowHeight!==!1&&(s.style.height=`${e.height}px`),this.tree.options.setRowLineHeight!==!1&&(s.style.lineHeight=`${e.height}px`),s.classList.add("monaco-tree-sticky-row"),s.classList.add("monaco-list-row"),s.setAttribute("data-index",`${r}`),s.setAttribute("data-parity",r%2===0?"even":"odd"),s.setAttribute("id",this.view.getElementID(r));const o=this.setAccessibilityAttributes(s,e.node.element,t,i),a=this.treeDelegate.getTemplateId(e.node),l=this.treeRenderers.find(h=>h.templateId===a);if(!l)throw new Error(`No renderer found for template id ${a}`);let c=e.node;c===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(c=new Proxy(e.node,{}));const u=l.renderTemplate(s);l.renderElement(c,e.startIndex,u,e.height);const d=Ht(()=>{o.dispose(),l.disposeElement(c,e.startIndex,u,e.height),l.disposeTemplate(u),s.remove()});return{element:s,disposable:d}}setAccessibilityAttributes(e,t,i,r){if(!this.accessibilityProvider)return Ne.None;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,i,r))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,i))),this.accessibilityProvider.getRole&&e.setAttribute("role",this.accessibilityProvider.getRole(t)??"treeitem");const s=this.accessibilityProvider.getAriaLabel(t),o=s&&typeof s!="string"?s:mx(s),a=Un(c=>{const u=c.readObservable(o);u?e.setAttribute("aria-label",u):e.removeAttribute("aria-label")});typeof s=="string"||s&&e.setAttribute("aria-label",s.get());const l=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);return typeof l=="number"&&e.setAttribute("aria-level",`${l}`),e.setAttribute("aria-selected",String(!1)),a}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class Tdt extends Ne{get domHasFocus(){return this._domHasFocus}set domHasFocus(e){e!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(e),this._domHasFocus=e)}constructor(e,t){super(),this.container=e,this.view=t,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new ge,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new ge,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this._register(we(this.container,"focus",()=>this.onFocus())),this._register(we(this.container,"blur",()=>this.onBlur())),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(i=>this.onKeyDown(i))),this._register(this.view.onMouseDown(i=>this.onMouseDown(i))),this._register(this.view.onContextMenu(i=>this.handleContextMenu(i)))}handleContextMenu(e){const t=e.browserEvent.target;if(!W1(t)&&!n0(t)){this.focusedLast()&&this.view.domFocus();return}if(!_h(e.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const o=this.state.stickyNodes.findIndex(a=>{var l;return a.node.element===((l=e.element)==null?void 0:l.element)});if(o===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(o);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const r=this.state.stickyNodes[this.focusedIndex].node.element,s=this.elements[this.focusedIndex];this._onContextMenu.fire({element:r,anchor:s,browserEvent:e.browserEvent,isStickyScroll:!0})}onKeyDown(e){if(this.domHasFocus&&this.state){if(e.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),e.preventDefault(),e.stopPropagation();else if(e.key==="ArrowDown"||e.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const t=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([t]),this.scrollNodeUnderWidget(t,this.state)}else this.setFocusedElement(this.focusedIndex+1);e.preventDefault(),e.stopPropagation()}}}onMouseDown(e){const t=e.browserEvent.target;!W1(t)&&!n0(t)||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation())}updateElements(e,t){if(t&&t.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(t&&t.count!==e.length)throw new Error("Sticky scroll focus received illigel state");const i=this.focusedIndex;if(this.removeFocus(),this.elements=e,this.state=t,t){const r=$o(i,0,t.count-1);this.setFocus(r)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=t?0:-1}setFocusedElement(e){const t=this.state;if(!t)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(e),!(e<t.count-1)&&t.lastNodePartiallyVisible()){const i=t.stickyNodes[e];this.scrollNodeUnderWidget(i.endIndex+1,t)}}scrollNodeUnderWidget(e,t){const i=t.stickyNodes[t.count-1],r=t.count>1?t.stickyNodes[t.count-2]:void 0,s=this.view.getElementTop(e),o=r?r.position+r.height+i.height:i.height;this.view.scrollTop=s-o}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(e){if(0>e)throw new Error("addFocus() can not remove focus");if(!this.state&&e>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&e>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const t=this.focusedIndex;t>=0&&this.toggleElementFocus(this.elements[t],!1),e>=0&&this.toggleElementFocus(this.elements[e],!0),this.focusedIndex=e}toggleElementFocus(e,t){this.toggleElementActiveFocus(e,t&&this.domHasFocus),this.toggleElementPassiveFocus(e,t)}toggleCurrentElementActiveFocus(e){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],e)}toggleElementActiveFocus(e,t){e.classList.toggle("focused",t)}toggleElementPassiveFocus(e,t){e.classList.toggle("passive-focused",t)}toggleStickyScrollFocused(e){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",e)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function pN(n){let e=Vm.Unknown;return e3(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=Vm.Twistie:e3(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=Vm.Element:e3(n.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=Vm.Filter),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function wdt(n){const e=W1(n.browserEvent.target);return{element:n.element?n.element.element:null,browserEvent:n.browserEvent,anchor:n.anchor,isStickyScroll:e}}function bL(n,e){e(n),n.children.forEach(t=>bL(t,e))}class W3{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new ge,this.onDidChange=this._onDidChange.event}set(e,t){!(t!=null&&t.__forceEvent)&&Mr(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const r=this;this._onDidChange.fire({get elements(){return r.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const l=this.createNodeSet(),c=u=>l.delete(u);t.forEach(u=>bL(u,c)),this.set([...l.values()]);return}const i=new Set,r=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>bL(l,r));const s=new Map,o=l=>s.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>bL(l,o));const a=[];for(const l of this.nodes){const c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{const d=s.get(c);d&&d.visible&&a.push(d)}}if(this.nodes.length>0&&a.length===0){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class Adt extends zAe{constructor(e,t,i){super(e),this.tree=t,this.stickyScrollProvider=i}onViewPointer(e){if(VAe(e.browserEvent.target)||kg(e.browserEvent.target)||TT(e.browserEvent.target)||e.browserEvent.isHandledByList)return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,r=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,s=n0(e.browserEvent.target);let o=!1;if(s?o=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?o=this.tree.expandOnlyOnTwistieClick(t.element):o=!!this.tree.expandOnlyOnTwistieClick,s)this.handleStickyScrollMouseEvent(e,t);else{if(o&&!r&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e)}if(t.collapsible&&(!s||r)){const a=this.tree.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),this.tree.toggleCollapsed(a,l),r){e.browserEvent.isHandledByList=!0;return}}s||super.onViewPointer(e)}handleStickyScrollMouseEvent(e,t){if(vat(e.browserEvent.target)||Sat(e.browserEvent.target))return;const i=this.stickyScrollProvider();if(!i)throw new Error("Sticky scroll controller not found");const r=this.list.indexOf(t),s=this.list.getElementTop(r),o=i.nodePositionTopBelowWidget(t);this.tree.scrollTop=s-o,this.list.domFocus(),this.list.setFocus([r]),this.list.setSelection([r])}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||e.browserEvent.isHandledByList||super.onDoubleClick(e)}onMouseDown(e){const t=e.browserEvent.target;if(!W1(t)&&!n0(t)){super.onMouseDown(e);return}}onContextMenu(e){const t=e.browserEvent.target;if(!W1(t)&&!n0(t)){super.onContextMenu(e);return}}}class Rdt extends Tu{constructor(e,t,i,r,s,o,a,l){super(e,t,i,r,l),this.focusTrait=s,this.selectionTrait=o,this.anchorTrait=a}createMouseController(e){return new Adt(this,e.tree,e.stickyScrollProvider)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;const r=[],s=[];let o;i.forEach((a,l)=>{this.focusTrait.has(a)&&r.push(e+l),this.selectionTrait.has(a)&&s.push(e+l),this.anchorTrait.has(a)&&(o=e+l)}),r.length>0&&super.setFocus(T_([...super.getFocus(),...r])),s.length>0&&super.setSelection(T_([...super.getSelection(),...s])),typeof o=="number"&&super.setAnchor(o)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(r=>this.element(r)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(r=>this.element(r)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class kRe{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return Ue.filter(Ue.map(this.view.onMouseDblClick,pN),e=>e.target!==Vm.Filter)}get onMouseOver(){return Ue.map(this.view.onMouseOver,pN)}get onMouseOut(){return Ue.map(this.view.onMouseOut,pN)}get onContextMenu(){var e;return Ue.any(Ue.filter(Ue.map(this.view.onContextMenu,wdt),t=>!t.isStickyScroll),((e=this.stickyScrollController)==null?void 0:e.onContextMenu)??Ue.None)}get onPointer(){return Ue.map(this.view.onPointer,pN)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return Ue.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e;return((e=this.findController)==null?void 0:e.mode)??kh.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get findMatchType(){var e;return((e=this.findController)==null?void 0:e.matchType)??P_.Fuzzy}set findMatchType(e){this.findController&&(this.findController.matchType=e)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(e,t,i,r,s={}){this._user=e,this._options=s,this.eventBufferer=new gA,this.onDidChangeFindOpenState=Ue.None,this.onDidChangeStickyScrollFocused=Ue.None,this.disposables=new at,this._onWillRefilter=new ge,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new ge,this.treeDelegate=new iX(i);const o=new rae,a=new rae,l=this.disposables.add(new _dt(a.event)),c=new mwe;this.renderers=r.map(m=>new u$(m,()=>this.model,o.event,l,c,s));for(const m of this.renderers)this.disposables.add(m);let u;s.keyboardNavigationLabelProvider&&(u=new Edt(this,s.keyboardNavigationLabelProvider,s.filter),s={...s,filter:u},this.disposables.add(u)),this.focus=new W3(()=>this.view.getFocusedElements()[0],s.identityProvider),this.selection=new W3(()=>this.view.getSelectedElements()[0],s.identityProvider),this.anchor=new W3(()=>this.view.getAnchorElement(),s.identityProvider),this.view=new Rdt(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...mdt(()=>this.model,s),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(e,this.view,s),o.input=this.model.onDidChangeCollapseState;const d=Ue.forEach(this.model.onDidSplice,m=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(m),this.selection.onDidModelSplice(m)})},this.disposables);d(()=>null,null,this.disposables);const h=this.disposables.add(new ge),f=this.disposables.add(new _A(0));if(this.disposables.add(Ue.any(d,this.focus.onDidChange,this.selection.onDidChange)(()=>{f.trigger(()=>{const m=new Set;for(const g of this.focus.getNodes())m.add(g);for(const g of this.selection.getNodes())m.add(g);h.fire([...m.values()])})})),a.input=h.event,s.keyboardSupport!==!1){const m=Ue.chain(this.view.onKeyDown,g=>g.filter(_=>!kg(_.target)).map(_=>new wi(_)));Ue.chain(m,g=>g.filter(_=>_.keyCode===15))(this.onLeftArrow,this,this.disposables),Ue.chain(m,g=>g.filter(_=>_.keyCode===17))(this.onRightArrow,this,this.disposables),Ue.chain(m,g=>g.filter(_=>_.keyCode===10))(this.onSpace,this,this.disposables)}if((s.findWidgetEnabled??!0)&&s.keyboardNavigationLabelProvider&&s.contextViewProvider){const m=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new vdt(this,this.model,this.view,u,s.contextViewProvider,m),this.focusNavigationFilter=g=>this.findController.shouldAllowFocus(g),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=Ue.None,this.onDidChangeFindMatchType=Ue.None;s.enableStickyScroll&&(this.stickyScrollController=new Nue(this,this.model,this.view,this.renderers,this.treeDelegate,s),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=Ol(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===RC.Always)}updateOptions(e={}){var t;this._options={...this._options,...e};for(const i of this.renderers)i.updateOptions(e);this.view.updateOptions(this._options),(t=this.findController)==null||t.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===RC.Always)}get options(){return this._options}updateStickyScroll(e){var t;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new Nue(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=Ue.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(t=this.stickyScrollController)==null||t.updateOptions(e)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(e){this.view.ariaLabel=e}domFocus(){var e;(e=this.stickyScrollController)!=null&&e.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),my(t)&&((i=this.findController)==null||i.layout(t))}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));const r=e.treeStickyScrollBackground??e.listBackground;r&&(i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${r}; }`),i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${r}; }`)),e.treeStickyScrollBorder&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${e.treeStickyScrollBorder}; }`),e.treeStickyScrollShadow&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${e.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),e.listFocusForeground&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const s=Vh(e.listFocusAndSelectionOutline,Vh(e.listSelectionOutline,e.listFocusOutline??""));s&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${s}; outline-offset: -1px;}`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(s=>this.model.getNode(s));this.selection.set(i,t);const r=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setSelection(r,t,!0)})}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(s=>this.model.getNode(s));this.focus.set(i,t);const r=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setFocus(r,t,!0)})}focusNext(e=1,t=!1,i,r=_h(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(e,t,i,r)}focusPrevious(e=1,t=!1,i,r=_h(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(e,t,i,r)}focusNextPage(e,t=_h(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(e,t)}focusPreviousPage(e,t=_h(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(e,t,()=>{var i;return((i=this.stickyScrollController)==null?void 0:i.height)??0})}focusLast(e,t=_h(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(e,t)}focusFirst(e,t=_h(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(e,t)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);if(i!==-1)if(!this.stickyScrollController)this.view.reveal(i,t);else{const r=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,r)}}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!0)){const o=this.model.getParentNodeLocation(r);if(!o)return;const a=this.model.getListIndex(o);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!1)){if(!i.children.some(l=>l.visible))return;const[o]=this.view.getFocus(),a=o+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i),s=e.browserEvent.altKey;this.model.setCollapsed(r,void 0,s)}dispose(){var e;As(this.disposables),(e=this.stickyScrollController)==null||e.dispose(),this.view.dispose()}}class rX{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new fdt(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(r,s){return i.sorter.compare(r.element,s.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=Mn.empty(),i={}){const r=this.getElementLocation(e);this._setChildren(r,this.preserveCollapseState(t),i)}_setChildren(e,t=Mn.empty(),i){const r=new Set,s=new Set,o=l=>{var u;if(l.element===null)return;const c=l;if(r.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();s.add(d),this.nodesByIdentity.set(d,c)}(u=i.onDidCreateNode)==null||u.call(i,c)},a=l=>{var u;if(l.element===null)return;const c=l;if(r.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();s.has(d)||this.nodesByIdentity.delete(d)}(u=i.onDidDeleteNode)==null||u.call(i,c)};this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:o,onDidDeleteNode:a})}preserveCollapseState(e=Mn.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),Mn.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const o=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(o)}if(!i){let o;return typeof t.collapsed>"u"?o=void 0:t.collapsed===Ba.Collapsed||t.collapsed===Ba.PreserveOrCollapsed?o=!0:t.collapsed===Ba.Expanded||t.collapsed===Ba.PreserveOrExpanded?o=!1:o=!!t.collapsed,{...t,children:this.preserveCollapseState(t.children),collapsed:o}}const r=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible;let s;return typeof t.collapsed>"u"||t.collapsed===Ba.PreserveOrCollapsed||t.collapsed===Ba.PreserveOrExpanded?s=i.collapsed:t.collapsed===Ba.Collapsed?s=!0:t.collapsed===Ba.Expanded?s=!1:s=!!t.collapsed,{...t,collapsible:r,collapsed:s,children:this.preserveCollapseState(t.children)}})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getElementLocation(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new $a(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new $a(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new $a(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),r=this.model.getParentNodeLocation(i);return this.model.getNode(r).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new $a(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function TL(n){const e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:Mn.map(Mn.from(n.children),TL),collapsible:n.collapsible,collapsed:n.collapsed}}function wL(n){const e=[n.element],t=n.incompressible||!1;let i,r;for(;[r,i]=Mn.consume(Mn.from(n.children),2),!(r.length!==1||r[0].incompressible);)n=r[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:Mn.map(Mn.concat(r,i),wL),collapsible:n.collapsible,collapsed:n.collapsed}}function d$(n,e=0){let t;return e<n.element.elements.length-1?t=[d$(n,e+1)]:t=Mn.map(Mn.from(n.children),i=>d$(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function Lue(n){return d$(n,0)}function MRe(n,e,t){return n.element===e?{...n,children:t}:{...n,children:Mn.map(Mn.from(n.children),i=>MRe(i,e,t))}}const Idt=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}});class Ndt{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new rX(e,t,i),this.enabled=typeof i.compressionEnabled>"u"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}setChildren(e,t=Mn.empty(),i){const r=i.diffIdentityProvider&&Idt(i.diffIdentityProvider);if(e===null){const m=Mn.map(t,this.enabled?wL:TL);this._setChildren(null,m,{diffIdentityProvider:r,diffDepth:1/0});return}const s=this.nodes.get(e);if(!s)throw new $a(this.user,"Unknown compressed tree node");const o=this.model.getNode(s),a=this.model.getParentNodeLocation(s),l=this.model.getNode(a),c=Lue(o),u=MRe(c,e,t),d=(this.enabled?wL:TL)(u),h=i.diffIdentityProvider?(m,g)=>i.diffIdentityProvider.getId(m)===i.diffIdentityProvider.getId(g):void 0;if(Mr(d.element.elements,o.element.elements,h)){this._setChildren(s,d.children||Mn.empty(),{diffIdentityProvider:r,diffDepth:1});return}const f=l.children.map(m=>m===o?d:m);this._setChildren(l.element,f,{diffIdentityProvider:r,diffDepth:o.depth-l.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,r=Mn.map(i,Lue),s=Mn.map(r,e?wL:TL);this._setChildren(null,s,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const r=new Set,s=a=>{for(const l of a.element.elements)r.add(l),this.nodes.set(l,a.element)},o=a=>{for(const l of a.element.elements)r.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,{...i,onDidCreateNode:s,onDidDeleteNode:o})}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getCompressedNode(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new $a(this.user,`Tree element not found: ${e}`);return t}}const Ldt=n=>n[n.length-1];class sX{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new sX(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e,t){this.unwrapper=e,this.node=t}}function Odt(n,e){return{splice(t,i,r){e.splice(t,i,r.map(s=>n.map(s)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function xdt(n,e){return{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}}}class Ddt{get onDidSplice(){return Ue.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return Ue.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return Ue.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||Ldt;const r=s=>this.elementMapper(s.elements);this.nodeMapper=new tX(s=>new sX(r,s)),this.model=new Ndt(e,Odt(this.nodeMapper,t),xdt(r,i))}setChildren(e,t=Mn.empty(),i={}){this.model.setChildren(e,t,i)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var Pdt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class oX extends kRe{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,i,r,s={}){super(e,t,i,r,s),this.user=e}setChildren(e,t=Mn.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new rX(e,t,i)}}class FRe{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t,i){this._compressedTreeNodeProvider=e,this.stickyScrollDelegate=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){let s=this.stickyScrollDelegate.getCompressedNode(e);s||(s=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),s.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,r)):(i.compressedTreeNode=s,this.renderer.renderCompressedElements(s,t,i.data,r))}disposeElement(e,t,i,r){var s,o,a,l;i.compressedTreeNode?(o=(s=this.renderer).disposeCompressedElements)==null||o.call(s,i.compressedTreeNode,t,i.data,r):(l=(a=this.renderer).disposeElement)==null||l.call(a,e,t,i.data,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}Pdt([Ji],FRe.prototype,"compressedTreeNodeProvider",null);class kdt{constructor(e){this.modelProvider=e,this.compressedStickyNodes=new Map}getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,i){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let r=0;r<e.length;r++){const s=e[r],o=s.position+s.height;if(r+1<e.length&&o+e[r+1].height>i||r>=t-1&&t<e.length){const l=e.slice(0,r),c=e.slice(r),u=this.compressStickyNodes(c);return[...l,u]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");const t=this.modelProvider();if(!t.isCompressionEnabled())return e[0];const i=[];for(let c=0;c<e.length;c++){const u=e[c],d=t.getCompressedTreeNode(u.node.element);if(d.element){if(c!==0&&d.element.incompressible)break;i.push(...d.element.elements)}}if(i.length<2)return e[0];const r=e[e.length-1],s={elements:i,incompressible:!1},o={...r.node,children:[],element:s},a=new Proxy(e[0].node,{}),l={node:a,startIndex:e[0].startIndex,endIndex:r.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(a,o),l}}function Mdt(n,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}}}class BRe extends oX{constructor(e,t,i,r,s={}){const o=()=>this,a=new kdt(()=>this.model),l=r.map(c=>new FRe(o,a,c));super(e,t,i,l,{...Mdt(o,s),stickyScrollDelegate:a})}setChildren(e,t=Mn.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new Ddt(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}function $3(n){return{...n,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function h$(n,e){return e.parent?e.parent===n?!0:h$(n,e.parent):!1}function Fdt(n,e){return n===e||h$(n,e)||h$(e,n)}class aX{get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new aX(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class Bdt{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ln.asClassNameArray(tt.treeItemLoading)),!0):(t.classList.remove(...Ln.asClassNameArray(tt.treeItemLoading)),!1)}disposeElement(e,t,i,r){var s,o;(o=(s=this.renderer).disposeElement)==null||o.call(s,this.nodeMapper.map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function Oue(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function xue(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}class Udt extends LA{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function G3(n){return n instanceof LA?new Udt(n):n}class Hdt{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,r;(r=(i=this.dnd).onDragStart)==null||r.call(i,G3(e),t)}onDragOver(e,t,i,r,s,o=!0){return this.dnd.onDragOver(G3(e),t&&t.element,i,r,s)}drop(e,t,i,r,s){this.dnd.drop(G3(e),t&&t.element,i,r,s)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}dispose(){this.dnd.dispose()}}function URe(n){return n&&{...n,collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new Hdt(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:n.accessibilityProvider&&{...n.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>{var t;return!!((t=n.accessibilityProvider)!=null&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))},filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{...n.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof n.defaultFindVisibility=="number"?n.defaultFindVisibility:typeof n.defaultFindVisibility>"u"?2:n.defaultFindVisibility(e.element)}}function f$(n,e){e(n),n.children.forEach(t=>f$(t,e))}class HRe{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return Ue.map(this.tree.onDidChangeFocus,Oue)}get onDidChangeSelection(){return Ue.map(this.tree.onDidChangeSelection,Oue)}get onMouseDblClick(){return Ue.map(this.tree.onMouseDblClick,xue)}get onPointer(){return Ue.map(this.tree.onPointer,xue)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(e,t,i,r,s,o={}){this.user=e,this.dataSource=s,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new ge,this._onDidChangeNodeSlowState=new ge,this.nodeMapper=new tX(a=>new aX(a)),this.disposables=new at,this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=typeof o.autoExpandSingleChildren>"u"?!1:o.autoExpandSingleChildren,this.sorter=o.sorter,this.getDefaultCollapseState=a=>o.collapseByDefault?o.collapseByDefault(a)?Ba.PreserveOrCollapsed:Ba.PreserveOrExpanded:void 0,this.tree=this.createTree(e,t,i,r,o),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=$3({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(e,t,i,r,s){const o=new iX(i),a=r.map(c=>new Bdt(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=URe(s)||{};return new oX(e,t,o,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach(r=>r.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)}async _updateChildren(e=this.root.element,t=!0,i=!1,r,s){if(typeof this.root.element>"u")throw new $a(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await Ue.toPromise(this._onDidRender.event));const o=this.getDataNode(e);if(await this.refreshAndRenderNode(o,t,r,s),i)try{this.tree.rerender(o)}catch{}}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e,t=!1){if(typeof this.root.element>"u")throw new $a(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await Ue.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(await this.root.refreshPromise,await Ue.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const r=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await Ue.toPromise(this._onDidRender.event)),r}setSelection(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new $a(this.user,`Data tree node not found: ${e}`);return t}async refreshAndRenderNode(e,t,i,r){await this.refreshNode(e,t,i),!this.disposables.isDisposed&&this.render(e,i,r)}async refreshNode(e,t,i){let r;if(this.subTreeRefreshPromises.forEach((s,o)=>{!r&&Fdt(o,e)&&(r=s.then(()=>this.refreshNode(e,t,i)))}),r)return r;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,this.setChildren(e,[],t,i);return}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let r;e.refreshPromise=new Promise(s=>r=s),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const s=await this.doRefreshNode(e,t,i);e.stale=!1,await p6.settled(s.map(o=>this.doRefreshSubTree(o,t,i)))}finally{r()}}async doRefreshNode(e,t,i){e.hasChildren=!!this.dataSource.hasChildren(e.element);let r;if(!e.hasChildren)r=Promise.resolve(Mn.empty());else{const s=this.doGetChildren(e);if(Qoe(s))r=Promise.resolve(s);else{const o=I1(800);o.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),r=s.finally(()=>o.cancel())}}try{const s=await r;return this.setChildren(e,s,t,i)}catch(s){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),hA(s))return[];throw s}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return Qoe(i)?this.processChildren(i):(t=w1e(async()=>this.processChildren(await i)),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(hi))}setChildren(e,t,i,r){const s=[...t];if(e.children.length===0&&s.length===0)return[];const o=new Map,a=new Map;for(const u of e.children)o.set(u.element,u),this.identityProvider&&a.set(u.id,{node:u,collapsed:this.tree.hasElement(u)&&this.tree.isCollapsed(u)});const l=[],c=s.map(u=>{const d=!!this.dataSource.hasChildren(u);if(!this.identityProvider){const g=$3({element:u,parent:e,hasChildren:d,defaultCollapseState:this.getDefaultCollapseState(u)});return d&&g.defaultCollapseState===Ba.PreserveOrExpanded&&l.push(g),g}const h=this.identityProvider.getId(u).toString(),f=a.get(h);if(f){const g=f.node;return o.delete(g.element),this.nodes.delete(g.element),this.nodes.set(u,g),g.element=u,g.hasChildren=d,i?f.collapsed?(g.children.forEach(_=>f$(_,v=>this.nodes.delete(v.element))),g.children.splice(0,g.children.length),g.stale=!0):l.push(g):d&&!f.collapsed&&l.push(g),g}const m=$3({element:u,parent:e,id:h,hasChildren:d,defaultCollapseState:this.getDefaultCollapseState(u)});return r&&r.viewState.focus&&r.viewState.focus.indexOf(h)>-1&&r.focus.push(m),r&&r.viewState.selection&&r.viewState.selection.indexOf(h)>-1&&r.selection.push(m),(r&&r.viewState.expanded&&r.viewState.expanded.indexOf(h)>-1||d&&m.defaultCollapseState===Ba.PreserveOrExpanded)&&l.push(m),m});for(const u of o.values())f$(u,d=>this.nodes.delete(d.element));for(const u of c)this.nodes.set(u.element,u);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].forceExpanded=!0,l.push(c[0])),l}render(e,t,i){const r=e.children.map(o=>this.asTreeElement(o,t)),s=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId(o){return i.diffIdentityProvider.getId(o.element)}}};this.tree.setChildren(e===this.root?null:e,r,s),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?Mn.map(e.children,r=>this.asTreeElement(r,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose(),this.tree.dispose()}}class lX{get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new lX(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class Vdt{constructor(e,t,i,r){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=r,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderCompressedElements(e,t,i,r){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ln.asClassNameArray(tt.treeItemLoading)),!0):(t.classList.remove(...Ln.asClassNameArray(tt.treeItemLoading)),!1)}disposeElement(e,t,i,r){var s,o;(o=(s=this.renderer).disposeElement)==null||o.call(s,this.nodeMapper.map(e),t,i.templateData,r)}disposeCompressedElements(e,t,i,r){var s,o;(o=(s=this.renderer).disposeCompressedElements)==null||o.call(s,this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=As(this.disposables)}}function Wdt(n){const e=n&&URe(n);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}}}}class $dt extends HRe{constructor(e,t,i,r,s,o,a={}){super(e,t,i,s,o,a),this.compressionDelegate=r,this.compressibleNodeMapper=new tX(l=>new lX(l)),this.filter=a.filter}createTree(e,t,i,r,s){const o=new iX(i),a=r.map(c=>new Vdt(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=Wdt(s)||{};return new BRe(e,t,o,a,l)}asTreeElement(e,t){return{incompressible:this.compressionDelegate.isIncompressible(e.element),...super.asTreeElement(e,t)}}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t,i){if(!this.identityProvider)return super.render(e,t);const r=f=>this.identityProvider.getId(f).toString(),s=f=>{const m=new Set;for(const g of f){const _=this.tree.getCompressedTreeNode(g===this.root?null:g);if(_.element)for(const v of _.element.elements)m.add(r(v.element))}return m},o=s(this.tree.getSelection()),a=s(this.tree.getFocus());super.render(e,t,i);const l=this.getSelection();let c=!1;const u=this.getFocus();let d=!1;const h=f=>{const m=f.element;if(m)for(let g=0;g<m.elements.length;g++){const _=r(m.elements[g].element),v=m.elements[m.elements.length-1].element;o.has(_)&&l.indexOf(v)===-1&&(l.push(v),c=!0),a.has(_)&&u.indexOf(v)===-1&&(u.push(v),d=!0)}f.children.forEach(h)};h(this.tree.getCompressedTreeNode(e===this.root?null:e)),c&&this.setSelection(l),d&&this.setFocus(u)}processChildren(e){return this.filter&&(e=Mn.filter(e,t=>{const i=this.filter.filter(t,1),r=Gdt(i);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(e)}}function Gdt(n){return typeof n=="boolean"?n?1:0:nX(n)?q1(n.visibility):q1(n)}class zdt extends kRe{constructor(e,t,i,r,s,o={}){super(e,t,i,r,o),this.user=e,this.dataSource=s,this.identityProvider=o.identityProvider}createModel(e,t,i){return new rX(e,t,i)}}new ct("isMac",bn,A("isMac","Whether the operating system is macOS"));new ct("isLinux",Zo,A("isLinux","Whether the operating system is Linux"));new ct("isWindows",ba,A("isWindows","Whether the operating system is Windows"));new ct("isWeb",_y,A("isWeb","Whether the platform is a web browser"));new ct("isMacNative",bn&&!_y,A("isMacNative","Whether the operating system is macOS on a non-browser platform"));new ct("isIOS",w_,A("isIOS","Whether the operating system is iOS"));new ct("isMobile",j0e,A("isMobile","Whether the platform is a mobile web browser"));new ct("isDevelopment",!1,!0);new ct("productQualityType","",A("productQualityType","Quality type of VS Code"));const VRe="inputFocus",jdt=new ct(VRe,!1,A("inputFocus","Whether keyboard focus is inside an input box"));var pf=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},vi=function(n,e){return function(t,i){e(t,i,n)}};const Dd=Cn("listService");class Ydt{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new at,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)==null||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)==null||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new jAe(Ol(),"").style(wy)),this.lists.some(r=>r.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),YK(e.getHTMLElement())&&this.setLastFocusedList(e),dd(e.onDidFocus(()=>this.setLastFocusedList(e)),Ht(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(r=>r!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const X1=new ct("listScrollAtBoundary","none");$n.or(X1.isEqualTo("top"),X1.isEqualTo("both"));$n.or(X1.isEqualTo("bottom"),X1.isEqualTo("both"));const WRe=new ct("listFocus",!0),$Re=new ct("treestickyScrollFocused",!1),m2=new ct("listSupportsMultiselect",!0);$n.and(WRe,$n.not(VRe),$Re.negate());const cX=new ct("listHasSelectionOrFocus",!1),uX=new ct("listDoubleSelection",!1),dX=new ct("listMultiSelection",!1),_2=new ct("listSelectionNavigation",!1),Kdt=new ct("listSupportsFind",!0),qdt=new ct("treeElementCanCollapse",!1),Xdt=new ct("treeElementHasParent",!1),Qdt=new ct("treeElementCanExpand",!1),Zdt=new ct("treeElementHasChild",!1),Jdt=new ct("treeFindOpen",!1),GRe="listTypeNavigationMode",zRe="listAutomaticKeyboardNavigation";function E2(n,e){const t=n.createScoped(e.getHTMLElement());return WRe.bindTo(t),t}function v2(n,e){const t=X1.bindTo(n),i=()=>{const r=e.scrollTop===0,s=e.scrollHeight-e.renderHeight-e.scrollTop<1;r&&s?t.set("both"):r?t.set("top"):s?t.set("bottom"):t.set("none")};return i(),e.onDidScroll(i)}const hE="workbench.list.multiSelectModifier",AL="workbench.list.openMode",Rl="workbench.list.horizontalScrolling",hX="workbench.list.defaultFindMode",fX="workbench.list.typeNavigationMode",Ox="workbench.list.keyboardNavigation",mu="workbench.list.scrollByPage",gX="workbench.list.defaultFindMatchType",Q1="workbench.tree.indent",xx="workbench.tree.renderIndentGuides",_u="workbench.list.smoothScrolling",yd="workbench.list.mouseWheelScrollSensitivity",bd="workbench.list.fastScrollSensitivity",Dx="workbench.tree.expandMode",Px="workbench.tree.enableStickyScroll",kx="workbench.tree.stickyScrollMaxItemCount";function Td(n){return n.getValue(hE)==="alt"}class eht extends Ne{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=Td(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(hE)&&(this.useAltAsMultipleSelectionModifier=Td(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:$Ae(e)}isSelectionRangeChangeEvent(e){return GAe(e)}}function S2(n,e){const t=n.get(Zi),i=n.get(Rs),r=new at;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(o){return i.mightProducePrintableCharacter(o)}},smoothScrolling:!!t.getValue(_u),mouseWheelScrollSensitivity:t.getValue(yd),fastScrollSensitivity:t.getValue(bd),multipleSelectionController:e.multipleSelectionController??r.add(new eht(t)),keyboardNavigationEventFilter:iht(i),scrollByPage:!!t.getValue(mu)},r]}let Due=class extends Tu{constructor(e,t,i,r,s,o,a,l,c){const u=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!l.getValue(Rl),[d,h]=c.invokeFunction(S2,s);super(e,t,i,r,{keyboardSupport:!1,...d,horizontalScrolling:u}),this.disposables.add(h),this.contextKeyService=E2(o,this),this.disposables.add(v2(this.contextKeyService,this)),this.listSupportsMultiSelect=m2.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),_2.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=cX.bindTo(this.contextKeyService),this.listDoubleSelection=uX.bindTo(this.contextKeyService),this.listMultiSelection=dX.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Td(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const m=this.getSelection(),g=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(m.length>0||g.length>0),this.listMultiSelection.set(m.length>1),this.listDoubleSelection.set(m.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const m=this.getSelection(),g=this.getFocus();this.listHasSelectionOrFocus.set(m.length>0||g.length>0)})),this.disposables.add(l.onDidChangeConfiguration(m=>{m.affectsConfiguration(hE)&&(this._useAltAsMultipleSelectionModifier=Td(l));let g={};if(m.affectsConfiguration(Rl)&&this.horizontalScrolling===void 0){const _=!!l.getValue(Rl);g={...g,horizontalScrolling:_}}if(m.affectsConfiguration(mu)){const _=!!l.getValue(mu);g={...g,scrollByPage:_}}if(m.affectsConfiguration(_u)){const _=!!l.getValue(_u);g={...g,smoothScrolling:_}}if(m.affectsConfiguration(yd)){const _=l.getValue(yd);g={...g,mouseWheelScrollSensitivity:_}}if(m.affectsConfiguration(bd)){const _=l.getValue(bd);g={...g,fastScrollSensitivity:_}}Object.keys(g).length>0&&this.updateOptions(g)})),this.navigator=new jRe(this,{configurationService:l,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?xA(e):wy)}};Due=pf([vi(5,qn),vi(6,Dd),vi(7,Zi),vi(8,oi)],Due);let Pue=class extends edt{constructor(e,t,i,r,s,o,a,l,c){const u=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!l.getValue(Rl),[d,h]=c.invokeFunction(S2,s);super(e,t,i,r,{keyboardSupport:!1,...d,horizontalScrolling:u}),this.disposables=new at,this.disposables.add(h),this.contextKeyService=E2(o,this),this.disposables.add(v2(this.contextKeyService,this.widget)),this.horizontalScrolling=s.horizontalScrolling,this.listSupportsMultiSelect=m2.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),_2.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this._useAltAsMultipleSelectionModifier=Td(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(l.onDidChangeConfiguration(m=>{m.affectsConfiguration(hE)&&(this._useAltAsMultipleSelectionModifier=Td(l));let g={};if(m.affectsConfiguration(Rl)&&this.horizontalScrolling===void 0){const _=!!l.getValue(Rl);g={...g,horizontalScrolling:_}}if(m.affectsConfiguration(mu)){const _=!!l.getValue(mu);g={...g,scrollByPage:_}}if(m.affectsConfiguration(_u)){const _=!!l.getValue(_u);g={...g,smoothScrolling:_}}if(m.affectsConfiguration(yd)){const _=l.getValue(yd);g={...g,mouseWheelScrollSensitivity:_}}if(m.affectsConfiguration(bd)){const _=l.getValue(bd);g={...g,fastScrollSensitivity:_}}Object.keys(g).length>0&&this.updateOptions(g)})),this.navigator=new jRe(this,{configurationService:l,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?xA(e):wy)}dispose(){this.disposables.dispose(),super.dispose()}};Pue=pf([vi(5,qn),vi(6,Dd),vi(7,Zi),vi(8,oi)],Pue);let kue=class extends hdt{constructor(e,t,i,r,s,o,a,l,c,u){const d=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:!!c.getValue(Rl),[h,f]=u.invokeFunction(S2,o);super(e,t,i,r,s,{keyboardSupport:!1,...h,horizontalScrolling:d}),this.disposables.add(f),this.contextKeyService=E2(a,this),this.disposables.add(v2(this.contextKeyService,this)),this.listSupportsMultiSelect=m2.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),_2.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this.listHasSelectionOrFocus=cX.bindTo(this.contextKeyService),this.listDoubleSelection=uX.bindTo(this.contextKeyService),this.listMultiSelection=dX.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Td(c),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const g=this.getSelection(),_=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(g.length>0||_.length>0),this.listMultiSelection.set(g.length>1),this.listDoubleSelection.set(g.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const g=this.getSelection(),_=this.getFocus();this.listHasSelectionOrFocus.set(g.length>0||_.length>0)})),this.disposables.add(c.onDidChangeConfiguration(g=>{g.affectsConfiguration(hE)&&(this._useAltAsMultipleSelectionModifier=Td(c));let _={};if(g.affectsConfiguration(Rl)&&this.horizontalScrolling===void 0){const v=!!c.getValue(Rl);_={..._,horizontalScrolling:v}}if(g.affectsConfiguration(mu)){const v=!!c.getValue(mu);_={..._,scrollByPage:v}}if(g.affectsConfiguration(_u)){const v=!!c.getValue(_u);_={..._,smoothScrolling:v}}if(g.affectsConfiguration(yd)){const v=c.getValue(yd);_={..._,mouseWheelScrollSensitivity:v}}if(g.affectsConfiguration(bd)){const v=c.getValue(bd);_={..._,fastScrollSensitivity:v}}Object.keys(_).length>0&&this.updateOptions(_)})),this.navigator=new tht(this,{configurationService:c,...o}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?xA(e):wy)}dispose(){this.disposables.dispose(),super.dispose()}};kue=pf([vi(6,qn),vi(7,Dd),vi(8,Zi),vi(9,oi)],kue);class pX extends Ne{constructor(e,t){super(),this.widget=e,this._onDidOpen=this._register(new ge),this.onDidOpen=this._onDidOpen.event,this._register(Ue.filter(this.widget.onDidChangeSelection,i=>_h(i.browserEvent))(i=>this.onSelectionFromKeyboard(i))),this._register(this.widget.onPointer(i=>this.onPointer(i.element,i.browserEvent))),this._register(this.widget.onMouseDblClick(i=>this.onMouseDblClick(i.element,i.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t!=null&&t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(AL))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration(AL)&&(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(AL))!=="doubleClick")}))):this.openOnSingleClick=(t==null?void 0:t.openOnSingleClick)??!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,r=typeof t.pinned=="boolean"?t.pinned:!i;this._open(this.getSelectedElement(),i,r,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const r=t.button===1,s=!0,o=r,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const s=!1,o=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}_open(e,t,i,r,s){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:r,element:e,browserEvent:s})}}class jRe extends pX{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class tht extends pX{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class nht extends pX{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelection()[0]??void 0}}function iht(n){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;const i=n.softDispatch(t,t.target);return i.kind===1?(e=!0,!1):(e=!1,i.kind===0)}}let g$=class extends oX{constructor(e,t,i,r,s,o,a,l,c){const{options:u,getTypeNavigationMode:d,disposable:h}=o.invokeFunction(MA,s);super(e,t,i,r,u),this.disposables.add(h),this.internals=new k_(this,s,d,s.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};g$=pf([vi(5,oi),vi(6,qn),vi(7,Dd),vi(8,Zi)],g$);let Mue=class extends BRe{constructor(e,t,i,r,s,o,a,l,c){const{options:u,getTypeNavigationMode:d,disposable:h}=o.invokeFunction(MA,s);super(e,t,i,r,u),this.disposables.add(h),this.internals=new k_(this,s,d,s.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Mue=pf([vi(5,oi),vi(6,qn),vi(7,Dd),vi(8,Zi)],Mue);let Fue=class extends zdt{constructor(e,t,i,r,s,o,a,l,c,u){const{options:d,getTypeNavigationMode:h,disposable:f}=a.invokeFunction(MA,o);super(e,t,i,r,s,d),this.disposables.add(f),this.internals=new k_(this,o,h,o.overrideStyles,l,c,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Fue=pf([vi(6,oi),vi(7,qn),vi(8,Dd),vi(9,Zi)],Fue);let Bue=class extends HRe{get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,r,s,o,a,l,c,u){const{options:d,getTypeNavigationMode:h,disposable:f}=a.invokeFunction(MA,o);super(e,t,i,r,s,d),this.disposables.add(f),this.internals=new k_(this,o,h,o.overrideStyles,l,c,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Bue=pf([vi(6,oi),vi(7,qn),vi(8,Dd),vi(9,Zi)],Bue);let Uue=class extends $dt{constructor(e,t,i,r,s,o,a,l,c,u,d){const{options:h,getTypeNavigationMode:f,disposable:m}=l.invokeFunction(MA,a);super(e,t,i,r,s,o,h),this.disposables.add(m),this.internals=new k_(this,a,f,a.overrideStyles,c,u,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Uue=pf([vi(7,oi),vi(8,qn),vi(9,Dd),vi(10,Zi)],Uue);function YRe(n){const e=n.getValue(hX);if(e==="highlight")return kh.Highlight;if(e==="filter")return kh.Filter;const t=n.getValue(Ox);if(t==="simple"||t==="highlight")return kh.Highlight;if(t==="filter")return kh.Filter}function KRe(n){const e=n.getValue(gX);if(e==="fuzzy")return P_.Fuzzy;if(e==="contiguous")return P_.Contiguous}function MA(n,e){const t=n.get(Zi),i=n.get(RA),r=n.get(qn),s=n.get(oi),o=()=>{const h=r.getContextKeyValue(GRe);if(h==="automatic")return td.Automatic;if(h==="trigger"||r.getContextKeyValue(zRe)===!1)return td.Trigger;const m=t.getValue(fX);if(m==="automatic")return td.Automatic;if(m==="trigger")return td.Trigger},a=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!t.getValue(Rl),[l,c]=s.invokeFunction(S2,e),u=e.paddingBottom,d=e.renderIndentGuides!==void 0?e.renderIndentGuides:t.getValue(xx);return{getTypeNavigationMode:o,disposable:c,options:{keyboardSupport:!1,...l,indent:typeof t.getValue(Q1)=="number"?t.getValue(Q1):void 0,renderIndentGuides:d,smoothScrolling:!!t.getValue(_u),defaultFindMode:YRe(t),defaultFindMatchType:KRe(t),horizontalScrolling:a,scrollByPage:!!t.getValue(mu),paddingBottom:u,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:e.expandOnlyOnTwistieClick??t.getValue(Dx)==="doubleClick",contextViewProvider:i,findWidgetStyles:zat,enableStickyScroll:!!t.getValue(Px),stickyScrollMaxItemCount:Number(t.getValue(kx))}}}let k_=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,r,s,o,a){this.tree=e,this.disposables=[],this.contextKeyService=E2(s,e),this.disposables.push(v2(this.contextKeyService,e)),this.listSupportsMultiSelect=m2.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),_2.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=Kdt.bindTo(this.contextKeyService),this.listSupportFindWidget.set(t.findWidgetEnabled??!0),this.hasSelectionOrFocus=cX.bindTo(this.contextKeyService),this.hasDoubleSelection=uX.bindTo(this.contextKeyService),this.hasMultiSelection=dX.bindTo(this.contextKeyService),this.treeElementCanCollapse=qdt.bindTo(this.contextKeyService),this.treeElementHasParent=Xdt.bindTo(this.contextKeyService),this.treeElementCanExpand=Qdt.bindTo(this.contextKeyService),this.treeElementHasChild=Zdt.bindTo(this.contextKeyService),this.treeFindOpen=Jdt.bindTo(this.contextKeyService),this.treeStickyScrollFocused=$Re.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Td(a),this.updateStyleOverrides(r);const c=()=>{const d=e.getFocus()[0];if(!d)return;const h=e.getNode(d);this.treeElementCanCollapse.set(h.collapsible&&!h.collapsed),this.treeElementHasParent.set(!!e.getParentElement(d)),this.treeElementCanExpand.set(h.collapsible&&h.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(d))},u=new Set;u.add(GRe),u.add(zRe),this.disposables.push(this.contextKeyService,o.register(e),e.onDidChangeSelection(()=>{const d=e.getSelection(),h=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(d.length>0||h.length>0),this.hasMultiSelection.set(d.length>1),this.hasDoubleSelection.set(d.length===2)})}),e.onDidChangeFocus(()=>{const d=e.getSelection(),h=e.getFocus();this.hasSelectionOrFocus.set(d.length>0||h.length>0),c()}),e.onDidChangeCollapseState(c),e.onDidChangeModel(c),e.onDidChangeFindOpenState(d=>this.treeFindOpen.set(d)),e.onDidChangeStickyScrollFocused(d=>this.treeStickyScrollFocused.set(d)),a.onDidChangeConfiguration(d=>{let h={};if(d.affectsConfiguration(hE)&&(this._useAltAsMultipleSelectionModifier=Td(a)),d.affectsConfiguration(Q1)){const f=a.getValue(Q1);h={...h,indent:f}}if(d.affectsConfiguration(xx)&&t.renderIndentGuides===void 0){const f=a.getValue(xx);h={...h,renderIndentGuides:f}}if(d.affectsConfiguration(_u)){const f=!!a.getValue(_u);h={...h,smoothScrolling:f}}if(d.affectsConfiguration(hX)||d.affectsConfiguration(Ox)){const f=YRe(a);h={...h,defaultFindMode:f}}if(d.affectsConfiguration(fX)||d.affectsConfiguration(Ox)){const f=i();h={...h,typeNavigationMode:f}}if(d.affectsConfiguration(gX)){const f=KRe(a);h={...h,defaultFindMatchType:f}}if(d.affectsConfiguration(Rl)&&t.horizontalScrolling===void 0){const f=!!a.getValue(Rl);h={...h,horizontalScrolling:f}}if(d.affectsConfiguration(mu)){const f=!!a.getValue(mu);h={...h,scrollByPage:f}}if(d.affectsConfiguration(Dx)&&t.expandOnlyOnTwistieClick===void 0&&(h={...h,expandOnlyOnTwistieClick:a.getValue(Dx)==="doubleClick"}),d.affectsConfiguration(Px)){const f=a.getValue(Px);h={...h,enableStickyScroll:f}}if(d.affectsConfiguration(kx)){const f=Math.max(1,a.getValue(kx));h={...h,stickyScrollMaxItemCount:f}}if(d.affectsConfiguration(yd)){const f=a.getValue(yd);h={...h,mouseWheelScrollSensitivity:f}}if(d.affectsConfiguration(bd)){const f=a.getValue(bd);h={...h,fastScrollSensitivity:f}}Object.keys(h).length>0&&e.updateOptions(h)}),this.contextKeyService.onDidChangeContext(d=>{d.affectsSome(u)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new nht(e,{configurationService:a,...t}),this.disposables.push(this.navigator)}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?xA(e):wy)}dispose(){this.disposables=As(this.disposables)}};k_=pf([vi(4,qn),vi(5,Dd),vi(6,Zi)],k_);const rht=hs.as(cE.Configuration);rht.registerConfiguration({id:"workbench",order:7,title:A("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[hE]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[A("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),A("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:A({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[AL]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:A({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Rl]:{type:"boolean",default:!1,description:A("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[mu]:{type:"boolean",default:!1,description:A("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Q1]:{type:"number",default:8,minimum:4,maximum:40,description:A("tree indent setting","Controls tree indentation in pixels.")},[xx]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:A("render tree indent guides","Controls whether the tree should render indent guides.")},[_u]:{type:"boolean",default:!1,description:A("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[yd]:{type:"number",default:1,markdownDescription:A("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[bd]:{type:"number",default:5,markdownDescription:A("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[hX]:{type:"string",enum:["highlight","filter"],enumDescriptions:[A("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),A("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:A("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Ox]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[A("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),A("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),A("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:A("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:A("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[gX]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[A("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),A("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:A("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[Dx]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:A("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Px]:{type:"boolean",default:!0,description:A("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[kx]:{type:"number",minimum:1,default:7,markdownDescription:A("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[fX]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:A("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});class n_ extends Ne{constructor(e,t){super(),this.options=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(t==null?void 0:t.supportIcons)??!1,this.domNode=st(e,St("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",r){e||(e=""),r&&(e=n_.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&va(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){var i,r,s;const e=[];let t=0;for(const o of this.highlights){if(o.end===o.start)continue;if(t<o.start){const c=this.text.substring(t,o.start);this.supportIcons?e.push(...Qm(c)):e.push(c),t=o.start}const a=this.text.substring(t,o.end),l=St("span.highlight",void 0,...this.supportIcons?Qm(a):[a]);o.extraClasses&&l.classList.add(...o.extraClasses),e.push(l),t=o.end}if(t<this.text.length){const o=this.text.substring(t);this.supportIcons?e.push(...Qm(o)):e.push(o)}if(wo(this.domNode,...e),(r=(i=this.options)==null?void 0:i.hoverDelegate)!=null&&r.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){const o=((s=this.options)==null?void 0:s.hoverDelegate)??xl("mouse");this.customHover=this._register(xd().setupManagedHover(o,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(e,t){let i=0,r=0;return e.replace(/\r\n|\r|\n/g,(s,o)=>{r=s===`\r
`?-1:0,o+=i;for(const a of t)a.end<=o||(a.start>=o&&(a.start+=r),a.end>=o&&(a.end+=r));return i+=r,""})}}class Yb{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set classNames(e){this.disposed||va(e,this._classNames)||(this._classNames=e,this._element.classList.value="",this._element.classList.add(...e))}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class Hue extends Ne{constructor(e,t){super(),this.customHovers=new Map,this.creationOptions=t,this.domNode=this._register(new Yb(st(e,St(".monaco-icon-label")))),this.labelContainer=st(this.domNode.element,St(".monaco-icon-label-container")),this.nameContainer=st(this.labelContainer,St("span.monaco-icon-name-container")),t!=null&&t.supportHighlights||t!=null&&t.supportIcons?this.nameNode=this._register(new aht(this.nameContainer,!!t.supportIcons)):this.nameNode=new sht(this.nameContainer),this.hoverDelegate=(t==null?void 0:t.hoverDelegate)??xl("mouse")}get element(){return this.domNode.element}setLabel(e,t,i){const r=["monaco-icon-label"],s=["monaco-icon-label-container"];let o="";i&&(i.extraClasses&&r.push(...i.extraClasses),i.italic&&r.push("italic"),i.strikethrough&&r.push("strikethrough"),i.disabledCommand&&s.push("disabled"),i.title&&(typeof i.title=="string"?o+=i.title:o+=e));const a=this.domNode.element.querySelector(".monaco-icon-label-iconpath");if(i!=null&&i.iconPath){let l;!a||!as(a)?(l=St(".monaco-icon-label-iconpath"),this.domNode.element.prepend(l)):l=a,l.style.backgroundImage=of(i==null?void 0:i.iconPath)}else a&&a.remove();if(this.domNode.classNames=r,this.domNode.element.setAttribute("aria-label",o),this.labelContainer.classList.value="",this.labelContainer.classList.add(...s),this.setupHover(i!=null&&i.descriptionTitle?this.labelContainer:this.element,i==null?void 0:i.title),this.nameNode.setLabel(e,i),t||this.descriptionNode){const l=this.getOrCreateDescriptionNode();l instanceof n_?(l.set(t||"",i?i.descriptionMatches:void 0,void 0,i==null?void 0:i.labelEscapeNewLines),this.setupHover(l.element,i==null?void 0:i.descriptionTitle)):(l.textContent=t&&(i!=null&&i.labelEscapeNewLines)?n_.escapeNewLines(t,[]):t||"",this.setupHover(l.element,(i==null?void 0:i.descriptionTitle)||""),l.empty=!t)}if(i!=null&&i.suffix||this.suffixNode){const l=this.getOrCreateSuffixNode();l.textContent=(i==null?void 0:i.suffix)??""}}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover){let s=function(o,a){Ka(a)?o.title=bAe(a):a!=null&&a.markdownNotSupportedFallback?o.title=a.markdownNotSupportedFallback:o.removeAttribute("title")};var r=s;s(e,t)}else{const s=xd().setupManagedHover(this.hoverDelegate,e,t);s&&this.customHovers.set(e,s)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const e=this._register(new Yb(HZe(this.nameContainer,St("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new Yb(st(e.element,St("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var e;if(!this.descriptionNode){const t=this._register(new Yb(st(this.labelContainer,St("span.monaco-icon-description-container"))));(e=this.creationOptions)!=null&&e.supportDescriptionHighlights?this.descriptionNode=this._register(new n_(st(t.element,St("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new Yb(st(t.element,St("span.label-description"))))}return this.descriptionNode}}let sht=class{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&va(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=st(this.container,St("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const r=e[i],s=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${i}`;st(this.container,St("a.label-name",{id:s,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},r)),i<e.length-1&&st(this.container,St("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}};function oht(n,e,t){if(!t)return;let i=0;return n.map(r=>{const s={start:i,end:i+r.length},o=t.map(a=>Ms.intersect(s,a)).filter(a=>!Ms.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=s.end+e.length,o})}class aht extends Ne{constructor(e,t){super(),this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&va(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new n_(st(this.container,St("a.label-name",{id:t==null?void 0:t.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(t==null?void 0:t.separator)||"/",r=oht(e,i,t==null?void 0:t.matches);for(let s=0;s<e.length;s++){const o=e[s],a=r?r[s]:void 0,l=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${s}`,c=St("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":s,role:"treeitem"});this._register(new n_(st(this.container,c),{supportIcons:this.supportIcons})).set(o,a,void 0,t==null?void 0:t.labelEscapeNewLines),s<e.length-1&&st(c,St("span.label-separator",void 0,i))}}}}const mN=St;class mX extends Ne{constructor(e,t,i){super(),this.os=t,this.keyElements=new Set,this.options=i||Object.create(null);const r=this.options.keybindingLabelForeground;this.domNode=st(e,mN(".monaco-keybinding")),r&&(this.domNode.style.color=r),this.hover=this._register(xd().setupManagedHover(xl("mouse"),this.domNode,"")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&mX.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){const e=this.keybinding.getChords();e[0]&&this.renderChord(this.domNode,e[0],this.matches?this.matches.firstPart:null);for(let i=1;i<e.length;i++)st(this.domNode,mN("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,e[i],this.matches?this.matches.chordPart:null);const t=this.options.disableTitle??!1?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(t),this.domNode.setAttribute("aria-label",t||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){fu(this.domNode),this.keyElements.clear()}renderChord(e,t,i){const r=Oq.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,r.ctrlKey,!!(i!=null&&i.ctrlKey),r.separator),t.shiftKey&&this.renderKey(e,r.shiftKey,!!(i!=null&&i.shiftKey),r.separator),t.altKey&&this.renderKey(e,r.altKey,!!(i!=null&&i.altKey),r.separator),t.metaKey&&this.renderKey(e,r.metaKey,!!(i!=null&&i.metaKey),r.separator);const s=t.keyLabel;s&&this.renderKey(e,s,!!(i!=null&&i.keyCode),"")}renderKey(e,t,i,r){st(e,this.createKeyElement(t,i?".highlight":"")),r&&st(e,mN("span.monaco-keybinding-key-separator",void 0,r))}renderUnbound(e){st(e,this.createKeyElement(A("unbound","Unbound")))}createKeyElement(e,t=""){const i=mN("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),this.options.keybindingLabelBackground&&(i.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(i.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(i.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),i}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&va(e.firstPart,t.firstPart)&&va(e.chordPart,t.chordPart)}}const Vue=new Yg(()=>{const n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:n,collatorIsNumeric:n.resolvedOptions().numeric}});function lht(n,e,t=!1){const i=n||"",r=e||"",s=Vue.value.collator.compare(i,r);return Vue.value.collatorIsNumeric&&s===0&&i!==r?i<r?-1:1:s}function cht(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),s=uht(n,e,t);if(s)return s;const o=i.endsWith(t),a=r.endsWith(t);if(o!==a)return o?-1:1;const l=lht(i,r);return l!==0?l:i.localeCompare(r)}function uht(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),s=i.startsWith(t),o=r.startsWith(t);if(s!==o)return s?-1:1;if(s&&o){if(i.length<r.length)return-1;if(i.length>r.length)return 1}return 0}var C2=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},p$=function(n,e){return function(t,i){e(t,i,n)}},m$;const Mc=St;class qRe{constructor(e,t,i){this.index=e,this.hasCheckbox=t,this._hidden=!1,this._init=new Yg(()=>{const r=i.label??"",s=yT(r).text.trim(),o=i.ariaLabel||[r,this.saneDescription,this.saneDetail].map(a=>nst(a)).filter(a=>!!a).join(", ");return{saneLabel:r,saneSortLabel:s,saneAriaLabel:o}}),this._saneDescription=i.description,this._saneTooltip=i.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(e){this._element=e}get hidden(){return this._hidden}set hidden(e){this._hidden=e}get saneDescription(){return this._saneDescription}set saneDescription(e){this._saneDescription=e}get saneDetail(){return this._saneDetail}set saneDetail(e){this._saneDetail=e}get saneTooltip(){return this._saneTooltip}set saneTooltip(e){this._saneTooltip=e}get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}}class Es extends qRe{constructor(e,t,i,r,s,o){var a,l,c;super(e,t,s),this.fireButtonTriggered=i,this._onChecked=r,this.item=s,this._separator=o,this._checked=!1,this.onChecked=t?Ue.map(Ue.filter(this._onChecked.event,u=>u.element===this),u=>u.checked):Ue.None,this._saneDetail=s.detail,this._labelHighlights=(a=s.highlights)==null?void 0:a.label,this._descriptionHighlights=(l=s.highlights)==null?void 0:l.description,this._detailHighlights=(c=s.highlights)==null?void 0:c.detail}get separator(){return this._separator}set separator(e){this._separator=e}get checked(){return this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire({element:this,checked:e}))}get checkboxDisabled(){return!!this.item.disabled}}var Ku;(function(n){n[n.NONE=0]="NONE",n[n.MOUSE_HOVER=1]="MOUSE_HOVER",n[n.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(Ku||(Ku={}));class sm extends qRe{constructor(e,t,i){super(e,!1,i),this.fireSeparatorButtonTriggered=t,this.separator=i,this.children=new Array,this.focusInsideSeparator=Ku.NONE}}class dht{getHeight(e){return e instanceof sm?30:e.saneDetail?44:22}getTemplateId(e){return e instanceof Es?Mx.ID:Fx.ID}}class hht{getWidgetAriaLabel(){return A("quickInput","Quick Input")}getAriaLabel(e){var t;return(t=e.separator)!=null&&t.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(!(!e.hasCheckbox||!(e instanceof Es)))return{get value(){return e.checked},onDidChange:t=>e.onChecked(()=>t())}}}class XRe{constructor(e){this.hoverDelegate=e}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=new at,t.toDisposeTemplate=new at,t.entry=st(e,Mc(".quick-input-list-entry"));const i=st(t.entry,Mc("label.quick-input-list-label"));t.toDisposeTemplate.add(Qr(i,Ve.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=st(i,Mc("input.quick-input-list-checkbox")),t.checkbox.type="checkbox";const r=st(i,Mc(".quick-input-list-rows")),s=st(r,Mc(".quick-input-list-row")),o=st(r,Mc(".quick-input-list-row"));t.label=new Hue(s,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.label),t.icon=XK(t.label.element,Mc(".quick-input-list-icon"));const a=st(s,Mc(".quick-input-list-entry-keybinding"));t.keybinding=new mX(a,rc),t.toDisposeTemplate.add(t.keybinding);const l=st(o,Mc(".quick-input-list-label-meta"));return t.detail=new Hue(l,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.detail),t.separator=st(t.entry,Mc(".quick-input-list-separator")),t.actionBar=new zh(t.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.add(t.actionBar),t}disposeTemplate(e){e.toDisposeElement.dispose(),e.toDisposeTemplate.dispose()}disposeElement(e,t,i){i.toDisposeElement.clear(),i.actionBar.clear()}}var c_;let Mx=(c_=class extends XRe{constructor(e,t){super(e),this.themeService=t,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return m$.ID}renderTemplate(e){const t=super.renderTemplate(e);return t.toDisposeTemplate.add(Qr(t.checkbox,Ve.CHANGE,i=>{t.element.checked=t.checkbox.checked})),t}renderElement(e,t,i){var h;const r=e.element;i.element=r,r.element=i.entry??void 0;const s=r.item;i.checkbox.checked=r.checked,i.toDisposeElement.add(r.onChecked(f=>i.checkbox.checked=f)),i.checkbox.disabled=r.checkboxDisabled;const{labelHighlights:o,descriptionHighlights:a,detailHighlights:l}=r;if(s.iconPath){const f=qM(this.themeService.getColorTheme().type)?s.iconPath.dark:s.iconPath.light??s.iconPath.dark,m=en.revive(f);i.icon.className="quick-input-list-icon",i.icon.style.backgroundImage=of(m)}else i.icon.style.backgroundImage="",i.icon.className=s.iconClass?`quick-input-list-icon ${s.iconClass}`:"";let c;!r.saneTooltip&&r.saneDescription&&(c={markdown:{value:r.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDescription});const u={matches:o||[],descriptionTitle:c,descriptionMatches:a||[],labelEscapeNewLines:!0};if(u.extraClasses=s.iconClasses,u.italic=s.italic,u.strikethrough=s.strikethrough,i.entry.classList.remove("quick-input-list-separator-as-item"),i.label.setLabel(r.saneLabel,r.saneDescription,u),i.keybinding.set(s.keybinding),r.saneDetail){let f;r.saneTooltip||(f={markdown:{value:r.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(r.saneDetail,void 0,{matches:l,title:f,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";(h=r.separator)!=null&&h.label?(i.separator.textContent=r.separator.label,i.separator.style.display="",this.addItemWithSeparator(r)):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!r.separator);const d=s.buttons;d&&d.length?(i.actionBar.push(d.map((f,m)=>c0(f,`id-${m}`,()=>r.fireButtonTriggered({button:f,item:r.item}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){this.removeItemWithSeparator(e.element),super.disposeElement(e,t,i)}isItemWithSeparatorVisible(e){return this._itemsWithSeparatorsFrequency.has(e)}addItemWithSeparator(e){this._itemsWithSeparatorsFrequency.set(e,(this._itemsWithSeparatorsFrequency.get(e)||0)+1)}removeItemWithSeparator(e){const t=this._itemsWithSeparatorsFrequency.get(e)||0;t>1?this._itemsWithSeparatorsFrequency.set(e,t-1):this._itemsWithSeparatorsFrequency.delete(e)}},m$=c_,c_.ID="quickpickitem",c_);Mx=m$=C2([p$(1,_c)],Mx);const UP=class UP extends XRe{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return UP.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(e){return this._visibleSeparatorsFrequency.has(e)}renderTemplate(e){const t=super.renderTemplate(e);return t.checkbox.style.display="none",t}renderElement(e,t,i){const r=e.element;i.element=r,r.element=i.entry??void 0,r.element.classList.toggle("focus-inside",!!r.focusInsideSeparator);const s=r.separator,{labelHighlights:o,descriptionHighlights:a,detailHighlights:l}=r;i.icon.style.backgroundImage="",i.icon.className="";let c;!r.saneTooltip&&r.saneDescription&&(c={markdown:{value:r.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDescription});const u={matches:o||[],descriptionTitle:c,descriptionMatches:a||[],labelEscapeNewLines:!0};if(i.entry.classList.add("quick-input-list-separator-as-item"),i.label.setLabel(r.saneLabel,r.saneDescription,u),r.saneDetail){let h;r.saneTooltip||(h={markdown:{value:r.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(r.saneDetail,void 0,{matches:l,title:h,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";i.separator.style.display="none",i.entry.classList.add("quick-input-list-separator-border");const d=s.buttons;d&&d.length?(i.actionBar.push(d.map((h,f)=>c0(h,`id-${f}`,()=>r.fireSeparatorButtonTriggered({button:h,separator:r.separator}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions"),this.addSeparator(r)}disposeElement(e,t,i){var r;this.removeSeparator(e.element),this.isSeparatorVisible(e.element)||(r=e.element.element)==null||r.classList.remove("focus-inside"),super.disposeElement(e,t,i)}addSeparator(e){this._visibleSeparatorsFrequency.set(e,(this._visibleSeparatorsFrequency.get(e)||0)+1)}removeSeparator(e){const t=this._visibleSeparatorsFrequency.get(e)||0;t>1?this._visibleSeparatorsFrequency.set(e,t-1):this._visibleSeparatorsFrequency.delete(e)}};UP.ID="quickpickseparator";let Fx=UP,Z1=class extends Ne{constructor(e,t,i,r,s,o){super(),this.parent=e,this.hoverDelegate=t,this.linkOpenerDelegate=i,this.accessibilityService=o,this._onKeyDown=new ge,this._onLeave=new ge,this.onLeave=this._onLeave.event,this._visibleCountObservable=Nn("VisibleCount",0),this.onChangedVisibleCount=Ue.fromObservable(this._visibleCountObservable,this._store),this._allVisibleCheckedObservable=Nn("AllVisibleChecked",!1),this.onChangedAllVisibleChecked=Ue.fromObservable(this._allVisibleCheckedObservable,this._store),this._checkedCountObservable=Nn("CheckedCount",0),this.onChangedCheckedCount=Ue.fromObservable(this._checkedCountObservable,this._store),this._checkedElementsObservable=O8({equalsFn:Mr},new Array),this.onChangedCheckedElements=Ue.fromObservable(this._checkedElementsObservable,this._store),this._onButtonTriggered=new ge,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new ge,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._elementChecked=new ge,this._elementCheckedEventBufferer=new gA,this._hasCheckboxes=!1,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new at),this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._shouldLoop=!0,this._container=st(this.parent,Mc(".quick-input-list")),this._separatorRenderer=new Fx(t),this._itemRenderer=s.createInstance(Mx,t),this._tree=this._register(s.createInstance(g$,"QuickInput",this._container,new dht,[this._itemRenderer,this._separatorRenderer],{filter:{filter(a){return a.hidden?0:a instanceof sm?2:1}},sorter:{compare:(a,l)=>{if(!this.sortByLabel||!this._lastQueryString)return 0;const c=this._lastQueryString.toLowerCase();return ght(a,l,c)}},accessibilityProvider:new hht,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:RC.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=r,this._registerListeners()}get onDidChangeFocus(){return Ue.map(this._tree.onDidChangeFocus,e=>e.elements.filter(t=>t instanceof Es).map(t=>t.item),this._store)}get onDidChangeSelection(){return Ue.map(this._tree.onDidChangeSelection,e=>({items:e.elements.filter(t=>t instanceof Es).map(t=>t.item),event:e.browserEvent}),this._store)}get displayed(){return this._container.style.display!=="none"}set displayed(e){this._container.style.display=e?"":"none"}get scrollTop(){return this._tree.scrollTop}set scrollTop(e){this._tree.scrollTop=e}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(e){this._tree.ariaLabel=e??""}set enabled(e){this._tree.getHTMLElement().style.pointerEvents=e?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e}get shouldLoop(){return this._shouldLoop}set shouldLoop(e){this._shouldLoop=e}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnTreeModelChanged(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(e=>{const t=new wi(e);switch(t.keyCode){case 10:this.toggleCheckbox();break}this._onKeyDown.fire(t)}))}_registerOnContainerClick(){this._register(we(this._container,Ve.CLICK,e=>{(e.x||e.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(we(this._container,Ve.AUXCLICK,e=>{e.button===1&&this._onLeave.fire()}))}_registerOnTreeModelChanged(){this._register(this._tree.onDidChangeModel(()=>{const e=this._itemElements.filter(t=>!t.hidden).length;this._visibleCountObservable.set(e,void 0),this._hasCheckboxes&&this._updateCheckedObservables()}))}_registerOnElementChecked(){this._register(this._elementCheckedEventBufferer.wrapEvent(this._elementChecked.event,(e,t)=>t)(e=>this._updateCheckedObservables()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(e=>{e.element&&(e.browserEvent.preventDefault(),this._tree.setSelection([e.element]))}))}_registerHoverListeners(){const e=this._register(new A1e(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async t=>{var i;if(Mae(t.browserEvent.target)){e.cancel();return}if(!(!Mae(t.browserEvent.relatedTarget)&&Xr(t.browserEvent.relatedTarget,(i=t.element)==null?void 0:i.element)))try{await e.trigger(async()=>{t.element instanceof Es&&this.showHover(t.element)})}catch(r){if(!hA(r))throw r}})),this._register(this._tree.onMouseOut(t=>{var i;Xr(t.browserEvent.relatedTarget,(i=t.element)==null?void 0:i.element)||e.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(e=>{const t=e.elements[0]?this._tree.getParentElement(e.elements[0]):null;for(const i of this._separatorRenderer.visibleSeparators){const r=i===t;!!(i.focusInsideSeparator&Ku.ACTIVE_ITEM)!==r&&(r?i.focusInsideSeparator|=Ku.ACTIVE_ITEM:i.focusInsideSeparator&=~Ku.ACTIVE_ITEM,this._tree.rerender(i))}})),this._register(this._tree.onMouseOver(e=>{const t=e.element?this._tree.getParentElement(e.element):null;for(const i of this._separatorRenderer.visibleSeparators){if(i!==t)continue;!!(i.focusInsideSeparator&Ku.MOUSE_HOVER)||(i.focusInsideSeparator|=Ku.MOUSE_HOVER,this._tree.rerender(i))}})),this._register(this._tree.onMouseOut(e=>{const t=e.element?this._tree.getParentElement(e.element):null;for(const i of this._separatorRenderer.visibleSeparators){if(i!==t)continue;!!(i.focusInsideSeparator&Ku.MOUSE_HOVER)&&(i.focusInsideSeparator&=~Ku.MOUSE_HOVER,this._tree.rerender(i))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(e=>{const t=e.elements.filter(i=>i instanceof Es);t.length!==e.elements.length&&(e.elements.length===1&&e.elements[0]instanceof sm&&(this._tree.setFocus([e.elements[0].children[0]]),this._tree.reveal(e.elements[0],0)),this._tree.setSelection(t))}))}setAllVisibleChecked(e){this._elementCheckedEventBufferer.bufferEvents(()=>{this._itemElements.forEach(t=>{!t.hidden&&!t.checkboxDisabled&&(t.checked=e)})})}setElements(e){this._elementDisposable.clear(),this._lastQueryString=void 0,this._inputElements=e,this._hasCheckboxes=this.parent.classList.contains("show-checkboxes");let t;this._itemElements=new Array,this._elementTree=e.reduce((i,r,s)=>{let o;if(r.type==="separator"){if(!r.buttons)return i;t=new sm(s,a=>this._onSeparatorButtonTriggered.fire(a),r),o=t}else{const a=s>0?e[s-1]:void 0;let l;a&&a.type==="separator"&&!a.buttons&&(t=void 0,l=a);const c=new Es(s,this._hasCheckboxes,u=>this._onButtonTriggered.fire(u),this._elementChecked,r,l);if(this._itemElements.push(c),t)return t.children.push(c),i;o=c}return i.push(o),i},new Array),this._setElementsToTree(this._elementTree),this.accessibilityService.isScreenReaderOptimized()&&setTimeout(()=>{const i=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),r=i==null?void 0:i.parentNode;if(i&&r){const s=i.nextSibling;i.remove(),r.insertBefore(i,s)}},0)}setFocusedElements(e){const t=e.map(i=>this._itemElements.find(r=>r.item===i)).filter(i=>!!i).filter(i=>!i.hidden);if(this._tree.setFocus(t),e.length>0){const i=this._tree.getFocus()[0];i&&this._tree.reveal(i)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){const t=e.map(i=>this._itemElements.find(r=>r.item===i)).filter(i=>!!i);this._tree.setSelection(t)}getCheckedElements(){return this._itemElements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){this._elementCheckedEventBufferer.bufferEvents(()=>{const t=new Set;for(const i of e)t.add(i);for(const i of this._itemElements)i.checked=t.has(i.item)})}focus(e){var t;if(this._itemElements.length)switch(e===mi.Second&&this._itemElements.length<2&&(e=mi.First),e){case mi.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,i=>i.element instanceof Es);break;case mi.Second:{this._tree.scrollTop=0;let i=!1;this._tree.focusFirst(void 0,r=>r.element instanceof Es?i?!0:(i=!i,!1):!1);break}case mi.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,i=>i.element instanceof Es);break;case mi.Next:{const i=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,s=>s.element instanceof Es?(this._tree.reveal(s.element),!0):!1);const r=this._tree.getFocus();i.length&&i[0]===r[0]&&i[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case mi.Previous:{const i=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,s=>{if(!(s.element instanceof Es))return!1;const o=this._tree.getParentElement(s.element);return o===null||o.children[0]!==s.element?this._tree.reveal(s.element):this._tree.reveal(o),!0});const r=this._tree.getFocus();i.length&&i[0]===r[0]&&i[0]===this._itemElements[0]&&this._onLeave.fire();break}case mi.NextPage:this._tree.focusNextPage(void 0,i=>i.element instanceof Es?(this._tree.reveal(i.element),!0):!1);break;case mi.PreviousPage:this._tree.focusPreviousPage(void 0,i=>{if(!(i.element instanceof Es))return!1;const r=this._tree.getParentElement(i.element);return r===null||r.children[0]!==i.element?this._tree.reveal(i.element):this._tree.reveal(r),!0});break;case mi.NextSeparator:{let i=!1;const r=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,o=>{if(i)return!0;if(o.element instanceof sm)i=!0,this._separatorRenderer.isSeparatorVisible(o.element)?this._tree.reveal(o.element.children[0]):this._tree.reveal(o.element,0);else if(o.element instanceof Es){if(o.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(o.element)?this._tree.reveal(o.element):this._tree.reveal(o.element,0),!0;if(o.element===this._elementTree[0])return this._tree.reveal(o.element,0),!0}return!1});const s=this._tree.getFocus()[0];r===s&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,o=>o.element instanceof Es));break}case mi.PreviousSeparator:{let i,r=!!((t=this._tree.getFocus()[0])!=null&&t.separator);this._tree.focusPrevious(void 0,!0,void 0,s=>{if(s.element instanceof sm)r?i||(this._separatorRenderer.isSeparatorVisible(s.element)?this._tree.reveal(s.element):this._tree.reveal(s.element,0),i=s.element.children[0]):r=!0;else if(s.element instanceof Es&&!i){if(s.element.separator)this._itemRenderer.isItemWithSeparatorVisible(s.element)?this._tree.reveal(s.element):this._tree.reveal(s.element,0),i=s.element;else if(s.element===this._elementTree[0])return this._tree.reveal(s.element,0),!0}return!1}),i&&this._tree.setFocus([i]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(e){this._tree.getHTMLElement().style.maxHeight=e?`${Math.floor(e/44)*44+6}px`:"",this._tree.layout()}filter(e){if(this._lastQueryString=e,!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const t=e;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(i=>{i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!1;const r=i.index&&this._inputElements[i.index-1];i.item&&(i.separator=r&&r.type==="separator"&&!r.buttons?r:void 0)});else{let i;this._itemElements.forEach(r=>{let s;this.matchOnLabelMode==="fuzzy"?s=this.matchOnLabel?y3(e,yT(r.saneLabel))??void 0:void 0:s=this.matchOnLabel?fht(t,yT(r.saneLabel))??void 0:void 0;const o=this.matchOnDescription?y3(e,yT(r.saneDescription||""))??void 0:void 0,a=this.matchOnDetail?y3(e,yT(r.saneDetail||""))??void 0:void 0;if(s||o||a?(r.labelHighlights=s,r.descriptionHighlights=o,r.detailHighlights=a,r.hidden=!1):(r.labelHighlights=void 0,r.descriptionHighlights=void 0,r.detailHighlights=void 0,r.hidden=r.item?!r.item.alwaysShow:!0),r.item?r.separator=void 0:r.separator&&(r.hidden=!0),!this.sortByLabel){const l=r.index&&this._inputElements[r.index-1]||void 0;(l==null?void 0:l.type)==="separator"&&!l.buttons&&(i=l),i&&!r.hidden&&(r.separator=i,i=void 0)}})}return this._setElementsToTree(this._sortByLabel&&e?this._itemElements:this._elementTree),this._tree.layout(),!0}toggleCheckbox(){this._elementCheckedEventBufferer.bufferEvents(()=>{const e=this._tree.getFocus().filter(i=>i instanceof Es),t=this._allVisibleChecked(e);for(const i of e)i.checkboxDisabled||(i.checked=!t)})}style(e){this._tree.style(e)}toggleHover(){const e=this._tree.getFocus()[0];if(!(e!=null&&e.saneTooltip)||!(e instanceof Es))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(e);const t=new at;t.add(this._tree.onDidChangeFocus(i=>{i.elements[0]instanceof Es&&this.showHover(i.elements[0])})),this._lastHover&&t.add(this._lastHover),this._elementDisposable.add(t)}_setElementsToTree(e){const t=new Array;for(const i of e)i instanceof sm?t.push({element:i,collapsible:!1,collapsed:!1,children:i.children.map(r=>({element:r,collapsible:!1,collapsed:!1}))}):t.push({element:i,collapsible:!1,collapsed:!1});this._tree.setChildren(null,t)}_allVisibleChecked(e,t=!0){for(let i=0,r=e.length;i<r;i++){const s=e[i];if(!s.hidden)if(s.checked)t=!0;else return!1}return t}_updateCheckedObservables(){Pr(e=>{this._allVisibleCheckedObservable.set(this._allVisibleChecked(this._itemElements,!1),e);const t=this._itemElements.filter(i=>i.checked).length;this._checkedCountObservable.set(t,e),this._checkedElementsObservable.set(this.getCheckedElements(),e)})}showHover(e){var t,i,r;this._lastHover&&!this._lastHover.isDisposed&&((i=(t=this.hoverDelegate).onDidHideHover)==null||i.call(t),(r=this._lastHover)==null||r.dispose()),!(!e.element||!e.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:e.saneTooltip,target:e.element,linkHandler:s=>{this.linkOpenerDelegate(s)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};C2([Ji],Z1.prototype,"onDidChangeFocus",null);C2([Ji],Z1.prototype,"onDidChangeSelection",null);Z1=C2([p$(4,oi),p$(5,bu)],Z1);function fht(n,e){const{text:t,iconOffsets:i}=e;if(!i||i.length===0)return Wue(n,t);const r=LM(t," "),s=t.length-r.length,o=Wue(n,r);if(o)for(const a of o){const l=i[a.start+s]+s;a.start+=l,a.end+=l}return o}function Wue(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t!==-1?[{start:t,end:t+n.length}]:null}function ght(n,e,t){const i=n.labelHighlights||[],r=e.labelHighlights||[];return i.length&&!r.length?-1:!i.length&&r.length?1:i.length===0&&r.length===0?0:cht(n.saneSortLabel,e.saneSortLabel,t)}const QRe={weight:200,when:$n.and($n.equals(ORe,"quickPick"),xut),metadata:{description:A("quickPick","Used while in the context of the quick pick. If you change one keybinding for this command, you should change all of the other keybindings (modifier variants) of this command as well.")}};function ha(n,e={}){vA.registerCommandAndKeybindingRule({...QRe,...n,secondary:pht(n.primary,n.secondary??[],e)})}const Bx=bn?256:2048;function pht(n,e,t={}){return t.withAltMod&&e.push(512+n),t.withCtrlMod&&(e.push(Bx+n),t.withAltMod&&e.push(512+Bx+n)),t.withCmdMod&&bn&&(e.push(2048+n),t.withCtrlMod&&e.push(2304+n),t.withAltMod&&(e.push(2560+n),t.withCtrlMod&&e.push(2816+n))),e}function Ua(n,e){return t=>{const i=t.get(g2).currentQuickInput;if(i)return e&&i.quickNavigate?i.focus(e):i.focus(n)}}ha({id:"quickInput.pageNext",primary:12,handler:Ua(mi.NextPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});ha({id:"quickInput.pagePrevious",primary:11,handler:Ua(mi.PreviousPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});ha({id:"quickInput.first",primary:Bx+14,handler:Ua(mi.First)},{withAltMod:!0,withCmdMod:!0});ha({id:"quickInput.last",primary:Bx+13,handler:Ua(mi.Last)},{withAltMod:!0,withCmdMod:!0});ha({id:"quickInput.next",primary:18,handler:Ua(mi.Next)},{withCtrlMod:!0});ha({id:"quickInput.previous",primary:16,handler:Ua(mi.Previous)},{withCtrlMod:!0});const $ue=A("quickInput.nextSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the next item. If we are not in quick access mode, this will navigate to the next separator."),Gue=A("quickInput.previousSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the previous item. If we are not in quick access mode, this will navigate to the previous separator.");bn?(ha({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:2066,handler:Ua(mi.NextSeparator,mi.Next),metadata:{description:$ue}}),ha({id:"quickInput.nextSeparator",primary:2578,secondary:[2322],handler:Ua(mi.NextSeparator)},{withCtrlMod:!0}),ha({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:2064,handler:Ua(mi.PreviousSeparator,mi.Previous),metadata:{description:Gue}}),ha({id:"quickInput.previousSeparator",primary:2576,secondary:[2320],handler:Ua(mi.PreviousSeparator)},{withCtrlMod:!0})):(ha({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:530,handler:Ua(mi.NextSeparator,mi.Next),metadata:{description:$ue}}),ha({id:"quickInput.nextSeparator",primary:2578,handler:Ua(mi.NextSeparator)}),ha({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:528,handler:Ua(mi.PreviousSeparator,mi.Previous),metadata:{description:Gue}}),ha({id:"quickInput.previousSeparator",primary:2576,handler:Ua(mi.PreviousSeparator)}));ha({id:"quickInput.acceptInBackground",when:$n.and(QRe.when,$n.or(jdt.negate(),kut)),primary:17,weight:250,handler:n=>{const e=n.get(g2).currentQuickInput;e==null||e.accept(!0)}},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});var mht=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},z3=function(n,e){return function(t,i){e(t,i,n)}},_$;const aa=St;var u_;let E$=(u_=class extends Ne{get currentQuickInput(){return this.controller??void 0}get container(){return this._container}constructor(e,t,i,r){super(),this.options=e,this.layoutService=t,this.instantiationService=i,this.contextKeyService=r,this.enabled=!0,this.onDidAcceptEmitter=this._register(new ge),this.onDidCustomEmitter=this._register(new ge),this.onDidTriggerButtonEmitter=this._register(new ge),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new ge),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new ge),this.onHide=this.onHideEmitter.event,this.inQuickInputContext=Out.bindTo(this.contextKeyService),this.quickInputTypeContext=Dut.bindTo(this.contextKeyService),this.endOfQuickInputBoxContext=Put.bindTo(this.contextKeyService),this.idPrefix=e.idPrefix,this._container=e.container,this.styles=e.styles,this._register(Ue.runAndSubscribe(PM,({window:s,disposables:o})=>this.registerKeyModsListeners(s,o),{window:fi,disposables:this._store})),this._register(TZe(s=>{this.ui&&ht(this.ui.container)===s&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(e,t){const i=r=>{this.keyMods.ctrlCmd=r.ctrlKey||r.metaKey,this.keyMods.alt=r.altKey};for(const r of[Ve.KEY_DOWN,Ve.KEY_UP,Ve.MOUSE_DOWN])t.add(we(e,r,i,!0))}getUI(e){if(this.ui)return e&&ht(this._container)!==ht(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const t=st(this._container,aa(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=Ol(t),r=st(t,aa(".quick-input-titlebar")),s=this._register(new zh(r,{hoverDelegate:this.options.hoverDelegate}));s.domNode.classList.add("quick-input-left-action-bar");const o=st(r,aa(".quick-input-title")),a=this._register(new zh(r,{hoverDelegate:this.options.hoverDelegate}));a.domNode.classList.add("quick-input-right-action-bar");const l=st(t,aa(".quick-input-header")),c=st(l,aa("input.quick-input-check-all"));c.type="checkbox",c.setAttribute("aria-label",A("quickInput.checkAll","Toggle all checkboxes")),this._register(Qr(c,Ve.CHANGE,F=>{const H=c.checked;M.setAllVisibleChecked(H)})),this._register(we(c,Ve.CLICK,F=>{(F.x||F.y)&&f.setFocus()}));const u=st(l,aa(".quick-input-description")),d=st(l,aa(".quick-input-and-message")),h=st(d,aa(".quick-input-filter")),f=this._register(new Xut(h,this.styles.inputBox,this.styles.toggle));f.setAttribute("aria-describedby",`${this.idPrefix}message`);const m=st(h,aa(".quick-input-visible-count"));m.setAttribute("aria-live","polite"),m.setAttribute("aria-atomic","true");const g=new yue(m,{countFormat:A({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),_=st(h,aa(".quick-input-count"));_.setAttribute("aria-live","polite");const v=new yue(_,{countFormat:A({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),S=this._register(new zh(l,{hoverDelegate:this.options.hoverDelegate}));S.domNode.classList.add("quick-input-inline-action-bar");const C=st(l,aa(".quick-input-action")),y=this._register(new l$(C,this.styles.button));y.label=A("ok","OK"),this._register(y.onDidClick(F=>{this.onDidAcceptEmitter.fire()}));const b=st(l,aa(".quick-input-action")),w=this._register(new l$(b,{...this.styles.button,supportIcons:!0}));w.label=A("custom","Custom"),this._register(w.onDidClick(F=>{this.onDidCustomEmitter.fire()}));const I=st(d,aa(`#${this.idPrefix}message.quick-input-message`)),O=this._register(new c$(t,this.styles.progressBar));O.getContainer().classList.add("quick-input-progress");const x=st(t,aa(".quick-input-html-widget"));x.tabIndex=-1;const k=st(t,aa(".quick-input-description")),P=this.idPrefix+"list",M=this._register(this.instantiationService.createInstance(Z1,t,this.options.hoverDelegate,this.options.linkOpenerDelegate,P));f.setAttribute("aria-controls",P),this._register(M.onDidChangeFocus(()=>{f.setAttribute("aria-activedescendant",M.getActiveDescendant()??"")})),this._register(M.onChangedAllVisibleChecked(F=>{c.checked=F})),this._register(M.onChangedVisibleCount(F=>{g.setCount(F)})),this._register(M.onChangedCheckedCount(F=>{v.setCount(F)})),this._register(M.onLeave(()=>{setTimeout(()=>{this.controller&&(f.setFocus(),this.controller instanceof Ix&&this.controller.canSelectMany&&M.clearFocus())},0)}));const W=N1(t);return this._register(W),this._register(we(t,Ve.FOCUS,F=>{const H=this.getUI();if(Xr(F.relatedTarget,H.inputContainer)){const V=H.inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==V&&this.endOfQuickInputBoxContext.set(V)}Xr(F.relatedTarget,H.container)||(this.inQuickInputContext.set(!0),this.previousFocusElement=as(F.relatedTarget)?F.relatedTarget:void 0)},!0)),this._register(W.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(AC.Blur),this.inQuickInputContext.set(!1),this.endOfQuickInputBoxContext.set(!1),this.previousFocusElement=void 0})),this._register(f.onKeyDown(F=>{const H=this.getUI().inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==H&&this.endOfQuickInputBoxContext.set(H)})),this._register(we(t,Ve.FOCUS,F=>{f.setFocus()})),this._register(Qr(t,Ve.KEY_DOWN,F=>{if(!Xr(F.target,x))switch(F.keyCode){case 3:gn.stop(F,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:gn.stop(F,!0),this.hide(AC.Gesture);break;case 2:if(!F.altKey&&!F.ctrlKey&&!F.metaKey){const H=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(t.classList.contains("show-checkboxes")?H.push("input"):H.push("input[type=text]"),this.getUI().list.displayed&&H.push(".monaco-list"),this.getUI().message&&H.push(".quick-input-message a"),this.getUI().widget){if(Xr(F.target,this.getUI().widget))break;H.push(".quick-input-html-widget")}const V=t.querySelectorAll(H.join(", "));F.shiftKey&&F.target===V[0]?(gn.stop(F,!0),M.clearFocus()):!F.shiftKey&&Xr(F.target,V[V.length-1])&&(gn.stop(F,!0),V[0].focus())}break;case 10:F.ctrlKey&&(gn.stop(F,!0),this.getUI().list.toggleHover());break}})),this.ui={container:t,styleSheet:i,leftActionBar:s,titleBar:r,title:o,description1:k,description2:u,widget:x,rightActionBar:a,inlineActionBar:S,checkAll:c,inputContainer:d,filterContainer:h,inputBox:f,visibleCountContainer:m,visibleCount:g,countContainer:_,count:v,okContainer:C,ok:y,message:I,customButtonContainer:b,customButton:w,list:M,progressBar:O,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:F=>this.show(F),hide:()=>this.hide(),setVisibilities:F=>this.setVisibilities(F),setEnabled:F=>this.setEnabled(F),setContextKey:F=>this.options.setContextKey(F),linkOpenerDelegate:F=>this.options.linkOpenerDelegate(F)},this.updateStyles(),this.ui}reparentUI(e){this.ui&&(this._container=e,st(this._container,this.ui.container))}pick(e,t={},i=uc.None){return new Promise((r,s)=>{let o=u=>{var d;o=r,(d=t.onKeyMods)==null||d.call(t,a.keyMods),r(u)};if(i.isCancellationRequested){o(void 0);return}const a=this.createQuickPick({useSeparators:!0});let l;const c=[a,a.onDidAccept(()=>{if(a.canSelectMany)o(a.selectedItems.slice()),a.hide();else{const u=a.activeItems[0];u&&(o(u),a.hide())}}),a.onDidChangeActive(u=>{const d=u[0];d&&t.onDidFocus&&t.onDidFocus(d)}),a.onDidChangeSelection(u=>{if(!a.canSelectMany){const d=u[0];d&&(o(d),a.hide())}}),a.onDidTriggerItemButton(u=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton({...u,removeItem:()=>{const d=a.items.indexOf(u.item);if(d!==-1){const h=a.items.slice(),f=h.splice(d,1),m=a.activeItems.filter(_=>_!==f[0]),g=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=h,m&&(a.activeItems=m),a.keepScrollPosition=g}}})),a.onDidTriggerSeparatorButton(u=>{var d;return(d=t.onDidTriggerSeparatorButton)==null?void 0:d.call(t,u)}),a.onDidChangeValue(u=>{l&&!u&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{As(c),o(void 0)})];a.title=t.title,t.value&&(a.value=t.value),a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.quickNavigate=t.quickNavigate,a.hideInput=!!t.hideInput,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([u,d])=>{l=d,a.busy=!1,a.items=u,a.canSelectMany&&(a.selectedItems=u.filter(h=>h.type!=="separator"&&h.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,u=>{s(u),a.hide()})})}createQuickPick(e={useSeparators:!1}){const t=this.getUI(!0);return new Ix(t)}createInputBox(){const e=this.getUI(!0);return new Mut(e)}show(e){const t=this.getUI(!0);this.onShowEmitter.fire();const i=this.controller;this.controller=e,i==null||i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",wo(t.widget),t.rightActionBar.clear(),t.inlineActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Tr.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),wo(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,t.inputBox.toggles=void 0;const r=this.options.backKeybindingLabel();o$.tooltip=r?A("quickInput.backWithKeybinding","Back ({0})",r):A("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus(),this.quickInputTypeContext.set(e.type)}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.inputContainer.style.display=e.inputBox?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.displayed=!!e.list,t.container.classList.toggle("show-checkboxes",!!e.checkBox),t.container.classList.toggle("hidden-input",!e.inputBox&&!e.description),this.updateLayout()}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.action.enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.action.enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().inputBox.enabled=e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var s;const t=this.controller;if(!t)return;t.willHide(e);const i=(s=this.ui)==null?void 0:s.container,r=i&&!$1e(i);if(this.controller=null,this.onHideEmitter.fire(),i&&(i.style.display="none"),!r){let o=this.previousFocusElement;for(;o&&!o.offsetParent;)o=o.parentElement??void 0;o!=null&&o.offsetParent?(o.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}t.didHide(e)}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,_$.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,widgetBorder:r,widgetShadow:s}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e??"",this.ui.container.style.backgroundColor=t??"",this.ui.container.style.color=i??"",this.ui.container.style.border=r?`1px solid ${r}`:"",this.ui.container.style.boxShadow=s?`0 0 8px 2px ${s}`:"",this.ui.list.style(this.styles.list);const o=[];this.styles.pickerGroup.pickerGroupBorder&&o.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&o.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&o.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(o.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&o.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&o.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&o.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&o.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&o.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),o.push("}"));const a=o.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}},_$=u_,u_.MAX_WIDTH=600,u_);E$=_$=mht([z3(1,gp),z3(2,oi),z3(3,qn)],E$);var _ht=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Kb=function(n,e){return function(t,i){e(t,i,n)}};let v$=class extends ztt{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get currentQuickInput(){return this.controller.currentQuickInput}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(s$))),this._quickAccess}constructor(e,t,i,r,s){super(i),this.instantiationService=e,this.contextKeyService=t,this.layoutService=r,this.configurationService=s,this._onShow=this._register(new ge),this._onHide=this._register(new ge),this.contexts=new Map}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:s=>this.setContextKey(s),linkOpenerDelegate:s=>{this.instantiationService.invokeFunction(o=>{o.get(IA).open(s,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>e.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(a$))},r=this._register(this.instantiationService.createInstance(E$,{...i,...t}));return r.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop),this._register(e.onDidLayoutActiveContainer(s=>{ht(e.activeContainer)===ht(r.container)&&r.layout(s,e.activeContainerOffset.quickPickTop)})),this._register(e.onDidChangeActiveContainer(()=>{r.isVisible()||r.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop)})),this._register(r.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(r.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),r}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new ct(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t==null||t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t,i=uc.None){return this.controller.pick(e,t,i)}createQuickPick(e={useSeparators:!1}){return this.controller.createQuickPick(e)}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:$e(rce),quickInputForeground:$e(ort),quickInputTitleBackground:$e(art),widgetBorder:$e(Gnt),widgetShadow:$e(wA)},inputBox:qAe,toggle:KAe,countBadge:jat,button:$at,progressBar:Gat,keybindingLabel:Wat,list:xA({listBackground:rce,listFocusBackground:c8,listFocusForeground:l8,listInactiveFocusForeground:l8,listInactiveSelectionIconForeground:dAe,listInactiveFocusBackground:c8,listFocusOutline:cr,listInactiveFocusOutline:cr}),pickerGroup:{pickerGroupBorder:$e(lrt),pickerGroupForeground:$e(uAe)}}}};v$=_ht([Kb(0,oi),Kb(1,qn),Kb(2,_c),Kb(3,gp),Kb(4,Zi)],v$);var ZRe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ym=function(n,e){return function(t,i){e(t,i,n)}};let S$=class extends v${constructor(e,t,i,r,s,o){super(t,i,r,new Y6(e.getContainerDomNode(),s),o),this.host=void 0;const a=J1.get(e);if(a){const l=a.widget;this.host={_serviceBrand:void 0,get mainContainer(){return l.getDomNode()},getContainer(){return l.getDomNode()},whenContainerStylesLoaded(){},get containers(){return[l.getDomNode()]},get activeContainer(){return l.getDomNode()},get mainContainerDimension(){return e.getLayoutInfo()},get activeContainerDimension(){return e.getLayoutInfo()},get onDidLayoutMainContainer(){return e.onDidLayoutChange},get onDidLayoutActiveContainer(){return e.onDidLayoutChange},get onDidLayoutContainer(){return Ue.map(e.onDidLayoutChange,c=>({container:l.getDomNode(),dimension:c}))},get onDidChangeActiveContainer(){return Ue.None},get onDidAddContainer(){return Ue.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>e.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};S$=ZRe([ym(1,oi),ym(2,qn),ym(3,_c),ym(4,Fr),ym(5,Zi)],S$);let C$=class{get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(S$,e);this.mapEditorToService.set(e,t),dC(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get currentQuickInput(){return this.activeService.currentQuickInput}get quickAccess(){return this.activeService.quickAccess}constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}pick(e,t,i=uc.None){return this.activeService.pick(e,t,i)}createQuickPick(e={useSeparators:!1}){return this.activeService.createQuickPick(e)}createInputBox(){return this.activeService.createInputBox()}};C$=ZRe([ym(0,oi),ym(1,Fr)],C$);const HP=class HP{static get(e){return e.getContribution(HP.ID)}constructor(e){this.editor=e,this.widget=new y$(this.editor)}dispose(){this.widget.dispose()}};HP.ID="editor.controller.quickInput";let J1=HP;const VP=class VP{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return VP.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}};VP.ID="editor.contrib.quickInputWidget";let y$=VP;ewe(J1.ID,J1,4);class Eht{constructor(e,t,i,r,s){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=r,this.background=s}}function vht(n){if(!n||!Array.isArray(n))return[];const e=[];let t=0;for(let i=0,r=n.length;i<r;i++){const s=n[i];let o=-1;if(typeof s.fontStyle=="string"){o=0;const c=s.fontStyle.split(" ");for(let u=0,d=c.length;u<d;u++)switch(c[u]){case"italic":o=o|1;break;case"bold":o=o|2;break;case"underline":o=o|4;break;case"strikethrough":o=o|8;break}}let a=null;typeof s.foreground=="string"&&(a=s.foreground);let l=null;typeof s.background=="string"&&(l=s.background),e[t++]=new Eht(s.token||"",i,o,a,l)}return e}function Sht(n,e){n.sort((u,d)=>{const h=wht(u.token,d.token);return h!==0?h:u.index-d.index});let t=0,i="000000",r="ffffff";for(;n.length>=1&&n[0].token==="";){const u=n.shift();u.fontStyle!==-1&&(t=u.fontStyle),u.foreground!==null&&(i=u.foreground),u.background!==null&&(r=u.background)}const s=new yht;for(const u of e)s.getId(u);const o=s.getId(i),a=s.getId(r),l=new _X(t,o,a),c=new EX(l);for(let u=0,d=n.length;u<d;u++){const h=n[u];c.insert(h.token,h.fontStyle,s.getId(h.foreground),s.getId(h.background))}return new JRe(s,c)}const Cht=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class yht{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;const t=e.match(Cht);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=Me.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class JRe{static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(vht(e),t)}static createFromParsedTokenTheme(e,t){return Sht(e,t)}constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i>"u"){const r=this._match(t),s=Tht(t);i=(r.metadata|s<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const bht=/\b(comment|string|regex|regexp)\b/;function Tht(n){const e=n.match(bht);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function wht(n,e){return n<e?-1:n>e?1:0}class _X{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new _X(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class EX{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;const t=e.indexOf(".");let i,r;t===-1?(i=e,r=""):(i=e.substring(0,t),r=e.substring(t+1));const s=this._children.get(i);return typeof s<"u"?s.match(r):this._mainRule}insert(e,t,i,r){if(e===""){this._mainRule.acceptOverwrite(t,i,r);return}const s=e.indexOf(".");let o,a;s===-1?(o=e,a=""):(o=e.substring(0,s),a=e.substring(s+1));let l=this._children.get(o);typeof l>"u"&&(l=new EX(this._mainRule.clone()),this._children.set(o,l)),l.insert(a,t,i,r)}}function Aht(n){const e=[];for(let t=1,i=n.length;t<i;t++){const r=n[t];e[t]=`.mtk${t} { color: ${r}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join(`
`)}const Rht={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[gu]:"#FFFFFE",[TA]:"#000000",[Qwe]:"#E5EBF1",[PA]:"#D3D3D3",[kA]:"#939393",[Zwe]:"#ADD6FF4D"}},Iht={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[gu]:"#1E1E1E",[TA]:"#D4D4D4",[Qwe]:"#3A3D41",[PA]:"#404040",[kA]:"#707070",[Zwe]:"#ADD6FF26"}},Nht={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[gu]:"#000000",[TA]:"#FFFFFF",[PA]:"#FFFFFF",[kA]:"#FFFFFF"}},Lht={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[gu]:"#FFFFFF",[TA]:"#292929",[PA]:"#292929",[kA]:"#292929"}},Oht={IconContribution:"base.contributions.icons"};var zue;(function(n){function e(t,i){let r=t.defaults;for(;Ln.isThemeIcon(r);){const s=fE.getIcon(r.id);if(!s)return;r=s.defaults}return r}n.getDefinition=e})(zue||(zue={}));var jue;(function(n){function e(i){return{weight:i.weight,style:i.style,src:i.src.map(r=>({format:r.format,location:r.location.toString()}))}}n.toJSONObject=e;function t(i){const r=s=>Ka(s)?s:void 0;if(i&&Array.isArray(i.src)&&i.src.every(s=>Ka(s.format)&&Ka(s.location)))return{weight:r(i.weight),style:r(i.style),src:i.src.map(s=>({format:s.format,location:en.parse(s.location)}))}}n.fromJSONObject=t})(jue||(jue={}));class xht{constructor(){this._onDidChange=new ge,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:A("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:A("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${Ln.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,r){const s=this.iconsById[e];if(s){if(i&&!s.description){s.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return s}const o={id:e,description:i,defaults:t,deprecationMessage:r};this.iconsById[e]=o;const a={$ref:"#/definitions/icons"};return r&&(a.deprecationMessage=r),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(s,o)=>s.id.localeCompare(o.id),t=s=>{for(;Ln.isThemeIcon(s.defaults);)s=this.iconsById[s.defaults.id];return`codicon codicon-${s?s.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const r=Object.keys(this.iconsById).map(s=>this.iconsById[s]);for(const s of r.filter(o=>!!o.description).sort(e))i.push(`|<i class="${t(s)}"></i>|${s.id}|${Ln.isThemeIcon(s.defaults)?s.defaults.id:s.id}|${s.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const s of r.filter(o=>!Ln.isThemeIcon(o.defaults)).sort(e))i.push(`|<i class="${t(s)}"></i>|${s.id}|`);return i.join(`
`)}}const fE=new xht;hs.add(Oht.IconContribution,fE);function _p(n,e,t,i){return fE.registerIcon(n,e,t,i)}function eIe(){return fE}function Dht(){const n=h1e();for(const e in n){const t="\\"+n[e].toString(16);fE.registerIcon(e,{fontCharacter:t})}}Dht();const tIe="vscode://schemas/icons",nIe=hs.as(KM.JSONContribution);nIe.registerSchema(tIe,fE.getIconSchema());const Yue=new ho(()=>nIe.notifySchemaChanged(tIe),200);fE.onDidChange(()=>{Yue.isScheduled()||Yue.schedule()});_p("widget-close",tt.close,A("widgetClose","Icon for the close action in widgets."));_p("goto-previous-location",tt.arrowUp,A("previousChangeIcon","Icon for goto previous editor location."));_p("goto-next-location",tt.arrowDown,A("nextChangeIcon","Icon for goto next editor location."));Ln.modify(tt.sync,"spin");Ln.modify(tt.loading,"spin");function Pht(n){const e=new at,t=e.add(new ge),i=eIe();return e.add(i.onDidChange(()=>t.fire())),n&&e.add(n.onDidProductIconThemeChange(()=>t.fire())),{dispose:()=>e.dispose(),onDidChange:t.event,getCSS(){const r=n?n.getProductIconTheme():new iIe,s={},o=[],a=[];for(const l of i.getIcons()){const c=r.getIcon(l);if(!c)continue;const u=c.font,d=`--vscode-icon-${l.id}-font-family`,h=`--vscode-icon-${l.id}-content`;u?(s[u.id]=u.definition,a.push(`${d}: ${n3(u.id)};`,`${h}: '${c.fontCharacter}';`),o.push(`.codicon-${l.id}:before { content: '${c.fontCharacter}'; font-family: ${n3(u.id)}; }`)):(a.push(`${h}: '${c.fontCharacter}'; ${d}: 'codicon';`),o.push(`.codicon-${l.id}:before { content: '${c.fontCharacter}'; }`))}for(const l in s){const c=s[l],u=c.weight?`font-weight: ${c.weight};`:"",d=c.style?`font-style: ${c.style};`:"",h=c.src.map(f=>`${of(f.location)} format('${f.format}')`).join(", ");o.push(`@font-face { src: ${h}; font-family: ${n3(l)};${u}${d} font-display: block; }`)}return o.push(`:root { ${a.join(" ")} }`),o.join(`
`)}}}class iIe{getIcon(e){const t=eIe();let i=e.defaults;for(;Ln.isThemeIcon(i);){const r=t.getIcon(i.id);if(!r)return;i=r.defaults}return i}}const ag="vs",u0="vs-dark",VS="hc-black",WS="hc-light",rIe=hs.as(Gwe.ColorContribution),kht=hs.as(Rwe.ThemingContribution);class sIe{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(RL(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,Me.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=b$(this.themeData.base);for(const i in t.colors)e.has(i)||e.set(i,Me.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=rIe.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return this.getColors().has(e)}get type(){switch(this.base){case ag:return bl.LIGHT;case VS:return bl.HIGH_CONTRAST_DARK;case WS:return bl.HIGH_CONTRAST_LIGHT;default:return bl.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const s=b$(this.themeData.base);e=s.rules,s.encodedTokensColors&&(t=s.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],r=this.themeData.colors["editor.background"];if(i||r){const s={token:""};i&&(s.foreground=i),r&&(s.background=r),e.push(s)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=JRe.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const s=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=zc.getForeground(s),a=zc.getFontStyle(s);return{foreground:o,italic:!!(a&1),bold:!!(a&2),underline:!!(a&4),strikethrough:!!(a&8)}}}function RL(n){return n===ag||n===u0||n===VS||n===WS}function b$(n){switch(n){case ag:return Rht;case u0:return Iht;case VS:return Nht;case WS:return Lht}}function _N(n){const e=b$(n);return new sIe(n,e)}class Mht extends Ne{constructor(){super(),this._onColorThemeChange=this._register(new ge),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new ge),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new iIe,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(ag,_N(ag)),this._knownThemes.set(u0,_N(u0)),this._knownThemes.set(VS,_N(VS)),this._knownThemes.set(WS,_N(WS));const e=this._register(Pht(this));this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(ag),this._onOSSchemeChanged(),this._register(e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),C1e(fi,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(e){return VO(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=Ol(void 0,e=>{e.className="monaco-colors",e.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),Ne.None}_registerShadowDomContainer(e){const t=Ol(e,i=>{i.className="monaco-colors",i.textContent=this._allCSS});return this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!RL(t.base)&&!RL(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new sIe(e,t)),RL(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(ag),this._updateActualTheme(t)}_updateActualTheme(e){!e||this._theme===e||(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=fi.matchMedia("(forced-colors: active)").matches;if(e!==OS(this._theme.type)){let t;qM(this._theme.type)?t=e?VS:u0:t=e?WS:ag,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:o=>{t[o]||(e.push(o),t[o]=!0)}};kht.getThemingParticipants().forEach(o=>o(this._theme,i,this._environment));const r=[];for(const o of rIe.getColors()){const a=this._theme.getColor(o.id,!0);a&&r.push(`${hq(o.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${r.join(`
`)} }`);const s=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(Aht(s)),this._themeCSS=e.join(`
`),this._updateCSS(),gr.setColorMap(s),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}const Ec=Cn("themeService");var Fht=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},j3=function(n,e){return function(t,i){e(t,i,n)}};let T$=class extends Ne{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new ge,this._onDidChangeReducedMotion=new ge,this._onDidChangeLinkUnderline=new ge,this._accessibilityModeEnabledContext=Wst.bindTo(this._contextKeyService);const r=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("editor.accessibilitySupport")&&(r(),this._onDidChangeScreenReaderOptimized.fire()),o.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),r(),this._register(this.onDidChangeScreenReaderOptimized(()=>r()));const s=fi.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=s.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._linkUnderlinesEnabled=this._configurationService.getValue("accessibility.underlineLinks"),this.initReducedMotionListeners(s),this.initLinkUnderlineListeners()}initReducedMotionListeners(e){this._register(we(e,"change",()=>{this._systemMotionReduced=e.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const t=()=>{const i=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",i),this._layoutService.mainContainer.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}initLinkUnderlineListeners(){this._register(this._configurationService.onDidChangeConfiguration(t=>{if(t.affectsConfiguration("accessibility.underlineLinks")){const i=this._configurationService.getValue("accessibility.underlineLinks");this._linkUnderlinesEnabled=i,this._onDidChangeLinkUnderline.fire()}}));const e=()=>{const t=this._linkUnderlinesEnabled;this._layoutService.mainContainer.classList.toggle("underline-links",t)};e(),this._register(this.onDidChangeLinkUnderlines(()=>e()))}onDidChangeLinkUnderlines(e){return this._onDidChangeLinkUnderline.event(e)}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return e==="on"||e==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};T$=Fht([j3(0,qn),j3(1,gp),j3(2,Zi)],T$);var y2=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},fd=function(n,e){return function(t,i){e(t,i,n)}},Av,RT;let w$=class{constructor(e,t,i){this._commandService=e,this._keybindingService=t,this._hiddenStates=new A$(i)}createMenu(e,t,i){return new Ux(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,t)}getMenuActions(e,t,i){const r=new Ux(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,t),s=r.getActions(i);return r.dispose(),s}resetHiddenStates(e){this._hiddenStates.reset(e)}};w$=y2([fd(0,el),fd(1,Rs),fd(2,d2)],w$);var d_;let A$=(d_=class{constructor(e){this._storageService=e,this._disposables=new at,this._onDidChange=new ge,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const t=e.get(Av._key,0,"{}");this._data=JSON.parse(t)}catch{this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(0,Av._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const t=e.get(Av._key,0,"{}");this._data=JSON.parse(t)}catch(t){console.log("FAILED to read storage after UPDATE",t)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){return this._hiddenByDefaultCache.get(`${e.id}/${t}`)??!1}setDefaultState(e,t,i){this._hiddenByDefaultCache.set(`${e.id}/${t}`,i)}isHidden(e,t){var s;const i=this._isHiddenByDefault(e,t),r=((s=this._data[e.id])==null?void 0:s.includes(t))??!1;return i?!r:r}updateHidden(e,t,i){this._isHiddenByDefault(e,t)&&(i=!i);const s=this._data[e.id];if(i)s?s.indexOf(t)<0&&s.push(t):this._data[e.id]=[t];else if(s){const o=s.indexOf(t);o>=0&&uqe(s,o),s.length===0&&delete this._data[e.id]}this._persist()}reset(e){if(e===void 0)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(Av._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}},Av=d_,d_._key="menu.hiddenCommands",d_);A$=Av=y2([fd(0,d2)],A$);class d0{constructor(e,t){this._id=e,this._collectContextKeysForSubmenus=t,this._menuGroups=[],this._allMenuIds=new Set,this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get allMenuIds(){return this._allMenuIds}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._allMenuIds.clear(),this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=this._sort(gC.getMenuItems(this._id));let t;for(const i of e){const r=i.group||"";(!t||t[0]!==r)&&(t=[r,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeysAndSubmenuIds(i)}this._allMenuIds.add(this._id)}_sort(e){return e}_collectContextKeysAndSubmenuIds(e){if(d0._fillInKbExprKeys(e.when,this._structureContextKeys),XT(e)){if(e.command.precondition&&d0._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;d0._fillInKbExprKeys(t,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&(gC.getMenuItems(e.submenu).forEach(this._collectContextKeysAndSubmenuIds,this),this._allMenuIds.add(e.submenu))}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}}let R$=RT=class extends d0{constructor(e,t,i,r,s,o){super(e,i),this._hiddenStates=t,this._commandService=r,this._keybindingService=s,this._contextKeyService=o,this.refresh()}createActionGroups(e){const t=[];for(const i of this._menuGroups){const[r,s]=i;let o;for(const a of s)if(this._contextKeyService.contextMatchesRules(a.when)){const l=XT(a);l&&this._hiddenStates.setDefaultState(this._id,a.command.id,!!a.isHiddenByDefault);const c=Bht(this._id,l?a.command:a,this._hiddenStates);if(l){const u=oIe(this._commandService,this._keybindingService,a.command.id,a.when);(o??(o=[])).push(new $h(a.command,a.alt,e,c,u,this._contextKeyService,this._commandService))}else{const u=new RT(a.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(e),d=go.join(...u.map(h=>h[1]));d.length>0&&(o??(o=[])).push(new QT(a,c,d))}}o&&o.length>0&&t.push([r,o])}return t}_sort(e){return e.sort(RT._compareMenuItems)}static _compareMenuItems(e,t){const i=e.group,r=t.group;if(i!==r){if(i){if(!r)return-1}else return 1;if(i==="navigation")return-1;if(r==="navigation")return 1;const a=i.localeCompare(r);if(a!==0)return a}const s=e.order||0,o=t.order||0;return s<o?-1:s>o?1:RT._compareTitles(XT(e)?e.command.title:e.title,XT(t)?t.command.title:t.title)}static _compareTitles(e,t){const i=typeof e=="string"?e:e.original,r=typeof t=="string"?t:t.original;return i.localeCompare(r)}};R$=RT=y2([fd(3,el),fd(4,Rs),fd(5,qn)],R$);let Ux=class{constructor(e,t,i,r,s,o){this._disposables=new at,this._menuInfo=new R$(e,t,i.emitEventsForSubmenuChanges,r,s,o);const a=new ho(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},i.eventDebounceDelay);this._disposables.add(a),this._disposables.add(gC.onDidChangeMenu(d=>{for(const h of this._menuInfo.allMenuIds)if(d.has(h)){a.schedule();break}}));const l=this._disposables.add(new at),c=d=>{let h=!1,f=!1,m=!1;for(const g of d)if(h=h||g.isStructuralChange,f=f||g.isEnablementChange,m=m||g.isToggleChange,h&&f&&m)break;return{menu:this,isStructuralChange:h,isEnablementChange:f,isToggleChange:m}},u=()=>{l.add(o.onDidChangeContext(d=>{const h=d.affectsSome(this._menuInfo.structureContextKeys),f=d.affectsSome(this._menuInfo.preconditionContextKeys),m=d.affectsSome(this._menuInfo.toggledContextKeys);(h||f||m)&&this._onDidChange.fire({menu:this,isStructuralChange:h,isEnablementChange:f,isToggleChange:m})})),l.add(t.onDidChange(d=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new n1e({onWillAddFirstListener:u,onDidRemoveLastListener:l.clear.bind(l),delay:i.eventDebounceDelay,merge:c}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};Ux=y2([fd(3,el),fd(4,Rs),fd(5,qn)],Ux);function Bht(n,e,t){const i=SJe(e)?e.submenu.id:e.id,r=typeof e.title=="string"?e.title:e.title.value,s=RS({id:`hide/${n.id}/${i}`,label:A("hide.label","Hide '{0}'",r),run(){t.updateHidden(n,i,!0)}}),o=RS({id:`toggle/${n.id}/${i}`,label:r,get checked(){return!t.isHidden(n,i)},run(){t.updateHidden(n,i,!!this.checked)}});return{hide:s,toggle:o,get isHidden(){return!o.checked}}}function oIe(n,e,t,i=void 0,r=!0){return RS({id:`configureKeybinding/${t}`,label:A("configure keybinding","Configure Keybinding"),enabled:r,run(){const o=!!!e.lookupKeybinding(t)&&i?i.serialize():void 0;n.executeCommand("workbench.action.openGlobalKeybindings",`@command:${t}`+(o?` +when:${o}`:""))}})}var Uht=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Kue=function(n,e){return function(t,i){e(t,i,n)}},I$;const que="application/vnd.code.resources";var h_;let N$=(h_=class extends Ne{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(qg||y1e)&&this.installWebKitWriteTextWorkaround(),this._register(Ue.runAndSubscribe(PM,({window:i,disposables:r})=>{r.add(we(i.document,"copy",()=>this.clearResourcesState()))},{window:fi,disposables:this._store}))}installWebKitWriteTextWorkaround(){const e=()=>{const t=new I1e;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,ET().navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(async i=>{(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)})};this._register(Ue.runAndSubscribe(this.layoutService.onDidAddContainer,({container:t,disposables:i})=>{i.add(we(t,"click",e)),i.add(we(t,"keydown",e))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(e,t){if(this.clearResourcesState(),t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return await ET().navigator.clipboard.writeText(e)}catch(i){console.error(i)}this.fallbackWriteText(e)}fallbackWriteText(e){const t=KK(),i=t.activeElement,r=t.body.appendChild(St("textarea",{"aria-hidden":!0}));r.style.height="1px",r.style.width="1px",r.style.position="absolute",r.value=e,r.focus(),r.select(),t.execCommand("copy"),as(i)&&i.focus(),r.remove()}async readText(e){if(e)return this.mapTextToType.get(e)||"";try{return await ET().navigator.clipboard.readText()}catch(t){console.error(t)}return""}async readFindText(){return this.findText}async writeFindText(e){this.findText=e}async readResources(){try{const t=await ET().navigator.clipboard.read();for(const i of t)if(i.types.includes(`web ${que}`)){const r=await i.getType(`web ${que}`);return JSON.parse(await r.text()).map(o=>en.from(o))}}catch{}const e=await this.computeResourcesStateHash();return this.resourcesStateHash!==e&&this.clearResourcesState(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const e=await this.readText();return B1e(e.substring(0,I$.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearInternalState(){this.clearResourcesState()}clearResourcesState(){this.resources=[],this.resourcesStateHash=void 0}},I$=h_,h_.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,h_);N$=I$=Uht([Kue(0,gp),Kue(1,Cu)],N$);const vX=Cn("clipboardService");var Hht=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Vht=function(n,e){return function(t,i){e(t,i,n)}};const h0="data-keybinding-context";class SX{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return{...this._value}}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t}}const WP=class WP extends SX{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}};WP.INSTANCE=new WP;let IC=WP;const V0=class V0 extends SX{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=t0.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(r=>{if(r.source===7){const s=Array.from(this._values,([o])=>o);this._values.clear(),i.fire(new Que(s))}else{const s=[];for(const o of r.affectedKeys){const a=`config.${o}`,l=this._values.findSuperstr(a);l!==void 0&&(s.push(...Mn.map(l,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(s.push(a),this._values.delete(a))}i.fire(new Que(s))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(V0._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(V0._keyPrefix.length),i=this._configurationService.getValue(t);let r;switch(typeof i){case"number":case"boolean":case"string":r=i;break;default:Array.isArray(i)?r=JSON.stringify(i):r=i}return this._values.set(e,r),r}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}};V0._keyPrefix="config.";let L$=V0;class Wht{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Xue{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class Que{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every(t=>e.has(t))}}class $ht{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every(t=>t.allKeysContainedIn(e))}}function Ght(n,e){return n.allKeysContainedIn(new Set(Object.keys(e)))}class aIe extends Ne{constructor(e){super(),this._onDidChangeContext=this._register(new T1({merge:t=>new $ht(t)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Wht(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new zht(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new Xue(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new Xue(e))}getContext(e){return this._isDisposed?IC.INSTANCE:this.getContextValuesContainer(jht(e))}dispose(){super.dispose(),this._isDisposed=!0}}let O$=class extends aIe{constructor(e){super(0),this._contexts=new Map,this._lastContextId=0;const t=this._register(new L$(this._myContextId,e,this._onDidChangeContext));this._contexts.set(this._myContextId,t)}getContextValuesContainer(e){return this._isDisposed?IC.INSTANCE:this._contexts.get(e)||IC.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new SX(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};O$=Hht([Vht(0,Zi)],O$);class zht extends aIe{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=this._register(new rf),this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(h0)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(h0,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(e=>{const i=this._parent.getContextValuesContainer(this._myContextId).value;Ght(e,i)||this._onDidChangeContext.fire(e)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(h0),super.dispose())}getContextValuesContainer(e){return this._isDisposed?IC.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function jht(n){for(;n;){if(n.hasAttribute(h0)){const e=n.getAttribute(h0);return e?parseInt(e,10):NaN}n=n.parentElement}return 0}function Yht(n,e,t){n.get(qn).createKey(String(e),Kht(t))}function Kht(n){return W0e(n,e=>{if(typeof e=="object"&&e.$mid===1)return en.revive(e).toString();if(e instanceof en)return e.toString()})}na.registerCommand("_setContext",Yht);na.registerCommand({id:"getContextKeyInfo",handler(){return[...ct.all()].sort((n,e)=>n.key.localeCompare(e.key))},metadata:{description:A("getContextKeyInfo","A command that returns information about context keys"),args:[]}});na.registerCommand("_generateContextKeyInfo",function(){const n=[],e=new Set;for(const t of ct.all())e.has(t.key)||(e.add(t.key),n.push(t));n.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(n,void 0,2))});let qht=class{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}};class Zue{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);i.outgoing.set(r.key,r),r.incoming.set(i.key,i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new qht(t,e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}
	(-> incoming)[${[...i.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...i.outgoing.keys()].join(",")}]
`);return e.join(`
`)}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),r=this._findCycle(t,i);if(r)return r}}_findCycle(e,t){for(const[i,r]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const s=this._findCycle(r,t);if(s)return s;t.delete(i)}}}class Ry{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}const Xht=!1;class Jue extends Error{constructor(e){super("cyclic dependency between services"),this.message=e.findCycleSlow()??`UNABLE to detect cycle, dumping graph:
${e.toString()}`}}class Hx{constructor(e=new Ry,t=!1,i,r=Xht){this._services=e,this._strict=t,this._parent=i,this._enableTracing=r,this._isDisposed=!1,this._servicesToMaybeDispose=new Set,this._children=new Set,this._activeInstantiations=new Set,this._services.set(oi,this),this._globalGraph=r?(i==null?void 0:i._globalGraph)??new Zue(s=>s):void 0}dispose(){if(!this._isDisposed){this._isDisposed=!0,As(this._children),this._children.clear();for(const e of this._servicesToMaybeDispose)e1e(e)&&e.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(e,t){this._throwIfDisposed();const i=this,r=new class extends Hx{dispose(){i._children.delete(r),super.dispose()}}(e,this._strict,this,this._enableTracing);return this._children.add(r),t==null||t.add(r),r}invokeFunction(e,...t){this._throwIfDisposed();const i=f0.traceInvocation(this._enableTracing,e);let r=!1;try{return e({get:o=>{if(r)throw RK("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(o,i);if(!a)throw new Error(`[invokeFunction] unknown service '${o}'`);return a}},...t)}finally{r=!0,i.stop()}}createInstance(e,...t){this._throwIfDisposed();let i,r;return e instanceof Xu?(i=f0.traceCreation(this._enableTracing,e.ctor),r=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=f0.traceCreation(this._enableTracing,e),r=this._createInstance(e,t,i)),i.stop(),r}_createInstance(e,t=[],i){const r=eu.getServiceDependencies(e).sort((a,l)=>a.index-l.index),s=[];for(const a of r){const l=this._getOrCreateServiceInstance(a.id,i);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),s.push(l)}const o=r.length>0?r[0].index:t.length;if(t.length!==o){console.trace(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);const a=o-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,o)}return Reflect.construct(e,t.concat(s))}_setCreatedServiceInstance(e,t){if(this._services.get(e)instanceof Xu)this._services.set(e,t);else if(this._parent)this._parent._setCreatedServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const i=this._getServiceInstanceOrDescriptor(e);return i instanceof Xu?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){var l;const r=new Zue(c=>c.id.toString());let s=0;const o=[{id:e,desc:t,_trace:i}],a=new Set;for(;o.length;){const c=o.pop();if(!a.has(String(c.id))){if(a.add(String(c.id)),r.lookupOrInsertNode(c),s++>1e3)throw new Jue(r);for(const u of eu.getServiceDependencies(c.desc.ctor)){const d=this._getServiceInstanceOrDescriptor(u.id);if(d||this._throwIfStrict(`[createInstance] ${e} depends on ${u.id} which is NOT registered.`,!0),(l=this._globalGraph)==null||l.insertEdge(String(c.id),String(u.id)),d instanceof Xu){const h={id:u.id,desc:d,_trace:c._trace.branch(u.id,!0)};r.insertEdge(c,h),o.push(h)}}}}for(;;){const c=r.roots();if(c.length===0){if(!r.isEmpty())throw new Jue(r);break}for(const{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof Xu){const h=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,h)}r.removeNode(u)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],r,s){if(this._services.get(e)instanceof Xu)return this._createServiceInstance(e,t,i,r,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,r,s);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t,i=[],r,s,o){if(r){const a=new Hx(void 0,this._strict,this,this._enableTracing);a._globalGraphImplicitDependency=String(e);const l=new Map,c=new XQe(()=>{const u=a._createInstance(t,i,s);for(const[d,h]of l){const f=u[d];if(typeof f=="function")for(const m of h)m.disposable=f.apply(u,m.listener)}return l.clear(),o.add(u),u});return new Proxy(Object.create(null),{get(u,d){if(!c.isInitialized&&typeof d=="string"&&(d.startsWith("onDid")||d.startsWith("onWill"))){let m=l.get(d);return m||(m=new pa,l.set(d,m)),(_,v,S)=>{if(c.isInitialized)return c.value[d](_,v,S);{const C={listener:[_,v,S],disposable:void 0},y=m.push(C);return Ht(()=>{var w;y(),(w=C.disposable)==null||w.dispose()})}}}if(d in u)return u[d];const h=c.value;let f=h[d];return typeof f!="function"||(f=f.bind(h),u[d]=f),f},set(u,d,h){return c.value[d]=h,!0},getPrototypeOf(u){return t.prototype}})}else{const a=this._createInstance(t,i,s);return o.add(a),a}}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}const Fa=class Fa{static traceInvocation(e,t){return e?new Fa(2,t.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):Fa._None}static traceCreation(e,t){return e?new Fa(1,t.name):Fa._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const i=new Fa(3,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;Fa._totals+=e;let t=!1;function i(s,o){const a=[],l=new Array(s+1).join("	");for(const[c,u,d]of o._dep)if(u&&d){t=!0,a.push(`${l}CREATES -> ${c}`);const h=i(s+1,d);h&&a.push(h)}else a.push(`${l}uses -> ${c}`);return a.join(`
`)}const r=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${Fa._totals.toFixed(2)}ms)`];(e>2||t)&&Fa.all.add(r.join(`
`))}};Fa.all=new Set,Fa._None=new class extends Fa{constructor(){super(0,null)}stop(){}branch(){return this}},Fa._totals=0;let f0=Fa;const Qht=new Set([Jt.inMemory,Jt.vscodeSourceControl,Jt.walkThrough,Jt.walkThroughSnippet,Jt.vscodeChatCodeBlock]);class Zht{constructor(){this._byResource=new Xa,this._byOwner=new Map}set(e,t,i){let r=this._byResource.get(e);r||(r=new Map,this._byResource.set(e,r)),r.set(t,i);let s=this._byOwner.get(t);s||(s=new Xa,this._byOwner.set(t,s)),s.set(e,i)}get(e,t){const i=this._byResource.get(e);return i==null?void 0:i.get(t)}delete(e,t){let i=!1,r=!1;const s=this._byResource.get(e);s&&(i=s.delete(t));const o=this._byOwner.get(t);if(o&&(r=o.delete(e)),i!==r)throw new Error("illegal state");return i&&r}values(e){var t,i;return typeof e=="string"?((t=this._byOwner.get(e))==null?void 0:t.values())??Mn.empty():en.isUri(e)?((i=this._byResource.get(e))==null?void 0:i.values())??Mn.empty():Mn.map(Mn.concat(...this._byOwner.values()),r=>r[1])}}class Jht{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Xa,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const r=this._resourceStats(t);this._add(r),this._data.set(t,r)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(Qht.has(e.scheme))return t;for(const{severity:i}of this._service.read({resource:e}))i===vl.Error?t.errors+=1:i===vl.Warning?t.warnings+=1:i===vl.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class Jf{constructor(){this._onMarkerChanged=new n1e({delay:0,merge:Jf._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Zht,this._stats=new Jht(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(gqe(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const r=[];for(const s of i){const o=Jf._toMarker(e,t,s);o&&r.push(o)}this._data.set(t,e,r),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:r,severity:s,message:o,source:a,startLineNumber:l,startColumn:c,endLineNumber:u,endColumn:d,relatedInformation:h,tags:f}=i;if(o)return l=l>0?l:1,c=c>0?c:1,u=u>=l?u:l,d=d>0?d:c,{resource:t,owner:e,code:r,severity:s,message:o,source:a,startLineNumber:l,startColumn:c,endLineNumber:u,endColumn:d,relatedInformation:h,tags:f}}changeAll(e,t){const i=[],r=this._data.values(e);if(r)for(const s of r){const o=Mn.first(s);o&&(i.push(o.resource),this._data.delete(o.resource,e))}if(wM(t)){const s=new Xa;for(const{resource:o,marker:a}of t){const l=Jf._toMarker(e,o,a);if(!l)continue;const c=s.get(o);c?c.push(l):(s.set(o,[l]),i.push(o))}for(const[o,a]of s)this._data.set(o,e,a)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:r,take:s}=e;if((!s||s<0)&&(s=-1),t&&i){const o=this._data.get(i,t);if(o){const a=[];for(const l of o)if(Jf._accept(l,r)){const c=a.push(l);if(s>0&&c===s)break}return a}else return[]}else if(!t&&!i){const o=[];for(const a of this._data.values())for(const l of a)if(Jf._accept(l,r)){const c=o.push(l);if(s>0&&c===s)return o}return o}else{const o=this._data.values(i??t),a=[];for(const l of o)for(const c of l)if(Jf._accept(c,r)){const u=a.push(c);if(s>0&&u===s)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new Xa;for(const i of e)for(const r of i)t.set(r,!0);return Array.from(t.keys())}}class eft extends Ne{get configurationModel(){return this._configurationModel}constructor(e){super(),this.logService=e,this._configurationModel=rs.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=rs.createEmptyModel(this.logService);const e=hs.as(cE.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const i=this.getConfigurationDefaultOverrides();for(const r of e){const s=i[r],o=t[r];s!==void 0?this._configurationModel.setValue(r,s):o?this._configurationModel.setValue(r,o.default):this._configurationModel.removeValue(r)}}}const b2=Cn("accessibilitySignalService"),mn=class mn{static register(e){return new mn(e.fileName)}constructor(e){this.fileName=e}};mn.error=mn.register({fileName:"error.mp3"}),mn.warning=mn.register({fileName:"warning.mp3"}),mn.success=mn.register({fileName:"success.mp3"}),mn.foldedArea=mn.register({fileName:"foldedAreas.mp3"}),mn.break=mn.register({fileName:"break.mp3"}),mn.quickFixes=mn.register({fileName:"quickFixes.mp3"}),mn.taskCompleted=mn.register({fileName:"taskCompleted.mp3"}),mn.taskFailed=mn.register({fileName:"taskFailed.mp3"}),mn.terminalBell=mn.register({fileName:"terminalBell.mp3"}),mn.diffLineInserted=mn.register({fileName:"diffLineInserted.mp3"}),mn.diffLineDeleted=mn.register({fileName:"diffLineDeleted.mp3"}),mn.diffLineModified=mn.register({fileName:"diffLineModified.mp3"}),mn.chatRequestSent=mn.register({fileName:"chatRequestSent.mp3"}),mn.chatResponseReceived1=mn.register({fileName:"chatResponseReceived1.mp3"}),mn.chatResponseReceived2=mn.register({fileName:"chatResponseReceived2.mp3"}),mn.chatResponseReceived3=mn.register({fileName:"chatResponseReceived3.mp3"}),mn.chatResponseReceived4=mn.register({fileName:"chatResponseReceived4.mp3"}),mn.clear=mn.register({fileName:"clear.mp3"}),mn.save=mn.register({fileName:"save.mp3"}),mn.format=mn.register({fileName:"format.mp3"}),mn.voiceRecordingStarted=mn.register({fileName:"voiceRecordingStarted.mp3"}),mn.voiceRecordingStopped=mn.register({fileName:"voiceRecordingStopped.mp3"}),mn.progress=mn.register({fileName:"progress.mp3"});let Ii=mn;class tft{constructor(e){this.randomOneOf=e}}const Wt=class Wt{constructor(e,t,i,r,s,o){this.sound=e,this.name=t,this.legacySoundSettingsKey=i,this.settingsKey=r,this.legacyAnnouncementSettingsKey=s,this.announcementMessage=o}static register(e){const t=new tft("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),i=new Wt(t,e.name,e.legacySoundSettingsKey,e.settingsKey,e.legacyAnnouncementSettingsKey,e.announcementMessage);return Wt._signals.add(i),i}};Wt._signals=new Set,Wt.errorAtPosition=Wt.register({name:A("accessibilitySignals.positionHasError.name","Error at Position"),sound:Ii.error,announcementMessage:A("accessibility.signals.positionHasError","Error"),settingsKey:"accessibility.signals.positionHasError",delaySettingsKey:"accessibility.signalOptions.delays.errorAtPosition"}),Wt.warningAtPosition=Wt.register({name:A("accessibilitySignals.positionHasWarning.name","Warning at Position"),sound:Ii.warning,announcementMessage:A("accessibility.signals.positionHasWarning","Warning"),settingsKey:"accessibility.signals.positionHasWarning",delaySettingsKey:"accessibility.signalOptions.delays.warningAtPosition"}),Wt.errorOnLine=Wt.register({name:A("accessibilitySignals.lineHasError.name","Error on Line"),sound:Ii.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:A("accessibility.signals.lineHasError","Error on Line"),settingsKey:"accessibility.signals.lineHasError"}),Wt.warningOnLine=Wt.register({name:A("accessibilitySignals.lineHasWarning.name","Warning on Line"),sound:Ii.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:A("accessibility.signals.lineHasWarning","Warning on Line"),settingsKey:"accessibility.signals.lineHasWarning"}),Wt.foldedArea=Wt.register({name:A("accessibilitySignals.lineHasFoldedArea.name","Folded Area on Line"),sound:Ii.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:A("accessibility.signals.lineHasFoldedArea","Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"}),Wt.break=Wt.register({name:A("accessibilitySignals.lineHasBreakpoint.name","Breakpoint on Line"),sound:Ii.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:A("accessibility.signals.lineHasBreakpoint","Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"}),Wt.inlineSuggestion=Wt.register({name:A("accessibilitySignals.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:Ii.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),Wt.terminalQuickFix=Wt.register({name:A("accessibilitySignals.terminalQuickFix.name","Terminal Quick Fix"),sound:Ii.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:A("accessibility.signals.terminalQuickFix","Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"}),Wt.onDebugBreak=Wt.register({name:A("accessibilitySignals.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:Ii.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:A("accessibility.signals.onDebugBreak","Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"}),Wt.noInlayHints=Wt.register({name:A("accessibilitySignals.noInlayHints","No Inlay Hints on Line"),sound:Ii.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:A("accessibility.signals.noInlayHints","No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"}),Wt.taskCompleted=Wt.register({name:A("accessibilitySignals.taskCompleted","Task Completed"),sound:Ii.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:A("accessibility.signals.taskCompleted","Task Completed"),settingsKey:"accessibility.signals.taskCompleted"}),Wt.taskFailed=Wt.register({name:A("accessibilitySignals.taskFailed","Task Failed"),sound:Ii.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:A("accessibility.signals.taskFailed","Task Failed"),settingsKey:"accessibility.signals.taskFailed"}),Wt.terminalCommandFailed=Wt.register({name:A("accessibilitySignals.terminalCommandFailed","Terminal Command Failed"),sound:Ii.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:A("accessibility.signals.terminalCommandFailed","Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"}),Wt.terminalCommandSucceeded=Wt.register({name:A("accessibilitySignals.terminalCommandSucceeded","Terminal Command Succeeded"),sound:Ii.success,announcementMessage:A("accessibility.signals.terminalCommandSucceeded","Command Succeeded"),settingsKey:"accessibility.signals.terminalCommandSucceeded"}),Wt.terminalBell=Wt.register({name:A("accessibilitySignals.terminalBell","Terminal Bell"),sound:Ii.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:A("accessibility.signals.terminalBell","Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"}),Wt.notebookCellCompleted=Wt.register({name:A("accessibilitySignals.notebookCellCompleted","Notebook Cell Completed"),sound:Ii.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:A("accessibility.signals.notebookCellCompleted","Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"}),Wt.notebookCellFailed=Wt.register({name:A("accessibilitySignals.notebookCellFailed","Notebook Cell Failed"),sound:Ii.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:A("accessibility.signals.notebookCellFailed","Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"}),Wt.diffLineInserted=Wt.register({name:A("accessibilitySignals.diffLineInserted","Diff Line Inserted"),sound:Ii.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),Wt.diffLineDeleted=Wt.register({name:A("accessibilitySignals.diffLineDeleted","Diff Line Deleted"),sound:Ii.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),Wt.diffLineModified=Wt.register({name:A("accessibilitySignals.diffLineModified","Diff Line Modified"),sound:Ii.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),Wt.chatRequestSent=Wt.register({name:A("accessibilitySignals.chatRequestSent","Chat Request Sent"),sound:Ii.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:A("accessibility.signals.chatRequestSent","Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"}),Wt.chatResponseReceived=Wt.register({name:A("accessibilitySignals.chatResponseReceived","Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[Ii.chatResponseReceived1,Ii.chatResponseReceived2,Ii.chatResponseReceived3,Ii.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),Wt.progress=Wt.register({name:A("accessibilitySignals.progress","Progress"),sound:Ii.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.progress",announcementMessage:A("accessibility.signals.progress","Progress"),settingsKey:"accessibility.signals.progress"}),Wt.clear=Wt.register({name:A("accessibilitySignals.clear","Clear"),sound:Ii.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:A("accessibility.signals.clear","Clear"),settingsKey:"accessibility.signals.clear"}),Wt.save=Wt.register({name:A("accessibilitySignals.save","Save"),sound:Ii.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:A("accessibility.signals.save","Save"),settingsKey:"accessibility.signals.save"}),Wt.format=Wt.register({name:A("accessibilitySignals.format","Format"),sound:Ii.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:A("accessibility.signals.format","Format"),settingsKey:"accessibility.signals.format"}),Wt.voiceRecordingStarted=Wt.register({name:A("accessibilitySignals.voiceRecordingStarted","Voice Recording Started"),sound:Ii.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),Wt.voiceRecordingStopped=Wt.register({name:A("accessibilitySignals.voiceRecordingStopped","Voice Recording Stopped"),sound:Ii.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"});let Qu=Wt;class nft extends Ne{constructor(e,t=[]){super(),this.logger=new yJe([e,...t]),this._register(e.onDidChangeLogLevel(i=>this.setLevel(i)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(e){this.logger.setLevel(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}warn(e,...t){this.logger.warn(e,...t)}error(e,...t){this.logger.error(e,...t)}}const ift=[];function rft(){return ift.slice(0)}class sft{getParseResult(e){}}var Pd=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ar=function(n,e){return function(t,i){e(t,i,n)}};class oft{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new ge}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let x$=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new PXe(new oft(t))):Promise.reject(new Error("Model not found"))}};x$=Pd([ar(0,No)],x$);const $P=class $P{show(){return $P.NULL_PROGRESS_RUNNER}async showWhile(e,t){await e}};$P.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};let D$=$P;class aft{withProgress(e,t,i){return t({report:()=>{}})}}class lft{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class cft{async confirm(e){return{confirmed:this.doConfirm(e.message,e.detail),checkboxChecked:!1}}doConfirm(e,t){let i=e;return t&&(i=i+`

`+t),fi.confirm(i)}async prompt(e){var r;let t;if(this.doConfirm(e.message,e.detail)){const s=[...e.buttons??[]];e.cancelButton&&typeof e.cancelButton!="string"&&typeof e.cancelButton!="boolean"&&s.push(e.cancelButton),t=await((r=s[0])==null?void 0:r.run({checkboxChecked:!1}))}return{result:t}}async error(e,t){await this.prompt({type:Tr.Error,message:e,detail:t})}}const W0=class W0{info(e){return this.notify({severity:Tr.Info,message:e})}warn(e){return this.notify({severity:Tr.Warning,message:e})}error(e){return this.notify({severity:Tr.Error,message:e})}notify(e){switch(e.severity){case Tr.Error:console.error(e.message);break;case Tr.Warning:console.warn(e.message);break;default:console.log(e.message);break}return W0.NO_OP}prompt(e,t,i,r){return W0.NO_OP}status(e,t){return Ne.None}};W0.NO_OP=new Xtt;let P$=W0,k$=class{constructor(e){this._onWillExecuteCommand=new ge,this._onDidExecuteCommand=new ge,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=na.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const r=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(r)}catch(r){return Promise.reject(r)}}};k$=Pd([ar(0,oi)],k$);let NC=class extends got{constructor(e,t,i,r,s,o){super(e,t,i,r,s),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const a=f=>{const m=new at;m.add(we(f,Ve.KEY_DOWN,g=>{const _=new wi(g);this._dispatch(_,_.target)&&(_.preventDefault(),_.stopPropagation())})),m.add(we(f,Ve.KEY_UP,g=>{const _=new wi(g);this._singleModifierDispatch(_,_.target)&&_.preventDefault()})),this._domNodeListeners.push(new uft(f,m))},l=f=>{for(let m=0;m<this._domNodeListeners.length;m++){const g=this._domNodeListeners[m];g.domNode===f&&(this._domNodeListeners.splice(m,1),g.dispose())}},c=f=>{f.getOption(61)||a(f.getContainerDomNode())},u=f=>{f.getOption(61)||l(f.getContainerDomNode())};this._register(o.onCodeEditorAdd(c)),this._register(o.onCodeEditorRemove(u)),o.listCodeEditors().forEach(c);const d=f=>{a(f.getContainerDomNode())},h=f=>{l(f.getContainerDomNode())};this._register(o.onDiffEditorAdd(d)),this._register(o.onDiffEditorRemove(h)),o.listDiffEditors().forEach(d)}addDynamicKeybinding(e,t,i,r){return dd(na.registerCommand(e,i),this.addDynamicKeybindings([{keybinding:t,command:e,when:r}]))}addDynamicKeybindings(e){const t=e.map(i=>({keybinding:h6(i.keybinding,rc),command:i.command??null,commandArgs:i.commandArgs,when:i.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}));return this._dynamicKeybindings=this._dynamicKeybindings.concat(t),this.updateResolver(),Ht(()=>{for(let i=0;i<this._dynamicKeybindings.length;i++)if(this._dynamicKeybindings[i]===t[0]){this._dynamicKeybindings.splice(i,t.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(vA.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new e0(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return fi.document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let r=0;for(const s of e){const o=s.when||void 0,a=s.keybinding;if(!a)i[r++]=new Rce(void 0,s.command,s.commandArgs,o,t,null,!1);else{const l=V1.resolveKeybinding(a,rc);for(const c of l)i[r++]=new Rce(c,s.command,s.commandArgs,o,t,null,!1)}}return i}resolveKeyboardEvent(e){const t=new R_(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new V1([t],rc)}};NC=Pd([ar(0,qn),ar(1,el),ar(2,aE),ar(3,yu),ar(4,Cu),ar(5,Fr)],NC);class uft extends Ne{constructor(e,t){super(),this.domNode=e,this._register(t)}}function ede(n){return n&&typeof n=="object"&&(!n.overrideIdentifier||typeof n.overrideIdentifier=="string")&&(!n.resource||n.resource instanceof en)}let Vx=class{constructor(e){this.logService=e,this._onDidChangeConfiguration=new ge,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const t=new eft(e);this._configuration=new i2(t.reload(),rs.createEmptyModel(e),rs.createEmptyModel(e),rs.createEmptyModel(e),rs.createEmptyModel(e),rs.createEmptyModel(e),new Xa,rs.createEmptyModel(e),new Xa,e),t.dispose()}getValue(e,t){const i=typeof e=="string"?e:void 0,r=ede(e)?e:ede(t)?t:{};return this._configuration.getValue(i,r,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const r of e){const[s,o]=r;this.getValue(s)!==o&&(this._configuration.updateValue(s,o),i.push(s))}if(i.length>0){const r=new cot({keys:i,overrides:[]},t,this._configuration,void 0,this.logService);r.source=8,this._onDidChangeConfiguration.fire(r)}return Promise.resolve()}updateValue(e,t,i,r){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}};Vx=Pd([ar(0,Cu)],Vx);let M$=class{constructor(e,t,i){this.configurationService=e,this.modelService=t,this.languageService=i,this._onDidChangeConfiguration=new ge,this.configurationService.onDidChangeConfiguration(r=>{this._onDidChangeConfiguration.fire({affectedKeys:r.affectedKeys,affectsConfiguration:(s,o)=>r.affectsConfiguration(o)})})}getValue(e,t,i){const r=Ee.isIPosition(t)?t:null,s=r?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0,o=e?this.getLanguage(e,r):void 0;return typeof s>"u"?this.configurationService.getValue({resource:e,overrideIdentifier:o}):this.configurationService.getValue(s,{resource:e,overrideIdentifier:o})}getLanguage(e,t){const i=this.modelService.getModel(e);return i?t?i.getLanguageIdAtPosition(t.lineNumber,t.column):i.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(e)}};M$=Pd([ar(0,Zi),ar(1,No),ar(2,Zr)],M$);let F$=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:Zo||bn?`
`:`\r
`}};F$=Pd([ar(0,Zi)],F$);class dft{publicLog2(){}}const $0=class $0{constructor(){const e=en.from({scheme:$0.SCHEME,authority:"model",path:"/"});this.workspace={id:Not,folders:[new Rot({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===$0.SCHEME?this.workspace.folders[0]:null}};$0.SCHEME="inmemory";let B$=$0;function Wx(n,e,t){if(!e||!(n instanceof Vx))return;const i=[];Object.keys(e).forEach(r=>{iot(r)&&i.push([`editor.${r}`,e[r]]),t&&rot(r)&&i.push([`diffEditor.${r}`,e[r]])}),i.length>0&&n.updateValues(i)}let U$=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}async apply(e,t){const i=Array.isArray(e)?e:Lq.convert(e),r=new Map;for(const a of i){if(!(a instanceof Zm))throw new Error("bad edit - only text edits are supported");const l=this._modelService.getModel(a.resource);if(!l)throw new Error("bad edit - model not found");if(typeof a.versionId=="number"&&l.getVersionId()!==a.versionId)throw new Error("bad state - model changed in the meantime");let c=r.get(l);c||(c=[],r.set(l,c)),c.push(oot.replaceMove(ce.lift(a.textEdit.range),a.textEdit.text))}let s=0,o=0;for(const[a,l]of r)a.pushStackElement(),a.pushEditOperations([],l,()=>[]),a.pushStackElement(),o+=1,s+=l.length;return{ariaSummary:a6(R8.bulkEditServiceSummary,s,o),isApplied:s>0}}};U$=Pd([ar(0,No)],U$);class hft{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}getUriBasenameLabel(e){return Aq(e)}}let H$=class extends Xst{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const r=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();r&&(t=r.getContainerDomNode())}return super.showContextView(e,t,i)}};H$=Pd([ar(0,gp),ar(1,Fr)],H$);class fft{constructor(){this._neverEmitter=new ge,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class gft extends x8{constructor(){super()}}class pft extends nft{constructor(){super(new CJe)}}let V$=class extends W8{constructor(e,t,i,r,s,o){super(e,t,i,r,s,o),this.configure({blockMouse:!1})}};V$=Pd([ar(0,aE),ar(1,yu),ar(2,RA),ar(3,Rs),ar(4,oE),ar(5,qn)],V$);const W$={amdModuleId:"vs/editor/common/services/editorSimpleWorker",esmModuleLocation:void 0,label:"editorWorkerService"};let $$=class extends $6{constructor(e,t,i,r,s){super(W$,e,t,i,r,s)}};$$=Pd([ar(0,No),ar(1,lq),ar(2,Cu),ar(3,Od),ar(4,gi)],$$);class mft{async playSignal(e,t){}}Pn(Cu,pft,0);Pn(Zi,Vx,0);Pn(lq,M$,0);Pn(Awe,F$,0);Pn(Aot,B$,0);Pn(Sot,hft,0);Pn(aE,dft,0);Pn(Owe,cft,0);Pn(Fwe,lft,0);Pn(yu,P$,0);Pn(dE,Jf,0);Pn(Zr,gft,0);Pn(Ec,Mht,0);Pn(No,n$,0);Pn(aRe,Y8,0);Pn(qn,O$,0);Pn(Cot,aft,0);Pn(xq,D$,0);Pn(d2,Hat,0);Pn(DA,$$,0);Pn(eot,U$,0);Pn(Lot,fft,0);Pn(kM,x$,0);Pn(bu,T$,0);Pn(Dd,Ydt,0);Pn(el,k$,0);Pn(Rs,NC,0);Pn(g2,C$,0);Pn(RA,H$,0);Pn(IA,j8,0);Pn(vX,N$,0);Pn(hf,V$,0);Pn(oE,w$,0);Pn(b2,mft,0);Pn(wRe,sft,0);var gt;(function(n){const e=new Ry;for(const[l,c]of Jae())e.set(l,c);const t=new Hx(e,!0);e.set(oi,t);function i(l){r||o({});const c=e.get(l);if(!c)throw new Error("Missing service "+l);return c instanceof Xu?t.invokeFunction(u=>u.get(l)):c}n.get=i;let r=!1;const s=new ge;function o(l){if(r)return t;r=!0;for(const[u,d]of Jae())e.get(u)||e.set(u,d);for(const u in l)if(l.hasOwnProperty(u)){const d=Cn(u);e.get(d)instanceof Xu&&e.set(d,l[u])}const c=rft();for(const u of c)try{t.createInstance(u)}catch(d){hi(d)}return s.fire(),t}n.initialize=o;function a(l){if(r)return l();const c=new at,u=c.add(s.event(()=>{u.dispose(),c.add(l())}));return c}n.withServices=a})(gt||(gt={}));function _ft(n,e){return new Eft(n,e)}class Eft extends JO{constructor(e,t){const i={amdModuleId:W$.amdModuleId,esmModuleLocation:W$.esmModuleLocation,label:t.label};super(i,t.keepIdleModels||!1,e),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?t7(this._foreignModuleHost):[];return e.$loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;const r=(a,l)=>e.$fmr(a,l),s=(a,l)=>function(){const c=Array.prototype.slice.call(arguments,0);return l(a,c)},o={};for(const a of i)o[a]=s(a,r);return o})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this.workerWithSyncedResources(e).then(t=>this.getProxy())}}const CX={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};class oc{constructor(e,t,i,r){this.startColumn=e,this.endColumn=t,this.className=i,this.type=r,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length,r=t.length;if(i!==r)return!1;for(let s=0;s<i;s++)if(!oc._equals(e[s],t[s]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;const r=t+1,s=i+1,o=i-t,a=[];let l=0;for(const c of e)c.endColumn<=r||c.startColumn>=s||(a[l++]=new oc(Math.max(1,c.startColumn-r+1),Math.min(o+1,c.endColumn-r+1),c.className,c.type));return a}static filter(e,t,i,r){if(e.length===0)return[];const s=[];let o=0;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.range;if(u.endLineNumber<t||u.startLineNumber>t||u.isEmpty()&&(c.type===0||c.type===3))continue;const d=u.startLineNumber===t?u.startColumn:i,h=u.endLineNumber===t?u.endColumn:r;s[o++]=new oc(d,h,c.inlineClassName,c.type)}return s}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=oc._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}}class tde{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=r}}class $x{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,r=e.length;i<r;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let r=0;for(;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;i.push(new tde(t,this.stopOffsets[r],this.classNames.join(" "),$x._metadata(this.metadata))),t=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.metadata.splice(0,r+1),this.count-=r+1}return this.count>0&&t<e&&(i.push(new tde(t,e-1,this.classNames.join(" "),$x._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let r=0;r<this.count;r++)if(this.stopOffsets[r]>=e){this.stopOffsets.splice(r,0,e),this.classNames.splice(r,0,t),this.metadata.splice(r,0,i);break}this.count++}}class vft{static normalize(e,t){if(t.length===0)return[];const i=[],r=new $x;let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];let c=l.startColumn,u=l.endColumn;const d=l.className,h=l.type===1?2:l.type===2?4:0;if(c>1){const g=e.charCodeAt(c-2);Kr(g)&&c--}if(u>1){const g=e.charCodeAt(u-2);Kr(g)&&u--}const f=c-1,m=u-2;s=r.consumeLowerThan(f,s,i),r.count===0&&(s=f),r.insert(m,d,h)}return r.consumeLowerThan(1073741824,s,i),i}}class qr{constructor(e,t,i,r){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=r,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class lIe{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class Iy{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f,m,g,_,v,S,C){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=r,this.isBasicASCII=s,this.containsRTL=o,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(oc.compare),this.tabSize=u,this.startVisibleColumn=d,this.spaceWidth=h,this.stopRenderingLineAfter=g,this.renderWhitespace=_==="all"?4:_==="boundary"?1:_==="selection"?2:_==="trailing"?3:0,this.renderControlCharacters=v,this.fontLigatures=S,this.selectionsOnLine=C&&C.sort((w,I)=>w.startOffset<I.startOffset?-1:1);const y=Math.abs(m-h),b=Math.abs(f-h);y<b?(this.renderSpaceWidth=m,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=f,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&oc.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class cIe{constructor(e,t){this.partIndex=e,this.charIndex=t}}class Zu{static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(e,t,i,r){const s=(t<<16|i<<0)>>>0;this._data[e-1]=s,this._horizontalOffset[e-1]=r}getHorizontalOffset(e){return this._horizontalOffset.length===0?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=Zu.getPartIndex(t),r=Zu.getCharIndex(t);return new cIe(i,r)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;const r=(e<<16|i<<0)>>>0;let s=0,o=this.length-1;for(;s+1<o;){const g=s+o>>>1,_=this._data[g];if(_===r)return g;_>r?o=g:s=g}if(s===o)return s;const a=this._data[s],l=this._data[o];if(a===r)return s;if(l===r)return o;const c=Zu.getPartIndex(a),u=Zu.getCharIndex(a),d=Zu.getPartIndex(l);let h;c!==d?h=t:h=Zu.getCharIndex(l);const f=i-u,m=h-i;return f<=m?s:o}}class G${constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function yX(n,e){if(n.lineContent.length===0){if(n.lineDecorations.length>0){e.appendString("<span>");let t=0,i=0,r=0;for(const o of n.lineDecorations)(o.type===1||o.type===2)&&(e.appendString('<span class="'),e.appendString(o.className),e.appendString('"></span>'),o.type===1&&(r|=1,t++),o.type===2&&(r|=2,i++));e.appendString("</span>");const s=new Zu(1,t+i);return s.setColumnInfo(1,t,0,0),new G$(s,!1,r)}return e.appendString("<span><span></span></span>"),new G$(new Zu(0,0),!1,0)}return Ift(yft(n),e)}class Sft{constructor(e,t,i,r){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=r}}function T2(n){const e=new jM(1e4),t=yX(n,e);return new Sft(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class Cft{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f,m,g,_){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=r,this.isOverflowing=s,this.overflowingCharCount=o,this.parts=a,this.containsForeignElements=l,this.fauxIndentLength=c,this.tabSize=u,this.startVisibleColumn=d,this.containsRTL=h,this.spaceWidth=f,this.renderSpaceCharCode=m,this.renderWhitespace=g,this.renderControlCharacters=_}}function yft(n){const e=n.lineContent;let t,i,r;n.stopRenderingLineAfter!==-1&&n.stopRenderingLineAfter<e.length?(t=!0,i=e.length-n.stopRenderingLineAfter,r=n.stopRenderingLineAfter):(t=!1,i=0,r=e.length);let s=bft(e,n.containsRTL,n.lineTokens,n.fauxIndentLength,r);n.renderControlCharacters&&!n.isBasicASCII&&(s=wft(e,s)),(n.renderWhitespace===4||n.renderWhitespace===1||n.renderWhitespace===2&&n.selectionsOnLine||n.renderWhitespace===3&&!n.continuesWithWrappedLine)&&(s=Aft(n,e,r,s));let o=0;if(n.lineDecorations.length>0){for(let a=0,l=n.lineDecorations.length;a<l;a++){const c=n.lineDecorations[a];c.type===3||c.type===1?o|=1:c.type===2&&(o|=2)}s=Rft(e,r,s,n.lineDecorations)}return n.containsRTL||(s=Tft(e,s,!n.isBasicASCII||n.fontLigatures)),new Cft(n.useMonospaceOptimizations,n.canUseHalfwidthRightwardsArrow,e,r,t,i,s,o,n.fauxIndentLength,n.tabSize,n.startVisibleColumn,n.containsRTL,n.spaceWidth,n.renderSpaceCharCode,n.renderWhitespace,n.renderControlCharacters)}function bft(n,e,t,i,r){const s=[];let o=0;i>0&&(s[o++]=new qr(i,"",0,!1));let a=i;for(let l=0,c=t.getCount();l<c;l++){const u=t.getEndOffset(l);if(u<=i)continue;const d=t.getClassName(l);if(u>=r){const f=e?A1(n.substring(a,r)):!1;s[o++]=new qr(r,d,0,f);break}const h=e?A1(n.substring(a,u)):!1;s[o++]=new qr(u,d,0,h),a=u}return s}function Tft(n,e,t){let i=0;const r=[];let s=0;if(t)for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.endIndex;if(i+50<c){const u=l.type,d=l.metadata,h=l.containsRTL;let f=-1,m=i;for(let g=i;g<c;g++)n.charCodeAt(g)===32&&(f=g),f!==-1&&g-m>=50&&(r[s++]=new qr(f+1,u,d,h),m=f+1,f=-1);m!==c&&(r[s++]=new qr(c,u,d,h))}else r[s++]=l;i=c}else for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.endIndex,u=c-i;if(u>50){const d=l.type,h=l.metadata,f=l.containsRTL,m=Math.ceil(u/50);for(let g=1;g<m;g++){const _=i+g*50;r[s++]=new qr(_,d,h,f)}r[s++]=new qr(c,d,h,f)}else r[s++]=l;i=c}return r}function uIe(n){return n<32?n!==9:n===127||n>=8234&&n<=8238||n>=8294&&n<=8297||n>=8206&&n<=8207||n===1564}function wft(n,e){const t=[];let i=new qr(0,"",0,!1),r=0;for(const s of e){const o=s.endIndex;for(;r<o;r++){const a=n.charCodeAt(r);uIe(a)&&(r>i.endIndex&&(i=new qr(r,s.type,s.metadata,s.containsRTL),t.push(i)),i=new qr(r+1,"mtkcontrol",s.metadata,!1),t.push(i))}r>i.endIndex&&(i=new qr(o,s.type,s.metadata,s.containsRTL),t.push(i))}return t}function Aft(n,e,t,i){const r=n.continuesWithWrappedLine,s=n.fauxIndentLength,o=n.tabSize,a=n.startVisibleColumn,l=n.useMonospaceOptimizations,c=n.selectionsOnLine,u=n.renderWhitespace===1,d=n.renderWhitespace===3,h=n.renderSpaceWidth!==n.spaceWidth,f=[];let m=0,g=0,_=i[g].type,v=i[g].containsRTL,S=i[g].endIndex;const C=i.length;let y=!1,b=Sa(e),w;b===-1?(y=!0,b=t,w=t):w=tE(e);let I=!1,O=0,x=c&&c[O],k=a%o;for(let M=s;M<t;M++){const W=e.charCodeAt(M);x&&M>=x.endOffset&&(O++,x=c&&c[O]);let F;if(M<b||M>w)F=!0;else if(W===9)F=!0;else if(W===32)if(u)if(I)F=!0;else{const H=M+1<t?e.charCodeAt(M+1):0;F=H===32||H===9}else F=!0;else F=!1;if(F&&c&&(F=!!x&&x.startOffset<=M&&x.endOffset>M),F&&d&&(F=y||M>w),F&&v&&M>=b&&M<=w&&(F=!1),I){if(!F||!l&&k>=o){if(h){const H=m>0?f[m-1].endIndex:s;for(let V=H+1;V<=M;V++)f[m++]=new qr(V,"mtkw",1,!1)}else f[m++]=new qr(M,"mtkw",1,!1);k=k%o}}else(M===S||F&&M>s)&&(f[m++]=new qr(M,_,0,v),k=k%o);for(W===9?k=o:Kg(W)?k+=2:k++,I=F;M===S&&(g++,g<C);)_=i[g].type,v=i[g].containsRTL,S=i[g].endIndex}let P=!1;if(I)if(r&&u){const M=t>0?e.charCodeAt(t-1):0,W=t>1?e.charCodeAt(t-2):0;M===32&&W!==32&&W!==9||(P=!0)}else P=!0;if(P)if(h){const M=m>0?f[m-1].endIndex:s;for(let W=M+1;W<=t;W++)f[m++]=new qr(W,"mtkw",1,!1)}else f[m++]=new qr(t,"mtkw",1,!1);else f[m++]=new qr(t,_,0,v);return f}function Rft(n,e,t,i){i.sort(oc.compare);const r=vft.normalize(n,i),s=r.length;let o=0;const a=[];let l=0,c=0;for(let d=0,h=t.length;d<h;d++){const f=t[d],m=f.endIndex,g=f.type,_=f.metadata,v=f.containsRTL;for(;o<s&&r[o].startOffset<m;){const S=r[o];if(S.startOffset>c&&(c=S.startOffset,a[l++]=new qr(c,g,_,v)),S.endOffset+1<=m)c=S.endOffset+1,a[l++]=new qr(c,g+" "+S.className,_|S.metadata,v),o++;else{c=m,a[l++]=new qr(c,g+" "+S.className,_|S.metadata,v);break}}m>c&&(c=m,a[l++]=new qr(c,g,_,v))}const u=t[t.length-1].endIndex;if(o<s&&r[o].startOffset===u)for(;o<s&&r[o].startOffset===u;){const d=r[o];a[l++]=new qr(c,d.className,d.metadata,!1),o++}return a}function Ift(n,e){const t=n.fontIsMonospace,i=n.canUseHalfwidthRightwardsArrow,r=n.containsForeignElements,s=n.lineContent,o=n.len,a=n.isOverflowing,l=n.overflowingCharCount,c=n.parts,u=n.fauxIndentLength,d=n.tabSize,h=n.startVisibleColumn,f=n.containsRTL,m=n.spaceWidth,g=n.renderSpaceCharCode,_=n.renderWhitespace,v=n.renderControlCharacters,S=new Zu(o+1,c.length);let C=!1,y=0,b=h,w=0,I=0,O=0;f?e.appendString('<span dir="ltr">'):e.appendString("<span>");for(let x=0,k=c.length;x<k;x++){const P=c[x],M=P.endIndex,W=P.type,F=P.containsRTL,H=_!==0&&P.isWhitespace(),V=H&&!t&&(W==="mtkw"||!r),Y=y===M&&P.isPseudoAfter();if(w=0,e.appendString("<span "),F&&e.appendString('style="unicode-bidi:isolate" '),e.appendString('class="'),e.appendString(V?"mtkz":W),e.appendASCIICharCode(34),H){let $=0;{let K=y,re=b;for(;K<M;K++){const J=(s.charCodeAt(K)===9?d-re%d:1)|0;$+=J,K>=u&&(re+=J)}}for(V&&(e.appendString(' style="width:'),e.appendString(String(m*$)),e.appendString('px"')),e.appendASCIICharCode(62);y<M;y++){S.setColumnInfo(y+1,x-O,w,I),O=0;const K=s.charCodeAt(y);let re,G;if(K===9){re=d-b%d|0,G=re,!i||G>1?e.appendCharCode(8594):e.appendCharCode(65515);for(let J=2;J<=G;J++)e.appendCharCode(160)}else re=2,G=1,e.appendCharCode(g),e.appendCharCode(8204);w+=re,I+=G,y>=u&&(b+=G)}}else for(e.appendASCIICharCode(62);y<M;y++){S.setColumnInfo(y+1,x-O,w,I),O=0;const $=s.charCodeAt(y);let K=1,re=1;switch($){case 9:K=d-b%d,re=K;for(let G=1;G<=K;G++)e.appendCharCode(160);break;case 32:e.appendCharCode(160);break;case 60:e.appendString("&lt;");break;case 62:e.appendString("&gt;");break;case 38:e.appendString("&amp;");break;case 0:v?e.appendCharCode(9216):e.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.appendCharCode(65533);break;default:Kg($)&&re++,v&&$<32?e.appendCharCode(9216+$):v&&$===127?e.appendCharCode(9249):v&&uIe($)?(e.appendString("[U+"),e.appendString(Nft($)),e.appendString("]"),K=8,re=K):e.appendCharCode($)}w+=K,I+=re,y>=u&&(b+=re)}Y?O++:O=0,y>=o&&!C&&P.isPseudoAfter()&&(C=!0,S.setColumnInfo(y+1,x,w,I)),e.appendString("</span>")}return C||S.setColumnInfo(o+1,c.length-1,w,I),a&&(e.appendString('<span class="mtkoverflow">'),e.appendString(A("showMore","Show more ({0})",Lft(l))),e.appendString("</span>")),e.appendString("</span>"),new G$(S,f,r)}function Nft(n){return n.toString(16).toUpperCase().padStart(4,"0")}function Lft(n){return n<1024?A("overflow.chars","{0} chars",n):n<1024*1024?`${(n/1024).toFixed(1)} KB`:`${(n/1024/1024).toFixed(1)} MB`}let nde=class{constructor(e,t,i,r){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=r|0}};class Oft{constructor(e,t){this.tabSize=e,this.data=t}}class bX{constructor(e,t,i,r,s,o,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=r,this.startVisibleColumn=s,this.tokens=o,this.inlineDecorations=a}}class Za{constructor(e,t,i,r,s,o,a,l,c,u){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=r,this.isBasicASCII=Za.isBasicASCII(i,o),this.containsRTL=Za.containsRTL(i,this.isBasicASCII,s),this.tokens=a,this.inlineDecorations=l,this.tabSize=c,this.startVisibleColumn=u}static isBasicASCII(e,t){return t?BK(e):!0}static containsRTL(e,t,i){return!t&&i?A1(e):!1}}class g0{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class xft{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=r}toInlineDecoration(e){return new g0(new ce(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class dIe{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class ew{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static compareByRenderingProps(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}static equals(e,t){return e.color===t.color&&e.zIndex===t.zIndex&&Mr(e.data,t.data)}static equalsArr(e,t){return Mr(e,t,ew.equals)}}function Dft(n){return Array.isArray(n)}function Pft(n){return!Dft(n)}function hIe(n){return typeof n=="string"}function ide(n){return!hIe(n)}function bm(n){return!n}function jh(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function rde(n){return n.replace(/[&<>'"_]/g,"-")}function kft(n,e){console.log(`${n.languageId}: ${e}`)}function bi(n,e){return new Error(`${n.languageId}: ${e}`)}function lg(n,e,t,i,r){const s=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return e.replace(s,function(a,l,c,u,d,h,f,m,g){return bm(c)?bm(u)?!bm(d)&&d<i.length?jh(n,i[d]):!bm(f)&&n&&typeof n[f]=="string"?n[f]:(o===null&&(o=r.split("."),o.unshift(r)),!bm(h)&&h<o.length?jh(n,o[h]):""):jh(n,t):"$"})}function Mft(n,e,t){const i=/\$[sS](\d\d?)/g;let r=null;return e.replace(i,function(s,o){return r===null&&(r=t.split("."),r.unshift(t)),!bm(o)&&o<r.length?jh(n,r[o]):""})}function EN(n,e){let t=e;for(;t&&t.length>0;){const i=n.tokenizer[t];if(i)return i;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return null}function Fft(n,e){let t=e;for(;t&&t.length>0;){if(n.stateNames[t])return!0;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return!1}var Bft=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Uft=function(n,e){return function(t,i){e(t,i,n)}},z$;const fIe=5,GP=class GP{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new $S(e,t);let i=$S.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let r=this._entries[i];return r||(r=new $S(e,t),this._entries[i]=r,r)}};GP._INSTANCE=new GP(fIe);let tw=GP;class $S{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return $S._equals(this,e)}push(e){return tw.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return tw.create(this.parent,e)}}class Yv{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new Yv(this.languageId,this.state)}}const zP=class zP{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(t!==null)return new p0(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new p0(e,t);const i=$S.getStackElementId(e);let r=this._entries[i];return r||(r=new p0(e,null),this._entries[i]=r,r)}};zP._INSTANCE=new zP(fIe);let cg=zP;class p0{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:cg.create(this.stack,this.embeddedLanguageData)}equals(e){return!(e instanceof p0)||!this.stack.equals(e.stack)?!1:this.embeddedLanguageData===null&&e.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||e.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(e.embeddedLanguageData)}}class Hft{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new w1(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,r){const s=i.languageId,o=i.state,a=gr.get(s);if(!a)return this.enterLanguage(s),this.emit(r,""),o;const l=a.tokenize(e,t,o);if(r!==0)for(const c of l.tokens)this._tokens.push(new w1(c.offset+r,c.type,c.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new xK(this._tokens,e)}}class Gx{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t)|1024;this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const r=e!==null?e.length:0,s=t.length,o=i!==null?i.length:0;if(r===0&&s===0&&o===0)return new Uint32Array(0);if(r===0&&s===0)return i;if(s===0&&o===0)return e;const a=new Uint32Array(r+s+o);e!==null&&a.set(e);for(let l=0;l<s;l++)a[r+l]=t[l];return i!==null&&a.set(i,r+s),a}nestedLanguageTokenize(e,t,i,r){const s=i.languageId,o=i.state,a=gr.get(s);if(!a)return this.enterLanguage(s),this.emit(r,""),o;const l=a.tokenizeEncoded(e,t,o);if(r!==0)for(let c=0,u=l.tokens.length;c<u;c+=2)l.tokens[c]+=r;return this._prependTokens=Gx._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new NM(Gx._merge(this._prependTokens,this._tokens,null),e)}}let nw=z$=class extends Ne{constructor(e,t,i,r,s){super(),this._configurationService=s,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=r,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._register(gr.onDidChange(a=>{if(o)return;let l=!1;for(let c=0,u=a.changedLanguages.length;c<u;c++){const d=a.changedLanguages[c];if(this._embeddedLanguages[d]){l=!0;break}}l&&(o=!0,gr.handleChange([this._languageId]),o=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const e=[];for(const t in this._embeddedLanguages){const i=gr.get(t);if(i){if(i instanceof z$){const r=i.getLoadStatus();r.loaded===!1&&e.push(r.promise)}continue}gr.isResolved(t)||e.push(gr.getOrCreate(t))}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){const e=tw.create(null,this._lexer.start);return cg.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return NAe(this._languageId,i);const r=new Hft,s=this._tokenize(e,t,i,r);return r.finalize(s)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return Nq(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);const r=new Gx(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),s=this._tokenize(e,t,i,r);return r.finalize(s)}_tokenize(e,t,i,r){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,r):this._myTokenize(e,t,i,0,r)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=EN(this._lexer,t.stack.state),!i))throw bi(this._lexer,"tokenizer state is not defined: "+t.stack.state);let r=-1,s=!1;for(const o of i){if(!ide(o.action)||o.action.nextEmbedded!=="@pop")continue;s=!0;let a=o.resolveRegex(t.stack.state);const l=a.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){const u=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),u)}const c=e.search(a);c===-1||c!==0&&o.matchOnlyAtLineStart||(r===-1||c<r)&&(r=c)}if(!s)throw bi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return r}_nestedTokenize(e,t,i,r,s){const o=this._findLeavingNestedLanguageOffset(e,i);if(o===-1){const c=s.nestedLanguageTokenize(e,t,i.embeddedLanguageData,r);return cg.create(i.stack,new Yv(i.embeddedLanguageData.languageId,c))}const a=e.substring(0,o);a.length>0&&s.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,r);const l=e.substring(o);return this._myTokenize(l,t,i,r+o,s)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,r,s){s.enterLanguage(this._languageId);const o=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length;let c=i.embeddedLanguageData,u=i.stack,d=0,h=null,f=!0;for(;f||d<l;){const m=d,g=u.depth,_=h?h.groups.length:0,v=u.state;let S=null,C=null,y=null,b=null,w=null;if(h){S=h.matches;const x=h.groups.shift();C=x.matched,y=x.action,b=h.rule,h.groups.length===0&&(h=null)}else{if(!f&&d>=l)break;f=!1;let x=this._lexer.tokenizer[v];if(!x&&(x=EN(this._lexer,v),!x))throw bi(this._lexer,"tokenizer state is not defined: "+v);const k=a.substr(d);for(const P of x)if((d===0||!P.matchOnlyAtLineStart)&&(S=k.match(P.resolveRegex(v)),S)){C=S[0],y=P.action;break}}if(S||(S=[""],C=""),y||(d<l&&(S=[a.charAt(d)],C=S[0]),y=this._lexer.defaultToken),C===null)break;for(d+=C.length;Pft(y)&&ide(y)&&y.test;)y=y.test(C,S,v,d===l);let I=null;if(typeof y=="string"||Array.isArray(y))I=y;else if(y.group)I=y.group;else if(y.token!==null&&y.token!==void 0){if(y.tokenSubst?I=lg(this._lexer,y.token,C,S,v):I=y.token,y.nextEmbedded)if(y.nextEmbedded==="@pop"){if(!c)throw bi(this._lexer,"cannot pop embedded language if not inside one");c=null}else{if(c)throw bi(this._lexer,"cannot enter embedded language from within an embedded language");w=lg(this._lexer,y.nextEmbedded,C,S,v)}if(y.goBack&&(d=Math.max(0,d-y.goBack)),y.switchTo&&typeof y.switchTo=="string"){let x=lg(this._lexer,y.switchTo,C,S,v);if(x[0]==="@"&&(x=x.substr(1)),EN(this._lexer,x))u=u.switchTo(x);else throw bi(this._lexer,"trying to switch to a state '"+x+"' that is undefined in rule: "+this._safeRuleName(b))}else{if(y.transform&&typeof y.transform=="function")throw bi(this._lexer,"action.transform not supported");if(y.next)if(y.next==="@push"){if(u.depth>=this._lexer.maxStack)throw bi(this._lexer,"maximum tokenizer stack size reached: ["+u.state+","+u.parent.state+",...]");u=u.push(v)}else if(y.next==="@pop"){if(u.depth<=1)throw bi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(b));u=u.pop()}else if(y.next==="@popall")u=u.popall();else{let x=lg(this._lexer,y.next,C,S,v);if(x[0]==="@"&&(x=x.substr(1)),EN(this._lexer,x))u=u.push(x);else throw bi(this._lexer,"trying to set a next state '"+x+"' that is undefined in rule: "+this._safeRuleName(b))}}y.log&&typeof y.log=="string"&&kft(this._lexer,this._lexer.languageId+": "+lg(this._lexer,y.log,C,S,v))}if(I===null)throw bi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(b));const O=x=>{const k=this._languageService.getLanguageIdByLanguageName(x)||this._languageService.getLanguageIdByMimeType(x)||x,P=this._getNestedEmbeddedLanguageData(k);if(d<l){const M=e.substr(d);return this._nestedTokenize(M,t,cg.create(u,P),r+d,s)}else return cg.create(u,P)};if(Array.isArray(I)){if(h&&h.groups.length>0)throw bi(this._lexer,"groups cannot be nested: "+this._safeRuleName(b));if(S.length!==I.length+1)throw bi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(b));let x=0;for(let k=1;k<S.length;k++)x+=S[k].length;if(x!==C.length)throw bi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(b));h={rule:b,matches:S,groups:[]};for(let k=0;k<I.length;k++)h.groups[k]={action:I[k],matched:S[k+1]};d-=C.length;continue}else{if(I==="@rematch"&&(d-=C.length,C="",S=null,I="",w!==null))return O(w);if(C.length===0){if(l===0||g!==u.depth||v!==u.state||(h?h.groups.length:0)!==_)continue;throw bi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(b))}let x=null;if(hIe(I)&&I.indexOf("@brackets")===0){const k=I.substr(9),P=Vft(this._lexer,C);if(!P)throw bi(this._lexer,"@brackets token returned but no bracket defined as: "+C);x=rde(P.token+k)}else{const k=I===""?"":I+this._lexer.tokenPostfix;x=rde(k)}m<o&&s.emit(m+r,x)}if(w!==null)return O(w)}return cg.create(u,c)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new Yv(e,U1);e!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(e),gr.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=gr.get(e);return t?new Yv(e,t.getInitialState()):new Yv(e,U1)}};nw=z$=Bft([Uft(4,Zi)],nw);function Vft(n,e){if(!e)return null;e=jh(n,e);const t=n.brackets;for(const i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}const Y3=lE("standaloneColorizer",{createHTML:n=>n});class TX{static colorizeElement(e,t,i,r){r=r||{};const s=r.theme||"vs",o=r.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();const a=t.getLanguageIdByMimeType(o)||o;e.setTheme(s);const l=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+s;const c=u=>{const d=(Y3==null?void 0:Y3.createHTML(u))??u;i.innerHTML=d};return this.colorize(t,l||"",a,r).then(c,u=>console.error(u))}static async colorize(e,t,i,r){const s=e.languageIdCodec;let o=4;r&&typeof r.tabSize=="number"&&(o=r.tabSize),HK(t)&&(t=t.substr(1));const a=Sy(t);if(!e.isRegisteredLanguageId(i))return sde(a,o,s);const l=await gr.getOrCreate(i);return l?Wft(a,o,l,s):sde(a,o,s)}static colorizeLine(e,t,i,r,s=4){const o=Za.isBasicASCII(e,t),a=Za.containsRTL(e,o,i);return T2(new Iy(!1,!0,e,!1,o,a,0,r,[],s,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const r=e.getLineContent(t);e.tokenization.forceTokenization(t);const o=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(r,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}function Wft(n,e,t,i){return new Promise((r,s)=>{const o=()=>{const a=$ft(n,e,t,i);if(t instanceof nw){const l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(o,s);return}}r(a)};o()})}function sde(n,e,t){let i=[];const s=new Uint32Array(2);s[0]=0,s[1]=33587200;for(let o=0,a=n.length;o<a;o++){const l=n[o];s[0]=l.length;const c=new ls(s,l,t),u=Za.isBasicASCII(l,!0),d=Za.containsRTL(l,u,!0),h=T2(new Iy(!1,!0,l,!1,u,d,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(h.html),i.push("<br/>")}return i.join("")}function $ft(n,e,t,i){let r=[],s=t.getInitialState();for(let o=0,a=n.length;o<a;o++){const l=n[o],c=t.tokenizeEncoded(l,!0,s);ls.convertToEndOffset(c.tokens,l.length);const u=new ls(c.tokens,l,i),d=Za.isBasicASCII(l,!0),h=Za.containsRTL(l,d,!0),f=T2(new Iy(!1,!0,l,!1,d,h,0,u.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(f.html),r.push("<br/>"),s=c.endState}return r.join("")}var Gft=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},zft=function(n,e){return function(t,i){e(t,i,n)}},QS;let zx=(QS=class{constructor(e,t){}dispose(){}},QS.ID="editor.contrib.markerDecorations",QS);zx=Gft([zft(1,aRe)],zx);ewe(zx.ID,zx,0);class gIe extends Ne{constructor(e,t){super(),this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let e=null;const t=()=>{e?this.observe({width:e.width,height:e.height}):this.observe()};let i=!1,r=!1;const s=()=>{if(i&&!r)try{i=!1,r=!0,t()}finally{wa(ht(this._referenceDomElement),()=>{r=!1,s()})}};this._resizeObserver=new ResizeObserver(o=>{o&&o[0]&&o[0].contentRect?e={width:o[0].contentRect.width,height:o[0].contentRect.height}:e=null,i=!0,s()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,r=0;t?(i=t.width,r=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,r=this._referenceDomElement.clientHeight),i=Math.max(5,i),r=Math.max(5,r),(this._width!==i||this._height!==r)&&(this._width=i,this._height=r,e&&this._onDidChange.fire())}}const gS=class gS{constructor(e,t){this.key=e,this.migrate=t}apply(e){const t=gS._read(e,this.key),i=s=>gS._read(e,s),r=(s,o)=>gS._write(e,s,o);this.migrate(t,i,r)}static _read(e,t){if(typeof e>"u")return;const i=t.indexOf(".");if(i>=0){const r=t.substring(0,i);return this._read(e[r],t.substring(i+1))}return e[t]}static _write(e,t,i){const r=t.indexOf(".");if(r>=0){const s=t.substring(0,r);e[s]=e[s]||{},this._write(e[s],t.substring(r+1),i);return}e[t]=i}};gS.items=[];let iw=gS;function wu(n,e){iw.items.push(new iw(n,e))}function Ra(n,e){wu(n,(t,i,r)=>{if(typeof t<"u"){for(const[s,o]of e)if(t===s){r(n,o);return}}})}function jft(n){iw.items.forEach(e=>e.apply(n))}Ra("wordWrap",[[!0,"on"],[!1,"off"]]);Ra("lineNumbers",[[!0,"on"],[!1,"off"]]);Ra("cursorBlinking",[["visible","solid"]]);Ra("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);Ra("renderLineHighlight",[[!0,"line"],[!1,"none"]]);Ra("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);Ra("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);Ra("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);Ra("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);Ra("autoIndent",[[!1,"advanced"],[!0,"full"]]);Ra("matchBrackets",[[!0,"always"],[!1,"never"]]);Ra("renderFinalNewline",[[!0,"on"],[!1,"off"]]);Ra("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);Ra("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]);Ra("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]);wu("autoClosingBrackets",(n,e,t)=>{n===!1&&(t("autoClosingBrackets","never"),typeof e("autoClosingQuotes")>"u"&&t("autoClosingQuotes","never"),typeof e("autoSurround")>"u"&&t("autoSurround","never"))});wu("renderIndentGuides",(n,e,t)=>{typeof n<"u"&&(t("renderIndentGuides",void 0),typeof e("guides.indentation")>"u"&&t("guides.indentation",!!n))});wu("highlightActiveIndentGuide",(n,e,t)=>{typeof n<"u"&&(t("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")>"u"&&t("guides.highlightActiveIndentation",!!n))});const Yft={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};wu("suggest.filteredTypes",(n,e,t)=>{if(n&&typeof n=="object"){for(const i of Object.entries(Yft))n[i[0]]===!1&&typeof e(`suggest.${i[1]}`)>"u"&&t(`suggest.${i[1]}`,!1);t("suggest.filteredTypes",void 0)}});wu("quickSuggestions",(n,e,t)=>{if(typeof n=="boolean"){const i=n?"on":"off";t("quickSuggestions",{comments:i,strings:i,other:i})}});wu("experimental.stickyScroll.enabled",(n,e,t)=>{typeof n=="boolean"&&(t("experimental.stickyScroll.enabled",void 0),typeof e("stickyScroll.enabled")>"u"&&t("stickyScroll.enabled",n))});wu("experimental.stickyScroll.maxLineCount",(n,e,t)=>{typeof n=="number"&&(t("experimental.stickyScroll.maxLineCount",void 0),typeof e("stickyScroll.maxLineCount")>"u"&&t("stickyScroll.maxLineCount",n))});wu("codeActionsOnSave",(n,e,t)=>{if(n&&typeof n=="object"){let i=!1;const r={};for(const s of Object.entries(n))typeof s[1]=="boolean"?(i=!0,r[s[0]]=s[1]?"explicit":"never"):r[s[0]]=s[1];i&&t("codeActionsOnSave",r)}});wu("codeActionWidget.includeNearbyQuickfixes",(n,e,t)=>{typeof n=="boolean"&&(t("codeActionWidget.includeNearbyQuickfixes",void 0),typeof e("codeActionWidget.includeNearbyQuickFixes")>"u"&&t("codeActionWidget.includeNearbyQuickFixes",n))});wu("lightbulb.enabled",(n,e,t)=>{typeof n=="boolean"&&t("lightbulb.enabled",n?void 0:"off")});class Kft{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new ge,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus)}}const jx=new Kft;var qft=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Xft=function(n,e){return function(t,i){e(t,i,n)}};let j$=class extends Ne{constructor(e,t,i,r,s){super(),this._accessibilityService=s,this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new ge),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new Z0e,this.isSimpleWidget=e,this.contextMenuId=t,this._containerObserver=this._register(new gIe(r,i.dimension)),this._targetWindowId=ht(r).vscodeWindowId,this._rawOptions=ode(i),this._validatedOptions=ug.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(sg.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(jx.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(w6.onDidChange(()=>this._recomputeOptions())),this._register($O.getInstance(ht(r)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),t=ug.checkEquals(this.options,e);t!==null&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=Xm.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),r={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:jx.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return ug.computeOptions(this._validatedOptions,r)}_readEnvConfiguration(){return{extraEditorClassName:Zft(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:OM||dc,pixelRatio:$O.getInstance(kae(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return w6.readFontInfo(kae(this._targetWindowId,!0).window,e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=ode(e);ug.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=ug.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=Qft(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(e){this._glyphMarginDecorationLaneCount!==e&&(this._glyphMarginDecorationLaneCount=e,this._recomputeOptions())}};j$=qft([Xft(4,bu)],j$);function Qft(n){let e=0;for(;n;)n=Math.floor(n/10),e++;return e||1}function Zft(){let n="";return!qg&&!y1e&&(n+="no-user-select "),qg&&(n+="no-minimap-shadow ",n+="enable-user-select "),bn&&(n+="mac "),n}class Jft{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class egt{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class ug{static validateOptions(e){const t=new Jft;for(const i of xv){const r=i.name==="_never_"?void 0:e[i.name];t._write(i.id,i.validate(r))}return t}static computeOptions(e,t){const i=new egt;for(const r of xv)i._write(r.id,r.compute(t,i,e._read(r.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?Mr(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!ug._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let r=!1;for(const s of xv){const o=!ug._deepEquals(e._read(s.id),t._read(s.id));i[s.id]=o,o&&(r=!0)}return r?new Q0e(i):null}static applyUpdate(e,t){let i=!1;for(const r of xv)if(t.hasOwnProperty(r.name)){const s=r.applyUpdate(e[r.name],t[r.name]);e[r.name]=s.newValue,i=i||s.didChange}return i}}function ode(n){const e=Qf(n);return jft(e),e}var Cg;(function(n){const e={total:0,min:Number.MAX_VALUE,max:0},t={...e},i={...e},r={...e};let s=0;const o={keydown:0,input:0,render:0};function a(){v(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),o.keydown=1,queueMicrotask(l)}n.onKeyDown=a;function l(){o.keydown===1&&(performance.mark("keydown/end"),o.keydown=2)}function c(){performance.mark("input/start"),o.input=1,_()}n.onBeforeInput=c;function u(){o.input===0&&c(),queueMicrotask(d)}n.onInput=u;function d(){o.input===1&&(performance.mark("input/end"),o.input=2)}function h(){v()}n.onKeyUp=h;function f(){v()}n.onSelectionChange=f;function m(){o.keydown===2&&o.input===2&&o.render===0&&(performance.mark("render/start"),o.render=1,queueMicrotask(g),_())}n.onRenderStart=m;function g(){o.render===1&&(performance.mark("render/end"),o.render=2)}function _(){setTimeout(v)}function v(){o.keydown===2&&o.input===2&&o.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),S("keydown",e),S("input",t),S("render",i),S("inputlatency",r),s++,C())}function S(I,O){const x=performance.getEntriesByName(I)[0].duration;O.total+=x,O.min=Math.min(O.min,x),O.max=Math.max(O.max,x)}function C(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),o.keydown=0,o.input=0,o.render=0}function y(){if(s===0)return;const I={keydown:b(e),input:b(t),render:b(i),total:b(r),sampleCount:s};return w(e),w(t),w(i),w(r),s=0,I}n.getAndClearMeasurements=y;function b(I){return{average:I.total/s,max:I.max,min:I.min}}function w(I){I.total=0,I.min=Number.MAX_VALUE,I.max=0}})(Cg||(Cg={}));class w2{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(e){return new pIe(this.x-e.scrollX,this.y-e.scrollY)}}class pIe{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(e){return new w2(this.clientX+e.scrollX,this.clientY+e.scrollY)}}class tgt{constructor(e,t,i,r){this.x=e,this.y=t,this.width=i,this.height=r,this._editorPagePositionBrand=void 0}}class ngt{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function wX(n){const e=yl(n);return new tgt(e.left,e.top,e.width,e.height)}function AX(n,e,t){const i=e.width/n.offsetWidth,r=e.height/n.offsetHeight,s=(t.x-e.x)/i,o=(t.y-e.y)/r;return new ngt(s,o)}class tp extends Jc{constructor(e,t,i){super(ht(i),e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new w2(this.posx,this.posy),this.editorPos=wX(i),this.relativePos=AX(i,this.editorPos,this.pos)}}class igt{constructor(e){this._editorViewDomNode=e}_create(e){return new tp(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return we(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return we(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return we(e,Ve.MOUSE_DOWN,i=>{t(this._create(i))})}onPointerDown(e,t){return we(e,Ve.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onMouseLeave(e,t){return we(e,Ve.MOUSE_LEAVE,i=>{t(this._create(i))})}onMouseMove(e,t){return we(e,"mousemove",i=>t(this._create(i)))}}class rgt{constructor(e){this._editorViewDomNode=e}_create(e){return new tp(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return we(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return we(e,Ve.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onPointerLeave(e,t){return we(e,Ve.POINTER_LEAVE,i=>{t(this._create(i))})}onPointerMove(e,t){return we(e,"pointermove",i=>t(this._create(i)))}}class sgt extends Ne{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new JM),this._keydownListener=null}startMonitoring(e,t,i,r,s){this._keydownListener=Qr(e.ownerDocument,"keydown",o=>{o.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,o.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,o=>{r(new tp(o,!0,this._editorViewDomNode))},o=>{this._keydownListener.dispose(),s(o)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}const jP=class jP{constructor(e){this._editor=e,this._instanceId=++jP._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new ho(()=>this.garbageCollect(),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const r=this._counter++;i=new ogt(t,`dyn-rule-${this._instanceId}-${r}`,VO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}};jP._idPool=0;let ade=jP;class ogt{constructor(e,t,i,r){this.key=e,this.className=t,this.properties=r,this._referenceCount=0,this._styleElementDisposables=new at,this._styleElement=Ol(i,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(const r in t){const s=t[r];let o;typeof s=="object"?o=$e(s.id):o=s;const a=agt(r);i+=`
	${a}: ${o};`}return i+=`
}`,i}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function agt(n){return n.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}class FA extends Ne{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,r=e.length;i<r;i++){const s=e[i];switch(s.type){case 0:this.onCompositionStart(s)&&(t=!0);break;case 1:this.onCompositionEnd(s)&&(t=!0);break;case 2:this.onConfigurationChanged(s)&&(t=!0);break;case 3:this.onCursorStateChanged(s)&&(t=!0);break;case 4:this.onDecorationsChanged(s)&&(t=!0);break;case 5:this.onFlushed(s)&&(t=!0);break;case 6:this.onFocusChanged(s)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(s)&&(t=!0);break;case 8:this.onLineMappingChanged(s)&&(t=!0);break;case 9:this.onLinesChanged(s)&&(t=!0);break;case 10:this.onLinesDeleted(s)&&(t=!0);break;case 11:this.onLinesInserted(s)&&(t=!0);break;case 12:this.onRevealRangeRequest(s)&&(t=!0);break;case 13:this.onScrollChanged(s)&&(t=!0);break;case 15:this.onTokensChanged(s)&&(t=!0);break;case 14:this.onThemeChanged(s)&&(t=!0);break;case 16:this.onTokensColorsChanged(s)&&(t=!0);break;case 17:this.onZonesChanged(s)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(s)}}t&&(this._shouldRender=!0)}}class Ia extends FA{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Eu{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){const i=[];let r=0;for(;e&&e!==e.ownerDocument.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[r++]=this.read(e)),e=e.parentElement;const s=new Uint8Array(r);for(let o=0;o<r;o++)s[o]=i[r-o-1];return s}}class lgt{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,t){return this._viewLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class cgt extends lgt{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class ugt{constructor(e,t,i,r){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i,this.continuesOnNextLine=r}}class A2{static from(e){const t=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const s=e[i];t[i]=new A2(s.left,s.width)}return t}constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class i_{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class dgt{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class lde{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class IL{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,r,s){const o=this._createRange();try{return o.setStart(e,t),o.setEnd(i,r),o.getClientRects()}catch{return null}finally{this._detachRange(o,s)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(i_.compare);const t=[];let i=0,r=e[0];for(let s=1,o=e.length;s<o;s++){const a=e[s];r.left+r.width+.9>=a.left?r.width=Math.max(r.width,a.left+a.width-r.left):(t[i++]=r,r=a)}return t[i++]=r,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||e.length===0)return null;const r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s];r[s]=new i_(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(r)}static readHorizontalRanges(e,t,i,r,s,o){const l=e.children.length-1;if(0>l)return null;if(t=Math.min(l,Math.max(0,t)),r=Math.min(l,Math.max(0,r)),t===r&&i===s&&i===0&&!e.children[t].firstChild){const h=e.children[t].getClientRects();return o.markDidDomLayout(),this._createHorizontalRangesFromClientRects(h,o.clientRectDeltaLeft,o.clientRectScale)}t!==r&&r>0&&s===0&&(r--,s=1073741824);let c=e.children[t].firstChild,u=e.children[r].firstChild;if((!c||!u)&&(!c&&i===0&&t>0&&(c=e.children[t-1].firstChild,i=1073741824),!u&&s===0&&r>0&&(u=e.children[r-1].firstChild,s=1073741824)),!c||!u)return null;i=Math.min(c.textContent.length,Math.max(0,i)),s=Math.min(u.textContent.length,Math.max(0,s));const d=this._readClientRects(c,i,u,s,o.endNode);return o.markDidDomLayout(),this._createHorizontalRangesFromClientRects(d,o.clientRectDeltaLeft,o.clientRectScale)}}const hgt=function(){return OO?!0:!(Zo||dc||qg)}();let GS=!0;class cde{constructor(e,t){this.themeType=t;const i=e.options,r=i.get(50);i.get(38)==="off"?this.renderWhitespace=i.get(100):this.renderWhitespace="none",this.renderControlCharacters=i.get(95),this.spaceWidth=r.spaceWidth,this.middotWidth=r.middotWidth,this.wsmiddotWidth=r.wsmiddotWidth,this.useMonospaceOptimizations=r.isMonospace&&!i.get(33),this.canUseHalfwidthRightwardsArrow=r.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(67),this.stopRenderingLineAfter=i.get(118),this.fontLigatures=i.get(51)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}const YP=class YP{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=Dn(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return OS(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,r,s){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const o=r.getViewLineRenderingData(e),a=this._options,l=oc.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let c=null;if(OS(a.themeType)||this._options.renderWhitespace==="selection"){const f=r.selections;for(const m of f){if(m.endLineNumber<e||m.startLineNumber>e)continue;const g=m.startLineNumber===e?m.startColumn:o.minColumn,_=m.endLineNumber===e?m.endColumn:o.maxColumn;g<_&&(OS(a.themeType)&&l.push(new oc(g,_,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(c||(c=[]),c.push(new lIe(g-1,_-1))))}}const u=new Iy(a.useMonospaceOptimizations,a.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,l,o.tabSize,o.startVisibleColumn,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,a.stopRenderingLineAfter,a.renderWhitespace,a.renderControlCharacters,a.fontLigatures!==A_.OFF,c);if(this._renderedViewLine&&this._renderedViewLine.input.equals(u))return!1;s.appendString('<div style="top:'),s.appendString(String(t)),s.appendString("px;height:"),s.appendString(String(i)),s.appendString('px;" class="'),s.appendString(YP.CLASS_NAME),s.appendString('">');const d=yX(u,s);s.appendString("</div>");let h=null;return GS&&hgt&&o.isBasicASCII&&a.useMonospaceOptimizations&&d.containsForeignElements===0&&(h=new vN(this._renderedViewLine?this._renderedViewLine.domNode:null,u,d.characterMapping)),h||(h=_Ie(this._renderedViewLine?this._renderedViewLine.domNode:null,u,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=h,!0}layoutLine(e,t,i){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(i))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof vN:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof vN?this._renderedViewLine.monospaceAssumptionsAreValid():GS}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof vN&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,r){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const s=this._renderedViewLine.input.stopRenderingLineAfter;if(s!==-1&&t>s+1&&i>s+1)return new lde(!0,[new i_(this.getWidth(r),0)]);s!==-1&&t>s+1&&(t=s+1),s!==-1&&i>s+1&&(i=s+1);const o=this._renderedViewLine.getVisibleRangesForRange(e,t,i,r);return o&&o.length>0?new lde(!1,o):null}getColumnOfNodeOffset(e,t){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t):1}};YP.CLASS_NAME="view-line";let Ih=YP;class vN{constructor(e,t,i){this._cachedWidth=-1,this.domNode=e,this.input=t;const r=Math.floor(t.lineContent.length/300);if(r>0){this._keyColumnPixelOffsetCache=new Float32Array(r);for(let s=0;s<r;s++)this._keyColumnPixelOffsetCache[s]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const t=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*t)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return GS;if(this.input.lineContent.length<300){const e=this.getWidth(null),t=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),GS=!1)}return GS}toSlowRenderedLine(){return _Ie(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,r){const s=this._getColumnPixelOffset(e,t,r),o=this._getColumnPixelOffset(e,i,r);return[new i_(s,o-s)]}_getColumnPixelOffset(e,t,i){if(t<=300){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const r=Math.floor((t-1)/300)-1,s=(r+1)*300+1;let o=-1;if(this._keyColumnPixelOffsetCache&&(o=this._keyColumnPixelOffsetCache[r],o===-1&&(o=this._actualReadPixelOffset(e,s,i),this._keyColumnPixelOffsetCache[r]=o)),o===-1){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const a=this._characterMapping.getHorizontalOffset(s),l=this._characterMapping.getHorizontalOffset(t);return o+this._charWidth*(l-a)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,t,i){if(!this.domNode)return-1;const r=this._characterMapping.getDomPosition(t),s=IL.readHorizontalRanges(this._getReadingTarget(this.domNode),r.partIndex,r.charIndex,r.partIndex,r.charIndex,i);return!s||s.length===0?-1:s[0].left}getColumnOfNodeOffset(e,t){return EIe(this._characterMapping,e,t)}}class mIe{constructor(e,t,i,r,s){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=s,this._cachedWidth=-1,this._pixelOffsetCache=null,!r||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let o=0,a=this._characterMapping.length;o<=a;o++)this._pixelOffsetCache[o]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,r){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const s=this._readPixelOffset(this.domNode,e,t,r);if(s===-1)return null;const o=this._readPixelOffset(this.domNode,e,i,r);return o===-1?null:[new i_(s,o-s)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,r)}_readVisibleRangesForRange(e,t,i,r,s){if(i===r){const o=this._readPixelOffset(e,t,i,s);return o===-1?null:[new i_(o,0)]}else return this._readRawVisibleRangesForRange(e,i,r,s)}_readPixelOffset(e,t,i,r){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(r);const s=this._getReadingTarget(e);return s.firstChild?(r.markDidDomLayout(),s.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const s=this._pixelOffsetCache[i];if(s!==-1)return s;const o=this._actualReadPixelOffset(e,t,i,r);return this._pixelOffsetCache[i]=o,o}return this._actualReadPixelOffset(e,t,i,r)}_actualReadPixelOffset(e,t,i,r){if(this._characterMapping.length===0){const l=IL.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,r);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(r);const s=this._characterMapping.getDomPosition(i),o=IL.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,s.partIndex,s.charIndex,r);if(!o||o.length===0)return-1;const a=o[0].left;if(this.input.isBasicASCII){const l=this._characterMapping.getHorizontalOffset(i),c=Math.round(this.input.spaceWidth*l);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,i,r){if(t===1&&i===this._characterMapping.length)return[new i_(0,this.getWidth(r))];const s=this._characterMapping.getDomPosition(t),o=this._characterMapping.getDomPosition(i);return IL.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,o.partIndex,o.charIndex,r)}getColumnOfNodeOffset(e,t){return EIe(this._characterMapping,e,t)}}class fgt extends mIe{_readVisibleRangesForRange(e,t,i,r,s){const o=super._readVisibleRangesForRange(e,t,i,r,s);if(!o||o.length===0||i===r||i===1&&r===this._characterMapping.length)return o;if(!this.input.containsRTL){const a=this._readPixelOffset(e,t,r,s);if(a!==-1){const l=o[o.length-1];l.left<a&&(l.width=a-l.left)}}return o}}const _Ie=function(){return OM?ggt:pgt}();function ggt(n,e,t,i,r){return new fgt(n,e,t,i,r)}function pgt(n,e,t,i,r){return new mIe(n,e,t,i,r)}function EIe(n,e,t){const i=e.textContent.length;let r=-1;for(;e;)e=e.previousSibling,r++;return n.getColumn(new cIe(r,t),i)}class rw{static whitespaceVisibleColumn(e,t,i){const r=e.length;let s=0,o=-1,a=-1;for(let l=0;l<r;l++){if(l===t)return[o,a,s];switch(s%i===0&&(o=l,a=s),e.charCodeAt(l)){case 32:s+=1;break;case 9:s=xr.nextRenderTabStop(s,i);break;default:return[-1,-1,-1]}}return t===r?[o,a,s]:[-1,-1,-1]}static atomicPosition(e,t,i,r){const s=e.length,[o,a,l]=rw.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let c;switch(r){case 0:c=!0;break;case 1:c=!1;break;case 2:if(l%i===0)return t;c=l%i<=i/2;break}if(c){if(o===-1)return-1;let h=a;for(let f=o;f<s;++f){if(h===a+i)return o;switch(e.charCodeAt(f)){case 32:h+=1;break;case 9:h=xr.nextRenderTabStop(h,i);break;default:return-1}}return h===a+i?o:-1}const u=xr.nextRenderTabStop(l,i);let d=l;for(let h=t;h<s;h++){if(d===u)return h;switch(e.charCodeAt(h)){case 32:d+=1;break;case 9:d=xr.nextRenderTabStop(d,i);break;default:return-1}}return d===u?s:-1}}class qf{constructor(e=null){this.hitTarget=e,this.type=0}}class vIe{get hitTarget(){return this.spanNode}constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var Tm;(function(n){function e(t,i,r){const s=t.getPositionFromDOMInfo(i,r);return s?new vIe(s,i,null):new qf(i)}n.createFromDOMInfo=e})(Tm||(Tm={}));class mgt{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class ro{static _deduceRage(e,t=null){return!t&&e?new ce(e.lineNumber,e.column,e.lineNumber,e.column):t??null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,r,s,o){return{type:e,element:t,mouseColumn:i,position:r,range:s,detail:o}}static createViewZone(e,t,i,r,s){return{type:e,element:t,mouseColumn:i,position:r,range:this._deduceRage(r),detail:s}}static createContentText(e,t,i,r,s){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,r),detail:s}}static createContentEmpty(e,t,i,r){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:r}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t,i,r){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t),outsidePosition:i,outsideDistance:r}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class Eo{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===7}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===8}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===8}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===6}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===9}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowGuard(e){return e.length>=1&&e[0]===3}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}static isChildOfOverflowingOverlayWidgets(e){return e.length>=1&&e[0]===5}}class LC{constructor(e,t,i){this.viewModel=e.viewModel;const r=e.configuration.options;this.layoutInfo=r.get(146),this.viewDomNode=t.viewDomNode,this.lineHeight=r.get(67),this.stickyTabStops=r.get(117),this.typicalHalfwidthCharacterWidth=r.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return LC.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const r=i.verticalOffset+i.height/2,s=e.viewModel.getLineCount();let o=null,a,l=null;return i.afterLineNumber!==s&&(l=new Ee(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(o=new Ee(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),l===null?a=o:o===null?a=l:t<r?a=o:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:o,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const r=this._context.viewModel.getLineCount(),s=this._context.viewModel.getLineMaxColumn(r);return{range:new ce(r,s,r,s),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new ce(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return LC._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==e.ownerDocument.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class _gt{constructor(e,t,i,r){this.editorPos=t,this.pos=i,this.relativePos=r,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,io._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class Egt extends _gt{get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=Eu.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}constructor(e,t,i,r,s){super(e,t,i,r),this.hitTestResult=new Yg(()=>io.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=e,this._eventTarget=s;const o=!!this._eventTarget;this._useHitTestTarget=!o}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&this.hitTestResult.value.hitTarget!==null&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?xr.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return ro.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return ro.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,r){return ro.createMargin(e,this.target,this._getMouseColumn(t),t,i,r)}fulfillViewZone(e,t,i){return ro.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return ro.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return ro.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return ro.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return ro.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return ro.createOverlayWidget(this.target,this._getMouseColumn(),e)}}const ude={isAfterLines:!0};function K3(n){return{isAfterLines:!1,horizontalDistanceToText:n}}class io{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=Eu.collect(t,this._viewHelper.viewDomNode);return!!(Eo.isChildOfContentWidgets(i)||Eo.isChildOfOverflowingContentWidgets(i)||Eo.isChildOfOverlayWidgets(i)||Eo.isChildOfOverflowingOverlayWidgets(i))}createMouseTarget(e,t,i,r,s){const o=new LC(this._context,this._viewHelper,e),a=new Egt(o,t,i,r,s);try{const l=io._createMouseTarget(o,a);if(l.type===6&&o.stickyTabStops&&l.position!==null){const c=io._snapToSoftTabBoundary(l.position,o.viewModel),u=ce.fromPositions(c,c).plusRange(l.range);return a.fulfillContentText(c,u,l.detail)}return l}catch{return a.fulfillUnknown()}}static _createMouseTarget(e,t){if(t.target===null)return t.fulfillUnknown();const i=t;let r=null;return!Eo.isChildOfOverflowGuard(t.targetPath)&&!Eo.isChildOfOverflowingContentWidgets(t.targetPath)&&!Eo.isChildOfOverflowingOverlayWidgets(t.targetPath)&&(r=r||t.fulfillUnknown()),r=r||io._hitTestContentWidget(e,i),r=r||io._hitTestOverlayWidget(e,i),r=r||io._hitTestMinimap(e,i),r=r||io._hitTestScrollbarSlider(e,i),r=r||io._hitTestViewZone(e,i),r=r||io._hitTestMargin(e,i),r=r||io._hitTestViewCursor(e,i),r=r||io._hitTestTextArea(e,i),r=r||io._hitTestViewLines(e,i),r=r||io._hitTestScrollbar(e,i),r||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(Eo.isChildOfContentWidgets(t.targetPath)||Eo.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(Eo.isChildOfOverlayWidgets(t.targetPath)||Eo.isChildOfOverflowingOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const r of i)if(t.target===r.domNode)return t.fulfillContentText(r.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,r=t.mouseContentHorizontalOffset,s=t.mouseVerticalOffset;for(const o of i){if(r<o.contentLeft||r>o.contentLeft+o.width)continue;const a=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(a<=s&&s<=a+o.height)return t.fulfillContentText(o.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const r=t.isInContentArea?8:5;return t.fulfillViewZone(r,i.position,i)}return null}static _hitTestTextArea(e,t){return Eo.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),r=i.range.getStartPosition();let s=Math.abs(t.relativePos.x);const o={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:s};if(s-=e.layoutInfo.glyphMarginLeft,s<=e.layoutInfo.glyphMarginWidth){const a=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i.range.getStartPosition()),l=e.viewModel.glyphLanes.getLanesAtLine(a.lineNumber);return o.glyphMarginLane=l[Math.floor(s/e.lineHeight)],t.fulfillMargin(2,r,i.range,o)}return s-=e.layoutInfo.glyphMarginWidth,s<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,r,i.range,o):(s-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,r,i.range,o))}return null}static _hitTestViewLines(e,t){if(!Eo.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new Ee(1,1),ude);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const r=e.viewModel.getLineCount(),s=e.viewModel.getLineMaxColumn(r);return t.fulfillContentEmpty(new Ee(r,s),ude)}if(Eo.isStrictChildOfViewLines(t.targetPath)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.viewModel.getLineLength(r)===0){const o=e.getLineWidth(r),a=K3(t.mouseContentHorizontalOffset-o);return t.fulfillContentEmpty(new Ee(r,1),a)}const s=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>=s){const o=K3(t.mouseContentHorizontalOffset-s),a=new Ee(r,e.viewModel.getLineMaxColumn(r));return t.fulfillContentEmpty(a,o)}}const i=t.hitTestResult.value;return i.type===1?io.createMouseTargetFromHitTestPosition(e,t,i.spanNode,i.position,i.injectedText):t.wouldBenefitFromHitTestTargetSwitch?(t.switchToHitTestTarget(),this._createMouseTarget(e,t)):t.fulfillUnknown()}static _hitTestMinimap(e,t){if(Eo.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new Ee(i,r))}return null}static _hitTestScrollbarSlider(e,t){if(Eo.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.viewModel.getLineMaxColumn(r);return t.fulfillScrollbar(new Ee(r,s))}}return null}static _hitTestScrollbar(e,t){if(Eo.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new Ee(i,r))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(146),r=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return io._getMouseColumn(r,t.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,r,s){const o=r.lineNumber,a=r.column,l=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>l){const v=K3(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(r,v)}const c=e.visibleRangeForPosition(o,a);if(!c)return t.fulfillUnknown(r);const u=c.left;if(Math.abs(t.mouseContentHorizontalOffset-u)<1)return t.fulfillContentText(r,null,{mightBeForeignElement:!!s,injectedText:s});const d=[];if(d.push({offset:c.left,column:a}),a>1){const v=e.visibleRangeForPosition(o,a-1);v&&d.push({offset:v.left,column:a-1})}const h=e.viewModel.getLineMaxColumn(o);if(a<h){const v=e.visibleRangeForPosition(o,a+1);v&&d.push({offset:v.left,column:a+1})}d.sort((v,S)=>v.offset-S.offset);const f=t.pos.toClientCoordinates(ht(e.viewDomNode)),m=i.getBoundingClientRect(),g=m.left<=f.clientX&&f.clientX<=m.right;let _=null;for(let v=1;v<d.length;v++){const S=d[v-1],C=d[v];if(S.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=C.offset){_=new ce(o,S.column,o,C.column);const y=Math.abs(S.offset-t.mouseContentHorizontalOffset),b=Math.abs(C.offset-t.mouseContentHorizontalOffset);r=y<b?new Ee(o,S.column):new Ee(o,C.column);break}}return t.fulfillContentText(r,_,{mightBeForeignElement:!g||!!s,injectedText:s})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.getVerticalOffsetForLineNumber(i),s=r+e.lineHeight;if(!(i===e.viewModel.getLineCount()&&t.mouseVerticalOffset>s)){const a=Math.floor((r+s)/2);let l=t.pos.y+(a-t.mouseVerticalOffset);l<=t.editorPos.y&&(l=t.editorPos.y+1),l>=t.editorPos.y+t.editorPos.height&&(l=t.editorPos.y+t.editorPos.height-1);const c=new w2(t.pos.x,l),u=this._actualDoHitTestWithCaretRangeFromPoint(e,c.toClientCoordinates(ht(e.viewDomNode)));if(u.type===1)return u}return this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates(ht(e.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=fC(e.viewDomNode);let r;if(i?typeof i.caretRangeFromPoint>"u"?r=vgt(i,t.clientX,t.clientY):r=i.caretRangeFromPoint(t.clientX,t.clientY):r=e.viewDomNode.ownerDocument.caretRangeFromPoint(t.clientX,t.clientY),!r||!r.startContainer)return new qf;const s=r.startContainer;if(s.nodeType===s.TEXT_NODE){const o=s.parentNode,a=o?o.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===Ih.CLASS_NAME?Tm.createFromDOMInfo(e,o,r.startOffset):new qf(s.parentNode)}else if(s.nodeType===s.ELEMENT_NODE){const o=s.parentNode,a=o?o.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===Ih.CLASS_NAME?Tm.createFromDOMInfo(e,s,s.textContent.length):new qf(s)}return new qf}static _doHitTestWithCaretPositionFromPoint(e,t){const i=e.viewDomNode.ownerDocument.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const r=i.offsetNode.parentNode,s=r?r.parentNode:null,o=s?s.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===Ih.CLASS_NAME?Tm.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new qf(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const r=i.offsetNode.parentNode,s=r&&r.nodeType===r.ELEMENT_NODE?r.className:null,o=r?r.parentNode:null,a=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(s===Ih.CLASS_NAME){const l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return Tm.createFromDOMInfo(e,l,0)}else if(a===Ih.CLASS_NAME)return Tm.createFromDOMInfo(e,i.offsetNode,0)}return new qf(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:r}=t.model.getOptions(),s=rw.atomicPosition(i,e.column-1,r,2);return s!==-1?new Ee(e.lineNumber,s+1):e}static doHitTest(e,t){let i=new qf;if(typeof e.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):e.viewDomNode.ownerDocument.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates(ht(e.viewDomNode)))),i.type===1){const r=e.viewModel.getInjectedTextAt(i.position),s=e.viewModel.normalizePosition(i.position,2);(r||!s.equals(i.position))&&(i=new vIe(s,i.spanNode,r))}return i}}function vgt(n,e,t){const i=document.createRange();let r=n.elementFromPoint(e,t);if(r!==null){for(;r&&r.firstChild&&r.firstChild.nodeType!==r.firstChild.TEXT_NODE&&r.lastChild&&r.lastChild.firstChild;)r=r.lastChild;const s=r.getBoundingClientRect(),o=ht(r),a=o.getComputedStyle(r,null).getPropertyValue("font-style"),l=o.getComputedStyle(r,null).getPropertyValue("font-variant"),c=o.getComputedStyle(r,null).getPropertyValue("font-weight"),u=o.getComputedStyle(r,null).getPropertyValue("font-size"),d=o.getComputedStyle(r,null).getPropertyValue("line-height"),h=o.getComputedStyle(r,null).getPropertyValue("font-family"),f=`${a} ${l} ${c} ${u}/${d} ${h}`,m=r.innerText;let g=s.left,_=0,v;if(e>s.left+s.width)_=m.length;else{const S=Y$.getInstance();for(let C=0;C<m.length+1;C++){if(v=S.getCharWidth(m.charAt(C),f)/2,g+=v,e<g){_=C;break}g+=v}}i.setStart(r.firstChild,_),i.setEnd(r.firstChild,_)}return i}const xm=class xm{static getInstance(){return xm._INSTANCE||(xm._INSTANCE=new xm),xm._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const r=this._canvas.getContext("2d");r.font=t;const o=r.measureText(e).width;return this._cache[i]=o,o}};xm._INSTANCE=null;let Y$=xm;class RX extends FA{constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new io(this._context,i),this._mouseDownOperation=this._register(new Sgt(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(o,a)=>this._createMouseTarget(o,a),o=>this._getMouseColumn(o))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(146).height;const r=new igt(this.viewHelper.viewDomNode);this._register(r.onContextMenu(this.viewHelper.viewDomNode,o=>this._onContextMenu(o,!0))),this._register(r.onMouseMove(this.viewHelper.viewDomNode,o=>{this._onMouseMove(o),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=we(this.viewHelper.viewDomNode.ownerDocument,"mousemove",a=>{this.viewHelper.viewDomNode.contains(a.target)||this._onMouseLeave(new tp(a,!1,this.viewHelper.viewDomNode))}))})),this._register(r.onMouseUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(r.onMouseLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o)));let s=0;this._register(r.onPointerDown(this.viewHelper.viewDomNode,(o,a)=>{s=a})),this._register(we(this.viewHelper.viewDomNode,Ve.POINTER_UP,o=>{this._mouseDownOperation.onPointerUp()})),this._register(r.onMouseDown(this.viewHelper.viewDomNode,o=>this._onMouseDown(o,s))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=ox.INSTANCE;let t=0,i=sg.getZoomLevel(),r=!1,s=0;const o=l=>{if(this.viewController.emitMouseWheel(l),!this._context.configuration.options.get(76))return;const c=new I_(l);if(e.acceptStandardWheelEvent(c),e.isPhysicalMouseWheel()){if(a(l)){const u=sg.getZoomLevel(),d=c.deltaY>0?1:-1;sg.setZoomLevel(u+d),c.preventDefault(),c.stopPropagation()}}else Date.now()-t>50&&(i=sg.getZoomLevel(),r=a(l),s=0),t=Date.now(),s+=c.deltaY,r&&(sg.setZoomLevel(i+s/5),c.preventDefault(),c.stopPropagation())};this._register(we(this.viewHelper.viewDomNode,Ve.MOUSE_WHEEL,o,{capture:!0,passive:!1}));function a(l){return bn?(l.metaKey||l.ctrlKey)&&!l.shiftKey&&!l.altKey:l.ctrlKey&&!l.metaKey&&!l.shiftKey&&!l.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(146)){const t=this._context.configuration.options.get(146).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,t){const r=new pIe(e,t).toPageCoordinates(ht(this.viewHelper.viewDomNode)),s=wX(this.viewHelper.viewDomNode);if(r.y<s.y||r.y>s.y+s.height||r.x<s.x||r.x>s.x+s.width)return null;const o=AX(this.viewHelper.viewDomNode,s,r);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),s,r,o,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const r=fC(this.viewHelper.viewDomNode);r&&(i=r.elementsFromPoint(e.posx,e.posy).find(s=>this.viewHelper.viewDomNode.contains(s)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){const i=this._createMouseTarget(e,!0),r=i.type===6||i.type===7,s=i.type===2||i.type===3||i.type===4,o=i.type===3,a=this._context.configuration.options.get(110),l=i.type===8||i.type===5,c=i.type===9;let u=e.leftButton||e.middleButton;bn&&e.leftButton&&e.ctrlKey&&(u=!1);const d=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(u&&(r||o&&a))d(),this._mouseDownOperation.start(i.type,e,t);else if(s)e.preventDefault();else if(l){const h=i.detail;u&&this.viewHelper.shouldSuppressMouseDownOnViewZone(h.viewZoneId)&&(d(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(d(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}}class Sgt extends Ne{constructor(e,t,i,r,s,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._mouseTargetFactory=r,this._createMouseTarget=s,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new sgt(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new Cgt(this._context,this._viewHelper,this._mouseTargetFactory,(a,l,c)=>this._dispatchMouse(a,l,c))),this._mouseState=new K$,this._currentSelection=new vn(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):t.type===13&&(t.outsidePosition==="above"||t.outsidePosition==="below")?this._topBottomDragScrolling.start(t,e):(this._topBottomDragScrolling.stop(),this._dispatchMouse(t,!0,1)))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const r=this._findMousePosition(t,!0);if(!r||!r.position)return;this._mouseState.trySetCount(t.detail,r.position),t.detail=this._mouseState.count;const s=this._context.configuration.options;if(!s.get(92)&&s.get(35)&&!s.get(22)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&r.type===6&&r.position&&this._currentSelection.containsPosition(r.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,o=>this._onMouseDownThenMove(o),o=>{const a=this._findMousePosition(this._lastMouseEvent,!1);_h(o)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:a?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(r,t.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,o=>this._onMouseDownThenMove(o),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.viewModel,r=this._context.viewLayout,s=this._getMouseColumn(e);if(e.posy<t.y){const a=t.y-e.posy,l=Math.max(r.getCurrentScrollTop()-a,0),c=LC.getZoneAtCoord(this._context,l);if(c){const d=this._helpPositionJumpOverViewZone(c);if(d)return ro.createOutsideEditor(s,d,"above",a)}const u=r.getLineNumberAtVerticalOffset(l);return ro.createOutsideEditor(s,new Ee(u,1),"above",a)}if(e.posy>t.y+t.height){const a=e.posy-t.y-t.height,l=r.getCurrentScrollTop()+e.relativePos.y,c=LC.getZoneAtCoord(this._context,l);if(c){const d=this._helpPositionJumpOverViewZone(c);if(d)return ro.createOutsideEditor(s,d,"below",a)}const u=r.getLineNumberAtVerticalOffset(l);return ro.createOutsideEditor(s,new Ee(u,i.getLineMaxColumn(u)),"below",a)}const o=r.getLineNumberAtVerticalOffset(r.getCurrentScrollTop()+e.relativePos.y);if(e.posx<t.x){const a=t.x-e.posx;return ro.createOutsideEditor(s,new Ee(o,1),"left",a)}if(e.posx>t.x+t.width){const a=e.posx-t.x-t.width;return ro.createOutsideEditor(s,new Ee(o,i.getLineMaxColumn(o)),"right",a)}return null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const r=this._createMouseTarget(e,t);if(!r.position)return null;if(r.type===8||r.type===5){const o=this._helpPositionJumpOverViewZone(r.detail);if(o)return ro.createViewZone(r.type,r.element,r.mouseColumn,o,r.detail)}return r}_helpPositionJumpOverViewZone(e){const t=new Ee(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,r=e.positionAfter;return i&&r?i.isBefore(t)?i:r:null}_dispatchMouse(e,t,i){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:i,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class Cgt extends Ne{constructor(e,t,i,r){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=r,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,t){this._operation?this._operation.setPosition(e,t):this._operation=new ygt(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,t)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class ygt extends Ne{constructor(e,t,i,r,s,o){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=r,this._position=s,this._mouseEvent=o,this._lastTime=Date.now(),this._animationFrameDisposable=wa(ht(o.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(e,t){this._position=e,this._mouseEvent=t}_tick(){const e=Date.now(),t=e-this._lastTime;return this._lastTime=e,t}_getScrollSpeed(){const e=this._context.configuration.options.get(67),t=this._context.configuration.options.get(146).height/e,i=this._position.outsideDistance/e;return i<=1.5?Math.max(30,t*(1+i)):i<=3?Math.max(60,t*(2+i)):Math.max(200,t*(7+i))}_execute(){const e=this._context.configuration.options.get(67),t=this._getScrollSpeed(),i=this._tick(),r=t*(i/1e3)*e,s=this._position.outsidePosition==="above"?-r:r;this._context.viewModel.viewLayout.deltaScrollNow(0,s),this._viewHelper.renderNow();const o=this._context.viewLayout.getLinesViewportData(),a=this._position.outsidePosition==="above"?o.startLineNumber:o.endLineNumber;let l;{const c=wX(this._viewHelper.viewDomNode),u=this._context.configuration.options.get(146).horizontalScrollbarHeight,d=new w2(this._mouseEvent.pos.x,c.y+c.height-u-.1),h=AX(this._viewHelper.viewDomNode,c,d);l=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),c,d,h,null)}(!l.position||l.position.lineNumber!==a)&&(this._position.outsidePosition==="above"?l=ro.createOutsideEditor(this._position.mouseColumn,new Ee(a,1),"above",this._position.outsideDistance):l=ro.createOutsideEditor(this._position.mouseColumn,new Ee(a,this._context.viewModel.getLineMaxColumn(a)),"below",this._position.outsideDistance)),this._dispatchMouse(l,!0,2),this._animationFrameDisposable=wa(ht(l.element),()=>this._execute())}}const KP=class KP{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=new Date().getTime();i-this._lastSetMouseDownCountTime>KP.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}};KP.CLEAR_MOUSE_DOWN_COUNT_TIME=400;let K$=KP;const pS=class pS{constructor(e,t,i,r,s){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selection=r,this.newlineCountBeforeSelection=s}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e,t){const i=e.getValue(),r=e.getSelectionStart(),s=e.getSelectionEnd();let o;if(t){const a=i.substring(0,r),l=t.value.substring(0,t.selectionStart);a===l&&(o=t.newlineCountBeforeSelection)}return new pS(i,r,s,null,o)}collapseSelection(){return this.selectionStart===this.value.length?this:new pS(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){var r,s,o,a;if(e<=this.selectionStart){const l=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(((r=this.selection)==null?void 0:r.getStartPosition())??null,l,-1)}if(e>=this.selectionEnd){const l=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(((s=this.selection)==null?void 0:s.getEndPosition())??null,l,1)}const t=this.value.substring(this.selectionStart,e);if(t.indexOf("")===-1)return this._finishDeduceEditorPosition(((o=this.selection)==null?void 0:o.getStartPosition())??null,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(((a=this.selection)==null?void 0:a.getEndPosition())??null,i,-1)}_finishDeduceEditorPosition(e,t,i){let r=0,s=-1;for(;(s=t.indexOf(`
`,s+1))!==-1;)r++;return[e,i*t.length,r]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const r=Math.min(c6(e.value,t.value),e.selectionStart,t.selectionStart),s=Math.min(u6(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd);e.value.substring(r,e.value.length-s);const o=t.value.substring(r,t.value.length-s),a=e.selectionStart-r,l=e.selectionEnd-r,c=t.selectionStart-r,u=t.selectionEnd-r;if(c===u){const h=e.selectionStart-r;return{text:o,replacePrevCharCnt:h,replaceNextCharCnt:0,positionDelta:0}}const d=l-a;return{text:o,replacePrevCharCnt:d,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(c6(e.value,t.value),e.selectionEnd),r=Math.min(u6(e.value,t.value),e.value.length-e.selectionEnd),s=e.value.substring(i,e.value.length-r),o=t.value.substring(i,t.value.length-r);e.selectionStart-i;const a=e.selectionEnd-i;t.selectionStart-i;const l=t.selectionEnd-i;return{text:o,replacePrevCharCnt:a,replaceNextCharCnt:s.length-a,positionDelta:l-o.length}}};pS.EMPTY=new pS("",0,0,null,void 0);let so=pS;class Kv{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,r=i+1,s=i+t;return new ce(r,1,s+1,1)}static fromEditorSelection(e,t,i,r){const o=Kv._getPageOfLine(t.startLineNumber,i),a=Kv._getRangeForPage(o,i),l=Kv._getPageOfLine(t.endLineNumber,i),c=Kv._getRangeForPage(l,i);let u=a.intersectRanges(new ce(1,1,t.startLineNumber,t.startColumn));if(r&&e.getValueLengthInRange(u,1)>500){const v=e.modifyPosition(u.getEndPosition(),-500);u=ce.fromPositions(v,u.getEndPosition())}const d=e.getValueInRange(u,1),h=e.getLineCount(),f=e.getLineMaxColumn(h);let m=c.intersectRanges(new ce(t.endLineNumber,t.endColumn,h,f));if(r&&e.getValueLengthInRange(m,1)>500){const v=e.modifyPosition(m.getStartPosition(),500);m=ce.fromPositions(m.getStartPosition(),v)}const g=e.getValueInRange(m,1);let _;if(o===l||o+1===l)_=e.getValueInRange(t,1);else{const v=a.intersectRanges(t),S=c.intersectRanges(t);_=e.getValueInRange(v,1)+""+e.getValueInRange(S,1)}return r&&_.length>2*500&&(_=_.substring(0,500)+""+_.substring(_.length-500,_.length)),new so(d+_+g,d.length,d.length+_.length,t,u.endLineNumber-u.startLineNumber)}}var bgt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},dde=function(n,e){return function(t,i){e(t,i,n)}},Yx;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(Yx||(Yx={}));const qP=class qP{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}};qP.INSTANCE=new qP;let Kx=qP;class Tgt{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";const t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}let q$=class extends Ne{get textAreaState(){return this._textAreaState}constructor(e,t,i,r,s,o){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=r,this._accessibilityService=s,this._logService=o,this._onFocus=this._register(new ge),this.onFocus=this._onFocus.event,this._onBlur=this._register(new ge),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new ge),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new ge),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new ge),this.onCut=this._onCut.event,this._onPaste=this._register(new ge),this.onPaste=this._onPaste.event,this._onType=this._register(new ge),this.onType=this._onType.event,this._onCompositionStart=this._register(new ge),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new ge),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new ge),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new ge),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new rf),this._asyncTriggerCut=this._register(new ho(()=>this._onCut.fire(),0)),this._textAreaState=so.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(Ue.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new ho(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let a=null;this._register(this._textArea.onKeyDown(l=>{const c=new wi(l);(c.keyCode===114||this._currentComposition&&c.keyCode===1)&&c.stopPropagation(),c.equals(9)&&c.preventDefault(),a=c,this._onKeyDown.fire(c)})),this._register(this._textArea.onKeyUp(l=>{const c=new wi(l);this._onKeyUp.fire(c)})),this._register(this._textArea.onCompositionStart(l=>{const c=new Tgt;if(this._currentComposition){this._currentComposition=c;return}if(this._currentComposition=c,this._OS===2&&a&&a.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===l.data&&(a.code==="ArrowRight"||a.code==="ArrowLeft")){c.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:l.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:l.data});return}this._onCompositionStart.fire({data:l.data})})),this._register(this._textArea.onCompositionUpdate(l=>{const c=this._currentComposition;if(!c)return;if(this._browser.isAndroid){const d=so.readFromTextArea(this._textArea,this._textAreaState),h=so.deduceAndroidCompositionInput(this._textAreaState,d);this._textAreaState=d,this._onType.fire(h),this._onCompositionUpdate.fire(l);return}const u=c.handleCompositionUpdate(l.data);this._textAreaState=so.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(u),this._onCompositionUpdate.fire(l)})),this._register(this._textArea.onCompositionEnd(l=>{const c=this._currentComposition;if(!c)return;if(this._currentComposition=null,this._browser.isAndroid){const d=so.readFromTextArea(this._textArea,this._textAreaState),h=so.deduceAndroidCompositionInput(this._textAreaState,d);this._textAreaState=d,this._onType.fire(h),this._onCompositionEnd.fire();return}const u=c.handleCompositionUpdate(l.data);this._textAreaState=so.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(u),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(l=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const c=so.readFromTextArea(this._textArea,this._textAreaState),u=so.deduceInput(this._textAreaState,c,this._OS===2);u.replacePrevCharCnt===0&&u.text.length===1&&(Kr(u.text.charCodeAt(0))||u.text.charCodeAt(0)===127)||(this._textAreaState=c,(u.text!==""||u.replacePrevCharCnt!==0||u.replaceNextCharCnt!==0||u.positionDelta!==0)&&this._onType.fire(u))})),this._register(this._textArea.onCut(l=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(l),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(l=>{this._ensureClipboardGetsEditorSelection(l)})),this._register(this._textArea.onPaste(l=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),l.preventDefault(),!l.clipboardData)return;let[c,u]=hde.getTextData(l.clipboardData);c&&(u=u||Kx.INSTANCE.get(c),this._onPaste.fire({text:c,metadata:u}))})),this._register(this._textArea.onFocus(()=>{const l=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!l&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new ho(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return we(this._textArea.ownerDocument,"selectionchange",t=>{if(Cg.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const i=Date.now(),r=i-e;if(e=i,r<5)return;const s=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),s<100||!this._textAreaState.selection)return;const o=this._textArea.getValue();if(this._textAreaState.value!==o)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const c=this._textAreaState.deduceEditorPosition(a),u=this._host.deduceModelPosition(c[0],c[1],c[2]),d=this._textAreaState.deduceEditorPosition(l),h=this._host.deduceModelPosition(d[0],d[1],d[2]),f=new vn(u.lineNumber,u.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(f)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeNativeTextAreaContent(e){!this._accessibilityService.isScreenReaderOptimized()&&e==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${e})`),this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};Kx.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),e.preventDefault(),e.clipboardData&&hde.setTextData(e.clipboardData,t.text,t.html,i)}};q$=bgt([dde(4,bu),dde(5,Cu)],q$);const hde={getTextData(n){const e=n.getData(wh.text);let t=null;const i=n.getData("vscode-editor-data");if(typeof i=="string")try{t=JSON.parse(i),t.version!==1&&(t=null)}catch{}return e.length===0&&t===null&&n.files.length>0?[Array.prototype.slice.call(n.files,0).map(s=>s.name).join(`
`),null]:[e,t]},setTextData(n,e,t,i){n.setData(wh.text,e),typeof t=="string"&&n.setData("text/html",t),n.setData("vscode-editor-data",JSON.stringify(i))}};class wgt extends Ne{get ownerDocument(){return this._actual.ownerDocument}constructor(e){super(),this._actual=e,this.onKeyDown=this._register(new sn(this._actual,"keydown")).event,this.onKeyUp=this._register(new sn(this._actual,"keyup")).event,this.onCompositionStart=this._register(new sn(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new sn(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new sn(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new sn(this._actual,"beforeinput")).event,this.onInput=this._register(new sn(this._actual,"input")).event,this.onCut=this._register(new sn(this._actual,"cut")).event,this.onCopy=this._register(new sn(this._actual,"copy")).event,this.onPaste=this._register(new sn(this._actual,"paste")).event,this.onFocus=this._register(new sn(this._actual,"focus")).event,this.onBlur=this._register(new sn(this._actual,"blur")).event,this._onSyntheticTap=this._register(new ge),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>Cg.onKeyDown())),this._register(this.onBeforeInput(()=>Cg.onBeforeInput())),this._register(this.onInput(()=>Cg.onInput())),this._register(this.onKeyUp(()=>Cg.onKeyUp())),this._register(we(this._actual,Yx.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const e=fC(this._actual);return e?e.activeElement===this._actual:this._actual.isConnected?fo()===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const r=this._actual;let s=null;const o=fC(r);o?s=o.activeElement:s=fo();const a=ht(s),l=s===r,c=r.selectionStart,u=r.selectionEnd;if(l&&c===t&&u===i){dc&&a.parent!==a&&r.focus();return}if(l){this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(t,i),dc&&a.parent!==a&&r.focus();return}try{const d=BZe(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(t,i),UZe(r,d)}catch{}}}class Agt extends RX{constructor(e,t,i){super(e,t,i),this._register(Ro.addTarget(this.viewHelper.linesContentDomNode)),this._register(we(this.viewHelper.linesContentDomNode,_i.Tap,s=>this.onTap(s))),this._register(we(this.viewHelper.linesContentDomNode,_i.Change,s=>this.onChange(s))),this._register(we(this.viewHelper.linesContentDomNode,_i.Contextmenu,s=>this._onContextMenu(new tp(s,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(we(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const o=s.pointerType;if(o==="mouse"){this._lastPointerType="mouse";return}else o==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const r=new rgt(this.viewHelper.viewDomNode);this._register(r.onPointerMove(this.viewHelper.viewDomNode,s=>this._onMouseMove(s))),this._register(r.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(r.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(r.onPointerDown(this.viewHelper.viewDomNode,(s,o)=>this._onMouseDown(s,o)))}onTap(e){!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget)||(e.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(e,!1))}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(e,!0)}_dispatchGesture(e,t){const i=this._createMouseTarget(new tp(e,!1,this.viewHelper.viewDomNode),!1);i.position&&this.viewController.dispatchMouse({position:i.position,mouseColumn:i.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:t,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:i.type===6&&i.detail.injectedText!==null})}_onMouseDown(e,t){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,t)}}class Rgt extends RX{constructor(e,t,i){super(e,t,i),this._register(Ro.addTarget(this.viewHelper.linesContentDomNode)),this._register(we(this.viewHelper.linesContentDomNode,_i.Tap,r=>this.onTap(r))),this._register(we(this.viewHelper.linesContentDomNode,_i.Change,r=>this.onChange(r))),this._register(we(this.viewHelper.linesContentDomNode,_i.Contextmenu,r=>this._onContextMenu(new tp(r,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new tp(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){const i=document.createEvent("CustomEvent");i.initEvent(Yx.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class Igt extends Ne{constructor(e,t,i){super(),(w_||Fqe&&j0e)&&b1e.pointerEvents?this.handler=this._register(new Agt(e,t,i)):fi.TouchEvent?this.handler=this._register(new Rgt(e,t,i)):this.handler=this._register(new RX(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class gE extends FA{}const XP=class XP extends gE{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Ee(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(67);const t=e.get(68);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(96);const i=e.get(146);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onDecorationsChanged(e){return e.affectsLineNumber}_getLineRenderLineNumber(e){const t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ee(e,1));if(t.column!==1)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const r=Math.abs(this._lastCursorModelPosition.lineNumber-i);return r===0?'<span class="relative-current-line-number">'+i+"</span>":String(r)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===i||i%10===0)return String(i);const r=this._context.viewModel.getLineCount();return i===r?String(i):""}return String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const t=Zo?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=this._context.viewModel.getDecorationsInViewport(e.visibleRange).filter(c=>!!c.options.lineNumberClassName);s.sort((c,u)=>ce.compareRangesUsingEnds(c.range,u.range));let o=0;const a=this._context.viewModel.getLineCount(),l=[];for(let c=i;c<=r;c++){const u=c-i;let d=this._getLineRenderLineNumber(c),h="";for(;o<s.length&&s[o].range.endLineNumber<c;)o++;for(let f=o;f<s.length;f++){const{range:m,options:g}=s[f];m.startLineNumber<=c&&(h+=" "+g.lineNumberClassName)}if(!d&&!h){l[u]="";continue}c===a&&this._context.viewModel.getLineLength(c)===0&&(this._renderFinalNewline==="off"&&(d=""),this._renderFinalNewline==="dimmed"&&(h+=" dimmed-line-number")),c===this._activeLineNumber&&(h+=" active-line-number"),l[u]=`<div class="${XP.CLASS_NAME}${t}${h}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${d}</div>`}this._renderResult=l}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};XP.CLASS_NAME="line-numbers";let qx=XP;df((n,e)=>{const t=n.getColor(rlt),i=n.getColor(Elt);i?e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${i}; }`):t&&e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${t.transparent(.4)}; }`)});const mS=class mS extends Ia{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(146);this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=Dn(document.createElement("div")),this._domNode.setClassName(mS.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Dn(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(mS.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}};mS.CLASS_NAME="glyph-margin",mS.OUTER_CLASS_NAME="margin";let Xx=mS;const zS="monaco-mouse-cursor-text";var Ngt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},fde=function(n,e){return function(t,i){e(t,i,n)}};class Lgt{constructor(e,t,i,r,s){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=r,this.distanceToModelLineEnd=s,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new Ee(this.modelLineNumber,this.distanceToModelLineStart+1),i=new Ee(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const q3=dc;let X$=class extends Ia{constructor(e,t,i,r,s){super(e),this._keybindingService=r,this._instantiationService=s,this._primaryCursorPosition=new Ee(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const o=this._context.configuration.options,a=o.get(146);this._setAccessibilityOptions(o),this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._contentHeight=a.height,this._fontInfo=o.get(50),this._lineHeight=o.get(67),this._emptySelectionClipboard=o.get(37),this._copyWithSyntaxHighlighting=o.get(25),this._visibleTextArea=null,this._selections=[new vn(1,1,1,1)],this._modelSelections=[new vn(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Dn(document.createElement("textarea")),Eu.write(this.textArea,7),this.textArea.setClassName(`inputarea ${zS}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:l}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${l*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("aria-required",o.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(o.get(125))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",A("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",o.get(92)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=Dn(document.createElement("div")),this.textAreaCover.setPosition("absolute");const c={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:h=>this._context.viewModel.getLineMaxColumn(h),getValueInRange:(h,f)=>this._context.viewModel.getValueInRange(h,f),getValueLengthInRange:(h,f)=>this._context.viewModel.getValueLengthInRange(h,f),modifyPosition:(h,f)=>this._context.viewModel.modifyPosition(h,f)},u={getDataToCopy:()=>{const h=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,ba),f=this._context.viewModel.model.getEOL(),m=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),g=Array.isArray(h)?h:null,_=Array.isArray(h)?h.join(f):h;let v,S=null;if(this._copyWithSyntaxHighlighting&&_.length<65536){const C=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);C&&(v=C.html,S=C.mode)}return{isFromEmptySelection:m,multicursorText:g,text:_,html:v,mode:S}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const h=this._selections[0];if(bn&&h.isEmpty()){const m=h.getStartPosition();let g=this._getWordBeforePosition(m);if(g.length===0&&(g=this._getCharacterBeforePosition(m)),g.length>0)return new so(g,g.length,g.length,ce.fromPositions(m),0)}if(bn&&!h.isEmpty()&&c.getValueLengthInRange(h,0)<500){const m=c.getValueInRange(h,0);return new so(m,0,m.length,h,0)}if(qg&&!h.isEmpty()){const m="vscode-placeholder";return new so(m,0,m.length,null,void 0)}return so.EMPTY}if(yae){const h=this._selections[0];if(h.isEmpty()){const f=h.getStartPosition(),[m,g]=this._getAndroidWordAtPosition(f);if(m.length>0)return new so(m,g,g,ce.fromPositions(f),0)}return so.EMPTY}return Kv.fromEditorSelection(c,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(h,f,m)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(h,f,m)},d=this._register(new wgt(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(q$,u,d,rc,{isAndroid:yae,isChrome:mA,isFirefox:dc,isSafari:qg})),this._register(this._textAreaInput.onKeyDown(h=>{this._viewController.emitKeyDown(h)})),this._register(this._textAreaInput.onKeyUp(h=>{this._viewController.emitKeyUp(h)})),this._register(this._textAreaInput.onPaste(h=>{let f=!1,m=null,g=null;h.metadata&&(f=this._emptySelectionClipboard&&!!h.metadata.isFromEmptySelection,m=typeof h.metadata.multicursorText<"u"?h.metadata.multicursorText:null,g=h.metadata.mode),this._viewController.paste(h.text,f,m,g)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(h=>{h.replacePrevCharCnt||h.replaceNextCharCnt||h.positionDelta?this._viewController.compositionType(h.text,h.replacePrevCharCnt,h.replaceNextCharCnt,h.positionDelta):this._viewController.type(h.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(h=>{this._viewController.setSelection(h)})),this._register(this._textAreaInput.onCompositionStart(h=>{const f=this.textArea.domNode,m=this._modelSelections[0],{distanceToModelLineStart:g,widthOfHiddenTextBefore:_}=(()=>{const S=f.value.substring(0,Math.min(f.selectionStart,f.selectionEnd)),C=S.lastIndexOf(`
`),y=S.substring(C+1),b=y.lastIndexOf("	"),w=y.length-b-1,I=m.getStartPosition(),O=Math.min(I.column-1,w),x=I.column-1-O,k=y.substring(0,y.length-O),{tabSize:P}=this._context.viewModel.model.getOptions(),M=Ogt(this.textArea.domNode.ownerDocument,k,this._fontInfo,P);return{distanceToModelLineStart:x,widthOfHiddenTextBefore:M}})(),{distanceToModelLineEnd:v}=(()=>{const S=f.value.substring(Math.max(f.selectionStart,f.selectionEnd)),C=S.indexOf(`
`),y=C===-1?S:S.substring(0,C),b=y.indexOf("	"),w=b===-1?y.length:y.length-b-1,I=m.getEndPosition(),O=Math.min(this._context.viewModel.model.getLineMaxColumn(I.lineNumber)-I.column,w);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(I.lineNumber)-I.column-O}})();this._context.viewModel.revealRange("keyboard",!0,ce.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Lgt(this._context,m.startLineNumber,g,_,v),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${zS} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(h=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${zS}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(JT.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(e){this._textAreaInput.writeNativeTextAreaContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.viewModel.getLineContent(e.lineNumber),r=mC(t,[]);let s=!0,o=e.column,a=!0,l=e.column,c=0;for(;c<50&&(s||a);){if(s&&o<=1&&(s=!1),s){const u=i.charCodeAt(o-2);r.get(u)!==0?s=!1:o--}if(a&&l>i.length&&(a=!1),a){const u=i.charCodeAt(l-1);r.get(u)!==0?a=!1:l++}c++}return[i.substring(o-1,l-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=mC(this._context.configuration.options.get(132),[]);let r=e.column,s=0;for(;r>1;){const o=t.charCodeAt(r-2);if(i.get(o)!==0||s>50)return t.substring(r-1,e.column-1);s++,r--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const i=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!Kr(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){var i,r,s;if(e.get(2)===1){const o=(i=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))==null?void 0:i.getAriaLabel(),a=(r=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))==null?void 0:r.getAriaLabel(),l=(s=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))==null?void 0:s.getAriaLabel(),c=A("accessibilityModeOff","The editor is not accessible at this time.");return o?A("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",c,o):a?A("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",c,a):l?A("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",c,l):c}return e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilitySupport===2&&t===J_.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t;const r=e.get(146).wrappingColumn;if(r!==-1&&this._accessibilitySupport!==1){const s=e.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(r*s.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=q3?0:1}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(50),this._lineHeight=t.get(67),this._emptySelectionClipboard=t.get(37),this._copyWithSyntaxHighlighting=t.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:r}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${r*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("aria-required",t.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(t.get(125))),(e.hasChanged(34)||e.hasChanged(92))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!JT.enabled||e.get(34)&&e.get(92)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var t;this._primaryCursorPosition=new Ee(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(t=this._visibleTextArea)==null||t.prepareRender(e)}render(e){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){if(this._visibleTextArea){const i=this._visibleTextArea.visibleTextareaStart,r=this._visibleTextArea.visibleTextareaEnd,s=this._visibleTextArea.startPosition,o=this._visibleTextArea.endPosition;if(s&&o&&i&&r&&r.left>=this._scrollLeft&&i.left<=this._scrollLeft+this._contentWidth){const a=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,l=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let c=this._visibleTextArea.widthOfHiddenLineTextBefore,u=this._contentLeft+i.left-this._scrollLeft,d=r.left-i.left+1;if(u<this._contentLeft){const v=this._contentLeft-u;u+=v,c+=v,d-=v}d>this._contentWidth&&(d=this._contentWidth);const h=this._context.viewModel.getViewLineData(s.lineNumber),f=h.tokens.findTokenIndexAtOffset(s.column-1),m=h.tokens.findTokenIndexAtOffset(o.column-1),g=f===m,_=this._visibleTextArea.definePresentation(g?h.tokens.getPresentation(f):null);this.textArea.domNode.scrollTop=l*this._lineHeight,this.textArea.domNode.scrollLeft=c,this._doRender({lastRenderPosition:null,top:a,left:u,width:d,height:this._lineHeight,useCover:!1,color:(gr.getColorMap()||[])[_.foreground],italic:_.italic,bold:_.bold,underline:_.underline,strikethrough:_.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}if(bn||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:this._textAreaWrapping?this._contentLeft:e,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const i=this._textAreaInput.textAreaState.newlineCountBeforeSelection??this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:this._textAreaWrapping?this._contentLeft:e,width:this._textAreaWidth,height:q3?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:q3?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,i=this.textAreaCover;Us(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?Me.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);const r=this._context.configuration.options;r.get(57)?i.setClassName("monaco-editor-background textAreaCover "+Xx.OUTER_CLASS_NAME):r.get(68).renderType!==0?i.setClassName("monaco-editor-background textAreaCover "+qx.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}};X$=Ngt([fde(3,Rs),fde(4,oi)],X$);function Ogt(n,e,t,i){if(e.length===0)return 0;const r=n.createElement("div");r.style.position="absolute",r.style.top="-50000px",r.style.width="50000px";const s=n.createElement("span");Us(s,t),s.style.whiteSpace="pre",s.style.tabSize=`${i*t.spaceWidth}px`,s.append(e),r.appendChild(s),n.body.appendChild(r);const o=s.offsetWidth;return r.remove(),o}const xgt=()=>!0,Dgt=()=>!1,Pgt=n=>n===" "||n==="	";class gv{static shouldRecreate(e){return e.hasChanged(146)||e.hasChanged(132)||e.hasChanged(37)||e.hasChanged(77)||e.hasChanged(79)||e.hasChanged(80)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(9)||e.hasChanged(10)||e.hasChanged(14)||e.hasChanged(129)||e.hasChanged(50)||e.hasChanged(92)||e.hasChanged(131)}constructor(e,t,i,r){this.languageConfigurationService=r,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const s=i.options,o=s.get(146),a=s.get(50);this.readOnly=s.get(92),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=s.get(117),this.lineHeight=a.lineHeight,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(o.height/this.lineHeight)-2),this.useTabStops=s.get(129),this.wordSeparators=s.get(132),this.emptySelectionClipboard=s.get(37),this.copyWithSyntaxHighlighting=s.get(25),this.multiCursorMergeOverlapping=s.get(77),this.multiCursorPaste=s.get(79),this.multiCursorLimit=s.get(80),this.autoClosingBrackets=s.get(6),this.autoClosingComments=s.get(7),this.autoClosingQuotes=s.get(11),this.autoClosingDelete=s.get(9),this.autoClosingOvertype=s.get(10),this.autoSurround=s.get(14),this.autoIndent=s.get(12),this.wordSegmenterLocales=s.get(131),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(e,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const l=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(l)for(const u of l)this.surroundingPairs[u.open]=u.close;const c=this.languageConfigurationService.getLanguageConfiguration(e).comments;this.blockCommentStartToken=(c==null?void 0:c.blockCommentStartToken)??null}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)==null?void 0:e.getElectricCharacters();if(t)for(const i of t)this._electricChars[i]=!0}return this._electricChars}onElectricCharacter(e,t,i){const r=Bm(t,i-1),s=this.languageConfigurationService.getLanguageConfiguration(r.languageId).electricCharacter;return s?s.onElectricCharacter(e,r,i-r.firstCharOffset):null}normalizeIndentation(e){return lRe(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t,i){switch(t){case"beforeWhitespace":return Pgt;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,i);case"always":return xgt;case"never":return Dgt}}_getLanguageDefinedShouldAutoClose(e,t){const i=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return r=>i.indexOf(r)!==-1}visibleColumnFromColumn(e,t){return xr.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const r=xr.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),s=e.getLineMinColumn(t);if(r<s)return s;const o=e.getLineMaxColumn(t);return r>o?o:r}}class an{static fromModelState(e){return new kgt(e)}static fromViewState(e){return new Mgt(e)}static fromModelSelection(e){const t=vn.liftSelection(e),i=new ns(ce.fromPositions(t.getSelectionStart()),0,0,t.getPosition(),0);return an.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this.fromModelSelection(e[i]);return t}constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class kgt{constructor(e){this.modelState=e,this.viewState=null}}class Mgt{constructor(e){this.modelState=null,this.viewState=e}}class ns{constructor(e,t,i,r,s){this.selectionStart=e,this.selectionStartKind=t,this.selectionStartLeftoverVisibleColumns=i,this.position=r,this.leftoverVisibleColumns=s,this._singleCursorStateBrand=void 0,this.selection=ns._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,r){return e?new ns(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new Ee(t,i),r):new ns(new ce(t,i,t,i),0,r,new Ee(t,i),r)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?vn.fromPositions(e.getStartPosition(),t):vn.fromPositions(e.getEndPosition(),t)}}class ea{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function np(n){return n==="'"||n==='"'||n==="`"}class wm{static columnSelect(e,t,i,r,s,o){const a=Math.abs(s-i)+1,l=i>s,c=r>o,u=r<o,d=[];for(let h=0;h<a;h++){const f=i+(l?-h:h),m=e.columnFromVisibleColumn(t,f,r),g=e.columnFromVisibleColumn(t,f,o),_=e.visibleColumnFromColumn(t,new Ee(f,m)),v=e.visibleColumnFromColumn(t,new Ee(f,g));u&&(_>o||v<r)||c&&(v>r||_<o)||d.push(new ns(new ce(f,m,f,m),0,0,new Ee(f,g),0))}if(d.length===0)for(let h=0;h<a;h++){const f=i+(l?-h:h),m=t.getLineMaxColumn(f);d.push(new ns(new ce(f,m,f,m),0,0,new Ee(f,m),0))}return{viewStates:d,reversed:l,fromLineNumber:i,fromVisualColumn:r,toLineNumber:s,toVisualColumn:o}}static columnSelectLeft(e,t,i){let r=i.toViewVisualColumn;return r>0&&r--,wm.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,r)}static columnSelectRight(e,t,i){let r=0;const s=Math.min(i.fromViewLineNumber,i.toViewLineNumber),o=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=s;l<=o;l++){const c=t.getLineMaxColumn(l),u=e.visibleColumnFromColumn(t,new Ee(l,c));r=Math.max(r,u)}let a=i.toViewVisualColumn;return a<r&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,r){const s=r?e.pageSize:1,o=Math.max(1,i.toViewLineNumber-s);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}static columnSelectDown(e,t,i,r){const s=r?e.pageSize:1,o=Math.min(t.getLineCount(),i.toViewLineNumber+s);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}}class ga{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return vn.fromPositions(r.getEndPosition())}}class NL{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return vn.fromPositions(r.getStartPosition())}}class Qx{constructor(e,t,i,r,s=!1){this._range=e,this._text=t,this._columnDeltaOffset=r,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=s}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return vn.fromPositions(r.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class Fgt{constructor(e,t,i,r=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=r,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class X3{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class Zn{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-_1e(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new Ee(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const r=e.getLineMinColumn(t.lineNumber),s=e.getLineContent(t.lineNumber),o=rw.atomicPosition(s,t.column-1,i,0);if(o!==-1&&o+1>=r)return new Ee(t.lineNumber,o+1)}return this.leftPosition(e,t)}static left(e,t,i){const r=e.stickyTabStops?Zn.leftPositionAtomicSoftTabs(t,i,e.tabSize):Zn.leftPosition(t,i);return new X3(r.lineNumber,r.column,0)}static moveLeft(e,t,i,r,s){let o,a;if(i.hasSelection()&&!r)o=i.selection.startLineNumber,a=i.selection.startColumn;else{const l=i.position.delta(void 0,-(s-1)),c=t.normalizePosition(Zn.clipPositionColumn(l,t),0),u=Zn.left(e,t,c);o=u.lineNumber,a=u.column}return i.move(r,o,a,0)}static clipPositionColumn(e,t){return new Ee(e.lineNumber,Zn.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+FK(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new Ee(t,i)}static rightPositionAtomicSoftTabs(e,t,i,r,s){if(i<e.getLineIndentColumn(t)){const o=e.getLineContent(t),a=rw.atomicPosition(o,i-1,r,1);if(a!==-1)return new Ee(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const r=e.stickyTabStops?Zn.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):Zn.rightPosition(t,i.lineNumber,i.column);return new X3(r.lineNumber,r.column,0)}static moveRight(e,t,i,r,s){let o,a;if(i.hasSelection()&&!r)o=i.selection.endLineNumber,a=i.selection.endColumn;else{const l=i.position.delta(void 0,s-1),c=t.normalizePosition(Zn.clipPositionColumn(l,t),1),u=Zn.right(e,t,c);o=u.lineNumber,a=u.column}return i.move(r,o,a,0)}static vertical(e,t,i,r,s,o,a,l){const c=xr.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+s,u=t.getLineCount(),d=i===1&&r===1,h=i===u&&r===t.getLineMaxColumn(i),f=o<i?d:h;if(i=o,i<1?(i=1,a?r=t.getLineMinColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):i>u?(i=u,a?r=t.getLineMaxColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):r=e.columnFromVisibleColumn(t,i,c),f?s=0:s=c-xr.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),l!==void 0){const m=new Ee(i,r),g=t.normalizePosition(m,l);s=s+(r-g.column),i=g.lineNumber,r=g.column}return new X3(i,r,s)}static down(e,t,i,r,s,o,a){return this.vertical(e,t,i,r,s,i+o,a,4)}static moveDown(e,t,i,r,s){let o,a;i.hasSelection()&&!r?(o=i.selection.endLineNumber,a=i.selection.endColumn):(o=i.position.lineNumber,a=i.position.column);let l=0,c;do if(c=Zn.down(e,t,o+l,a,i.leftoverVisibleColumns,s,!0),t.normalizePosition(new Ee(c.lineNumber,c.column),2).lineNumber>o)break;while(l++<10&&o+l<t.getLineCount());return i.move(r,c.lineNumber,c.column,c.leftoverVisibleColumns)}static translateDown(e,t,i){const r=i.selection,s=Zn.down(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),o=Zn.down(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new ns(new ce(s.lineNumber,s.column,s.lineNumber,s.column),0,s.leftoverVisibleColumns,new Ee(o.lineNumber,o.column),o.leftoverVisibleColumns)}static up(e,t,i,r,s,o,a){return this.vertical(e,t,i,r,s,i-o,a,3)}static moveUp(e,t,i,r,s){let o,a;i.hasSelection()&&!r?(o=i.selection.startLineNumber,a=i.selection.startColumn):(o=i.position.lineNumber,a=i.position.column);const l=Zn.up(e,t,o,a,i.leftoverVisibleColumns,s,!0);return i.move(r,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){const r=i.selection,s=Zn.up(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),o=Zn.up(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new ns(new ce(s.lineNumber,s.column,s.lineNumber,s.column),0,s.leftoverVisibleColumns,new Ee(o.lineNumber,o.column),o.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,r){let s=i.position.lineNumber;for(;s>1&&this._isBlankLine(t,s);)s--;for(;s>1&&!this._isBlankLine(t,s);)s--;return i.move(r,s,t.getLineMinColumn(s),0)}static moveToNextBlankLine(e,t,i,r){const s=t.getLineCount();let o=i.position.lineNumber;for(;o<s&&this._isBlankLine(t,o);)o++;for(;o<s&&!this._isBlankLine(t,o);)o++;return i.move(r,o,t.getLineMinColumn(o),0)}static moveToBeginningOfLine(e,t,i,r){const s=i.position.lineNumber,o=t.getLineMinColumn(s),a=t.getLineFirstNonWhitespaceColumn(s)||o;let l;return i.position.column===a?l=o:l=a,i.move(r,s,l,0)}static moveToEndOfLine(e,t,i,r,s){const o=i.position.lineNumber,a=t.getLineMaxColumn(o);return i.move(r,o,a,s?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,r){return i.move(r,1,1,0)}static moveToEndOfBuffer(e,t,i,r){const s=t.getLineCount(),o=t.getLineMaxColumn(s);return i.move(r,s,o,0)}}class M_{static deleteRight(e,t,i,r){const s=[];let o=e!==3;for(let a=0,l=r.length;a<l;a++){const c=r[a];let u=c;if(u.isEmpty()){const d=c.getPosition(),h=Zn.right(t,i,d);u=new ce(h.lineNumber,h.column,d.lineNumber,d.column)}if(u.isEmpty()){s[a]=null;continue}u.startLineNumber!==u.endLineNumber&&(o=!0),s[a]=new ga(u,"")}return[o,s]}static isAutoClosingPairDelete(e,t,i,r,s,o,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,c=o.length;l<c;l++){const u=o[l],d=u.getPosition();if(!u.isEmpty())return!1;const h=s.getLineContent(d.lineNumber);if(d.column<2||d.column>=h.length+1)return!1;const f=h.charAt(d.column-2),m=r.get(f);if(!m)return!1;if(np(f)){if(i==="never")return!1}else if(t==="never")return!1;const g=h.charAt(d.column-1);let _=!1;for(const v of m)v.open===f&&v.close===g&&(_=!0);if(!_)return!1;if(e==="auto"){let v=!1;for(let S=0,C=a.length;S<C;S++){const y=a[S];if(d.lineNumber===y.startLineNumber&&d.column===y.startColumn){v=!0;break}}if(!v)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s].getPosition(),l=new ce(a.lineNumber,a.column-1,a.lineNumber,a.column+1);r[s]=new ga(l,"")}return[!0,r]}static deleteLeft(e,t,i,r,s){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,r,s))return this._runAutoClosingPairDelete(t,i,r);const o=[];let a=e!==2;for(let l=0,c=r.length;l<c;l++){const u=M_.getDeleteRange(r[l],i,t);if(u.isEmpty()){o[l]=null;continue}u.startLineNumber!==u.endLineNumber&&(a=!0),o[l]=new ga(u,"")}return[a,o]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const r=e.getPosition();if(i.useTabStops&&r.column>1){const s=t.getLineContent(r.lineNumber),o=Sa(s),a=o===-1?s.length+1:o+1;if(r.column<=a){const l=i.visibleColumnFromColumn(t,r),c=xr.prevIndentTabStop(l,i.indentSize),u=i.columnFromVisibleColumn(t,r.lineNumber,c);return new ce(r.lineNumber,u,r.lineNumber,r.column)}}return ce.fromPositions(M_.getPositionAfterDeleteLeft(r,t),r)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=DQe(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){const i=e.lineNumber-1;return new Ee(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){const r=[];let s=null;i.sort((o,a)=>Ee.compare(o.getStartPosition(),a.getEndPosition()));for(let o=0,a=i.length;o<a;o++){const l=i[o];if(l.isEmpty())if(e.emptySelectionClipboard){const c=l.getPosition();let u,d,h,f;c.lineNumber<t.getLineCount()?(u=c.lineNumber,d=1,h=c.lineNumber+1,f=1):c.lineNumber>1&&(s==null?void 0:s.endLineNumber)!==c.lineNumber?(u=c.lineNumber-1,d=t.getLineMaxColumn(c.lineNumber-1),h=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber)):(u=c.lineNumber,d=1,h=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber));const m=new ce(u,d,h,f);s=m,m.isEmpty()?r[o]=null:r[o]=new ga(m,"")}else r[o]=null;else r[o]=new ga(l,"")}return new ea(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class rr{static _createWord(e,t,i,r,s){return{start:r,end:s,wordType:t,nextCharClass:i}}static _createIntlWord(e,t){return{start:e.index,end:e.index+e.segment.length,wordType:1,nextCharClass:t}}static _findPreviousWordOnLine(e,t,i){const r=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(r,e,i)}static _doFindPreviousWordOnLine(e,t,i){let r=0;const s=t.findPrevIntlWordBeforeOrAtOffset(e,i.column-2);for(let o=i.column-2;o>=0;o--){const a=e.charCodeAt(o),l=t.get(a);if(s&&o===s.index)return this._createIntlWord(s,l);if(l===0){if(r===2)return this._createWord(e,r,l,o+1,this._findEndOfWord(e,t,r,o+1));r=1}else if(l===2){if(r===1)return this._createWord(e,r,l,o+1,this._findEndOfWord(e,t,r,o+1));r=2}else if(l===1&&r!==0)return this._createWord(e,r,l,o+1,this._findEndOfWord(e,t,r,o+1))}return r!==0?this._createWord(e,r,1,0,this._findEndOfWord(e,t,r,0)):null}static _findEndOfWord(e,t,i,r){const s=t.findNextIntlWordAtOrAfterOffset(e,r),o=e.length;for(let a=r;a<o;a++){const l=e.charCodeAt(a),c=t.get(l);if(s&&a===s.index+s.segment.length||c===1||i===1&&c===2||i===2&&c===0)return a}return o}static _findNextWordOnLine(e,t,i){const r=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(r,e,i)}static _doFindNextWordOnLine(e,t,i){let r=0;const s=e.length,o=t.findNextIntlWordAtOrAfterOffset(e,i.column-1);for(let a=i.column-1;a<s;a++){const l=e.charCodeAt(a),c=t.get(l);if(o&&a===o.index)return this._createIntlWord(o,c);if(c===0){if(r===2)return this._createWord(e,r,c,this._findStartOfWord(e,t,r,a-1),a);r=1}else if(c===2){if(r===1)return this._createWord(e,r,c,this._findStartOfWord(e,t,r,a-1),a);r=2}else if(c===1&&r!==0)return this._createWord(e,r,c,this._findStartOfWord(e,t,r,a-1),a)}return r!==0?this._createWord(e,r,1,this._findStartOfWord(e,t,r,s-1),s):null}static _findStartOfWord(e,t,i,r){const s=t.findPrevIntlWordBeforeOrAtOffset(e,r);for(let o=r;o>=0;o--){const a=e.charCodeAt(o),l=t.get(a);if(s&&o===s.index)return o;if(l===1||i===1&&l===2||i===2&&l===0)return o+1}return 0}static moveWordLeft(e,t,i,r,s){let o=i.lineNumber,a=i.column;a===1&&o>1&&(o=o-1,a=t.getLineMaxColumn(o));let l=rr._findPreviousWordOnLine(e,t,new Ee(o,a));if(r===0)return new Ee(o,l?l.start+1:1);if(r===1)return!s&&l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=rr._findPreviousWordOnLine(e,t,new Ee(o,l.start+1))),new Ee(o,l?l.start+1:1);if(r===3){for(;l&&l.wordType===2;)l=rr._findPreviousWordOnLine(e,t,new Ee(o,l.start+1));return new Ee(o,l?l.start+1:1)}return l&&a<=l.end+1&&(l=rr._findPreviousWordOnLine(e,t,new Ee(o,l.start+1))),new Ee(o,l?l.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===1)return i>1?new Ee(i-1,e.getLineMaxColumn(i-1)):t;const s=e.getLineContent(i);for(let o=t.column-1;o>1;o--){const a=s.charCodeAt(o-2),l=s.charCodeAt(o-1);if(a===95&&l!==95)return new Ee(i,o);if(a===45&&l!==45)return new Ee(i,o);if((Dv(a)||UI(a))&&Zf(l))return new Ee(i,o);if(Zf(a)&&Zf(l)&&o+1<r){const c=s.charCodeAt(o);if(Dv(c)||UI(c))return new Ee(i,o)}}return new Ee(i,1)}static moveWordRight(e,t,i,r){let s=i.lineNumber,o=i.column,a=!1;o===t.getLineMaxColumn(s)&&s<t.getLineCount()&&(a=!0,s=s+1,o=1);let l=rr._findNextWordOnLine(e,t,new Ee(s,o));if(r===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=rr._findNextWordOnLine(e,t,new Ee(s,l.end+1))),l?o=l.end+1:o=t.getLineMaxColumn(s);else if(r===3){for(a&&(o=0);l&&(l.wordType===2||l.start+1<=o);)l=rr._findNextWordOnLine(e,t,new Ee(s,l.end+1));l?o=l.start+1:o=t.getLineMaxColumn(s)}else l&&!a&&o>=l.start+1&&(l=rr._findNextWordOnLine(e,t,new Ee(s,l.end+1))),l?o=l.start+1:o=t.getLineMaxColumn(s);return new Ee(s,o)}static _moveWordPartRight(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===r)return i<e.getLineCount()?new Ee(i+1,1):t;const s=e.getLineContent(i);for(let o=t.column+1;o<r;o++){const a=s.charCodeAt(o-2),l=s.charCodeAt(o-1);if(a!==95&&l===95)return new Ee(i,o);if(a!==45&&l===45)return new Ee(i,o);if((Dv(a)||UI(a))&&Zf(l))return new Ee(i,o);if(Zf(a)&&Zf(l)&&o+1<r){const c=s.charCodeAt(o);if(Dv(c)||UI(c))return new Ee(i,o)}}return new Ee(i,r)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-2,s=tE(i,r);return s+1<r?new ce(t.lineNumber,s+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,r=e.model,s=e.selection,o=e.whitespaceHeuristics;if(!s.isEmpty())return s;if(M_.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const d=e.selection.getPosition();return new ce(d.lineNumber,d.column-1,d.lineNumber,d.column+1)}const a=new Ee(s.positionLineNumber,s.positionColumn);let l=a.lineNumber,c=a.column;if(l===1&&c===1)return null;if(o){const d=this._deleteWordLeftWhitespace(r,a);if(d)return d}let u=rr._findPreviousWordOnLine(i,r,a);return t===0?u?c=u.start+1:c>1?c=1:(l--,c=r.getLineMaxColumn(l)):(u&&c<=u.end+1&&(u=rr._findPreviousWordOnLine(i,r,new Ee(l,u.start+1))),u?c=u.end+1:c>1?c=1:(l--,c=r.getLineMaxColumn(l))),new ce(l,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const r=new Ee(i.positionLineNumber,i.positionColumn),s=this._deleteInsideWordWhitespace(t,r);return s||this._deleteInsideWordDetermineDeleteRange(e,t,r)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=i.length;if(r===0)return null;let s=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,s))return null;let o=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(i,o))return null;for(;s>0&&this._charAtIsWhitespace(i,s-1);)s--;for(;o+1<r&&this._charAtIsWhitespace(i,o+1);)o++;return new ce(t.lineNumber,s+1,t.lineNumber,o+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const r=t.getLineContent(i.lineNumber),s=r.length;if(s===0)return i.lineNumber>1?new ce(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new ce(i.lineNumber,1,i.lineNumber+1,1):new ce(i.lineNumber,1,i.lineNumber,1);const o=d=>d.start+1<=i.column&&i.column<=d.end+1,a=(d,h)=>(d=Math.min(d,i.column),h=Math.max(h,i.column),new ce(i.lineNumber,d,i.lineNumber,h)),l=d=>{let h=d.start+1,f=d.end+1,m=!1;for(;f-1<s&&this._charAtIsWhitespace(r,f-1);)m=!0,f++;if(!m)for(;h>1&&this._charAtIsWhitespace(r,h-2);)h--;return a(h,f)},c=rr._findPreviousWordOnLine(e,t,i);if(c&&o(c))return l(c);const u=rr._findNextWordOnLine(e,t,i);return u&&o(u)?l(u):c&&u?a(c.end+1,u.start+1):c?a(c.start+1,c.end+1):u?a(u.start+1,u.end+1):a(1,s+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=rr._moveWordPartLeft(e,i);return new ce(i.lineNumber,i.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let r=t;r<i;r++){const s=e.charAt(r);if(s!==" "&&s!=="	")return r}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-1,s=this._findFirstNonWhitespaceChar(i,r);return r+1<s?new ce(t.lineNumber,t.column,t.lineNumber,s+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,r=e.model,s=e.selection,o=e.whitespaceHeuristics;if(!s.isEmpty())return s;const a=new Ee(s.positionLineNumber,s.positionColumn);let l=a.lineNumber,c=a.column;const u=r.getLineCount(),d=r.getLineMaxColumn(l);if(l===u&&c===d)return null;if(o){const f=this._deleteWordRightWhitespace(r,a);if(f)return f}let h=rr._findNextWordOnLine(i,r,a);return t===2?h?c=h.end+1:c<d||l===u?c=d:(l++,h=rr._findNextWordOnLine(i,r,new Ee(l,1)),h?c=h.start+1:c=r.getLineMaxColumn(l)):(h&&c>=h.start+1&&(h=rr._findNextWordOnLine(i,r,new Ee(l,h.end+1))),h?c=h.start+1:c<d||l===u?c=d:(l++,h=rr._findNextWordOnLine(i,r,new Ee(l,1)),h?c=h.start+1:c=r.getLineMaxColumn(l))),new ce(l,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=rr._moveWordPartRight(e,i);return new ce(i.lineNumber,i.column,r.lineNumber,r.column)}static _createWordAtPosition(e,t,i){const r=new ce(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(e,t,i,r){const s=mC(t,i),o=rr._findPreviousWordOnLine(s,e,r);if(o&&o.wordType===1&&o.start<=r.column-1&&r.column-1<=o.end)return rr._createWordAtPosition(e,r.lineNumber,o);const a=rr._findNextWordOnLine(s,e,r);return a&&a.wordType===1&&a.start<=r.column-1&&r.column-1<=a.end?rr._createWordAtPosition(e,r.lineNumber,a):null}static word(e,t,i,r,s){const o=mC(e.wordSeparators,e.wordSegmenterLocales),a=rr._findPreviousWordOnLine(o,t,s),l=rr._findNextWordOnLine(o,t,s);if(!r){let f,m;return a&&a.wordType===1&&a.start<=s.column-1&&s.column-1<=a.end?(f=a.start+1,m=a.end+1):l&&l.wordType===1&&l.start<=s.column-1&&s.column-1<=l.end?(f=l.start+1,m=l.end+1):(a?f=a.end+1:f=1,l?m=l.start+1:m=t.getLineMaxColumn(s.lineNumber)),new ns(new ce(s.lineNumber,f,s.lineNumber,m),1,0,new Ee(s.lineNumber,m),0)}let c,u;a&&a.wordType===1&&a.start<s.column-1&&s.column-1<a.end?(c=a.start+1,u=a.end+1):l&&l.wordType===1&&l.start<s.column-1&&s.column-1<l.end?(c=l.start+1,u=l.end+1):(c=s.column,u=s.column);const d=s.lineNumber;let h;if(i.selectionStart.containsPosition(s))h=i.selectionStart.endColumn;else if(s.isBeforeOrEqual(i.selectionStart.getStartPosition())){h=c;const f=new Ee(d,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.endColumn)}else{h=u;const f=new Ee(d,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.startColumn)}return i.move(!0,d,h,0)}}class Qs{static addCursorDown(e,t,i){const r=[];let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];r[s++]=new an(l.modelState,l.viewState),i?r[s++]=an.fromModelState(Zn.translateDown(e.cursorConfig,e.model,l.modelState)):r[s++]=an.fromViewState(Zn.translateDown(e.cursorConfig,e,l.viewState))}return r}static addCursorUp(e,t,i){const r=[];let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];r[s++]=new an(l.modelState,l.viewState),i?r[s++]=an.fromModelState(Zn.translateUp(e.cursorConfig,e.model,l.modelState)):r[s++]=an.fromViewState(Zn.translateUp(e.cursorConfig,e,l.viewState))}return r}static moveToBeginningOfLine(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=this._moveToLineStart(e,a,i)}return r}static _moveToLineStart(e,t,i){const r=t.viewState.position.column,s=t.modelState.position.column,o=r===s,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!o&&!(r===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return an.fromViewState(Zn.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return an.fromModelState(Zn.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=this._moveToLineEnd(e,l,i,r)}return s}static _moveToLineEnd(e,t,i,r){const s=t.viewState.position,o=e.getLineMaxColumn(s.lineNumber),a=s.column===o,l=t.modelState.position,c=e.model.getLineMaxColumn(l.lineNumber),u=o-s.column===c-l.column;return a||u?this._moveToLineEndByModel(e,t,i,r):this._moveToLineEndByView(e,t,i,r)}static _moveToLineEndByView(e,t,i,r){return an.fromViewState(Zn.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,r))}static _moveToLineEndByModel(e,t,i,r){return an.fromModelState(Zn.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,r))}static expandLineSelection(e,t){const i=[];for(let r=0,s=t.length;r<s;r++){const o=t[r],a=o.modelState.selection.startLineNumber,l=e.model.getLineCount();let c=o.modelState.selection.endLineNumber,u;c===l?u=e.model.getLineMaxColumn(l):(c++,u=1),i[r]=an.fromModelState(new ns(new ce(a,1,a,1),0,0,new Ee(c,u),0))}return i}static moveToBeginningOfBuffer(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=an.fromModelState(Zn.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static moveToEndOfBuffer(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=an.fromModelState(Zn.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static selectAll(e,t){const i=e.model.getLineCount(),r=e.model.getLineMaxColumn(i);return an.fromModelState(new ns(new ce(1,1,1,1),0,0,new Ee(i,r),0))}static line(e,t,i,r,s){const o=e.model.validatePosition(r),a=s?e.coordinatesConverter.validateViewPosition(new Ee(s.lineNumber,s.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);if(!i){const c=e.model.getLineCount();let u=o.lineNumber+1,d=1;return u>c&&(u=c,d=e.model.getLineMaxColumn(u)),an.fromModelState(new ns(new ce(o.lineNumber,1,u,d),2,0,new Ee(u,d),0))}const l=t.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<l)return an.fromViewState(t.viewState.move(!0,a.lineNumber,1,0));if(o.lineNumber>l){const c=e.getLineCount();let u=a.lineNumber+1,d=1;return u>c&&(u=c,d=e.getLineMaxColumn(u)),an.fromViewState(t.viewState.move(!0,u,d,0))}else{const c=t.modelState.selectionStart.getEndPosition();return an.fromModelState(t.modelState.move(!0,c.lineNumber,c.column,0))}}static word(e,t,i,r){const s=e.model.validatePosition(r);return an.fromModelState(rr.word(e.cursorConfig,e.model,t.modelState,i,s))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new an(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,r=t.viewState.position.column;return an.fromViewState(new ns(new ce(i,r,i,r),0,0,new Ee(i,r),0))}static moveTo(e,t,i,r,s){if(i){if(t.modelState.selectionStartKind===1)return this.word(e,t,i,r);if(t.modelState.selectionStartKind===2)return this.line(e,t,i,r,s)}const o=e.model.validatePosition(r),a=s?e.coordinatesConverter.validateViewPosition(new Ee(s.lineNumber,s.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);return an.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,r,s,o){switch(i){case 0:return o===4?this._moveHalfLineLeft(e,t,r):this._moveLeft(e,t,r,s);case 1:return o===4?this._moveHalfLineRight(e,t,r):this._moveRight(e,t,r,s);case 2:return o===2?this._moveUpByViewLines(e,t,r,s):this._moveUpByModelLines(e,t,r,s);case 3:return o===2?this._moveDownByViewLines(e,t,r,s):this._moveDownByModelLines(e,t,r,s);case 4:return o===2?t.map(a=>an.fromViewState(Zn.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>an.fromModelState(Zn.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 5:return o===2?t.map(a=>an.fromViewState(Zn.moveToNextBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>an.fromModelState(Zn.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 6:return this._moveToViewMinColumn(e,t,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,r);case 8:return this._moveToViewCenterColumn(e,t,r);case 9:return this._moveToViewMaxColumn(e,t,r);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,r);default:return null}}static viewportMove(e,t,i,r,s){const o=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(o);switch(i){case 11:{const l=this._firstLineNumberInRange(e.model,a,s),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 13:{const l=this._lastLineNumberInRange(e.model,a,s),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 12:{const l=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 14:{const l=[];for(let c=0,u=t.length;c<u;c++){const d=t[c];l[c]=this.findPositionInViewportIfOutside(e,d,o,r)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,r){const s=t.viewState.position.lineNumber;if(i.startLineNumber<=s&&s<=i.endLineNumber-1)return new an(t.modelState,t.viewState);{let o;s>i.endLineNumber-1?o=i.endLineNumber-1:s<i.startLineNumber?o=i.startLineNumber:o=s;const a=Zn.vertical(e.cursorConfig,e,s,t.viewState.position.column,t.viewState.leftoverVisibleColumns,o,!1);return an.fromViewState(t.viewState.move(r,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.min(t.endLineNumber,r+i-1)}static _lastLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.max(r,t.endLineNumber-i+1)}static _moveLeft(e,t,i,r){return t.map(s=>an.fromViewState(Zn.moveLeft(e.cursorConfig,e,s.viewState,i,r)))}static _moveHalfLineLeft(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=Math.round(e.getLineLength(l)/2);r[s]=an.fromViewState(Zn.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return r}static _moveRight(e,t,i,r){return t.map(s=>an.fromViewState(Zn.moveRight(e.cursorConfig,e,s.viewState,i,r)))}static _moveHalfLineRight(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=Math.round(e.getLineLength(l)/2);r[s]=an.fromViewState(Zn.moveRight(e.cursorConfig,e,a.viewState,i,c))}return r}static _moveDownByViewLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=an.fromViewState(Zn.moveDown(e.cursorConfig,e,l.viewState,i,r))}return s}static _moveDownByModelLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=an.fromModelState(Zn.moveDown(e.cursorConfig,e.model,l.modelState,i,r))}return s}static _moveUpByViewLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=an.fromViewState(Zn.moveUp(e.cursorConfig,e,l.viewState,i,r))}return s}static _moveUpByModelLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=an.fromModelState(Zn.moveUp(e.cursorConfig,e.model,l.modelState,i,r))}return s}static _moveToViewPosition(e,t,i,r,s){return an.fromViewState(t.viewState.move(i,r,s,0))}static _moveToModelPosition(e,t,i,r,s){return an.fromModelState(t.modelState.move(i,r,s,0))}static _moveToViewMinColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineMinColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewCenterColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewMaxColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineMaxColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewLastNonWhitespaceColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}}var Zx;(function(n){const e=function(i){if(!Yo(i))return!1;const r=i;return!(!Ka(r.to)||!Cl(r.select)&&!U0e(r.select)||!Cl(r.by)&&!Ka(r.by)||!Cl(r.value)&&!my(r.value))};n.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let r;switch(i.to){case n.RawDirection.Left:r=0;break;case n.RawDirection.Right:r=1;break;case n.RawDirection.Up:r=2;break;case n.RawDirection.Down:r=3;break;case n.RawDirection.PrevBlankLine:r=4;break;case n.RawDirection.NextBlankLine:r=5;break;case n.RawDirection.WrappedLineStart:r=6;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case n.RawDirection.WrappedLineColumnCenter:r=8;break;case n.RawDirection.WrappedLineEnd:r=9;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case n.RawDirection.ViewPortTop:r=11;break;case n.RawDirection.ViewPortBottom:r=13;break;case n.RawDirection.ViewPortCenter:r=12;break;case n.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let s=0;switch(i.by){case n.RawUnit.Line:s=1;break;case n.RawUnit.WrappedLine:s=2;break;case n.RawUnit.Character:s=3;break;case n.RawUnit.HalfLine:s=4;break}return{direction:r,unit:s,select:!!i.select,value:i.value||1}}n.parse=t})(Zx||(Zx={}));class Bgt{constructor(e,t,i){this._indentRulesSupport=t,this._indentationLineProcessor=new SIe(e,i)}shouldIncrease(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldIncrease(i)}shouldDecrease(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldDecrease(i)}shouldIgnore(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldIgnore(i)}shouldIndentNextLine(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldIndentNextLine(i)}}class IX{constructor(e,t){this.model=e,this.indentationLineProcessor=new SIe(e,t)}getProcessedTokenContextAroundRange(e){const t=this._getProcessedTokensBeforeRange(e),i=this._getProcessedTokensAfterRange(e),r=this._getProcessedPreviousLineTokens(e);return{beforeRangeProcessedTokens:t,afterRangeProcessedTokens:i,previousLineProcessedTokens:r}}_getProcessedTokensBeforeRange(e){this.model.tokenization.forceTokenization(e.startLineNumber);const t=this.model.tokenization.getLineTokens(e.startLineNumber),i=Bm(t,e.startColumn-1);let r;if(NX(this.model,e.getStartPosition())){const o=e.startColumn-1-i.firstCharOffset,a=i.firstCharOffset,l=a+o;r=t.sliceAndInflate(a,l,0)}else{const o=e.startColumn-1;r=t.sliceAndInflate(0,o,0)}return this.indentationLineProcessor.getProcessedTokens(r)}_getProcessedTokensAfterRange(e){const t=e.isEmpty()?e.getStartPosition():e.getEndPosition();this.model.tokenization.forceTokenization(t.lineNumber);const i=this.model.tokenization.getLineTokens(t.lineNumber),r=Bm(i,t.column-1),s=t.column-1-r.firstCharOffset,o=r.firstCharOffset+s,a=r.firstCharOffset+r.getLineLength(),l=i.sliceAndInflate(o,a,0);return this.indentationLineProcessor.getProcessedTokens(l)}_getProcessedPreviousLineTokens(e){const t=f=>{this.model.tokenization.forceTokenization(f);const m=this.model.tokenization.getLineTokens(f),g=this.model.getLineMaxColumn(f)-1;return Bm(m,g)};this.model.tokenization.forceTokenization(e.startLineNumber);const i=this.model.tokenization.getLineTokens(e.startLineNumber),r=Bm(i,e.startColumn-1),s=ls.createEmpty("",r.languageIdCodec),o=e.startLineNumber-1;if(o===0||!(r.firstCharOffset===0))return s;const c=t(o);if(!(r.languageId===c.languageId))return s;const d=c.toIViewLineTokens();return this.indentationLineProcessor.getProcessedTokens(d)}}class SIe{constructor(e,t){this.model=e,this.languageConfigurationService=t}getProcessedLine(e,t){var o,a;const i=(l,c)=>{const u=yo(l);return c+l.substring(u.length)};(a=(o=this.model.tokenization).forceTokenization)==null||a.call(o,e);const r=this.model.tokenization.getLineTokens(e);let s=this.getProcessedTokens(r).getLineContent();return t!==void 0&&(s=i(s,t)),s}getProcessedTokens(e){const t=l=>l===2||l===3||l===1,i=e.getLanguageId(0),s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew.getBracketRegExp({global:!0}),o=[];return e.forEach(l=>{const c=e.getStandardTokenType(l);let u=e.getTokenText(l);t(c)&&(u=u.replace(s,""));const d=e.getMetadata(l);o.push({text:u,metadata:d})}),ls.createFromTextAndMetadata(o,e.languageIdCodec)}}function NX(n,e){n.tokenization.forceTokenization(e.lineNumber);const t=n.tokenization.getLineTokens(e.lineNumber),i=Bm(t,e.column-1),r=i.firstCharOffset===0,s=t.getLanguageId(0)===i.languageId;return!r&&!s}function LX(n,e,t,i){e.tokenization.forceTokenization(t.startLineNumber);const r=e.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),s=i.getLanguageConfiguration(r);if(!s)return null;const a=new IX(e,i).getProcessedTokenContextAroundRange(t),l=a.previousLineProcessedTokens.getLineContent(),c=a.beforeRangeProcessedTokens.getLineContent(),u=a.afterRangeProcessedTokens.getLineContent(),d=s.onEnter(n,l,c,u);if(!d)return null;const h=d.indentAction;let f=d.appendText;const m=d.removeText||0;f?h===To.Indent&&(f="	"+f):h===To.Indent||h===To.IndentOutdent?f="	":f="";let g=gwe(e,t.startLineNumber,t.startColumn);return m&&(g=g.substring(0,g.length-m)),{indentAction:h,appendText:f,removeText:m,indentation:g}}var Ugt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Hgt=function(n,e){return function(t,i){e(t,i,n)}},LL;const Q3=Object.create(null);function Yp(n,e){if(e<=0)return"";Q3[n]||(Q3[n]=["",n]);const t=Q3[n];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+n;return t[e]}let F_=LL=class{static unshiftIndent(e,t,i,r,s){const o=xr.visibleColumnFromColumn(e,t,i);if(s){const a=Yp(" ",r),c=xr.prevIndentTabStop(o,r)/r;return Yp(a,c)}else{const a="	",c=xr.prevRenderTabStop(o,i)/i;return Yp(a,c)}}static shiftIndent(e,t,i,r,s){const o=xr.visibleColumnFromColumn(e,t,i);if(s){const a=Yp(" ",r),c=xr.nextIndentTabStop(o,r)/r;return Yp(a,c)}else{const a="	",c=xr.nextRenderTabStop(o,i)/i;return Yp(a,c)}}constructor(e,t,i){this._languageConfigurationService=i,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&i!==r&&(r=r-1);const{tabSize:s,indentSize:o,insertSpaces:a}=this._opts,l=i===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,u=0;for(let d=i;d<=r;d++,c=u){u=0;const h=e.getLineContent(d);let f=Sa(h);if(this._opts.isUnshift&&(h.length===0||f===0)||!l&&!this._opts.isUnshift&&h.length===0)continue;if(f===-1&&(f=h.length),d>1&&xr.visibleColumnFromColumn(h,f+1,s)%o!==0&&e.tokenization.isCheapToTokenize(d-1)){const _=LX(this._opts.autoIndent,e,new ce(d-1,e.getLineMaxColumn(d-1),d-1,e.getLineMaxColumn(d-1)),this._languageConfigurationService);if(_){if(u=c,_.appendText)for(let v=0,S=_.appendText.length;v<S&&u<o&&_.appendText.charCodeAt(v)===32;v++)u++;_.removeText&&(u=Math.max(0,u-_.removeText));for(let v=0;v<u&&!(f===0||h.charCodeAt(f-1)!==32);v++)f--}}if(this._opts.isUnshift&&f===0)continue;let m;this._opts.isUnshift?m=LL.unshiftIndent(h,f+1,s,o,a):m=LL.shiftIndent(h,f+1,s,o,a),this._addEditOperation(t,new ce(d,1,d,f+1),m),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=a?Yp(" ",o):"	";for(let u=i;u<=r;u++){const d=e.getLineContent(u);let h=Sa(d);if(!(this._opts.isUnshift&&(d.length===0||h===0))&&!(!l&&!this._opts.isUnshift&&d.length===0)&&(h===-1&&(h=d.length),!(this._opts.isUnshift&&h===0)))if(this._opts.isUnshift){h=Math.min(h,o);for(let f=0;f<h;f++)if(d.charCodeAt(f)===9){h=f+1;break}this._addEditOperation(t,new ce(u,1,u,h+1),"")}else this._addEditOperation(t,new ce(u,1,u,1),c),u===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const r=t.getInverseEditOperations()[0];return new vn(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const r=this._selection.startColumn;return i.startColumn<=r?i:i.getDirection()===0?new vn(i.startLineNumber,r,i.endLineNumber,i.endColumn):new vn(i.endLineNumber,i.endColumn,i.startLineNumber,r)}return i}};F_=LL=Ugt([Hgt(2,Od)],F_);class Vgt{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new ce(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new ce(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),r=i[0].range,s=i[1].range;return new vn(r.endLineNumber,r.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}class Wgt{constructor(e,t,i){this._position=e,this._text=t,this._charAfter=i}getEditOperations(e,t){t.addTrackedEditOperation(new ce(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return new vn(r.endLineNumber,r.startColumn,r.endLineNumber,r.endColumn-this._charAfter.length)}}function $gt(n,e,t){const i=n.tokenization.getLanguageIdAtPosition(e,0);if(e>1){let r,s=-1;for(r=e-1;r>=1;r--){if(n.tokenization.getLanguageIdAtPosition(r,0)!==i)return s;const o=n.getLineContent(r);if(t.shouldIgnore(r)||/^\s+$/.test(o)||o===""){s=r;continue}return r}}return-1}function Jx(n,e,t,i=!0,r){if(n<4)return null;const s=r.getLanguageConfiguration(e.tokenization.getLanguageId()).indentRulesSupport;if(!s)return null;const o=new Bgt(e,s,r);if(t<=1)return{indentation:"",action:null};for(let l=t-1;l>0&&e.getLineContent(l)==="";l--)if(l===1)return{indentation:"",action:null};const a=$gt(e,t,o);if(a<0)return null;if(a<1)return{indentation:"",action:null};if(o.shouldIncrease(a)||o.shouldIndentNextLine(a)){const l=e.getLineContent(a);return{indentation:yo(l),action:To.Indent,line:a}}else if(o.shouldDecrease(a)){const l=e.getLineContent(a);return{indentation:yo(l),action:null,line:a}}else{if(a===1)return{indentation:yo(e.getLineContent(a)),action:null,line:a};const l=a-1,c=s.getIndentMetadata(e.getLineContent(l));if(!(c&3)&&c&4){let u=0;for(let d=l-1;d>0;d--)if(!o.shouldIndentNextLine(d)){u=d;break}return{indentation:yo(e.getLineContent(u+1)),action:null,line:u+1}}if(i)return{indentation:yo(e.getLineContent(a)),action:null,line:a};for(let u=a;u>0;u--){if(o.shouldIncrease(u))return{indentation:yo(e.getLineContent(u)),action:To.Indent,line:u};if(o.shouldIndentNextLine(u)){let d=0;for(let h=u-1;h>0;h--)if(!o.shouldIndentNextLine(u)){d=h;break}return{indentation:yo(e.getLineContent(d+1)),action:null,line:d+1}}else if(o.shouldDecrease(u))return{indentation:yo(e.getLineContent(u)),action:null,line:u}}return{indentation:yo(e.getLineContent(1)),action:null,line:1}}}function Ggt(n,e,t,i,r){if(n<4)return null;const s=e.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),o=r.getLanguageConfiguration(s).indentRulesSupport;if(!o)return null;e.tokenization.forceTokenization(t.startLineNumber);const l=new IX(e,r).getProcessedTokenContextAroundRange(t),c=l.afterRangeProcessedTokens,u=l.beforeRangeProcessedTokens,d=yo(u.getLineContent()),h=jgt(e,t.startLineNumber,u),f=NX(e,t.getStartPosition()),m=e.getLineContent(t.startLineNumber),g=yo(m),_=Jx(n,h,t.startLineNumber+1,void 0,r);if(!_){const S=f?g:d;return{beforeEnter:S,afterEnter:S}}let v=f?g:_.indentation;return _.action===To.Indent&&(v=i.shiftIndent(v)),o.shouldDecrease(c.getLineContent())&&(v=i.unshiftIndent(v)),{beforeEnter:f?g:d,afterEnter:v}}function zgt(n,e,t,i,r,s){const o=n.autoIndent;if(o<4||NX(e,t.getStartPosition()))return null;const l=e.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),c=s.getLanguageConfiguration(l).indentRulesSupport;if(!c)return null;const d=new IX(e,s).getProcessedTokenContextAroundRange(t),h=d.beforeRangeProcessedTokens.getLineContent(),f=d.afterRangeProcessedTokens.getLineContent(),m=h+f,g=h+i+f;if(!c.shouldDecrease(m)&&c.shouldDecrease(g)){const v=Jx(o,e,t.startLineNumber,!1,s);if(!v)return null;let S=v.indentation;return v.action!==To.Indent&&(S=r.unshiftIndent(S)),S}const _=t.startLineNumber-1;if(_>0){const v=e.getLineContent(_);if(c.shouldIndentNextLine(v)&&c.shouldIncrease(g)){const S=Jx(o,e,t.startLineNumber,!1,s),C=S==null?void 0:S.indentation;if(C!==void 0){const y=e.getLineContent(t.startLineNumber),b=yo(y),I=r.shiftIndent(C)===b,O=/^\s*$/.test(m),x=n.autoClosingPairs.autoClosingPairsOpenByEnd.get(i),P=x&&x.length>0&&O;if(I&&P)return C}}}return null}function jgt(n,e,t){return{tokenization:{getLineTokens:r=>r===e?t:n.tokenization.getLineTokens(r),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(r,s)=>n.getLanguageIdAtPosition(r,s)},getLineContent:r=>r===e?t.getLineContent():n.getLineContent(r)}}class Ygt{static getEdits(e,t,i,r,s){if(!s&&this._isAutoIndentType(e,t,i)){const o=[];for(const l of i){const c=this._findActualIndentationForSelection(e,t,l,r);if(c===null)return;o.push({selection:l,indentation:c})}const a=Q$.getAutoClosingPairClose(e,t,i,r,!1);return this._getIndentationAndAutoClosingPairEdits(e,t,o,r,a)}}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let r=0,s=i.length;r<s;r++)if(!t.tokenization.isCheapToTokenize(i[r].getEndPosition().lineNumber))return!1;return!0}static _findActualIndentationForSelection(e,t,i,r){const s=zgt(e,t,i,r,{shiftIndent:a=>DX(e,a),unshiftIndent:a=>eD(e,a)},e.languageConfigurationService);if(s===null)return null;const o=gwe(t,i.startLineNumber,i.startColumn);return s===e.normalizeIndentation(o)?null:s}static _getIndentationAndAutoClosingPairEdits(e,t,i,r,s){const o=i.map(({selection:l,indentation:c})=>{if(s!==null){const u=this._getEditFromIndentationAndSelection(e,t,c,l,r,!1);return new rpt(u,l,r,s)}else{const u=this._getEditFromIndentationAndSelection(e,t,c,l,r,!0);return om(u.range,u.text,!1)}}),a={shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1};return new ea(4,o,a)}static _getEditFromIndentationAndSelection(e,t,i,r,s,o=!0){const a=r.startLineNumber,l=t.getLineFirstNonWhitespaceColumn(a);let c=e.normalizeIndentation(i);if(l!==0){const d=t.getLineContent(a);c+=d.substring(l-1,r.startColumn-1)}return c+=o?s:"",{range:new ce(a,1,r.endLineNumber,r.endColumn),text:c}}}class Kgt{static getEdits(e,t,i,r,s,o){if(yIe(t,i,r,s,o))return this._runAutoClosingOvertype(e,r,o)}static _runAutoClosingOvertype(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const l=t[s].getPosition(),c=new ce(l.lineNumber,l.column,l.lineNumber,l.column+1);r[s]=new ga(c,i)}return new ea(4,r,{shouldPushStackElementBefore:R2(e,4),shouldPushStackElementAfter:!1})}}class qgt{static getEdits(e,t,i,r,s){if(yIe(e,t,i,r,s)){const o=i.map(a=>new ga(new ce(a.positionLineNumber,a.positionColumn,a.positionLineNumber,a.positionColumn+1),"",!1));return new ea(4,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}}}class Q${static getEdits(e,t,i,r,s,o){if(!o){const a=this.getAutoClosingPairClose(e,t,i,r,s);if(a!==null)return this._runAutoClosingOpenCharType(i,r,s,a)}}static _runAutoClosingOpenCharType(e,t,i,r){const s=[];for(let o=0,a=e.length;o<a;o++){const l=e[o];s[o]=new ipt(l,t,!i,r)}return new ea(4,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static getAutoClosingPairClose(e,t,i,r,s){for(const m of i)if(!m.isEmpty())return null;const o=i.map(m=>{const g=m.getPosition();return s?{lineNumber:g.lineNumber,beforeColumn:g.column-r.length,afterColumn:g.column}:{lineNumber:g.lineNumber,beforeColumn:g.column,afterColumn:g.column}}),a=this._findAutoClosingPairOpen(e,t,o.map(m=>new Ee(m.lineNumber,m.beforeColumn)),r);if(!a)return null;let l,c;if(np(r)?(l=e.autoClosingQuotes,c=e.shouldAutoCloseBefore.quote):(e.blockCommentStartToken?a.open.includes(e.blockCommentStartToken):!1)?(l=e.autoClosingComments,c=e.shouldAutoCloseBefore.comment):(l=e.autoClosingBrackets,c=e.shouldAutoCloseBefore.bracket),l==="never")return null;const d=this._findContainedAutoClosingPair(e,a),h=d?d.close:"";let f=!0;for(const m of o){const{lineNumber:g,beforeColumn:_,afterColumn:v}=m,S=t.getLineContent(g),C=S.substring(0,_-1),y=S.substring(v-1);if(y.startsWith(h)||(f=!1),y.length>0){const O=y.charAt(0);if(!this._isBeforeClosingBrace(e,y)&&!c(O))return null}if(a.open.length===1&&(r==="'"||r==='"')&&l!=="always"){const O=mC(e.wordSeparators,[]);if(C.length>0){const x=C.charCodeAt(C.length-1);if(O.get(x)===0)return null}}if(!t.tokenization.isCheapToTokenize(g))return null;t.tokenization.forceTokenization(g);const b=t.tokenization.getLineTokens(g),w=Bm(b,_-1);if(!a.shouldAutoClose(w,_-w.firstCharOffset))return null;const I=a.findNeutralCharacter();if(I){const O=t.tokenization.getTokenTypeIfInsertingCharacter(g,_,I);if(!a.isOK(O))return null}}return f?a.close.substring(0,a.close.length-h.length):a.close}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),r=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let s=null;for(const o of r)o.open!==t.open&&t.open.includes(o.open)&&t.close.endsWith(o.close)&&(!s||o.open.length>s.open.length)&&(s=o);return s}static _findAutoClosingPairOpen(e,t,i,r){const s=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(r);if(!s)return null;let o=null;for(const a of s)if(o===null||a.open.length>o.open.length){let l=!0;for(const c of i)if(t.getValueInRange(new ce(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+r!==a.open){l=!1;break}l&&(o=a)}return o}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),r=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],s=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],o=r.some(l=>t.startsWith(l.open)),a=s.some(l=>t.startsWith(l.close));return!o&&a}}class Xgt{static getEdits(e,t,i,r,s){if(!s&&this._isSurroundSelectionType(e,t,i,r))return this._runSurroundSelectionType(e,i,r)}static _runSurroundSelectionType(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=e.surroundingPairs[i];r[s]=new Vgt(a,i,l)}return new ea(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isSurroundSelectionType(e,t,i,r){if(!bIe(e,r)||!e.surroundingPairs.hasOwnProperty(r))return!1;const s=np(r);for(const o of i){if(o.isEmpty())return!1;let a=!0;for(let l=o.startLineNumber;l<=o.endLineNumber;l++){const c=t.getLineContent(l),u=l===o.startLineNumber?o.startColumn-1:0,d=l===o.endLineNumber?o.endColumn-1:c.length,h=c.substring(u,d);if(/[^ \t]/.test(h)){a=!1;break}}if(a)return!1;if(s&&o.startLineNumber===o.endLineNumber&&o.startColumn+1===o.endColumn){const l=t.getValueInRange(o);if(np(l))return!1}}return!0}}class Qgt{static getEdits(e,t,i,r,s,o){if(!o&&this._isTypeInterceptorElectricChar(t,i,r)){const a=this._typeInterceptorElectricChar(e,t,i,r[0],s);if(a)return a}}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.tokenization.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,r,s){if(!t.electricChars.hasOwnProperty(s)||!r.isEmpty())return null;const o=r.getPosition();i.tokenization.forceTokenization(o.lineNumber);const a=i.tokenization.getLineTokens(o.lineNumber);let l;try{l=t.onElectricCharacter(s,a,o.column)}catch(c){return hi(c),null}if(!l)return null;if(l.matchOpenBracket){const c=(a.getLineContent()+s).lastIndexOf(l.matchOpenBracket)+1,u=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:o.lineNumber,column:c},500);if(u){if(u.startLineNumber===o.lineNumber)return null;const d=i.getLineContent(u.startLineNumber),h=yo(d),f=t.normalizeIndentation(h),m=i.getLineContent(o.lineNumber),g=i.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column,_=m.substring(g-1,o.column-1),v=f+_+s,S=new ce(o.lineNumber,1,o.lineNumber,o.column),C=new ga(S,v);return new ea(xX(v,e),[C],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}}class Zgt{static getEdits(e,t,i){const r=[];for(let o=0,a=t.length;o<a;o++)r[o]=new ga(t[o],i);const s=xX(i,e);return new ea(s,r,{shouldPushStackElementBefore:R2(e,s),shouldPushStackElementAfter:!1})}}class CIe{static getEdits(e,t,i,r,s){if(!s&&r===`
`){const o=[];for(let a=0,l=i.length;a<l;a++)o[a]=this._enter(e,t,!1,i[a]);return new ea(4,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}}static _enter(e,t,i,r){if(e.autoIndent===0)return om(r,`
`,i);if(!t.tokenization.isCheapToTokenize(r.getStartPosition().lineNumber)||e.autoIndent===1){const l=t.getLineContent(r.startLineNumber),c=yo(l).substring(0,r.startColumn-1);return om(r,`
`+e.normalizeIndentation(c),i)}const s=LX(e.autoIndent,t,r,e.languageConfigurationService);if(s){if(s.indentAction===To.None)return om(r,`
`+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===To.Indent)return om(r,`
`+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===To.IndentOutdent){const l=e.normalizeIndentation(s.indentation),c=e.normalizeIndentation(s.indentation+s.appendText),u=`
`+c+`
`+l;return i?new NL(r,u,!0):new Qx(r,u,-1,c.length-l.length,!0)}else if(s.indentAction===To.Outdent){const l=eD(e,s.indentation);return om(r,`
`+e.normalizeIndentation(l+s.appendText),i)}}const o=t.getLineContent(r.startLineNumber),a=yo(o).substring(0,r.startColumn-1);if(e.autoIndent>=4){const l=Ggt(e.autoIndent,t,r,{unshiftIndent:c=>eD(e,c),shiftIndent:c=>DX(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)},e.languageConfigurationService);if(l){let c=e.visibleColumnFromColumn(t,r.getEndPosition());const u=r.endColumn,d=t.getLineContent(r.endLineNumber),h=Sa(d);if(h>=0?r=r.setEndPosition(r.endLineNumber,Math.max(r.endColumn,h+1)):r=r.setEndPosition(r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),i)return new NL(r,`
`+e.normalizeIndentation(l.afterEnter),!0);{let f=0;return u<=h+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),f=Math.min(c+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new Qx(r,`
`+e.normalizeIndentation(l.afterEnter),0,f,!0)}}}return om(r,`
`+e.normalizeIndentation(a),i)}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++){let a=i[s].positionLineNumber;if(a===1)r[s]=new NL(new ce(1,1,1,1),`
`);else{a--;const l=t.getLineMaxColumn(a);r[s]=this._enter(e,t,!1,new ce(a,l,a,l))}}return r}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s].positionLineNumber,l=t.getLineMaxColumn(a);r[s]=this._enter(e,t,!1,new ce(a,l,a,l))}return r}static lineBreakInsert(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=this._enter(e,t,!0,i[s]);return r}}class Jgt{static getEdits(e,t,i,r,s,o){const a=this._distributePasteToCursors(e,i,r,s,o);return a?(i=i.sort(ce.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,r,s)}static _distributePasteToCursors(e,t,i,r,s){if(r||t.length===1)return null;if(s&&s.length===t.length)return s;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substring(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substring(0,i.length-1));const o=Sy(i);if(o.length===t.length)return o}return null}static _distributedPaste(e,t,i,r){const s=[];for(let o=0,a=i.length;o<a;o++)s[o]=new ga(i[o],r[o]);return new ea(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,r,s){const o=[];for(let a=0,l=i.length;a<l;a++){const c=i[a],u=c.getPosition();if(s&&!c.isEmpty()&&(s=!1),s&&r.indexOf(`
`)!==r.length-1&&(s=!1),s){const d=new ce(u.lineNumber,1,u.lineNumber,1);o[a]=new Fgt(d,r,c,!0)}else o[a]=new ga(c,r)}return new ea(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class ept{static getEdits(e,t,i,r,s,o,a,l){const c=r.map(u=>this._compositionType(i,u,s,o,a,l));return new ea(4,c,{shouldPushStackElementBefore:R2(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,r,s,o){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-r),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+s),u=new ce(a.lineNumber,l,a.lineNumber,c);return e.getValueInRange(u)===i&&o===0?null:new Qx(u,i,0,o)}}class tpt{static getEdits(e,t,i){const r=[];for(let o=0,a=t.length;o<a;o++)r[o]=new ga(t[o],i);const s=xX(i,e);return new ea(s,r,{shouldPushStackElementBefore:R2(e,s),shouldPushStackElementAfter:!1})}}class npt{static getCommands(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a.isEmpty()){const l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.tokenization.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";const u=e.normalizeIndentation(c);if(!l.startsWith(u)){r[s]=new ga(new ce(a.startLineNumber,1,a.startLineNumber,l.length+1),u,!0);continue}}r[s]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){const l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){r[s]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}r[s]=new F_(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return r}static _goodIndentForLine(e,t,i){let r=null,s="";const o=Jx(e.autoIndent,t,i,!1,e.languageConfigurationService);if(o)r=o.action,s=o.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){const u=t.getLineContent(a);if(tE(u)>=0)break}if(a<1)return null;const l=t.getLineMaxColumn(a),c=LX(e.autoIndent,t,new ce(a,l,a,l),e.languageConfigurationService);c&&(s=c.indentation+c.appendText)}return r&&(r===To.Indent&&(s=DX(e,s)),r===To.Outdent&&(s=eD(e,s)),s=e.normalizeIndentation(s)),s||null}static _replaceJumpToNextIndent(e,t,i,r){let s="";const o=i.getStartPosition();if(e.insertSpaces){const a=e.visibleColumnFromColumn(t,o),l=e.indentSize,c=l-a%l;for(let u=0;u<c;u++)s+=" "}else s="	";return new ga(i,s,r)}}class OX extends Qx{constructor(e,t,i,r,s,o){super(e,t,i,r),this._openCharacter=s,this._closeCharacter=o,this.closeCharacterRange=null,this.enclosingRange=null}_computeCursorStateWithRange(e,t,i){return this.closeCharacterRange=new ce(t.startLineNumber,t.endColumn-this._closeCharacter.length,t.endLineNumber,t.endColumn),this.enclosingRange=new ce(t.startLineNumber,t.endColumn-this._openCharacter.length-this._closeCharacter.length,t.endLineNumber,t.endColumn),super.computeCursorState(e,i)}}class ipt extends OX{constructor(e,t,i,r){const s=(i?t:"")+r,o=0,a=-r.length;super(e,s,o,a,t,r)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return this._computeCursorStateWithRange(e,r,t)}}class rpt extends OX{constructor(e,t,i,r){const s=i+r,o=0,a=i.length;super(t,s,o,a,i,r),this._autoIndentationEdit=e,this._autoClosingEdit={range:t,text:s}}getEditOperations(e,t){t.addTrackedEditOperation(this._autoIndentationEdit.range,this._autoIndentationEdit.text),t.addTrackedEditOperation(this._autoClosingEdit.range,this._autoClosingEdit.text)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(i.length!==2)throw new Error("There should be two inverse edit operations!");const r=i[0].range,s=i[1].range,o=r.plusRange(s);return this._computeCursorStateWithRange(e,o,t)}}function xX(n,e){return n===" "?e===5||e===6?6:5:4}function R2(n,e){return pde(n)&&!pde(e)?!0:n===5?!1:gde(n)!==gde(e)}function gde(n){return n===6||n===5?"space":n}function pde(n){return n===4||n===5||n===6}function yIe(n,e,t,i,r){if(n.autoClosingOvertype==="never"||!n.autoClosingPairs.autoClosingPairsCloseSingleChar.has(r))return!1;for(let s=0,o=t.length;s<o;s++){const a=t[s];if(!a.isEmpty())return!1;const l=a.getPosition(),c=e.getLineContent(l.lineNumber);if(c.charAt(l.column-1)!==r)return!1;const d=np(r);if((l.column>2?c.charCodeAt(l.column-2):0)===92&&d)return!1;if(n.autoClosingOvertype==="auto"){let f=!1;for(let m=0,g=i.length;m<g;m++){const _=i[m];if(l.lineNumber===_.startLineNumber&&l.column===_.startColumn){f=!0;break}}if(!f)return!1}}return!0}function om(n,e,t){return t?new NL(n,e,!0):new ga(n,e,!0)}function DX(n,e,t){return t=t||1,F_.shiftIndent(e,e.length+t,n.tabSize,n.indentSize,n.insertSpaces)}function eD(n,e,t){return t=t||1,F_.unshiftIndent(e,e.length+t,n.tabSize,n.indentSize,n.insertSpaces)}function bIe(n,e){return np(e)?n.autoSurround==="quotes"||n.autoSurround==="languageDefined":n.autoSurround==="brackets"||n.autoSurround==="languageDefined"}class Am{static indent(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=new F_(i[s],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return r}static outdent(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=new F_(i[s],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return r}static paste(e,t,i,r,s,o){return Jgt.getEdits(e,t,i,r,s,o)}static tab(e,t,i){return npt.getCommands(e,t,i)}static compositionType(e,t,i,r,s,o,a,l){return ept.getEdits(e,t,i,r,s,o,a,l)}static compositionEndWithInterceptors(e,t,i,r,s,o){if(!r)return null;let a=null;for(const h of r)if(a===null)a=h.insertedText;else if(a!==h.insertedText)return null;if(!a||a.length!==1)return null;const l=a;let c=!1;for(const h of r)if(h.deletedText.length!==0){c=!0;break}if(c){if(!bIe(t,l)||!t.surroundingPairs.hasOwnProperty(l))return null;const h=np(l);for(const g of r)if(g.deletedSelectionStart!==0||g.deletedSelectionEnd!==g.deletedText.length||/^[ \t]+$/.test(g.deletedText)||h&&np(g.deletedText))return null;const f=[];for(const g of s){if(!g.isEmpty())return null;f.push(g.getPosition())}if(f.length!==r.length)return null;const m=[];for(let g=0,_=f.length;g<_;g++)m.push(new Wgt(f[g],r[g].deletedText,t.surroundingPairs[l]));return new ea(4,m,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const u=qgt.getEdits(t,i,s,o,l);if(u!==void 0)return u;const d=Q$.getEdits(t,i,s,l,!0,!1);return d!==void 0?d:null}static typeWithInterceptors(e,t,i,r,s,o,a){const l=CIe.getEdits(i,r,s,a,e);if(l!==void 0)return l;const c=Ygt.getEdits(i,r,s,a,e);if(c!==void 0)return c;const u=Kgt.getEdits(t,i,r,s,o,a);if(u!==void 0)return u;const d=Q$.getEdits(i,r,s,a,!1,e);if(d!==void 0)return d;const h=Xgt.getEdits(i,r,s,a,e);if(h!==void 0)return h;const f=Qgt.getEdits(t,i,r,s,a,e);return f!==void 0?f:Zgt.getEdits(t,s,a)}static typeWithoutInterceptors(e,t,i,r,s){return tpt.getEdits(e,r,s)}}class spt{constructor(e,t,i,r,s,o){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=i,this.insertedText=r,this.insertedSelectionStart=s,this.insertedSelectionEnd=o}}var Ze;(function(n){n.editorSimpleInput=new ct("editorSimpleInput",!1,!0),n.editorTextFocus=new ct("editorTextFocus",!1,A("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),n.focus=new ct("editorFocus",!1,A("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),n.textInputFocus=new ct("textInputFocus",!1,A("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),n.readOnly=new ct("editorReadonly",!1,A("editorReadonly","Whether the editor is read-only")),n.inDiffEditor=new ct("inDiffEditor",!1,A("inDiffEditor","Whether the context is a diff editor")),n.isEmbeddedDiffEditor=new ct("isEmbeddedDiffEditor",!1,A("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),n.inMultiDiffEditor=new ct("inMultiDiffEditor",!1,A("inMultiDiffEditor","Whether the context is a multi diff editor")),n.multiDiffEditorAllCollapsed=new ct("multiDiffEditorAllCollapsed",void 0,A("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),n.hasChanges=new ct("diffEditorHasChanges",!1,A("diffEditorHasChanges","Whether the diff editor has changes")),n.comparingMovedCode=new ct("comparingMovedCode",!1,A("comparingMovedCode","Whether a moved code block is selected for comparison")),n.accessibleDiffViewerVisible=new ct("accessibleDiffViewerVisible",!1,A("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),n.diffEditorRenderSideBySideInlineBreakpointReached=new ct("diffEditorRenderSideBySideInlineBreakpointReached",!1,A("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),n.diffEditorInlineMode=new ct("diffEditorInlineMode",!1,A("diffEditorInlineMode","Whether inline mode is active")),n.diffEditorOriginalWritable=new ct("diffEditorOriginalWritable",!1,A("diffEditorOriginalWritable","Whether modified is writable in the diff editor")),n.diffEditorModifiedWritable=new ct("diffEditorModifiedWritable",!1,A("diffEditorModifiedWritable","Whether modified is writable in the diff editor")),n.diffEditorOriginalUri=new ct("diffEditorOriginalUri","",A("diffEditorOriginalUri","The uri of the original document")),n.diffEditorModifiedUri=new ct("diffEditorModifiedUri","",A("diffEditorModifiedUri","The uri of the modified document")),n.columnSelection=new ct("editorColumnSelection",!1,A("editorColumnSelection","Whether `editor.columnSelection` is enabled")),n.writable=n.readOnly.toNegated(),n.hasNonEmptySelection=new ct("editorHasSelection",!1,A("editorHasSelection","Whether the editor has text selected")),n.hasOnlyEmptySelection=n.hasNonEmptySelection.toNegated(),n.hasMultipleSelections=new ct("editorHasMultipleSelections",!1,A("editorHasMultipleSelections","Whether the editor has multiple selections")),n.hasSingleSelection=n.hasMultipleSelections.toNegated(),n.tabMovesFocus=new ct("editorTabMovesFocus",!1,A("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),n.tabDoesNotMoveFocus=n.tabMovesFocus.toNegated(),n.isInEmbeddedEditor=new ct("isInEmbeddedEditor",!1,!0),n.canUndo=new ct("canUndo",!1,!0),n.canRedo=new ct("canRedo",!1,!0),n.hoverVisible=new ct("editorHoverVisible",!1,A("editorHoverVisible","Whether the editor hover is visible")),n.hoverFocused=new ct("editorHoverFocused",!1,A("editorHoverFocused","Whether the editor hover is focused")),n.stickyScrollFocused=new ct("stickyScrollFocused",!1,A("stickyScrollFocused","Whether the sticky scroll is focused")),n.stickyScrollVisible=new ct("stickyScrollVisible",!1,A("stickyScrollVisible","Whether the sticky scroll is visible")),n.standaloneColorPickerVisible=new ct("standaloneColorPickerVisible",!1,A("standaloneColorPickerVisible","Whether the standalone color picker is visible")),n.standaloneColorPickerFocused=new ct("standaloneColorPickerFocused",!1,A("standaloneColorPickerFocused","Whether the standalone color picker is focused")),n.inCompositeEditor=new ct("inCompositeEditor",void 0,A("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),n.notInCompositeEditor=n.inCompositeEditor.toNegated(),n.languageId=new ct("editorLangId","",A("editorLangId","The language identifier of the editor")),n.hasCompletionItemProvider=new ct("editorHasCompletionItemProvider",!1,A("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),n.hasCodeActionsProvider=new ct("editorHasCodeActionsProvider",!1,A("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),n.hasCodeLensProvider=new ct("editorHasCodeLensProvider",!1,A("editorHasCodeLensProvider","Whether the editor has a code lens provider")),n.hasDefinitionProvider=new ct("editorHasDefinitionProvider",!1,A("editorHasDefinitionProvider","Whether the editor has a definition provider")),n.hasDeclarationProvider=new ct("editorHasDeclarationProvider",!1,A("editorHasDeclarationProvider","Whether the editor has a declaration provider")),n.hasImplementationProvider=new ct("editorHasImplementationProvider",!1,A("editorHasImplementationProvider","Whether the editor has an implementation provider")),n.hasTypeDefinitionProvider=new ct("editorHasTypeDefinitionProvider",!1,A("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),n.hasHoverProvider=new ct("editorHasHoverProvider",!1,A("editorHasHoverProvider","Whether the editor has a hover provider")),n.hasDocumentHighlightProvider=new ct("editorHasDocumentHighlightProvider",!1,A("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),n.hasDocumentSymbolProvider=new ct("editorHasDocumentSymbolProvider",!1,A("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),n.hasReferenceProvider=new ct("editorHasReferenceProvider",!1,A("editorHasReferenceProvider","Whether the editor has a reference provider")),n.hasRenameProvider=new ct("editorHasRenameProvider",!1,A("editorHasRenameProvider","Whether the editor has a rename provider")),n.hasSignatureHelpProvider=new ct("editorHasSignatureHelpProvider",!1,A("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),n.hasInlayHintsProvider=new ct("editorHasInlayHintsProvider",!1,A("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),n.hasDocumentFormattingProvider=new ct("editorHasDocumentFormattingProvider",!1,A("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),n.hasDocumentSelectionFormattingProvider=new ct("editorHasDocumentSelectionFormattingProvider",!1,A("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),n.hasMultipleDocumentFormattingProvider=new ct("editorHasMultipleDocumentFormattingProvider",!1,A("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),n.hasMultipleDocumentSelectionFormattingProvider=new ct("editorHasMultipleDocumentSelectionFormattingProvider",!1,A("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(Ze||(Ze={}));const An=0;class zi extends O_{runEditorCommand(e,t,i){const r=t._getViewModel();r&&this.runCoreEditorCommand(r,i||{})}}var vs;(function(n){const e=function(i){if(!Yo(i))return!1;const r=i;return!(!Ka(r.to)||!Cl(r.by)&&!Ka(r.by)||!Cl(r.value)&&!my(r.value)||!Cl(r.revealCursor)&&!U0e(r.revealCursor))};n.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},n.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function t(i){let r;switch(i.to){case n.RawDirection.Up:r=1;break;case n.RawDirection.Right:r=2;break;case n.RawDirection.Down:r=3;break;case n.RawDirection.Left:r=4;break;default:return null}let s;switch(i.by){case n.RawUnit.Line:s=1;break;case n.RawUnit.WrappedLine:s=2;break;case n.RawUnit.Page:s=3;break;case n.RawUnit.HalfPage:s=4;break;case n.RawUnit.Editor:s=5;break;case n.RawUnit.Column:s=6;break;default:s=2}const o=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:r,unit:s,value:o,revealCursor:a,select:!!i.select}}n.parse=t})(vs||(vs={}));var qv;(function(n){const e=function(t){if(!Yo(t))return!1;const i=t;return!(!my(i.lineNumber)&&!Ka(i.lineNumber)||!Cl(i.at)&&!Ka(i.at))};n.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(qv||(qv={}));class Z${constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{const r=t.get(Fr).getFocusedCodeEditor();return r&&r.hasTextFocus()?this._runEditorCommand(t,r,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{const r=fo();return r&&["input","textarea"].indexOf(r.tagName.toLowerCase())>=0?(this.runDOMCommand(r),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{const r=t.get(Fr).getActiveCodeEditor();return r?(r.focus(),this._runEditorCommand(t,r,i)):!1})}_runEditorCommand(e,t,i){const r=this.runEditorCommand(e,t,i);return r||!0}}var Vr;(function(n){class e extends zi{constructor(S){super(S),this._inSelectionMode=S.inSelectionMode}runCoreEditorCommand(S,C){if(!C.position)return;S.model.pushStackElement(),S.setCursorStates(C.source,3,[Qs.moveTo(S,S.getPrimaryCursorState(),this._inSelectionMode,C.position,C.viewPosition)])&&C.revealType!==2&&S.revealAllCursors(C.source,!0,!0)}}n.MoveTo=Ft(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),n.MoveToSelect=Ft(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class t extends zi{runCoreEditorCommand(S,C){S.model.pushStackElement();const y=this._getColumnSelectResult(S,S.getPrimaryCursorState(),S.getCursorColumnSelectData(),C);y!==null&&(S.setCursorStates(C.source,3,y.viewStates.map(b=>an.fromViewState(b))),S.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:y.fromLineNumber,fromViewVisualColumn:y.fromVisualColumn,toViewLineNumber:y.toLineNumber,toViewVisualColumn:y.toVisualColumn}),y.reversed?S.revealTopMostCursor(C.source):S.revealBottomMostCursor(C.source))}}n.ColumnSelect=Ft(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(v,S,C,y){if(typeof y.position>"u"||typeof y.viewPosition>"u"||typeof y.mouseColumn>"u")return null;const b=v.model.validatePosition(y.position),w=v.coordinatesConverter.validateViewPosition(new Ee(y.viewPosition.lineNumber,y.viewPosition.column),b),I=y.doColumnSelect?C.fromViewLineNumber:w.lineNumber,O=y.doColumnSelect?C.fromViewVisualColumn:y.mouseColumn-1;return wm.columnSelect(v.cursorConfig,v,I,O,w.lineNumber,y.mouseColumn-1)}}),n.CursorColumnSelectLeft=Ft(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(v,S,C,y){return wm.columnSelectLeft(v.cursorConfig,v,C)}}),n.CursorColumnSelectRight=Ft(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(v,S,C,y){return wm.columnSelectRight(v.cursorConfig,v,C)}});class i extends t{constructor(S){super(S),this._isPaged=S.isPaged}_getColumnSelectResult(S,C,y,b){return wm.columnSelectUp(S.cursorConfig,S,y,this._isPaged)}}n.CursorColumnSelectUp=Ft(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=Ft(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:3595,linux:{primary:0}}}));class r extends t{constructor(S){super(S),this._isPaged=S.isPaged}_getColumnSelectResult(S,C,y,b){return wm.columnSelectDown(S.cursorConfig,S,y,this._isPaged)}}n.CursorColumnSelectDown=Ft(new r({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=Ft(new r({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:3596,linux:{primary:0}}}));class s extends zi{constructor(){super({id:"cursorMove",precondition:void 0,metadata:Zx.metadata})}runCoreEditorCommand(S,C){const y=Zx.parse(C);y&&this._runCursorMove(S,C.source,y)}_runCursorMove(S,C,y){S.model.pushStackElement(),S.setCursorStates(C,3,s._move(S,S.getCursorStates(),y)),S.revealAllCursors(C,!0)}static _move(S,C,y){const b=y.select,w=y.value;switch(y.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return Qs.simpleMove(S,C,y.direction,b,w,y.unit);case 11:case 13:case 12:case 14:return Qs.viewportMove(S,C,y.direction,b,w);default:return null}}}n.CursorMoveImpl=s,n.CursorMove=Ft(new s);class o extends zi{constructor(S){super(S),this._staticArgs=S.args}runCoreEditorCommand(S,C){let y=this._staticArgs;this._staticArgs.value===-1&&(y={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:C.pageSize||S.cursorConfig.pageSize}),S.model.pushStackElement(),S.setCursorStates(C.source,3,Qs.simpleMove(S,S.getCursorStates(),y.direction,y.select,y.value,y.unit)),S.revealAllCursors(C.source,!0)}}n.CursorLeft=Ft(new o({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=Ft(new o({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:1039}})),n.CursorRight=Ft(new o({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=Ft(new o({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:1041}})),n.CursorUp=Ft(new o({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=Ft(new o({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=Ft(new o({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:11}})),n.CursorPageUpSelect=Ft(new o({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:1035}})),n.CursorDown=Ft(new o({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=Ft(new o({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=Ft(new o({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:12}})),n.CursorPageDownSelect=Ft(new o({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:1036}})),n.CreateCursor=Ft(new class extends zi{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(v,S){if(!S.position)return;let C;S.wholeLine?C=Qs.line(v,v.getPrimaryCursorState(),!1,S.position,S.viewPosition):C=Qs.moveTo(v,v.getPrimaryCursorState(),!1,S.position,S.viewPosition);const y=v.getCursorStates();if(y.length>1){const b=C.modelState?C.modelState.position:null,w=C.viewState?C.viewState.position:null;for(let I=0,O=y.length;I<O;I++){const x=y[I];if(!(b&&!x.modelState.selection.containsPosition(b))&&!(w&&!x.viewState.selection.containsPosition(w))){y.splice(I,1),v.model.pushStackElement(),v.setCursorStates(S.source,3,y);return}}}y.push(C),v.model.pushStackElement(),v.setCursorStates(S.source,3,y)}}),n.LastCursorMoveToSelect=Ft(new class extends zi{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(v,S){if(!S.position)return;const C=v.getLastAddedCursorIndex(),y=v.getCursorStates(),b=y.slice(0);b[C]=Qs.moveTo(v,y[C],!0,S.position,S.viewPosition),v.model.pushStackElement(),v.setCursorStates(S.source,3,b)}});class a extends zi{constructor(S){super(S),this._inSelectionMode=S.inSelectionMode}runCoreEditorCommand(S,C){S.model.pushStackElement(),S.setCursorStates(C.source,3,Qs.moveToBeginningOfLine(S,S.getCursorStates(),this._inSelectionMode)),S.revealAllCursors(C.source,!0)}}n.CursorHome=Ft(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=Ft(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends zi{constructor(S){super(S),this._inSelectionMode=S.inSelectionMode}runCoreEditorCommand(S,C){S.model.pushStackElement(),S.setCursorStates(C.source,3,this._exec(S.getCursorStates())),S.revealAllCursors(C.source,!0)}_exec(S){const C=[];for(let y=0,b=S.length;y<b;y++){const w=S[y],I=w.modelState.position.lineNumber;C[y]=an.fromModelState(w.modelState.move(this._inSelectionMode,I,1,0))}return C}}n.CursorLineStart=Ft(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:0,mac:{primary:287}}})),n.CursorLineStartSelect=Ft(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends zi{constructor(S){super(S),this._inSelectionMode=S.inSelectionMode}runCoreEditorCommand(S,C){S.model.pushStackElement(),S.setCursorStates(C.source,3,Qs.moveToEndOfLine(S,S.getCursorStates(),this._inSelectionMode,C.sticky||!1)),S.revealAllCursors(C.source,!0)}}n.CursorEnd=Ft(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:An,kbExpr:Ze.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:A("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),n.CursorEndSelect=Ft(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:An,kbExpr:Ze.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:A("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class u extends zi{constructor(S){super(S),this._inSelectionMode=S.inSelectionMode}runCoreEditorCommand(S,C){S.model.pushStackElement(),S.setCursorStates(C.source,3,this._exec(S,S.getCursorStates())),S.revealAllCursors(C.source,!0)}_exec(S,C){const y=[];for(let b=0,w=C.length;b<w;b++){const I=C[b],O=I.modelState.position.lineNumber,x=S.model.getLineMaxColumn(O);y[b]=an.fromModelState(I.modelState.move(this._inSelectionMode,O,x,0))}return y}}n.CursorLineEnd=Ft(new u({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:0,mac:{primary:291}}})),n.CursorLineEndSelect=Ft(new u({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:0,mac:{primary:1315}}}));class d extends zi{constructor(S){super(S),this._inSelectionMode=S.inSelectionMode}runCoreEditorCommand(S,C){S.model.pushStackElement(),S.setCursorStates(C.source,3,Qs.moveToBeginningOfBuffer(S,S.getCursorStates(),this._inSelectionMode)),S.revealAllCursors(C.source,!0)}}n.CursorTop=Ft(new d({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=Ft(new d({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:3086,mac:{primary:3088}}}));class h extends zi{constructor(S){super(S),this._inSelectionMode=S.inSelectionMode}runCoreEditorCommand(S,C){S.model.pushStackElement(),S.setCursorStates(C.source,3,Qs.moveToEndOfBuffer(S,S.getCursorStates(),this._inSelectionMode)),S.revealAllCursors(C.source,!0)}}n.CursorBottom=Ft(new h({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=Ft(new h({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:3085,mac:{primary:3090}}}));class f extends zi{constructor(){super({id:"editorScroll",precondition:void 0,metadata:vs.metadata})}determineScrollMethod(S){const C=[6],y=[1,2,3,4,5,6],b=[4,2],w=[1,3];return C.includes(S.unit)&&b.includes(S.direction)?this._runHorizontalEditorScroll.bind(this):y.includes(S.unit)&&w.includes(S.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(S,C){const y=vs.parse(C);if(!y)return;const b=this.determineScrollMethod(y);b&&b(S,C.source,y)}_runVerticalEditorScroll(S,C,y){const b=this._computeDesiredScrollTop(S,y);if(y.revealCursor){const w=S.getCompletelyVisibleViewRangeAtScrollTop(b);S.setCursorStates(C,3,[Qs.findPositionInViewportIfOutside(S,S.getPrimaryCursorState(),w,y.select)])}S.viewLayout.setScrollPosition({scrollTop:b},0)}_computeDesiredScrollTop(S,C){if(C.unit===1){const w=S.viewLayout.getFutureViewport(),I=S.getCompletelyVisibleViewRangeAtScrollTop(w.top),O=S.coordinatesConverter.convertViewRangeToModelRange(I);let x;C.direction===1?x=Math.max(1,O.startLineNumber-C.value):x=Math.min(S.model.getLineCount(),O.startLineNumber+C.value);const k=S.coordinatesConverter.convertModelPositionToViewPosition(new Ee(x,1));return S.viewLayout.getVerticalOffsetForLineNumber(k.lineNumber)}if(C.unit===5){let w=0;return C.direction===3&&(w=S.model.getLineCount()-S.cursorConfig.pageSize),S.viewLayout.getVerticalOffsetForLineNumber(w)}let y;C.unit===3?y=S.cursorConfig.pageSize*C.value:C.unit===4?y=Math.round(S.cursorConfig.pageSize/2)*C.value:y=C.value;const b=(C.direction===1?-1:1)*y;return S.viewLayout.getCurrentScrollTop()+b*S.cursorConfig.lineHeight}_runHorizontalEditorScroll(S,C,y){const b=this._computeDesiredScrollLeft(S,y);S.viewLayout.setScrollPosition({scrollLeft:b},0)}_computeDesiredScrollLeft(S,C){const y=(C.direction===4?-1:1)*C.value;return S.viewLayout.getCurrentScrollLeft()+y*S.cursorConfig.typicalHalfwidthCharacterWidth}}n.EditorScrollImpl=f,n.EditorScroll=Ft(new f),n.ScrollLineUp=Ft(new class extends zi{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(v,S){n.EditorScroll.runCoreEditorCommand(v,{to:vs.RawDirection.Up,by:vs.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:S.source})}}),n.ScrollPageUp=Ft(new class extends zi{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(v,S){n.EditorScroll.runCoreEditorCommand(v,{to:vs.RawDirection.Up,by:vs.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:S.source})}}),n.ScrollEditorTop=Ft(new class extends zi{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus}})}runCoreEditorCommand(v,S){n.EditorScroll.runCoreEditorCommand(v,{to:vs.RawDirection.Up,by:vs.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:S.source})}}),n.ScrollLineDown=Ft(new class extends zi{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(v,S){n.EditorScroll.runCoreEditorCommand(v,{to:vs.RawDirection.Down,by:vs.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:S.source})}}),n.ScrollPageDown=Ft(new class extends zi{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(v,S){n.EditorScroll.runCoreEditorCommand(v,{to:vs.RawDirection.Down,by:vs.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:S.source})}}),n.ScrollEditorBottom=Ft(new class extends zi{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus}})}runCoreEditorCommand(v,S){n.EditorScroll.runCoreEditorCommand(v,{to:vs.RawDirection.Down,by:vs.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:S.source})}}),n.ScrollLeft=Ft(new class extends zi{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus}})}runCoreEditorCommand(v,S){n.EditorScroll.runCoreEditorCommand(v,{to:vs.RawDirection.Left,by:vs.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:S.source})}}),n.ScrollRight=Ft(new class extends zi{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus}})}runCoreEditorCommand(v,S){n.EditorScroll.runCoreEditorCommand(v,{to:vs.RawDirection.Right,by:vs.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:S.source})}});class m extends zi{constructor(S){super(S),this._inSelectionMode=S.inSelectionMode}runCoreEditorCommand(S,C){C.position&&(S.model.pushStackElement(),S.setCursorStates(C.source,3,[Qs.word(S,S.getPrimaryCursorState(),this._inSelectionMode,C.position)]),C.revealType!==2&&S.revealAllCursors(C.source,!0,!0))}}n.WordSelect=Ft(new m({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),n.WordSelectDrag=Ft(new m({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),n.LastCursorWordSelect=Ft(new class extends zi{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(v,S){if(!S.position)return;const C=v.getLastAddedCursorIndex(),y=v.getCursorStates(),b=y.slice(0),w=y[C];b[C]=Qs.word(v,w,w.modelState.hasSelection(),S.position),v.model.pushStackElement(),v.setCursorStates(S.source,3,b)}});class g extends zi{constructor(S){super(S),this._inSelectionMode=S.inSelectionMode}runCoreEditorCommand(S,C){C.position&&(S.model.pushStackElement(),S.setCursorStates(C.source,3,[Qs.line(S,S.getPrimaryCursorState(),this._inSelectionMode,C.position,C.viewPosition)]),C.revealType!==2&&S.revealAllCursors(C.source,!1,!0))}}n.LineSelect=Ft(new g({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),n.LineSelectDrag=Ft(new g({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class _ extends zi{constructor(S){super(S),this._inSelectionMode=S.inSelectionMode}runCoreEditorCommand(S,C){if(!C.position)return;const y=S.getLastAddedCursorIndex(),b=S.getCursorStates(),w=b.slice(0);w[y]=Qs.line(S,b[y],this._inSelectionMode,C.position,C.viewPosition),S.model.pushStackElement(),S.setCursorStates(C.source,3,w)}}n.LastCursorLineSelect=Ft(new _({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),n.LastCursorLineSelectDrag=Ft(new _({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),n.CancelSelection=Ft(new class extends zi{constructor(){super({id:"cancelSelection",precondition:Ze.hasNonEmptySelection,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(v,S){v.model.pushStackElement(),v.setCursorStates(S.source,3,[Qs.cancelSelection(v,v.getPrimaryCursorState())]),v.revealAllCursors(S.source,!0)}}),n.RemoveSecondaryCursors=Ft(new class extends zi{constructor(){super({id:"removeSecondaryCursors",precondition:Ze.hasMultipleSelections,kbOpts:{weight:An+1,kbExpr:Ze.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(v,S){v.model.pushStackElement(),v.setCursorStates(S.source,3,[v.getPrimaryCursorState()]),v.revealAllCursors(S.source,!0),dx(A("removedCursor","Removed secondary cursors"))}}),n.RevealLine=Ft(new class extends zi{constructor(){super({id:"revealLine",precondition:void 0,metadata:qv.metadata})}runCoreEditorCommand(v,S){const C=S,y=C.lineNumber||0;let b=typeof y=="number"?y+1:parseInt(y)+1;b<1&&(b=1);const w=v.model.getLineCount();b>w&&(b=w);const I=new ce(b,1,b,v.model.getLineMaxColumn(b));let O=0;if(C.at)switch(C.at){case qv.RawAtArgument.Top:O=3;break;case qv.RawAtArgument.Center:O=1;break;case qv.RawAtArgument.Bottom:O=4;break}const x=v.coordinatesConverter.convertModelRangeToViewRange(I);v.revealRange(S.source,!1,x,O,0)}}),n.SelectAll=new class extends Z${constructor(){super(wJe)}runDOMCommand(v){dc&&(v.focus(),v.select()),v.ownerDocument.execCommand("selectAll")}runEditorCommand(v,S,C){const y=S._getViewModel();y&&this.runCoreEditorCommand(y,C)}runCoreEditorCommand(v,S){v.model.pushStackElement(),v.setCursorStates("keyboard",3,[Qs.selectAll(v,v.getPrimaryCursorState())])}},n.SetSelection=Ft(new class extends zi{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(v,S){S.selection&&(v.model.pushStackElement(),v.setCursorStates(S.source,3,[an.fromModelSelection(S.selection)]))}})})(Vr||(Vr={}));const opt=$n.and(Ze.textInputFocus,Ze.columnSelection);function Ny(n,e){vA.registerKeybindingRule({id:n,primary:e,when:opt,weight:An+1})}Ny(Vr.CursorColumnSelectLeft.id,1039);Ny(Vr.CursorColumnSelectRight.id,1041);Ny(Vr.CursorColumnSelectUp.id,1040);Ny(Vr.CursorColumnSelectPageUp.id,1035);Ny(Vr.CursorColumnSelectDown.id,1042);Ny(Vr.CursorColumnSelectPageDown.id,1036);function mde(n){return n.register(),n}var _de;(function(n){class e extends O_{runEditorCommand(i,r,s){const o=r._getViewModel();o&&this.runCoreEditingCommand(r,o,s||{})}}n.CoreEditingCommand=e,n.LineBreakInsert=Ft(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:Ze.writable,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,CIe.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection)))}}),n.Outdent=Ft(new class extends e{constructor(){super({id:"outdent",precondition:Ze.writable,kbOpts:{weight:An,kbExpr:$n.and(Ze.editorTextFocus,Ze.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,Am.outdent(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),n.Tab=Ft(new class extends e{constructor(){super({id:"tab",precondition:Ze.writable,kbOpts:{weight:An,kbExpr:$n.and(Ze.editorTextFocus,Ze.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,Am.tab(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),n.DeleteLeft=Ft(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,r){const[s,o]=M_.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());s&&t.pushUndoStop(),t.executeCommands(this.id,o),i.setPrevEditOperationType(2)}}),n.DeleteRight=Ft(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:An,kbExpr:Ze.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,r){const[s,o]=M_.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));s&&t.pushUndoStop(),t.executeCommands(this.id,o),i.setPrevEditOperationType(3)}}),n.Undo=new class extends Z${constructor(){super(twe)}runDOMCommand(t){t.ownerDocument.execCommand("undo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(92)===!0))return i.getModel().undo()}},n.Redo=new class extends Z${constructor(){super(nwe)}runDOMCommand(t){t.ownerDocument.execCommand("redo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(92)===!0))return i.getModel().redo()}}})(_de||(_de={}));class Ede extends zM{constructor(e,t,i){super({id:e,precondition:void 0,metadata:i}),this._handlerId=t}runCommand(e,t){const i=e.get(Fr).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function pE(n,e){mde(new Ede("default:"+n,n)),mde(new Ede(n,n,e))}pE("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});pE("replacePreviousChar");pE("compositionType");pE("compositionStart");pE("compositionEnd");pE("paste");pE("cut");class apt{constructor(e,t,i,r){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=r}paste(e,t,i,r){this.commandDelegate.paste(e,t,i,r)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,r){this.commandDelegate.compositionType(e,t,i,r)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Vr.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new Ee(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(78)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(78)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=Zo&&t.get(108),r=t.get(22);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):r?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,t){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:t}}moveTo(e,t){Vr.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_moveToSelect(e,t){Vr.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_columnSelect(e,t,i){e=this._validateViewColumn(e),Vr.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),Vr.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e,t){Vr.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelect(e,t){Vr.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelectDrag(e,t){Vr.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorWordSelect(e,t){Vr.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelect(e,t){Vr.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelectDrag(e,t){Vr.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelect(e,t){Vr.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelectDrag(e,t){Vr.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_selectAll(){Vr.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class TIe{constructor(e){this._lineFactory=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Kn("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),r=this.getEndLineNumber();if(t<i){const l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>r)return null;let s=0,o=0;for(let l=i;l<=r;l++){const c=l-this._rendLineNumberStart;e<=l&&l<=t&&(o===0?(s=c,o=1):o++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(s,o)}onLinesChanged(e,t){const i=e+t-1;if(this.getCount()===0)return!1;const r=this.getStartLineNumber(),s=this.getEndLineNumber();let o=!1;for(let a=e;a<=i;a++)a>=r&&a<=s&&(this._lines[a-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(e,t){if(this.getCount()===0)return null;const i=t-e+1,r=this.getStartLineNumber(),s=this.getEndLineNumber();if(e<=r)return this._rendLineNumberStart+=i,null;if(e>s)return null;if(i+e>s)return this._lines.splice(e-this._rendLineNumberStart,s-e+1);const o=[];for(let d=0;d<i;d++)o[d]=this._lineFactory.createLine();const a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-i),u=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(o).concat(c),u}onTokensChanged(e){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let r=!1;for(let s=0,o=e.length;s<o;s++){const a=e[s];if(a.toLineNumber<t||a.fromLineNumber>i)continue;const l=Math.max(t,a.fromLineNumber),c=Math.min(i,a.toLineNumber);for(let u=l;u<=c;u++){const d=u-this._rendLineNumberStart;this._lines[d].onTokensChanged(),r=!0}}return r}}class wIe{constructor(e){this._lineFactory=e,this.domNode=this._createDomNode(),this._linesCollection=new TIe(this._lineFactory)}_createDomNode(){const e=Dn(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(146)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++){const s=t[i].getDomNode();s==null||s.remove()}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++){const s=t[i].getDomNode();s==null||s.remove()}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new J$(this.domNode.domNode,this._lineFactory,e),r={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},s=i.render(r,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(s.rendLineNumberStart,s.lines)}}const ph=class ph{constructor(e,t,i){this._domNode=e,this._lineFactory=t,this._viewportData=i}render(e,t,i,r){const s={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(s.rendLineNumberStart+s.linesLength-1<t||i<s.rendLineNumberStart){s.rendLineNumberStart=t,s.linesLength=i-t+1,s.lines=[];for(let o=t;o<=i;o++)s.lines[o-t]=this._lineFactory.createLine();return this._finishRendering(s,!0,r),s}if(this._renderUntouchedLines(s,Math.max(t-s.rendLineNumberStart,0),Math.min(i-s.rendLineNumberStart,s.linesLength-1),r,t),s.rendLineNumberStart>t){const o=t,a=Math.min(i,s.rendLineNumberStart-1);o<=a&&(this._insertLinesBefore(s,o,a,r,t),s.linesLength+=a-o+1)}else if(s.rendLineNumberStart<t){const o=Math.min(s.linesLength,t-s.rendLineNumberStart);o>0&&(this._removeLinesBefore(s,o),s.linesLength-=o)}if(s.rendLineNumberStart=t,s.rendLineNumberStart+s.linesLength-1<i){const o=s.rendLineNumberStart+s.linesLength,a=i;o<=a&&(this._insertLinesAfter(s,o,a,r,t),s.linesLength+=a-o+1)}else if(s.rendLineNumberStart+s.linesLength-1>i){const o=Math.max(0,i-s.rendLineNumberStart+1),l=s.linesLength-1-o+1;l>0&&(this._removeLinesAfter(s,l),s.linesLength-=l)}return this._finishRendering(s,!1,r),s}_renderUntouchedLines(e,t,i,r,s){const o=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){const c=o+l;a[l].layoutLine(c,r[c-s],this._viewportData.lineHeight)}}_insertLinesBefore(e,t,i,r,s){const o=[];let a=0;for(let l=t;l<=i;l++)o[a++]=this._lineFactory.createLine();e.lines=o.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const r=e.lines[i].getDomNode();r==null||r.remove()}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,r,s){const o=[];let a=0;for(let l=t;l<=i;l++)o[a++]=this._lineFactory.createLine();e.lines=e.lines.concat(o)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let r=0;r<t;r++){const s=e.lines[i+r].getDomNode();s==null||s.remove()}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,r){ph._ttPolicy&&(i=ph._ttPolicy.createHTML(i));const s=this._domNode.lastChild;t||!s?this._domNode.innerHTML=i:s.insertAdjacentHTML("afterend",i);let o=this._domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const l=e.lines[a];r[a]&&(l.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const r=document.createElement("div");ph._ttPolicy&&(t=ph._ttPolicy.createHTML(t)),r.innerHTML=t;for(let s=0;s<e.linesLength;s++){const o=e.lines[s];if(i[s]){const a=r.firstChild,l=o.getDomNode();l.parentNode.replaceChild(a,l),o.setDomNode(a)}}}_finishRendering(e,t,i){const r=ph._sb,s=e.linesLength,o=e.lines,a=e.rendLineNumberStart,l=[];{r.reset();let c=!1;for(let u=0;u<s;u++){const d=o[u];l[u]=!1,!(d.getDomNode()||!d.renderLine(u+a,i[u],this._viewportData.lineHeight,this._viewportData,r))&&(l[u]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,r.build(),l)}{r.reset();let c=!1;const u=[];for(let d=0;d<s;d++){const h=o[d];u[d]=!1,!(l[d]||!h.renderLine(d+a,i[d],this._viewportData.lineHeight,this._viewportData,r))&&(u[d]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,r.build(),u)}}};ph._ttPolicy=lE("editorViewLayer",{createHTML:e=>e}),ph._sb=new jM(1e5);let J$=ph;class AIe extends Ia{constructor(e){super(e),this._dynamicOverlays=[],this._isFocused=!1,this._visibleLines=new wIe({createLine:()=>new lpt(this._dynamicOverlays)}),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);Us(this.domNode,i),this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const i=this._context.configuration.options.get(50);return Us(this.domNode,i),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,r=t.length;i<r;i++){const s=t[i];s.prepareRender(e),s.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class lpt{constructor(e){this._dynamicOverlays=e,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=Dn(e)}onContentChanged(){}onTokensChanged(){}renderLine(e,t,i,r,s){let o="";for(let a=0,l=this._dynamicOverlays.length;a<l;a++){const c=this._dynamicOverlays[a];o+=c.render(r.startLineNumber,e)}return this._renderedContent===o?!1:(this._renderedContent=o,s.appendString('<div style="top:'),s.appendString(String(t)),s.appendString("px;height:"),s.appendString(String(i)),s.appendString('px;">'),s.appendString(o),s.appendString("</div>"),!0)}layoutLine(e,t,i){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(i))}}class cpt extends AIe{constructor(e){super(e);const i=this._context.configuration.options.get(146);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const i=this._context.configuration.options.get(146);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class upt extends AIe{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(146);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),Us(this.domNode,t.get(50))}onConfigurationChanged(e){const t=this._context.configuration.options;Us(this.domNode,t.get(50));const i=t.get(146);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class I2{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;(t=this.onKeyDown)==null||t.call(this,e)}emitKeyUp(e){var t;(t=this.onKeyUp)==null||t.call(this,e)}emitContextMenu(e){var t;(t=this.onContextMenu)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;(t=this.onMouseMove)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;(t=this.onMouseLeave)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;(t=this.onMouseDown)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;(t=this.onMouseUp)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;(t=this.onMouseDrag)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;(t=this.onMouseDrop)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)==null||e.call(this)}emitMouseWheel(e){var t;(t=this.onMouseWheel)==null||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return I2.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i={...e};return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),(i.type===5||i.type===8)&&(i.detail=this.convertViewToModelViewZoneData(i.detail,t)),i}static convertViewToModelViewZoneData(e,t){return{viewZoneId:e.viewZoneId,positionBefore:e.positionBefore?t.convertViewPositionToModelPosition(e.positionBefore):e.positionBefore,positionAfter:e.positionAfter?t.convertViewPositionToModelPosition(e.positionAfter):e.positionAfter,position:t.convertViewPositionToModelPosition(e.position),afterLineNumber:t.convertViewPositionToModelPosition(new Ee(e.afterLineNumber,1)).lineNumber}}}class dpt extends Ia{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=Dn(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const i=this._context.configuration.options.get(146),r=i.contentWidth-i.verticalScrollbarWidth;this.contentWidth!==r&&(this.contentWidth=r,e=!0);const s=i.contentLeft;return this.contentLeft!==s&&(this.contentLeft=s,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){let t=0;const i=e.getDecorationsInViewport();for(const r of i){if(!r.options.blockClassName)continue;let s=this.blocks[t];s||(s=this.blocks[t]=Dn(document.createElement("div")),this.domNode.appendChild(s));let o,a;r.options.blockIsAfterEnd?(o=e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!1),a=e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!0)):(o=e.getVerticalOffsetForLineNumber(r.range.startLineNumber,!0),a=r.range.isEmpty()&&!r.options.blockDoesNotCollapse?e.getVerticalOffsetForLineNumber(r.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!0));const[l,c,u,d]=r.options.blockPadding??[0,0,0,0];s.setClassName("blockDecorations-block "+r.options.blockClassName),s.setLeft(this.contentLeft-d),s.setWidth(this.contentWidth+d+c),s.setTop(o-e.scrollTop-l),s.setHeight(a-o+l+u),t++}for(let r=t;r<this.blocks.length;r++)this.blocks[r].domNode.remove();this.blocks.length=t}}class hpt extends Ia{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=Dn(document.createElement("div")),Eu.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=Dn(document.createElement("div")),Eu.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const t of e)this._widgets[t].updateAnchorViewPosition()}addWidget(e){const t=new fpt(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,r,s){this._widgets[e.getId()].setPosition(t,i,r,s),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const r=i.domNode.domNode;r.remove(),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class fpt{constructor(e,t,i){this._primaryAnchor=new qb(null,null),this._secondaryAnchor=new qb(null,null),this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=Dn(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,s=r.get(146);this._fixedOverflowWidgets=r.get(42),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this._lineHeight=r.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(67),e.hasChanged(146)){const i=t.get(146);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,t,i){this._affinity=e,this._primaryAnchor=r(t,this._context.viewModel,this._affinity),this._secondaryAnchor=r(i,this._context.viewModel,this._affinity);function r(s,o,a){if(!s)return new qb(null,null);const l=o.model.validatePosition(s);if(o.coordinatesConverter.modelPositionIsVisible(l)){const c=o.coordinatesConverter.convertModelPositionToViewPosition(l,a??void 0);return new qb(s,c)}return new qb(s,null)}}_getMaxWidth(){const e=this.domNode.domNode.ownerDocument,t=e.defaultView;return this.allowEditorOverflow?(t==null?void 0:t.innerWidth)||e.documentElement.offsetWidth||e.body.offsetWidth:this._contentWidth}setPosition(e,t,i,r){this._setPosition(r,e,t),this._preference=i,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,r){const s=e.top,o=s,a=e.top+e.height,l=r.viewportHeight-a,c=s-i,u=o>=i,d=a,h=l>=i;let f=e.left;return f+t>r.scrollLeft+r.viewportWidth&&(f=r.scrollLeft+r.viewportWidth-t),f<r.scrollLeft&&(f=r.scrollLeft),{fitsAbove:u,aboveTop:c,fitsBelow:h,belowTop:d,left:f}}_layoutHorizontalSegmentInPage(e,t,i,r){const a=Math.max(15,t.left-r),l=Math.min(t.left+t.width+r,e.width-15),u=this._viewDomNode.domNode.ownerDocument.defaultView;let d=t.left+i-((u==null?void 0:u.scrollX)??0);if(d+r>l){const h=d-(l-r);d-=h,i-=h}if(d<a){const h=d-a;d-=h,i-=h}return[i,d]}_layoutBoxInPage(e,t,i,r){const s=e.top-i,o=e.top+e.height,a=yl(this._viewDomNode.domNode),l=this._viewDomNode.domNode.ownerDocument,c=l.defaultView,u=a.top+s-((c==null?void 0:c.scrollY)??0),d=a.top+o-((c==null?void 0:c.scrollY)??0),h=C6(l.body),[f,m]=this._layoutHorizontalSegmentInPage(h,a,e.left-r.scrollLeft+this._contentLeft,t),g=22,_=22,v=u>=g,S=d+i<=h.height-_;return this._fixedOverflowWidgets?{fitsAbove:v,aboveTop:Math.max(u,g),fitsBelow:S,belowTop:d,left:m}:{fitsAbove:v,aboveTop:s,fitsBelow:S,belowTop:o,left:f}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new Xb(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){var o,a;const t=s(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),i=((o=this._secondaryAnchor.viewPosition)==null?void 0:o.lineNumber)===((a=this._primaryAnchor.viewPosition)==null?void 0:a.lineNumber)?this._secondaryAnchor.viewPosition:null,r=s(i,this._affinity,this._lineHeight);return{primary:t,secondary:r};function s(l,c,u){if(!l)return null;const d=e.visibleRangeForPosition(l);if(!d)return null;const h=l.column===1&&c===3?0:d.left,f=e.getVerticalOffsetForLineNumber(l.lineNumber)-e.scrollTop;return new vde(f,h,u)}}_reduceAnchorCoordinates(e,t,i){if(!t)return e;const r=this._context.configuration.options.get(50);let s=t.left;return s<e.left?s=Math.max(s,e.left-i+r.typicalFullwidthCharacterWidth):s=Math.min(s,e.left+i-r.typicalFullwidthCharacterWidth),new vde(e.top,s,e.height)}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const{primary:t,secondary:i}=this._getAnchorsCoordinates(e);if(!t)return{kind:"offViewport",preserveFocus:this.domNode.domNode.contains(this.domNode.domNode.ownerDocument.activeElement)};if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=Z3(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeOffsetWidth=o.width,this._cachedDomNodeOffsetHeight=o.height;else{const l=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(l.width),this._cachedDomNodeOffsetHeight=Math.round(l.height)}}const r=this._reduceAnchorCoordinates(t,i,this._cachedDomNodeOffsetWidth);let s;this.allowEditorOverflow?s=this._layoutBoxInPage(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):s=this._layoutBoxInViewport(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let o=1;o<=2;o++)for(const a of this._preference)if(a===1){if(!s)return null;if(o===2||s.fitsAbove)return{kind:"inViewport",coordinate:new Xb(s.aboveTop,s.left),position:1}}else if(a===2){if(!s)return null;if(o===2||s.fitsBelow)return{kind:"inViewport",coordinate:new Xb(s.belowTop,s.left),position:2}}else return this.allowEditorOverflow?{kind:"inViewport",coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new Xb(r.top,r.left)),position:0}:{kind:"inViewport",coordinate:new Xb(r.top,r.left),position:0};return null}onBeforeRender(e){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){var t;if(!this._renderData||this._renderData.kind==="offViewport"){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,((t=this._renderData)==null?void 0:t.kind)==="offViewport"&&this._renderData.preserveFocus?this.domNode.setTop(-1e3):this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&Z3(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&Z3(this._actual.afterRender,this._actual,this._renderData.position)}}class qb{constructor(e,t){this.modelPosition=e,this.viewPosition=t}}class Xb{constructor(e,t){this.top=e,this.left=t,this._coordinateBrand=void 0}}class vde{constructor(e,t,i){this.top=e,this.left=t,this.height=i,this._anchorCoordinateBrand=void 0}}function Z3(n,e,...t){try{return n.call(e,...t)}catch{return null}}class RIe extends gE{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(146);this._renderLineHighlight=t.get(97),this._renderLineHighlightOnlyWhenFocus=t.get(98),this._wordWrap=i.isViewportWrapping,this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new vn(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=new Set;for(const s of this._selections)t.add(s.positionLineNumber);const i=Array.from(t);i.sort((s,o)=>s-o),Mr(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const r=this._selections.every(s=>s.isEmpty());return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._renderLineHighlight=t.get(97),this._renderLineHighlightOnlyWhenFocus=t.get(98),this._wordWrap=i.isViewportWrapping,this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=[];for(let o=t;o<=i;o++){const a=o-t;r[a]=""}if(this._wordWrap){const o=this._renderOne(e,!1);for(const a of this._cursorLineNumbers){const l=this._context.viewModel.coordinatesConverter,c=l.convertViewPositionToModelPosition(new Ee(a,1)).lineNumber,u=l.convertModelPositionToViewPosition(new Ee(c,1)).lineNumber,d=l.convertModelPositionToViewPosition(new Ee(c,this._context.viewModel.model.getLineMaxColumn(c))).lineNumber,h=Math.max(u,t),f=Math.min(d,i);for(let m=h;m<=f;m++){const g=m-t;r[g]=o}}}const s=this._renderOne(e,!0);for(const o of this._cursorLineNumbers){if(o<t||o>i)continue;const a=o-t;r[a]=s}this._renderData=r}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class gpt extends RIe{_renderOne(e,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(t?" current-line-exact":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class ppt extends RIe{_renderOne(e,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&t?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}df((n,e)=>{const t=n.getColor(ZAe);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(Qce)){const i=n.getColor(Qce);i&&(e.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${i}; }`),OS(n.type)&&(e.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}});class mpt extends gE{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],r=0;for(let l=0,c=t.length;l<c;l++){const u=t[l];u.options.className&&(i[r++]=u)}i=i.sort((l,c)=>{if(l.options.zIndex<c.options.zIndex)return-1;if(l.options.zIndex>c.options.zIndex)return 1;const u=l.options.className,d=c.options.className;return u<d?-1:u>d?1:ce.compareRangesUsingStarts(l.range,c.range)});const s=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,a=[];for(let l=s;l<=o;l++){const c=l-s;a[c]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){const r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let o=0,a=t.length;o<a;o++){const l=t[o];if(!l.options.isWholeLine)continue;const c='<div class="cdr '+l.options.className+'" style="left:0;width:100%;"></div>',u=Math.max(l.range.startLineNumber,r),d=Math.min(l.range.endLineNumber,s);for(let h=u;h<=d;h++){const f=h-r;i[f]+=c}}}_renderNormalDecorations(e,t,i){const r=e.visibleRange.startLineNumber;let s=null,o=!1,a=null,l=!1;for(let c=0,u=t.length;c<u;c++){const d=t[c];if(d.options.isWholeLine)continue;const h=d.options.className,f=!!d.options.showIfCollapsed;let m=d.range;if(f&&m.endColumn===1&&m.endLineNumber!==m.startLineNumber&&(m=new ce(m.startLineNumber,m.startColumn,m.endLineNumber-1,this._context.viewModel.getLineMaxColumn(m.endLineNumber-1))),s===h&&o===f&&ce.areIntersectingOrTouching(a,m)){a=ce.plusRange(a,m);continue}s!==null&&this._renderNormalDecoration(e,a,s,l,o,r,i),s=h,o=f,a=m,l=d.options.shouldFillLineOnLineBreak??!1}s!==null&&this._renderNormalDecoration(e,a,s,l,o,r,i)}_renderNormalDecoration(e,t,i,r,s,o,a){const l=e.linesVisibleRangesForRange(t,i==="findMatch");if(l)for(let c=0,u=l.length;c<u;c++){const d=l[c];if(d.outsideRenderedLine)continue;const h=d.lineNumber-o;if(s&&d.ranges.length===1){const f=d.ranges[0];if(f.width<this._typicalHalfwidthCharacterWidth){const m=Math.round(f.left+f.width/2),g=Math.max(0,Math.round(m-this._typicalHalfwidthCharacterWidth/2));d.ranges[0]=new A2(g,this._typicalHalfwidthCharacterWidth)}}for(let f=0,m=d.ranges.length;f<m;f++){const g=r&&d.continuesOnNextLine&&m===1,_=d.ranges[f],v='<div class="cdr '+i+'" style="left:'+String(_.left)+"px;width:"+(g?"100%;":String(_.width)+"px;")+'"></div>';a[h]+=v}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class _pt extends Ia{constructor(e,t,i,r){super(e);const s=this._context.configuration.options,o=s.get(104),a=s.get(75),l=s.get(40),c=s.get(107),u={listenOnDomNode:i.domNode,className:"editor-scrollable "+z6(e.theme.type),useShadows:!1,lazyRender:!0,vertical:o.vertical,horizontal:o.horizontal,verticalHasArrows:o.verticalHasArrows,horizontalHasArrows:o.horizontalHasArrows,verticalScrollbarSize:o.verticalScrollbarSize,verticalSliderSize:o.verticalSliderSize,horizontalScrollbarSize:o.horizontalScrollbarSize,horizontalSliderSize:o.horizontalSliderSize,handleMouseWheel:o.handleMouseWheel,alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel,arrowSize:o.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c,scrollByPage:o.scrollByPage};this.scrollbar=this._register(new e2(t.domNode,u,this._context.viewLayout.getScrollable())),Eu.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=Dn(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(h,f,m)=>{const g={};{const _=h.scrollTop;_&&(g.scrollTop=this._context.viewLayout.getCurrentScrollTop()+_,h.scrollTop=0)}if(m){const _=h.scrollLeft;_&&(g.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+_,h.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(g,1)};this._register(we(i.domNode,"scroll",h=>d(i.domNode,!0,!0))),this._register(we(t.domNode,"scroll",h=>d(t.domNode,!0,!1))),this._register(we(r.domNode,"scroll",h=>d(r.domNode,!0,!1))),this._register(we(this.scrollbarDomNode.domNode,"scroll",h=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(146);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(73).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(104)||e.hasChanged(75)||e.hasChanged(40)){const t=this._context.configuration.options,i=t.get(104),r=t.get(75),s=t.get(40),o=t.get(107),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:r,fastScrollSensitivity:s,scrollPredominantAxis:o};this.scrollbar.updateOptions(a)}return e.hasChanged(146)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+z6(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class eG{constructor(e,t,i,r,s){this.startLineNumber=e,this.endLineNumber=t,this.className=i,this.tooltip=r,this._decorationToRenderBrand=void 0,this.zIndex=s??0}}class Ept{constructor(e,t,i){this.className=e,this.zIndex=t,this.tooltip=i}}class vpt{constructor(){this.decorations=[]}add(e){this.decorations.push(e)}getDecorations(){return this.decorations}}class IIe extends gE{_render(e,t,i){const r=[];for(let a=e;a<=t;a++){const l=a-e;r[l]=new vpt}if(i.length===0)return r;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let s=null,o=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],u=c.className,d=c.zIndex;let h=Math.max(c.startLineNumber,e)-e;const f=Math.min(c.endLineNumber,t)-e;s===u?(h=Math.max(o+1,h),o=Math.max(o,f)):(s=u,o=f);for(let m=h;m<=o;m++)r[m].add(new Ept(u,d,c.tooltip))}return r}}class Spt extends Ia{constructor(e){super(e),this._widgets={},this._context=e;const t=this._context.configuration.options,i=t.get(146);this.domNode=Dn(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=t.get(67),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._lineHeight=t.get(67),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}addWidget(e){const t=Dn(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:e.getPosition(),domNode:t,renderInfo:null},t.setPosition("absolute"),t.setDisplay("none"),t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference.lane===t.lane&&i.preference.zIndex===t.zIndex&&ce.equalsRange(i.preference.range,t.range)?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets[t]){const r=this._widgets[t].domNode.domNode;delete this._widgets[t],r.remove(),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(e,t){var o;const i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=e.getDecorationsInViewport();for(const a of s){const l=a.options.glyphMarginClassName;if(!l)continue;const c=Math.max(a.range.startLineNumber,i),u=Math.min(a.range.endLineNumber,r),d=((o=a.options.glyphMargin)==null?void 0:o.position)??Qg.Center,h=a.options.zIndex??0;for(let f=c;f<=u;f++){const m=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ee(f,0)),g=this._context.viewModel.glyphLanes.getLanesAtLine(m.lineNumber).indexOf(d);t.push(new Cpt(f,g,h,l))}}}_collectWidgetBasedGlyphRenderRequest(e,t){const i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(const s of Object.values(this._widgets)){const o=s.preference.range,{startLineNumber:a,endLineNumber:l}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(ce.lift(o));if(!a||!l||l<i||a>r)continue;const c=Math.max(a,i),u=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ee(c,0)),d=this._context.viewModel.glyphLanes.getLanesAtLine(u.lineNumber).indexOf(s.preference.lane);t.push(new ypt(c,d,s.preference.zIndex,s))}}_collectSortedGlyphRenderRequests(e){const t=[];return this._collectDecorationBasedGlyphRenderRequest(e,t),this._collectWidgetBasedGlyphRenderRequest(e,t),t.sort((i,r)=>i.lineNumber===r.lineNumber?i.laneIndex===r.laneIndex?i.zIndex===r.zIndex?r.type===i.type?i.type===0&&r.type===0?i.className<r.className?-1:1:0:r.type-i.type:r.zIndex-i.zIndex:i.laneIndex-r.laneIndex:i.lineNumber-r.lineNumber),t}prepareRender(e){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const r of Object.values(this._widgets))r.renderInfo=null;const t=new nf(this._collectSortedGlyphRenderRequests(e)),i=[];for(;t.length>0;){const r=t.peek();if(!r)break;const s=t.takeWhile(a=>a.lineNumber===r.lineNumber&&a.laneIndex===r.laneIndex);if(!s||s.length===0)break;const o=s[0];if(o.type===0){const a=[];for(const l of s){if(l.zIndex!==o.zIndex||l.type!==o.type)break;(a.length===0||a[a.length-1]!==l.className)&&a.push(l.className)}i.push(o.accept(a.join(" ")))}else o.widget.renderInfo={lineNumber:o.lineNumber,laneIndex:o.laneIndex}}this._decorationGlyphsToRender=i}render(e){if(!this._glyphMargin){for(const i of Object.values(this._widgets))i.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const i=this._managedDomNodes.pop();i==null||i.domNode.remove()}return}const t=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const i of Object.values(this._widgets))if(!i.renderInfo)i.domNode.setDisplay("none");else{const r=e.viewportData.relativeVerticalOffset[i.renderInfo.lineNumber-e.viewportData.startLineNumber],s=this._glyphMarginLeft+i.renderInfo.laneIndex*this._lineHeight;i.domNode.setDisplay("block"),i.domNode.setTop(r),i.domNode.setLeft(s),i.domNode.setWidth(t),i.domNode.setHeight(this._lineHeight)}for(let i=0;i<this._decorationGlyphsToRender.length;i++){const r=this._decorationGlyphsToRender[i],s=e.viewportData.relativeVerticalOffset[r.lineNumber-e.viewportData.startLineNumber],o=this._glyphMarginLeft+r.laneIndex*this._lineHeight;let a;i<this._managedDomNodes.length?a=this._managedDomNodes[i]:(a=Dn(document.createElement("div")),this._managedDomNodes.push(a),this.domNode.appendChild(a)),a.setClassName("cgmr codicon "+r.combinedClassName),a.setPosition("absolute"),a.setTop(s),a.setLeft(o),a.setWidth(t),a.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const i=this._managedDomNodes.pop();i==null||i.domNode.remove()}}}class Cpt{constructor(e,t,i,r){this.lineNumber=e,this.laneIndex=t,this.zIndex=i,this.className=r,this.type=0}accept(e){return new bpt(this.lineNumber,this.laneIndex,e)}}class ypt{constructor(e,t,i,r){this.lineNumber=e,this.laneIndex=t,this.zIndex=i,this.widget=r,this.type=1}}class bpt{constructor(e,t,i){this.lineNumber=e,this.laneIndex=t,this.combinedClassName=i}}class Tpt extends gE{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(147),r=t.get(50);this._spaceWidth=r.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(147),r=t.get(50);return this._spaceWidth=r.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(e){var r;const i=e.selections[0].getPosition();return(r=this._primaryPosition)!=null&&r.equals(i)?!1:(this._primaryPosition=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var l,c;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=e.scrollWidth,s=this._primaryPosition,o=this.getGuidesByLine(t,Math.min(i+1,this._context.viewModel.getLineCount()),s),a=[];for(let u=t;u<=i;u++){const d=u-t,h=o[d];let f="";const m=((l=e.visibleRangeForPosition(new Ee(u,1)))==null?void 0:l.left)??0;for(const g of h){const _=g.column===-1?m+(g.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new Ee(u,g.column)).left;if(_>r||this._maxIndentLeft>0&&_>this._maxIndentLeft)break;const v=g.horizontalLine?g.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",S=g.horizontalLine?(((c=e.visibleRangeForPosition(new Ee(u,g.horizontalLine.endColumn)))==null?void 0:c.left)??_+this._spaceWidth)-_:this._spaceWidth;f+=`<div class="core-guide ${g.className} ${v}" style="left:${_}px;width:${S}px"></div>`}a[d]=f}this._renderResult=a}getGuidesByLine(e,t,i){const r=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?e_.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?e_.EnabledForActive:e_.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,s=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null;let o=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&i){const d=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);o=d.startLineNumber,a=d.endLineNumber,l=d.indent}const{indentSize:c}=this._context.viewModel.model.getOptions(),u=[];for(let d=e;d<=t;d++){const h=new Array;u.push(h);const f=r?r[d-e]:[],m=new nf(f),g=s?s[d-e]:0;for(let _=1;_<=g;_++){const v=(_-1)*c+1,S=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||f.length===0)&&o<=d&&d<=a&&_===l;h.push(...m.takeWhile(y=>y.visibleColumn<v)||[]);const C=m.peek();(!C||C.visibleColumn!==v||C.horizontalLine)&&h.push(new Hm(v,-1,`core-guide-indent lvl-${(_-1)%30}`+(S?" indent-active":""),null,-1,-1))}h.push(...m.takeWhile(_=>!0)||[])}return u}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function pv(n){if(!(n&&n.isTransparent()))return n}df((n,e)=>{const t=[{bracketColor:tRe,guideColor:Rlt,guideColorActive:Dlt},{bracketColor:nRe,guideColor:Ilt,guideColorActive:Plt},{bracketColor:iRe,guideColor:Nlt,guideColorActive:klt},{bracketColor:rRe,guideColor:Llt,guideColorActive:Mlt},{bracketColor:sRe,guideColor:Olt,guideColorActive:Flt},{bracketColor:oRe,guideColor:xlt,guideColorActive:Blt}],i=new mRe,r=[{indentColor:PA,indentColorActive:kA},{indentColor:alt,indentColorActive:hlt},{indentColor:llt,indentColorActive:flt},{indentColor:clt,indentColorActive:glt},{indentColor:ult,indentColorActive:plt},{indentColor:dlt,indentColorActive:mlt}],s=t.map(a=>{const l=n.getColor(a.bracketColor),c=n.getColor(a.guideColor),u=n.getColor(a.guideColorActive),d=pv(pv(c)??(l==null?void 0:l.transparent(.3))),h=pv(pv(u)??l);if(!(!d||!h))return{guideColor:d,guideColorActive:h}}).filter(cC),o=r.map(a=>{const l=n.getColor(a.indentColor),c=n.getColor(a.indentColorActive),u=pv(l),d=pv(c);if(!(!u||!d))return{indentColor:u,indentColorActive:d}}).filter(cC);if(s.length>0){for(let a=0;a<30;a++){const l=s[a%s.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${i.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${i.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${i.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(o.length>0){for(let a=0;a<30;a++){const l=o[a%o.length];e.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${a} { --indent-color: ${l.indentColor}; --indent-color-active: ${l.indentColorActive}; }`)}e.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),e.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});class J3{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,t){this._domNode=e,this.endNode=t,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class wpt{constructor(){this._currentVisibleRange=new ce(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class Apt{constructor(e,t,i,r,s,o,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=r,this.startScrollTop=s,this.stopScrollTop=o,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class Rpt{constructor(e,t,i,r,s){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=r,this.scrollType=s,this.type="selections";let o=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,c=t.length;l<c;l++){const u=t[l];o=Math.min(o,u.startLineNumber),a=Math.max(a,u.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=a}}const QP=class QP extends Ia{constructor(e,t){super(e);const i=this._context.configuration,r=this._context.configuration.options,s=r.get(50),o=r.get(147);this._lineHeight=r.get(67),this._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=r.get(101),this._cursorSurroundingLines=r.get(29),this._cursorSurroundingLinesStyle=r.get(30),this._canUseLayerHinting=!r.get(32),this._viewLineOptions=new cde(i,this._context.theme.type),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new wIe({createLine:()=>new Ih(this._viewLineOptions)}),this.domNode=this._visibleLines.domNode,Eu.write(this.domNode,8),this.domNode.setClassName(`view-lines ${zS}`),Us(this.domNode,s),this._maxLineWidth=0,this._asyncUpdateLineWidths=new ho(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new ho(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new wpt,this._horizontalRevealRequest=null,this._stickyScrollEnabled=r.get(116).enabled,this._maxNumberStickyLines=r.get(116).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(147)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(50),r=t.get(147);return this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=t.get(101),this._cursorSurroundingLines=t.get(29),this._cursorSurroundingLinesStyle=t.get(30),this._canUseLayerHinting=!t.get(32),this._stickyScrollEnabled=t.get(116).enabled,this._maxNumberStickyLines=t.get(116).maxLineCount,Us(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(146)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new cde(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++)this._visibleLines.getVisibleLine(s).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=!1;for(let s=t;s<=i;s++)r=this._visibleLines.getVisibleLine(s).onSelectionChanged()||r;return r}onDecorationsChanged(e){{const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++)this._visibleLines.getVisibleLine(r).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new Apt(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new Rpt(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const s=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,s),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(i===null)return null;const r=this._getLineNumberFor(i);if(r===-1||r<1||r>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(r)===1)return new Ee(r,1);const s=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(r<s||r>o)return null;let a=this._visibleLines.getVisibleLine(r).getColumnOfNodeOffset(e,t);const l=this._context.viewModel.getLineMinColumn(r);return a<l&&(a=l),new Ee(r,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Ih.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++){const s=this._visibleLines.getVisibleLine(r);if(e===s.getDomNode())return r}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();if(e<t||e>i)return-1;const r=new J3(this.domNode.domNode,this._textRangeRestingSpot),s=this._visibleLines.getVisibleLine(e).getWidth(r);return this._updateLineWidthsSlowIfDomDidLayout(r),s}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,r=ce.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!r)return null;const s=[];let o=0;const a=new J3(this.domNode.domNode,this._textRangeRestingSpot);let l=0;t&&(l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ee(r.startLineNumber,1)).lineNumber);const c=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let d=r.startLineNumber;d<=r.endLineNumber;d++){if(d<c||d>u)continue;const h=d===r.startLineNumber?r.startColumn:1,f=d!==r.endLineNumber,m=f?this._context.viewModel.getLineMaxColumn(d):r.endColumn,g=this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(d,h,m,a);if(g){if(t&&d<i){const _=l;l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ee(d+1,1)).lineNumber,_!==l&&(g.ranges[g.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}s[o++]=new ugt(g.outsideRenderedLine,d,A2.from(g.ranges),f)}}return this._updateLineWidthsSlowIfDomDidLayout(a),o===0?null:s}_visibleRangesForLineRange(e,t,i){if(this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const r=new J3(this.domNode.domNode,this._textRangeRestingSpot),s=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,r);return this._updateLineWidthsSlowIfDomDidLayout(r),s}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new dgt(t.outsideRenderedLine,t.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=1,s=!0;for(let o=t;o<=i;o++){const a=this._visibleLines.getVisibleLine(o);if(e&&!a.getWidthIsFast()){s=!1;continue}r=Math.max(r,a.getWidth(null))}return s&&t===1&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(r),s}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++){const o=this._visibleLines.getVisibleLine(s);if(o.needsMonospaceFontCheck()){const a=o.getWidth(null);a>t&&(t=a,e=s)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let s=i;s<=r;s++)this._visibleLines.getVisibleLine(s).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const r=this._computeScrollLeftToReveal(i);r&&(this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:r.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),Zo&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++)if(this._visibleLines.getVisibleLine(s).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,r,s,o){const a=e.top,l=e.height,c=a+l;let u,d,h;if(s&&s.length>0){let v=s[0].startLineNumber,S=s[0].endLineNumber;for(let C=1,y=s.length;C<y;C++){const b=s[C];v=Math.min(v,b.startLineNumber),S=Math.max(S,b.endLineNumber)}u=!1,d=this._context.viewLayout.getVerticalOffsetForLineNumber(v),h=this._context.viewLayout.getVerticalOffsetForLineNumber(S)+this._lineHeight}else if(r)u=!0,d=this._context.viewLayout.getVerticalOffsetForLineNumber(r.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(r.endLineNumber)+this._lineHeight;else return-1;const f=(t==="mouse"||i)&&this._cursorSurroundingLinesStyle==="default";let m=0,g=0;if(f)i||(m=this._lineHeight);else{const v=l/this._lineHeight,S=Math.max(this._cursorSurroundingLines,this._stickyScrollEnabled?this._maxNumberStickyLines:0),C=Math.min(v/2,S);m=C*this._lineHeight,g=Math.max(0,C-1)*this._lineHeight}i||(o===0||o===4)&&(g+=this._lineHeight),d-=m,h+=g;let _;if(h-d>l){if(!u)return-1;_=d}else if(o===5||o===6)if(o===6&&a<=d&&h<=c)_=a;else{const v=Math.max(5*this._lineHeight,l*.2),S=d-v,C=h-l;_=Math.max(C,S)}else if(o===1||o===2)if(o===2&&a<=d&&h<=c)_=a;else{const v=(d+h)/2;_=Math.max(0,v-l/2)}else _=this._computeMinimumScrolling(a,c,d,h,o===3,o===4);return _}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=this._context.configuration.options.get(146),r=t.left,s=r+t.width-i.verticalScrollbarWidth;let o=1073741824,a=0;if(e.type==="range"){const c=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!c)return null;for(const u of c.ranges)o=Math.min(o,Math.round(u.left)),a=Math.max(a,Math.round(u.left+u.width))}else for(const c of e.selections){if(c.startLineNumber!==c.endLineNumber)return null;const u=this._visibleRangesForLineRange(c.startLineNumber,c.startColumn,c.endColumn);if(!u)return null;for(const d of u.ranges)o=Math.min(o,Math.round(d.left)),a=Math.max(a,Math.round(d.left+d.width))}return e.minimalReveal||(o=Math.max(0,o-QP.HORIZONTAL_EXTRA_PX),a+=this._revealHorizontalRightPadding),e.type==="selections"&&a-o>t.width?null:{scrollLeft:this._computeMinimumScrolling(r,s,o,a),maxHorizontalOffset:a}}_computeMinimumScrolling(e,t,i,r,s,o){e=e|0,t=t|0,i=i|0,r=r|0,s=!!s,o=!!o;const a=t-e;if(r-i<a){if(s)return i;if(o)return Math.max(0,r-a);if(i<e)return i;if(r>t)return Math.max(0,r-a)}else return i;return e}};QP.HORIZONTAL_EXTRA_PX=30;let tG=QP;class Ipt extends IIe{constructor(e){super(),this._context=e;const i=this._context.configuration.options.get(146);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const i=this._context.configuration.options.get(146);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.options.linesDecorationsClassName,c=a.options.zIndex;l&&(i[r++]=new eG(a.range.startLineNumber,a.range.endLineNumber,l,a.options.linesDecorationsTooltip??null,c));const u=a.options.firstLineDecorationClassName;u&&(i[r++]=new eG(a.range.startLineNumber,a.range.startLineNumber,u,a.options.linesDecorationsTooltip??null,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),s=this._decorationsLeft.toString(),o=this._decorationsWidth.toString(),a='" style="left:'+s+"px;width:"+o+'px;"></div>',l=[];for(let c=t;c<=i;c++){const u=c-t,d=r[u].getDecorations();let h="";for(const f of d){let m='<div class="cldr '+f.className;f.tooltip!==null&&(m+='" title="'+f.tooltip),m+=a,h+=m}l[u]=h}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Npt extends IIe{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.options.marginClassName,c=a.options.zIndex;l&&(i[r++]=new eG(a.range.startLineNumber,a.range.endLineNumber,l,null,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),s=[];for(let o=t;o<=i;o++){const a=o-t,l=r[a].getDecorations();let c="";for(const u of l)c+='<div class="cmdr '+u.className+'" style=""></div>';s[a]=c}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}const ng=class ng{constructor(e,t,i,r){this._rgba8Brand=void 0,this.r=ng._clamp(e),this.g=ng._clamp(t),this.b=ng._clamp(i),this.a=ng._clamp(r)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}};ng.Empty=new ng(0,0,0,0);let Yh=ng;const ZP=class ZP extends Ne{static getInstance(){return this._INSTANCE||(this._INSTANCE=new ZP),this._INSTANCE}constructor(){super(),this._onDidChange=new ge,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(gr.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const e=gr.getColorMap();if(!e){this._colors=[Yh.Empty],this._backgroundIsLight=!0;return}this._colors=[Yh.Empty];for(let i=1;i<e.length;i++){const r=e[i].rgba;this._colors[i]=new Yh(r.r,r.g,r.b,Math.round(r.a*255))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}};ZP._INSTANCE=null;let tD=ZP;const Lpt=(()=>{const n=[];for(let e=32;e<=126;e++)n.push(e);return n.push(65533),n})(),Opt=(n,e)=>(n-=32,n<0||n>96?e<=2?(n+96)%96:95:n);class sw{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=sw.soften(e,12/15),this.charDataLight=sw.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let r=0,s=e.length;r<s;r++)i[r]=jO(e[r]*t);return i}renderChar(e,t,i,r,s,o,a,l,c,u,d){const h=1*this.scale,f=2*this.scale,m=d?1:f;if(t+h>e.width||i+m>e.height){console.warn("bad render request outside image data");return}const g=u?this.charDataLight:this.charDataNormal,_=Opt(r,c),v=e.width*4,S=a.r,C=a.g,y=a.b,b=s.r-S,w=s.g-C,I=s.b-y,O=Math.max(o,l),x=e.data;let k=_*h*f,P=i*v+t*4;for(let M=0;M<m;M++){let W=P;for(let F=0;F<h;F++){const H=g[k++]/255*(o/255);x[W++]=S+b*H,x[W++]=C+w*H,x[W++]=y+I*H,x[W++]=O}P+=v}}blockRenderChar(e,t,i,r,s,o,a,l){const c=1*this.scale,u=2*this.scale,d=l?1:u;if(t+c>e.width||i+d>e.height){console.warn("bad render request outside image data");return}const h=e.width*4,f=.5*(s/255),m=o.r,g=o.g,_=o.b,v=r.r-m,S=r.g-g,C=r.b-_,y=m+v*f,b=g+S*f,w=_+C*f,I=Math.max(s,a),O=e.data;let x=i*h+t*4;for(let k=0;k<d;k++){let P=x;for(let M=0;M<c;M++)O[P++]=y,O[P++]=b,O[P++]=w,O[P++]=I;x+=h}}}const Sde={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Cde=n=>{const e=new Uint8ClampedArray(n.length/2);for(let t=0;t<n.length;t+=2)e[t>>1]=Sde[n[t]]<<4|Sde[n[t+1]]&15;return e},yde={1:dC(()=>Cde("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:dC(()=>Cde("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class m0{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return yde[e]?i=new sw(yde[e](),e):i=m0.createFromSampleData(m0.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let r=0;for(const s of Lpt)i.fillText(String.fromCharCode(s),r,16/2),r+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const r=m0._downsample(e,t);return new sw(r,t)}static _downsampleChar(e,t,i,r,s){const o=1*s,a=2*s;let l=r,c=0;for(let u=0;u<a;u++){const d=u/a*16,h=(u+1)/a*16;for(let f=0;f<o;f++){const m=f/o*10,g=(f+1)/o*10;let _=0,v=0;for(let C=d;C<h;C++){const y=t+Math.floor(C)*3840,b=1-(C-Math.floor(C));for(let w=m;w<g;w++){const I=1-(w-Math.floor(w)),O=y+Math.floor(w)*4,x=I*b;v+=x,_+=e[O]*e[O+3]/255*x}}const S=_/v;c=Math.max(c,S),i[l++]=jO(S)}}return c}static _downsample(e,t){const i=2*t*1*t,r=i*96,s=new Uint8ClampedArray(r);let o=0,a=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(e,a,s,o,t)),o+=i,a+=10*4;if(l>0){const c=255/l;for(let u=0;u<r;u++)s[u]*=c}return s}}const xpt=ba?'"Segoe WPC", "Segoe UI", sans-serif':bn?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif',Dpt=140,Ppt=2;class jS{constructor(e,t,i){const r=e.options,s=r.get(144),o=r.get(146),a=o.minimap,l=r.get(50),c=r.get(73);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=r.get(106),this.paddingTop=r.get(84).top,this.paddingBottom=r.get(84).bottom,this.showSlider=c.showSlider,this.autohide=c.autohide,this.pixelRatio=s,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=r.get(67),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=o.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=o.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=xpt,this.sectionHeaderFontSize=c.sectionHeaderFontSize*s,this.sectionHeaderLetterSpacing=c.sectionHeaderLetterSpacing,this.sectionHeaderFontColor=jS._getSectionHeaderColor(t,i.getColor(1)),this.charRenderer=dC(()=>m0.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=jS._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=jS._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(tit);return i?new Yh(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(nit);return t?Yh._clamp(Math.round(255*t.rgba.a)):255}static _getSectionHeaderColor(e,t){const i=e.getColor(TA);return i?new Yh(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.sectionHeaderFontSize===e.sectionHeaderFontSize&&this.sectionHeaderLetterSpacing===e.sectionHeaderLetterSpacing&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class _0{constructor(e,t,i,r,s,o,a,l,c){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=r,this.sliderTop=s,this.sliderHeight=o,this.topPaddingLineCount=a,this.startLineNumber=l,this.endLineNumber=c}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumber,e.endLineNumber);return t>i?null:[t,i]}getYForLineNumber(e,t){return+(e-this.startLineNumber+this.topPaddingLineCount)*t}static create(e,t,i,r,s,o,a,l,c,u,d){const h=e.pixelRatio,f=e.minimapLineHeight,m=Math.floor(e.canvasInnerHeight/f),g=e.lineHeight;if(e.minimapHeightIsEditorHeight){let w=l*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(w+=Math.max(0,s-e.lineHeight-e.paddingBottom));const I=Math.max(1,Math.floor(s*s/w)),O=Math.max(0,e.minimapHeight-I),x=O/(u-s),k=c*x,P=O>0,M=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),W=Math.floor(e.paddingTop/e.lineHeight);return new _0(c,u,P,x,k,I,W,1,Math.min(a,M))}let _;if(o&&i!==a){const w=i-t+1;_=Math.floor(w*f/h)}else{const w=s/g;_=Math.floor(w*f/h)}const v=Math.floor(e.paddingTop/g);let S=Math.floor(e.paddingBottom/g);if(e.scrollBeyondLastLine){const w=s/g;S=Math.max(S,w-1)}let C;if(S>0){const w=s/g;C=(v+a+S-w-1)*f/h}else C=Math.max(0,(v+a)*f/h-_);C=Math.min(e.minimapHeight-_,C);const y=C/(u-s),b=c*y;if(m>=v+a+S){const w=C>0;return new _0(c,u,w,y,b,_,v,1,a)}else{let w;t>1?w=t+v:w=Math.max(1,c/g);let I,O=Math.max(1,Math.floor(w-b*h/f));O<v?(I=v-O+1,O=1):(I=0,O=Math.max(1,O-v)),d&&d.scrollHeight===u&&(d.scrollTop>c&&(O=Math.min(O,d.startLineNumber),I=Math.max(I,d.topPaddingLineCount)),d.scrollTop<c&&(O=Math.max(O,d.startLineNumber),I=Math.min(I,d.topPaddingLineCount)));const x=Math.min(a,O-I+m-1),k=(c-r)/g;let P;return c>=e.paddingTop?P=(t-O+I+k)*f/h:P=c/e.paddingTop*(I+k)*f/h,new _0(c,u,!0,y,P,_,I,O,x)}}}const JP=class JP{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}};JP.INVALID=new JP(-1);let nD=JP;class bde{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new TIe({createLine:()=>nD.INVALID}),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const i=this._renderedLines._get().lines;for(let r=0,s=i.length;r<s;r++)if(i[r].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class PX{constructor(e,t,i,r){this._backgroundFillData=PX._createBackgroundFillData(t,i,r),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const r=i.r,s=i.g,o=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4);let c=0;for(let u=0;u<t;u++)for(let d=0;d<e;d++)l[c]=r,l[c+1]=s,l[c+2]=o,l[c+3]=a,c+=4;return l}}class ow{static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const{minimapLineCount:r}=TS.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),s=t/r,o=s/2;if(!i||i.minimapLines.length===0){const _=[];if(_[0]=1,r>1){for(let v=0,S=r-1;v<S;v++)_[v]=Math.round(v*s+o);_[r-1]=t}return[new ow(s,_),[]]}const a=i.minimapLines,l=a.length,c=[];let u=0,d=0,h=1;const f=10;let m=[],g=null;for(let _=0;_<r;_++){const v=Math.max(h,Math.round(_*s)),S=Math.max(v,Math.round((_+1)*s));for(;u<l&&a[u]<v;){if(m.length<f){const y=u+1+d;g&&g.type==="deleted"&&g._oldIndex===u-1?g.deleteToLineNumber++:(g={type:"deleted",_oldIndex:u,deleteFromLineNumber:y,deleteToLineNumber:y},m.push(g)),d--}u++}let C;if(u<l&&a[u]<=S)C=a[u],u++;else if(_===0?C=1:_+1===r?C=t:C=Math.round(_*s+o),m.length<f){const y=u+1+d;g&&g.type==="inserted"&&g._i===_-1?g.insertToLineNumber++:(g={type:"inserted",_i:_,insertFromLineNumber:y,insertToLineNumber:y},m.push(g)),d++}c[_]=C,h=C}if(m.length<f)for(;u<l;){const _=u+1+d;g&&g.type==="deleted"&&g._oldIndex===u-1?g.deleteToLineNumber++:(g={type:"deleted",_oldIndex:u,deleteFromLineNumber:_,deleteToLineNumber:_},m.push(g)),d--,u++}else m=[{type:"flush"}];return[new ow(s,c),m]}constructor(e,t){this.samplingRatio=e,this.minimapLines=t}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let r=this.modelLineToMinimapLine(t)-1;for(;r+1<this.minimapLines.length&&this.minimapLines[r+1]<=t;)r++;if(i===r){const s=this.minimapLines[i];if(s<e||s>t)return null}return[i+1,r+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),r=this.modelLineToMinimapLine(t);return e!==t&&r===i&&(r===this.minimapLines.length?i>1&&i--:r++),[i,r]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,r=0;for(let s=this.minimapLines.length-1;s>=0&&!(this.minimapLines[s]<e.fromLineNumber);s--)this.minimapLines[s]<=e.toLineNumber?(this.minimapLines[s]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,s),r=Math.max(r,s)):this.minimapLines[s]-=t;return[i,r]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class kpt extends Ia{constructor(e){super(e),this._sectionHeaderCache=new bA(10,1.5),this.tokensColorTracker=tD.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new jS(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=ow.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new Xv(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new jS(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return t?this._actual.onLinesChanged(t[0],t[1]-t[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const r=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);r&&t.push({fromLineNumber:r[0],toLineNumber:r[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const r={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(r)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[t,i]=ow.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const r of i)switch(r.type){case"deleted":this._actual.onLinesDeleted(r.deleteFromLineNumber,r.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(r.insertFromLineNumber,r.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const r=[];for(let s=0,o=t-e+1;s<o;s++)i[s]?r[s]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+s-1]):r[s]=null;return r}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new vn(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){const i=this._getMinimapDecorationsInViewport(e,t).filter(r=>{var s;return!((s=r.options.minimap)!=null&&s.sectionHeaderStyle)});if(this._samplingState){const r=[];for(const s of i){if(!s.options.minimap)continue;const o=s.range,a=this._samplingState.modelLineToMinimapLine(o.startLineNumber),l=this._samplingState.modelLineToMinimapLine(o.endLineNumber);r.push(new dIe(new ce(a,o.startColumn,l,o.endColumn),s.options))}return r}return i}getSectionHeaderDecorationsInViewport(e,t){const i=this.options.minimapLineHeight,s=this.options.sectionHeaderFontSize/i;return e=Math.floor(Math.max(1,e-s)),this._getMinimapDecorationsInViewport(e,t).filter(o=>{var a;return!!((a=o.options.minimap)!=null&&a.sectionHeaderStyle)})}_getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const r=this._samplingState.minimapLines[e-1],s=this._samplingState.minimapLines[t-1];i=new ce(r,1,s,this._context.viewModel.getLineMaxColumn(s))}else i=new ce(e,1,t,this._context.viewModel.getLineMaxColumn(t));return this._context.viewModel.getMinimapDecorationsInRange(i)}getSectionHeaderText(e,t){var o;const i=(o=e.options.minimap)==null?void 0:o.sectionHeaderText;if(!i)return null;const r=this._sectionHeaderCache.get(i);if(r)return r;const s=t(i);return this._sectionHeaderCache.set(i,s),s}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new ce(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class Xv extends Ne{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(ice),this._domNode=Dn(document.createElement("div")),Eu.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=Dn(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=Dn(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=Dn(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=Dn(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=Dn(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=Qr(this._domNode.domNode,Ve.POINTER_DOWN,i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.button===0&&this._lastRenderData){const c=yl(this._slider.domNode),u=c.top+c.height/2;this._startSliderDragging(i,u,this._lastRenderData.renderedLayout)}return}const s=this._model.options.minimapLineHeight,o=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.offsetY;let l=Math.floor(o/s)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderPointerMoveMonitor=new JM,this._sliderPointerDownListener=Qr(this._slider.domNode,Ve.POINTER_DOWN,i=>{i.preventDefault(),i.stopPropagation(),i.button===0&&this._lastRenderData&&this._startSliderDragging(i,i.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Ro.addTarget(this._domNode.domNode),this._sliderTouchStartListener=we(this._domNode.domNode,_i.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=we(this._domNode.domNode,_i.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=Qr(this._domNode.domNode,_i.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i){if(!e.target||!(e.target instanceof Element))return;const r=e.pageX;this._slider.toggleClassName("active",!0);const s=(o,a)=>{const l=yl(this._domNode.domNode),c=Math.min(Math.abs(a-r),Math.abs(a-l.left),Math.abs(a-l.left-l.width));if(ba&&c>Dpt){this._model.setScrollTop(i.scrollTop);return}const u=o-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(u))};e.pageY!==t&&s(e.pageY,r),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>s(o.pageY,o.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new PX(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){var i;return(i=this._lastRenderData)==null||i.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var i;return(i=this._lastRenderData)==null||i.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(ice),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const i=_0.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(ce.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((h,f)=>(h.options.zIndex||0)-(f.options.zIndex||0));const{canvasInnerWidth:r,canvasInnerHeight:s}=this._model.options,o=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,r,s);const u=new Tde(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,u,e,o),this._renderDecorationsLineHighlights(c,i,u,e,o);const d=new Tde(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,d,e,o,l,a,r),this._renderDecorationsHighlights(c,i,d,e,o,l,a,r),this._renderSectionHeaders(e)}}_renderSelectionLineHighlights(e,t,i,r,s){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let o=0,a=0;for(const l of t){const c=r.intersectWithViewport(l);if(!c)continue;const[u,d]=c;for(let m=u;m<=d;m++)i.set(m,!0);const h=r.getYForLineNumber(u,s),f=r.getYForLineNumber(d,s);a>=h||(a>o&&e.fillRect(Uu,o,e.canvas.width,a-o),o=h),a=f}a>o&&e.fillRect(Uu,o,e.canvas.width,a-o)}_renderDecorationsLineHighlights(e,t,i,r,s){const o=new Map;for(let a=t.length-1;a>=0;a--){const l=t[a],c=l.options.minimap;if(!c||c.position!==1)continue;const u=r.intersectWithViewport(l.range);if(!u)continue;const[d,h]=u,f=c.getColor(this._theme.value);if(!f||f.isTransparent())continue;let m=o.get(f.toString());m||(m=f.transparent(.5).toString(),o.set(f.toString(),m)),e.fillStyle=m;for(let g=d;g<=h;g++){if(i.has(g))continue;i.set(g,!0);const _=r.getYForLineNumber(d,s);e.fillRect(Uu,_,e.canvas.width,s)}}}_renderSelectionsHighlights(e,t,i,r,s,o,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const c of t){const u=r.intersectWithViewport(c);if(!u)continue;const[d,h]=u;for(let f=d;f<=h;f++)this.renderDecorationOnLine(e,i,c,this._selectionColor,r,f,s,s,o,a,l)}}_renderDecorationsHighlights(e,t,i,r,s,o,a,l){for(const c of t){const u=c.options.minimap;if(!u)continue;const d=r.intersectWithViewport(c.range);if(!d)continue;const[h,f]=d,m=u.getColor(this._theme.value);if(!(!m||m.isTransparent()))for(let g=h;g<=f;g++)switch(u.position){case 1:this.renderDecorationOnLine(e,i,c.range,m,r,g,s,s,o,a,l);continue;case 2:{const _=r.getYForLineNumber(g,s);this.renderDecoration(e,m,2,_,Ppt,s);continue}}}}renderDecorationOnLine(e,t,i,r,s,o,a,l,c,u,d){const h=s.getYForLineNumber(o,l);if(h+a<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:f,endLineNumber:m}=i,g=f===o?i.startColumn:1,_=m===o?i.endColumn:this._model.getLineMaxColumn(o),v=this.getXOffsetForPosition(t,o,g,c,u,d),S=this.getXOffsetForPosition(t,o,_,c,u,d);this.renderDecoration(e,r,v,h,S-v,a)}getXOffsetForPosition(e,t,i,r,s,o){if(i===1)return Uu;if((i-1)*s>=o)return o;let l=e.get(t);if(!l){const c=this._model.getLineContent(t);l=[Uu];let u=Uu;for(let d=1;d<c.length+1;d++){const h=c.charCodeAt(d-1),f=h===9?r*s:Kg(h)?2*s:s,m=u+f;if(m>=o){l[d]=o;break}l[d]=m,u=m}e.set(t,l)}return i-1<l.length?l[i-1]:o}renderDecoration(e,t,i,r,s,o){e.fillStyle=t&&t.toString()||"",e.fillRect(i,r,s,o)}_renderSectionHeaders(e){var g;const t=this._model.options.minimapLineHeight,i=this._model.options.sectionHeaderFontSize,r=this._model.options.sectionHeaderLetterSpacing,s=i*1.5,{canvasInnerWidth:o}=this._model.options,a=this._model.options.backgroundColor,l=`rgb(${a.r} ${a.g} ${a.b} / .7)`,c=this._model.options.sectionHeaderFontColor,u=`rgb(${c.r} ${c.g} ${c.b})`,d=u,h=this._decorationsCanvas.domNode.getContext("2d");h.letterSpacing=r+"px",h.font="500 "+i+"px "+this._model.options.sectionHeaderFontFamily,h.strokeStyle=d,h.lineWidth=.2;const f=this._model.getSectionHeaderDecorationsInViewport(e.startLineNumber,e.endLineNumber);f.sort((_,v)=>_.range.startLineNumber-v.range.startLineNumber);const m=Xv._fitSectionHeader.bind(null,h,o-Uu);for(const _ of f){const v=e.getYForLineNumber(_.range.startLineNumber,t)+i,S=v-i,C=S+2,y=this._model.getSectionHeaderText(_,m);Xv._renderSectionLabel(h,y,((g=_.options.minimap)==null?void 0:g.sectionHeaderStyle)===2,l,u,o,S,s,v,C)}}static _fitSectionHeader(e,t,i){if(!i)return i;const r="",s=e.measureText(i).width,o=e.measureText(r).width;if(s<=t||s<=o)return i;const a=i.length,l=s/i.length,c=Math.floor((t-o)/l)-1;let u=Math.ceil(c/2);for(;u>0&&/\s/.test(i[u-1]);)--u;return i.substring(0,u)+r+i.substring(a-(c-u))}static _renderSectionLabel(e,t,i,r,s,o,a,l,c,u){t&&(e.fillStyle=r,e.fillRect(0,a,o,l),e.fillStyle=s,e.fillText(t,Uu,c)),i&&(e.beginPath(),e.moveTo(0,u),e.lineTo(o,u),e.closePath(),e.stroke())}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,r=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const H=this._lastRenderData._get();return new bde(e,H.imageData,H.lines)}const s=this._getBuffer();if(!s)return null;const[o,a,l]=Xv._renderUntouchedLines(s,e.topPaddingLineCount,t,i,r,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),u=this._model.getOptions().tabSize,d=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,f=this._model.options.foregroundAlpha,m=this._model.tokensColorTracker,g=m.backgroundIsLight(),_=this._model.options.renderMinimap,v=this._model.options.charRenderer(),S=this._model.options.fontScale,C=this._model.options.minimapCharWidth,b=(_===1?2:3)*S,w=r>b?Math.floor((r-b)/2):0,I=h.a/255,O=new Yh(Math.round((h.r-d.r)*I+d.r),Math.round((h.g-d.g)*I+d.g),Math.round((h.b-d.b)*I+d.b),255);let x=e.topPaddingLineCount*r;const k=[];for(let H=0,V=i-t+1;H<V;H++)l[H]&&Xv._renderLine(s,O,h.a,g,_,C,m,f,v,x,w,u,c[H],S,r),k[H]=new nD(x),x+=r;const P=o===-1?0:o,W=(a===-1?s.height:a)-P;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,P,s.width,W),new bde(e,s,k)}static _renderUntouchedLines(e,t,i,r,s,o){const a=[];if(!o){for(let x=0,k=r-i+1;x<k;x++)a[x]=!0;return[-1,-1,a]}const l=o._get(),c=l.imageData.data,u=l.rendLineNumberStart,d=l.lines,h=d.length,f=e.width,m=e.data,g=(r-i+1)*s*f*4;let _=-1,v=-1,S=-1,C=-1,y=-1,b=-1,w=t*s;for(let x=i;x<=r;x++){const k=x-i,P=x-u,M=P>=0&&P<h?d[P].dy:-1;if(M===-1){a[k]=!0,w+=s;continue}const W=M*f*4,F=(M+s)*f*4,H=w*f*4,V=(w+s)*f*4;C===W&&b===H?(C=F,b=V):(S!==-1&&(m.set(c.subarray(S,C),y),_===-1&&S===0&&S===y&&(_=C),v===-1&&C===g&&S===y&&(v=S)),S=W,C=F,y=H,b=V),a[k]=!1,w+=s}S!==-1&&(m.set(c.subarray(S,C),y),_===-1&&S===0&&S===y&&(_=C),v===-1&&C===g&&S===y&&(v=S));const I=_===-1?-1:_/(f*4),O=v===-1?-1:v/(f*4);return[I,O,a]}static _renderLine(e,t,i,r,s,o,a,l,c,u,d,h,f,m,g){const _=f.content,v=f.tokens,S=e.width-o,C=g===1;let y=Uu,b=0,w=0;for(let I=0,O=v.getCount();I<O;I++){const x=v.getEndOffset(I),k=v.getForeground(I),P=a.getColor(k);for(;b<x;b++){if(y>S)return;const M=_.charCodeAt(b);if(M===9){const W=h-(b+w)%h;w+=W-1,y+=W*o}else if(M===32)y+=o;else{const W=Kg(M)?2:1;for(let F=0;F<W;F++)if(s===2?c.blockRenderChar(e,y,u+d,P,l,t,i,C):c.renderChar(e,y,u+d,M,P,l,t,i,m,r,C),y+=o,y>S)return}}}}}class Tde{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let r=0,s=this._endLineNumber-this._startLineNumber+1;r<s;r++)this._values[r]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class Mpt extends Ia{constructor(e,t){super(e),this._viewDomNode=t;const r=this._context.configuration.options.get(146);this._widgets={},this._verticalScrollbarWidth=r.verticalScrollbarWidth,this._minimapWidth=r.minimap.minimapWidth,this._horizontalScrollbarHeight=r.horizontalScrollbarHeight,this._editorHeight=r.height,this._editorWidth=r.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=Dn(document.createElement("div")),Eu.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=Dn(document.createElement("div")),Eu.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const i=this._context.configuration.options.get(146);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){const t=Dn(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),e.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(t):this._domNode.appendChild(t),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(e,t){const i=this._widgets[e.getId()],r=t?t.preference:null,s=t==null?void 0:t.stackOridinal;return i.preference===r&&i.stack===s?(this._updateMaxMinWidth(),!1):(i.preference=r,i.stack=s,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const r=this._widgets[t].domNode.domNode;delete this._widgets[t],r.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var i,r;let e=0;const t=Object.keys(this._widgets);for(let s=0,o=t.length;s<o;s++){const a=t[s],c=(r=(i=this._widgets[a].widget).getMinContentWidthInPx)==null?void 0:r.call(i);typeof c<"u"&&(e=Math.max(e,c))}this._context.viewLayout.setOverlayWidgetsMinWidth(e)}_renderWidget(e,t){const i=e.domNode;if(e.preference===null){i.setTop("");return}const r=2*this._verticalScrollbarWidth+this._minimapWidth;if(e.preference===0||e.preference===1){if(e.preference===1){const s=i.domNode.clientHeight;i.setTop(this._editorHeight-s-2*this._horizontalScrollbarHeight)}else i.setTop(0);e.stack!==void 0?(i.setTop(t[e.preference]),t[e.preference]+=i.domNode.clientWidth):i.setRight(r)}else if(e.preference===2)i.domNode.style.right="50%",e.stack!==void 0?(i.setTop(t[2]),t[2]+=i.domNode.clientHeight):i.setTop(0);else{const{top:s,left:o}=e.preference;if(this._context.configuration.options.get(42)&&e.widget.allowEditorOverflow){const l=this._viewDomNodeRect;i.setTop(s+l.top),i.setLeft(o+l.left),i.setPosition("fixed")}else i.setTop(s),i.setLeft(o),i.setPosition("absolute")}}prepareRender(e){this._viewDomNodeRect=yl(this._viewDomNode.domNode)}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets),i=Array.from({length:3},()=>0);t.sort((r,s)=>(this._widgets[r].stack||0)-(this._widgets[s].stack||0));for(let r=0,s=t.length;r<s;r++){const o=t[r];this._renderWidget(this._widgets[o],i)}}}let Fpt=class{constructor(e,t){const i=e.options;this.lineHeight=i.get(67),this.pixelRatio=i.get(144),this.overviewRulerLanes=i.get(83),this.renderBorder=i.get(82);const r=t.getColor(vlt);this.borderColor=r?r.toString():null,this.hideCursor=i.get(59);const s=t.getColor(f2);this.cursorColorSingle=s?s.transparent(.7).toString():null;const o=t.getColor(JAe);this.cursorColorPrimary=o?o.transparent(.7).toString():null;const a=t.getColor(eRe);this.cursorColorSecondary=a?a.transparent(.7).toString():null,this.themeType=t.type;const l=i.get(73),c=l.enabled,u=l.side,d=t.getColor(Slt),h=gr.getDefaultBackground();d?this.backgroundColor=d:c&&u==="right"?this.backgroundColor=h:this.backgroundColor=null;const m=i.get(146).overviewRuler;this.top=m.top,this.right=m.right,this.domWidth=m.width,this.domHeight=m.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[g,_]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=g,this.w=_}_initLanes(e,t,i){const r=t-e;if(i>=3){const s=Math.floor(r/3),o=Math.floor(r/3),a=r-s-o,l=e,c=l+s,u=l+s+a;return[[0,l,c,l,u,l,c,l],[0,s,a,s+a,o,s+a+o,a+o,s+a+o]]}else if(i===2){const s=Math.floor(r/2),o=r-s,a=e,l=a+s;return[[0,a,a,a,l,a,a,a],[0,s,s,s,o,s+o,s+o,s+o]]}else{const s=e,o=r;return[[0,s,s,s,s,s,s,s],[0,o,o,o,o,o,o,o]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColorSingle===e.cursorColorSingle&&this.cursorColorPrimary===e.cursorColorPrimary&&this.cursorColorSecondary===e.cursorColorSecondary&&this.themeType===e.themeType&&Me.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}};class Bpt extends Ia{constructor(e){super(e),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=Dn(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=gr.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[{position:new Ee(1,1),color:this._settings.cursorColorSingle}]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new Fpt(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++){let r=this._settings.cursorColorSingle;i>1&&(r=t===0?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:e.selections[t].getPosition(),color:r})}return this._cursorPositions.sort((t,i)=>Ee.compare(t.position,i.position)),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(e){return e.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(e){return this._markRenderingIsNeeded()}onScrollChanged(e){return e.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(e){return this._markRenderingIsNeeded()}onThemeChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render(),this._actualShouldRender=0}_render(){const e=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(e?Me.Format.CSS.formatHexA(e):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(ew.compareByRenderingProps),this._actualShouldRender===1&&!ew.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!Mr(this._renderedCursorPositions,this._cursorPositions,(m,g)=>m.position.lineNumber===g.position.lineNumber&&m.color===g.color)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const i=this._settings.canvasWidth,r=this._settings.canvasHeight,s=this._settings.lineHeight,o=this._context.viewLayout,a=this._context.viewLayout.getScrollHeight(),l=r/a,c=6*this._settings.pixelRatio|0,u=c/2|0,d=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(d.fillStyle=Me.Format.CSS.formatHexA(e),d.fillRect(0,0,i,r)):(d.clearRect(0,0,i,r),d.fillStyle=Me.Format.CSS.formatHexA(e),d.fillRect(0,0,i,r)):d.clearRect(0,0,i,r);const h=this._settings.x,f=this._settings.w;for(const m of t){const g=m.color,_=m.data;d.fillStyle=g;let v=0,S=0,C=0;for(let y=0,b=_.length/3;y<b;y++){const w=_[3*y],I=_[3*y+1],O=_[3*y+2];let x=o.getVerticalOffsetForLineNumber(I)*l|0,k=(o.getVerticalOffsetForLineNumber(O)+s)*l|0;if(k-x<c){let M=(x+k)/2|0;M<u?M=u:M+u>r&&(M=r-u),x=M-u,k=M+u}x>C+1||w!==v?(y!==0&&d.fillRect(h[v],S,f[v],C-S),v=w,S=x,C=k):k>C&&(C=k)}d.fillRect(h[v],S,f[v],C-S)}if(!this._settings.hideCursor){const m=2*this._settings.pixelRatio|0,g=m/2|0,_=this._settings.x[7],v=this._settings.w[7];let S=-100,C=-100,y=null;for(let b=0,w=this._cursorPositions.length;b<w;b++){const I=this._cursorPositions[b].color;if(!I)continue;const O=this._cursorPositions[b].position;let x=o.getVerticalOffsetForLineNumber(O.lineNumber)*l|0;x<g?x=g:x+g>r&&(x=r-g);const k=x-g,P=k+m;k>C+1||I!==y?(b!==0&&y&&d.fillRect(_,S,v,C-S),S=k,C=P):P>C&&(C=P),y=I,d.fillStyle=I}y&&d.fillRect(_,S,v,C-S)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(d.beginPath(),d.lineWidth=1,d.strokeStyle=this._settings.borderColor,d.moveTo(0,0),d.lineTo(0,r),d.moveTo(1,0),d.lineTo(i,0),d.stroke())}}class wde{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class NIe{constructor(e,t,i,r){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=r,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class Upt{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(NIe.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),r=Math.floor(this._outerHeight),s=i/r,o=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,c=this._zones.length;l<c;l++){const u=this._zones[l];if(!e){const y=u.getColorZones();if(y){a.push(y);continue}}const d=this._getVerticalOffsetForLine(u.startLineNumber),h=u.heightInLines===0?this._getVerticalOffsetForLine(u.endLineNumber)+t:d+u.heightInLines*t,f=Math.floor(s*d),m=Math.floor(s*h);let g=Math.floor((f+m)/2),_=m-g;_<o&&(_=o),g-_<0&&(g=_),g+_>i&&(g=i-_);const v=u.color;let S=this._color2Id[v];S||(S=++this._lastAssignedId,this._color2Id[v]=S,this._id2Color[S]=v);const C=new wde(g-_,g+_,S);u.setColorZone(C),a.push(C)}return this._colorZonesInvalid=!1,a.sort(wde.compare),a}}class Hpt extends FA{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=Dn(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Upt(r=>this._context.viewLayout.getVerticalOffsetForLineNumber(r)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(67)),this._zoneManager.setPixelRatio(i.get(144)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(67)&&(this._zoneManager.setLineHeight(t.get(67)),this._render()),e.hasChanged(144)&&(this._zoneManager.setPixelRatio(t.get(144)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),r=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(s,i,r,e),!0}_renderOneLane(e,t,i,r){let s=0,o=0,a=0;for(const l of t){const c=l.colorId,u=l.from,d=l.to;c!==s?(e.fillRect(0,o,r,a-o),s=c,e.fillStyle=i[s],o=u,a=d):a>=u?a=Math.max(a,d):(e.fillRect(0,o,r,a-o),o=u,a=d)}e.fillRect(0,o,r,a-o)}}class Vpt extends Ia{constructor(e){super(e),this.domNode=Dn(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(103),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(103),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:r}=this._context.viewModel.model.getOptions(),s=r;let o=t-e;for(;o>0;){const a=Dn(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(s),this.domNode.appendChild(a),this._renderedRulers.push(a),o--}return}let i=e-t;for(;i>0;){const r=this._renderedRulers.pop();this.domNode.removeChild(r),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const r=this._renderedRulers[t],s=this._rulers[t];r.setBoxShadow(s.color?`1px 0 0 0 ${s.color} inset`:""),r.setHeight(Math.min(e.scrollHeight,1e6)),r.setLeft(s.column*this._typicalHalfwidthCharacterWidth)}}}class Wpt extends Ia{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const i=this._context.configuration.options.get(104);this._useShadows=i.useShadows,this._domNode=Dn(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(146);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.verticalScrollbarWidth}onConfigurationChanged(e){const i=this._context.configuration.options.get(104);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class $pt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class Gpt{constructor(e,t){this.lineNumber=e,this.ranges=t}}function zpt(n){return new $pt(n)}function jpt(n){return new Gpt(n.lineNumber,n.ranges.map(zpt))}const Ki=class Ki extends gE{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._roundedSelection=t.get(102),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._roundedSelection=t.get(102),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){const r=this._typicalHalfwidthCharacterWidth/4;let s=null,o=null;if(i&&i.length>0&&t.length>0){const a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!s&&c<i.length;c++)i[c].lineNumber===a&&(s=i[c].ranges[0]);const l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let c=i.length-1;!o&&c>=0;c--)i[c].lineNumber===l&&(o=i[c].ranges[0]);s&&!s.startStyle&&(s=null),o&&!o.startStyle&&(o=null)}for(let a=0,l=t.length;a<l;a++){const c=t[a].ranges[0],u=c.left,d=c.left+c.width,h={top:0,bottom:0},f={top:0,bottom:0};if(a>0){const m=t[a-1].ranges[0].left,g=t[a-1].ranges[0].left+t[a-1].ranges[0].width;SN(u-m)<r?h.top=2:u>m&&(h.top=1),SN(d-g)<r?f.top=2:m<d&&d<g&&(f.top=1)}else s&&(h.top=s.startStyle.top,f.top=s.endStyle.top);if(a+1<l){const m=t[a+1].ranges[0].left,g=t[a+1].ranges[0].left+t[a+1].ranges[0].width;SN(u-m)<r?h.bottom=2:m<u&&u<g&&(h.bottom=1),SN(d-g)<r?f.bottom=2:d<g&&(f.bottom=1)}else o&&(h.bottom=o.startStyle.bottom,f.bottom=o.endStyle.bottom);c.startStyle=h,c.endStyle=f}}_getVisibleRangesWithStyle(e,t,i){const s=(t.linesVisibleRangesForRange(e,!0)||[]).map(jpt);return!this._visibleRangesHaveGaps(s)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,s,i),s}_createSelectionPiece(e,t,i,r,s){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;bottom:"+t.toString()+"px;left:"+r.toString()+"px;width:"+s.toString()+'px;"></div>'}_actualRenderOneSelection(e,t,i,r){if(r.length===0)return;const s=!!r[0].ranges[0].startStyle,o=r[0].lineNumber,a=r[r.length-1].lineNumber;for(let l=0,c=r.length;l<c;l++){const u=r[l],d=u.lineNumber,h=d-t,f=i&&d===o?1:0,m=i&&d!==o&&d===a?1:0;let g="",_="";for(let v=0,S=u.ranges.length;v<S;v++){const C=u.ranges[v];if(s){const b=C.startStyle,w=C.endStyle;if(b.top===1||b.bottom===1){g+=this._createSelectionPiece(f,m,Ki.SELECTION_CLASS_NAME,C.left-Ki.ROUNDED_PIECE_WIDTH,Ki.ROUNDED_PIECE_WIDTH);let I=Ki.EDITOR_BACKGROUND_CLASS_NAME;b.top===1&&(I+=" "+Ki.SELECTION_TOP_RIGHT),b.bottom===1&&(I+=" "+Ki.SELECTION_BOTTOM_RIGHT),g+=this._createSelectionPiece(f,m,I,C.left-Ki.ROUNDED_PIECE_WIDTH,Ki.ROUNDED_PIECE_WIDTH)}if(w.top===1||w.bottom===1){g+=this._createSelectionPiece(f,m,Ki.SELECTION_CLASS_NAME,C.left+C.width,Ki.ROUNDED_PIECE_WIDTH);let I=Ki.EDITOR_BACKGROUND_CLASS_NAME;w.top===1&&(I+=" "+Ki.SELECTION_TOP_LEFT),w.bottom===1&&(I+=" "+Ki.SELECTION_BOTTOM_LEFT),g+=this._createSelectionPiece(f,m,I,C.left+C.width,Ki.ROUNDED_PIECE_WIDTH)}}let y=Ki.SELECTION_CLASS_NAME;if(s){const b=C.startStyle,w=C.endStyle;b.top===0&&(y+=" "+Ki.SELECTION_TOP_LEFT),b.bottom===0&&(y+=" "+Ki.SELECTION_BOTTOM_LEFT),w.top===0&&(y+=" "+Ki.SELECTION_TOP_RIGHT),w.bottom===0&&(y+=" "+Ki.SELECTION_BOTTOM_RIGHT)}_+=this._createSelectionPiece(f,m,y,C.left,C.width)}e[h][0]+=g,e[h][1]+=_}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let o=i;o<=r;o++){const a=o-i;t[a]=["",""]}const s=[];for(let o=0,a=this._selections.length;o<a;o++){const l=this._selections[o];if(l.isEmpty()){s[o]=null;continue}const c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[o]);s[o]=c,this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=t.map(([o,a])=>o+a)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};Ki.SELECTION_CLASS_NAME="selected-text",Ki.SELECTION_TOP_LEFT="top-left-radius",Ki.SELECTION_BOTTOM_LEFT="bottom-left-radius",Ki.SELECTION_TOP_RIGHT="top-right-radius",Ki.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Ki.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Ki.ROUNDED_PIECE_WIDTH=10;let nG=Ki;df((n,e)=>{const t=n.getColor(Fnt);t&&!t.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${t}; }`)});function SN(n){return n<0?-n:n}class Ade{constructor(e,t,i,r,s,o,a){this.top=e,this.left=t,this.paddingLeft=i,this.width=r,this.height=s,this.textContent=o,this.textContentClassName=a}}var Mh;(function(n){n[n.Single=0]="Single",n[n.MultiPrimary=1]="MultiPrimary",n[n.MultiSecondary=2]="MultiSecondary"})(Mh||(Mh={}));class Rde{constructor(e,t){this._context=e;const i=this._context.configuration.options,r=i.get(50);this._cursorStyle=i.get(28),this._lineHeight=i.get(67),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(i.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Dn(document.createElement("div")),this._domNode.setClassName(`cursor ${zS}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),Us(this._domNode,r),this._domNode.setDisplay("none"),this._position=new Ee(1,1),this._pluralityClass="",this.setPlurality(t),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}setPlurality(e){switch(e){default:case Mh.Single:this._pluralityClass="";break;case Mh.MultiPrimary:this._pluralityClass="cursor-primary";break;case Mh.MultiSecondary:this._pluralityClass="cursor-secondary";break}}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),Us(this._domNode,i),!0}onCursorPositionChanged(e,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[r,s]=IQe(i,t-1);return[new Ee(e,r+1),i.substring(r,s)]}_prepareRender(e){let t="",i="";const[r,s]=this._getGraphemeAwarePosition();if(this._cursorStyle===is.Line||this._cursorStyle===is.LineThin){const h=e.visibleRangeForPosition(r);if(!h||h.outsideRenderedLine)return null;const f=ht(this._domNode.domNode);let m;this._cursorStyle===is.Line?(m=Bae(f,this._lineCursorWidth>0?this._lineCursorWidth:2),m>2&&(t=s,i=this._getTokenClassName(r))):m=Bae(f,1);let g=h.left,_=0;m>=2&&g>=1&&(_=1,g-=_);const v=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.bigNumbersDelta;return new Ade(v,g,_,m,this._lineHeight,t,i)}const o=e.linesVisibleRangesForRange(new ce(r.lineNumber,r.column,r.lineNumber,r.column+s.length),!1);if(!o||o.length===0)return null;const a=o[0];if(a.outsideRenderedLine||a.ranges.length===0)return null;const l=a.ranges[0],c=s==="	"?this._typicalHalfwidthCharacterWidth:l.width<1?this._typicalHalfwidthCharacterWidth:l.width;this._cursorStyle===is.Block&&(t=s,i=this._getTokenClassName(r));let u=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.bigNumbersDelta,d=this._lineHeight;return(this._cursorStyle===is.Underline||this._cursorStyle===is.UnderlineThin)&&(u+=this._lineHeight-2,d=2),new Ade(u,l.left,0,c,d,t,i)}_getTokenClassName(e){const t=this._context.viewModel.getViewLineData(e.lineNumber),i=t.tokens.findTokenIndexAtOffset(e.column-1);return t.tokens.getClassName(i)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${this._pluralityClass} ${zS} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}const G0=class G0 extends Ia{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(92),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Rde(this._context,Mh.Single),this._secondaryCursors=[],this._renderData=[],this._domNode=Dn(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new nE,this._cursorFlatBlinkInterval=new GK,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(92),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,r=this._secondaryCursors.length;i<r;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t,i){const r=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&i!==3;if(this._primaryCursor.setPlurality(t.length?Mh.MultiPrimary:Mh.Single),this._primaryCursor.onCursorPositionChanged(e,r),this._updateBlinking(),this._secondaryCursors.length<t.length){const s=t.length-this._secondaryCursors.length;for(let o=0;o<s;o++){const a=new Rde(this._context,Mh.MultiSecondary);this._domNode.domNode.insertBefore(a.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(a)}}else if(this._secondaryCursors.length>t.length){const s=this._secondaryCursors.length-t.length;for(let o=0;o<s;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let s=0;s<t.length;s++)this._secondaryCursors[s].onCursorPositionChanged(t[s],r)}onCursorStateChanged(e){const t=[];for(let r=0,s=e.selections.length;r<s;r++)t[r]=e.selections[r].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),e.reason);const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=i=>{for(let r=0,s=e.ranges.length;r<s;r++)if(e.ranges[r].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[r].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},G0.BLINK_INTERVAL,ht(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},G0.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case is.Line:e+=" cursor-line-style";break;case is.Block:e+=" cursor-block-style";break;case is.Underline:e+=" cursor-underline-style";break;case is.LineThin:e+=" cursor-line-thin-style";break;case is.BlockOutline:e+=" cursor-block-outline-style";break;case is.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const r=this._primaryCursor.render(e);r&&(t[i++]=r);for(let s=0,o=this._secondaryCursors.length;s<o;s++){const a=this._secondaryCursors[s].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}};G0.BLINK_INTERVAL=500;let iG=G0;df((n,e)=>{const t=[{class:".cursor",foreground:f2,background:Wq},{class:".cursor-primary",foreground:JAe,background:nlt},{class:".cursor-secondary",foreground:eRe,background:ilt}];for(const i of t){const r=n.getColor(i.foreground);if(r){let s=n.getColor(i.background);s||(s=r.opposite()),e.addRule(`.monaco-editor .cursors-layer ${i.class} { background-color: ${r}; border-color: ${r}; color: ${s}; }`),OS(n.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection ${i.class} { border-left: 1px solid ${s}; border-right: 1px solid ${s}; }`)}}});const eV=()=>{throw new Error("Invalid change accessor")};class Ypt extends Ia{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(146);this._lineHeight=t.get(67),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=Dn(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=Dn(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const r of e)t.set(r.id,r);let i=!1;return this._context.viewModel.changeWhitespace(r=>{const s=Object.keys(this._zones);for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._zones[l],u=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=u.isInHiddenArea;const d=t.get(l);d&&(d.afterLineNumber!==u.afterViewLineNumber||d.height!==u.heightInPx)&&(r.changeOneWhitespace(l,u.afterViewLineNumber,u.heightInPx),this._safeCallOnComputedHeight(c.delegate,u.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._lineHeight=t.get(67),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return e.ordinal??e.afterColumn??1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn<"u")t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const o=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new Ee(o,this._context.viewModel.model.getLineMaxColumn(o))}let i;t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const r=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity,!0),s=e.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!s,afterViewLineNumber:r.lineNumber,heightInPx:s?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace(i=>{const r={addZone:s=>(t=!0,this._addZone(i,s)),removeZone:s=>{s&&(t=this._removeZone(i,s)||t)},layoutZone:s=>{s&&(t=this._layoutZone(i,s)||t)}};Kpt(e,r),r.addZone=eV,r.removeZone=eV,r.layoutZone=eV}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),s={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:Dn(t.domNode),marginDomNode:t.marginDomNode?Dn(t.marginDomNode):null};return this._safeCallOnComputedHeight(s.delegate,i.heightInPx),s.domNode.setPosition("absolute"),s.domNode.domNode.style.width="100%",s.domNode.setDisplay("none"),s.domNode.setAttribute("monaco-view-zone",s.whitespaceId),this.domNode.appendChild(s.domNode),s.marginDomNode&&(s.marginDomNode.setPosition("absolute"),s.marginDomNode.domNode.style.width="100%",s.marginDomNode.setDisplay("none"),s.marginDomNode.setAttribute("monaco-view-zone",s.whitespaceId),this.marginDomNode.appendChild(s.marginDomNode)),this._zones[s.whitespaceId]=s,this.setShouldRender(),s.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.remove(),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.remove()),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],r=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=r.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(i.delegate,r.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){hi(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){hi(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let r=!1;for(const o of t)this._zones[o.id].isInHiddenArea||(i[o.id]=o,r=!0);const s=Object.keys(this._zones);for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._zones[l];let u=0,d=0,h="none";i.hasOwnProperty(l)?(u=i[l].verticalOffset-e.bigNumbersDelta,d=i[l].height,h="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(u),c.domNode.setHeight(d),c.domNode.setDisplay(h),c.marginDomNode&&(c.marginDomNode.setTop(u),c.marginDomNode.setHeight(d),c.marginDomNode.setDisplay(h))}r&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function Kpt(n,e){try{return n(e)}catch(t){hi(t)}}class qpt extends gE{constructor(e){super(),this._context=e,this._options=new Ide(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=new Ide(this._context.configuration);return this._options.equals(t)?e.hasChanged(146):(this._options=t,!0)}onCursorStateChanged(e){return this._selection=e.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber-t+1,s=new Array(r);for(let a=0;a<r;a++)s[a]=!0;const o=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,s);this._renderResult=[];for(let a=e.viewportData.startLineNumber;a<=e.viewportData.endLineNumber;a++){const l=a-e.viewportData.startLineNumber,c=o.data[l];let u=null;if(this._options.renderWhitespace==="selection"){const d=this._selection;for(const h of d){if(h.endLineNumber<a||h.startLineNumber>a)continue;const f=h.startLineNumber===a?h.startColumn:c.minColumn,m=h.endLineNumber===a?h.endColumn:c.maxColumn;f<m&&(u||(u=[]),u.push(new lIe(f-1,m-1)))}}this._renderResult[l]=this._applyRenderWhitespace(e,a,u,c)}}_applyRenderWhitespace(e,t,i,r){if(this._options.renderWhitespace==="selection"&&!i||this._options.renderWhitespace==="trailing"&&r.continuesWithWrappedLine)return"";const s=this._context.theme.getColor($q),o=this._options.renderWithSVG,a=r.content,l=this._options.stopRenderingLineAfter===-1?a.length:Math.min(this._options.stopRenderingLineAfter,a.length),c=r.continuesWithWrappedLine,u=r.minColumn-1,d=this._options.renderWhitespace==="boundary",h=this._options.renderWhitespace==="trailing",f=this._options.lineHeight,m=this._options.middotWidth,g=this._options.wsmiddotWidth,_=this._options.spaceWidth,v=Math.abs(g-_),S=Math.abs(m-_),C=v<S?11825:183,y=this._options.canUseHalfwidthRightwardsArrow;let b="",w=!1,I=Sa(a),O;I===-1?(w=!0,I=l,O=l):O=tE(a);let x=0,k=i&&i[x],P=0;for(let M=u;M<l;M++){const W=a.charCodeAt(M);if(k&&M>=k.endOffset&&(x++,k=i&&i[x]),W!==9&&W!==32||h&&!w&&M<=O)continue;if(d&&M>=I&&M<=O&&W===32){const H=M-1>=0?a.charCodeAt(M-1):0,V=M+1<l?a.charCodeAt(M+1):0;if(H!==32&&V!==32)continue}if(d&&c&&M===l-1){const H=M-1>=0?a.charCodeAt(M-1):0;if(W===32&&H!==32&&H!==9)continue}if(i&&(!k||k.startOffset>M||k.endOffset<=M))continue;const F=e.visibleRangeForPosition(new Ee(t,M+1));F&&(o?(P=Math.max(P,F.left),W===9?b+=this._renderArrow(f,_,F.left):b+=`<circle cx="${(F.left+_/2).toFixed(2)}" cy="${(f/2).toFixed(2)}" r="${(_/7).toFixed(2)}" />`):W===9?b+=`<div class="mwh" style="left:${F.left}px;height:${f}px;">${y?"":""}</div>`:b+=`<div class="mwh" style="left:${F.left}px;height:${f}px;">${String.fromCharCode(C)}</div>`)}return o?(P=Math.round(P+_),`<svg style="bottom:0;position:absolute;width:${P}px;height:${f}px" viewBox="0 0 ${P} ${f}" xmlns="http://www.w3.org/2000/svg" fill="${s}">`+b+"</svg>"):b}_renderArrow(e,t,i){const r=t/7,s=t,o=e/2,a=i,l={x:0,y:r/2},c={x:100/125*s,y:l.y},u={x:c.x-.2*c.x,y:c.y+.2*c.x},d={x:u.x+.1*c.x,y:u.y+.1*c.x},h={x:d.x+.35*c.x,y:d.y-.35*c.x},f={x:h.x,y:-h.y},m={x:d.x,y:-d.y},g={x:u.x,y:-u.y},_={x:c.x,y:-c.y},v={x:l.x,y:-l.y};return`<path d="M ${[l,c,u,d,h,f,m,g,_,v].map(y=>`${(a+y.x).toFixed(2)} ${(o+y.y).toFixed(2)}`).join(" L ")}" />`}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class Ide{constructor(e){const t=e.options,i=t.get(50),r=t.get(38);r==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):r==="svg"?(this.renderWhitespace=t.get(100),this.renderWithSVG=!0):(this.renderWhitespace=t.get(100),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=t.get(67),this.stopRenderingLineAfter=t.get(118)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}class Xpt{constructor(e,t,i,r){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.lineHeight=t.lineHeight|0,this.whitespaceViewportData=i,this._model=r,this.visibleRange=new ce(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Qpt{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class Zpt{constructor(e,t,i){this.configuration=e,this.theme=new Qpt(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}var Jpt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},emt=function(n,e){return function(t,i){e(t,i,n)}};let rG=class extends FA{constructor(e,t,i,r,s,o,a){super(),this._instantiationService=a,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new vn(1,1,1,1)],this._renderAnimationFrame=null;const l=new apt(t,r,s,e);this._context=new Zpt(t,i,r),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(X$,this._context,l,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=Dn(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=Dn(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=Dn(document.createElement("div")),Eu.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new _pt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new tG(this._context,this._linesContent),this._viewZones=new Ypt(this._context),this._viewParts.push(this._viewZones);const c=new Bpt(this._context);this._viewParts.push(c);const u=new Wpt(this._context);this._viewParts.push(u);const d=new cpt(this._context);this._viewParts.push(d),d.addDynamicOverlay(new gpt(this._context)),d.addDynamicOverlay(new nG(this._context)),d.addDynamicOverlay(new Tpt(this._context)),d.addDynamicOverlay(new mpt(this._context)),d.addDynamicOverlay(new qpt(this._context));const h=new upt(this._context);this._viewParts.push(h),h.addDynamicOverlay(new ppt(this._context)),h.addDynamicOverlay(new Npt(this._context)),h.addDynamicOverlay(new Ipt(this._context)),h.addDynamicOverlay(new qx(this._context)),this._glyphMarginWidgets=new Spt(this._context),this._viewParts.push(this._glyphMarginWidgets);const f=new Xx(this._context);f.getDomNode().appendChild(this._viewZones.marginDomNode),f.getDomNode().appendChild(h.getDomNode()),f.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(f),this._contentWidgets=new hpt(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new iG(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Mpt(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const m=new Vpt(this._context);this._viewParts.push(m);const g=new dpt(this._context);this._viewParts.push(g);const _=new kpt(this._context);if(this._viewParts.push(_),c){const v=this._scrollbar.getOverviewRulerLayoutInfo();v.parent.insertBefore(c.getDomNode(),v.insertBefore)}this._linesContent.appendChild(d.getDomNode()),this._linesContent.appendChild(m.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(f.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(u.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(_.getDomNode()),this._overflowGuardContainer.appendChild(g.domNode),this.domNode.appendChild(this._overflowGuardContainer),o?(o.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),o.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new Igt(this._context,l,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const e=this._context.viewModel.model,t=this._context.viewModel.glyphLanes;let i=[],r=0;i=i.concat(e.getAllMarginDecorations().map(s=>{var a,l;const o=((a=s.options.glyphMargin)==null?void 0:a.position)??Qg.Center;return r=Math.max(r,s.range.endLineNumber),{range:s.range,lane:o,persist:(l=s.options.glyphMargin)==null?void 0:l.persistLane}})),i=i.concat(this._glyphMarginWidgets.getWidgets().map(s=>{const o=e.validateRange(s.preference.range);return r=Math.max(r,o.endLineNumber),{range:o,lane:s.preference.lane}})),i.sort((s,o)=>ce.compareRangesUsingStarts(s.range,o.range)),t.reset(r);for(const s of i)t.push(s.lane,s.range,s.persist);return t}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new mgt(e,t)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ee(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const t=this._context.configuration.options.get(146);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(143)+" "+z6(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onDecorationsChanged(e){return e.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){var e;if(this._store.isDisposed)throw new Kn;if(this._renderAnimationFrame===null){const t=this._createCoordinatedRendering();this._renderAnimationFrame=sG.INSTANCE.scheduleCoordinatedRendering({window:ht((e=this.domNode)==null?void 0:e.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new Kn;try{return t.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new Kn;return t.renderText()},prepareRender:(i,r)=>{if(this._store.isDisposed)throw new Kn;return t.prepareRender(i,r)},render:(i,r)=>{if(this._store.isDisposed)throw new Kn;return t.render(i,r)}})}}_flushAccumulatedAndRenderNow(){const e=this._createCoordinatedRendering();yg(()=>e.prepareRenderText());const t=yg(()=>e.renderText());if(t){const[i,r]=t;yg(()=>e.prepareRender(i,r)),yg(()=>e.render(i,r))}}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const e=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(e.requiredLanes)}Cg.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return null;const t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new Xpt(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender()),[e,new cgt(this._context.viewLayout,i,this._viewLines)]},prepareRender:(e,t)=>{for(const i of e)i.prepareRender(t)},render:(e,t)=>{for(const i of e)i.render(t),i.onDidRender()}}}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(e,t){const i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),r=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const s=this._viewLines.visibleRangeForPosition(new Ee(r.lineNumber,r.column));return s?s.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?I2.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new Hpt(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,i,r,s;this._contentWidgets.setWidgetPosition(e.widget,((t=e.position)==null?void 0:t.position)??null,((i=e.position)==null?void 0:i.secondaryPosition)??null,((r=e.position)==null?void 0:r.preference)??null,((s=e.position)==null?void 0:s.positionAffinity)??null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){this._overlayWidgets.setWidgetPosition(e.widget,e.position)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}addGlyphMarginWidget(e){this._glyphMarginWidgets.addWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(e){const t=e.position;this._glyphMarginWidgets.setWidgetPosition(e.widget,t)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(e){this._glyphMarginWidgets.removeWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};rG=Jpt([emt(6,oi)],rG);function yg(n){try{return n()}catch(e){return hi(e),null}}const ek=class ek{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(e){return this._coordinatedRenderings.push(e),this._scheduleRender(e.window),{dispose:()=>{const t=this._coordinatedRenderings.indexOf(e);if(t!==-1&&(this._coordinatedRenderings.splice(t,1),this._coordinatedRenderings.length===0)){for(const[i,r]of this._animationFrameRunners)r.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(e){if(!this._animationFrameRunners.has(e)){const t=()=>{this._animationFrameRunners.delete(e),this._onRenderScheduled()};this._animationFrameRunners.set(e,H1e(e,t,100))}}_onRenderScheduled(){const e=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const i of e)yg(()=>i.prepareRenderText());const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t[i]=yg(()=>s.renderText())}for(let i=0,r=e.length;i<r;i++){const s=e[i],o=t[i];if(!o)continue;const[a,l]=o;yg(()=>s.prepareRender(a,l))}for(let i=0,r=e.length;i<r;i++){const s=e[i],o=t[i];if(!o)continue;const[a,l]=o;yg(()=>s.render(a,l))}}};ek.INSTANCE=new ek;let sG=ek;class E0{constructor(e,t,i,r,s){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=r,this.wrappedTextIndentLength=s}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let r=this.breakOffsets[e]-t;return e>0&&(r+=this.wrappedTextIndentLength),r}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let r=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let s=0;s<this.injectionOffsets.length&&r>this.injectionOffsets[s];s++)r<this.injectionOffsets[s]+this.injectionOptions[s].content.length?r=this.injectionOffsets[s]:r-=this.injectionOptions[s].content.length;return r}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&!(e<this.injectionOffsets[r]||t!==1&&e===this.injectionOffsets[r]);r++)i+=this.injectionOptions[r].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,r=this.breakOffsets.length-1,s=0,o=0;for(;i<=r;){s=i+(r-i)/2|0;const l=this.breakOffsets[s];if(o=s>0?this.breakOffsets[s-1]:0,t===0)if(e<=o)r=s-1;else if(e>l)i=s+1;else break;else if(e<o)r=s-1;else if(e>=l)i=s+1;else break}let a=e-o;return s>0&&(a+=this.wrappedTextIndentLength),new CN(s,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){const r=this.outputPositionToOffsetInInputWithInjections(e,t),s=this.normalizeOffsetInInputWithInjectionsAroundInjections(r,i);if(s!==r)return this.offsetInInputWithInjectionsToOutputPosition(s,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new CN(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){const r=this.getOutputLineCount()-1;if(e<r&&t===this.getMaxOutputOffset(e))return new CN(e+1,this.getMinOutputOffset(e+1))}return new CN(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2){if(e===i.offsetInInputWithInjections+i.length&&Nde(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let r=i.offsetInInputWithInjections;if(Lde(this.injectionOptions[i.injectedTextIndex].cursorStops))return r;let s=i.injectedTextIndex-1;for(;s>=0&&this.injectionOffsets[s]===this.injectionOffsets[i.injectedTextIndex]&&!(Nde(this.injectionOptions[s].cursorStops)||(r-=this.injectionOptions[s].content.length,Lde(this.injectionOptions[s].cursorStops)));)s--;return r}}else if(t===1||t===4){let r=i.offsetInInputWithInjections+i.length,s=i.injectedTextIndex;for(;s+1<this.injectionOffsets.length&&this.injectionOffsets[s+1]===this.injectionOffsets[s];)r+=this.injectionOptions[s+1].content.length,s++;return r}else if(t===0||t===3){let r=i.offsetInInputWithInjections,s=i.injectedTextIndex;for(;s-1>=0&&this.injectionOffsets[s-1]===this.injectionOffsets[s];)r-=this.injectionOptions[s-1].content.length,s--;return r}JK()}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.getInjectedTextAtOffset(i);return r?{options:this.injectionOptions[r.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let r=0;for(let s=0;s<t.length;s++){const o=i[s].content.length,a=t[s]+r,l=t[s]+r+o;if(a>e)break;if(e<=l)return{injectedTextIndex:s,offsetInInputWithInjections:a,length:o};r+=o}}}}function Nde(n){return n==null?!0:n===_C.Right||n===_C.Both}function Lde(n){return n==null?!0:n===_C.Left||n===_C.Both}class CN{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new Ee(e+this.outputLineIndex,this.outputOffset+1)}}const tV=lE("domLineBreaksComputer",{createHTML:n=>n});class kX{static create(e){return new kX(new WeakRef(e))}constructor(e){this.targetWindow=e}createLineBreaksComputer(e,t,i,r,s){const o=[],a=[];return{addRequest:(l,c,u)=>{o.push(l),a.push(c)},finalize:()=>tmt(H0e(this.targetWindow.deref()),o,e,t,i,r,s,a)}}}function tmt(n,e,t,i,r,s,o,a){function l(x){const k=a[x];if(k){const P=pu.applyInjectedText(e[x],k),M=k.map(F=>F.options),W=k.map(F=>F.column-1);return new E0(W,M,[P.length],[],0)}else return null}if(r===-1){const x=[];for(let k=0,P=e.length;k<P;k++)x[k]=l(k);return x}const c=Math.round(r*t.typicalHalfwidthCharacterWidth),d=Math.round(i*(s===3?2:s===2?1:0)),h=Math.ceil(t.spaceWidth*d),f=document.createElement("div");Us(f,t);const m=new jM(1e4),g=[],_=[],v=[],S=[],C=[];for(let x=0;x<e.length;x++){const k=pu.applyInjectedText(e[x],a[x]);let P=0,M=0,W=c;if(s!==0)if(P=Sa(k),P===-1)P=0;else{for(let Y=0;Y<P;Y++){const $=k.charCodeAt(Y)===9?i-M%i:1;M+=$}const V=Math.ceil(t.spaceWidth*M);V+t.typicalFullwidthCharacterWidth>c?(P=0,M=0):W=c-V}const F=k.substr(P),H=nmt(F,M,i,W,m,h);g[x]=P,_[x]=M,v[x]=F,S[x]=H[0],C[x]=H[1]}const y=m.build(),b=(tV==null?void 0:tV.createHTML(y))??y;f.innerHTML=b,f.style.position="absolute",f.style.top="10000",o==="keepAll"?(f.style.wordBreak="keep-all",f.style.overflowWrap="anywhere"):(f.style.wordBreak="inherit",f.style.overflowWrap="break-word"),n.document.body.appendChild(f);const w=document.createRange(),I=Array.prototype.slice.call(f.children,0),O=[];for(let x=0;x<e.length;x++){const k=I[x],P=imt(w,k,v[x],S[x]);if(P===null){O[x]=l(x);continue}const M=g[x],W=_[x]+d,F=C[x],H=[];for(let K=0,re=P.length;K<re;K++)H[K]=F[P[K]];if(M!==0)for(let K=0,re=P.length;K<re;K++)P[K]+=M;let V,Y;const $=a[x];$?(V=$.map(K=>K.options),Y=$.map(K=>K.column-1)):(V=null,Y=null),O[x]=new E0(Y,V,P,H,W)}return f.remove(),O}function nmt(n,e,t,i,r,s){if(s!==0){const h=String(s);r.appendString('<div style="text-indent: -'),r.appendString(h),r.appendString("px; padding-left: "),r.appendString(h),r.appendString("px; box-sizing: border-box; width:")}else r.appendString('<div style="width:');r.appendString(String(i)),r.appendString('px;">');const o=n.length;let a=e,l=0;const c=[],u=[];let d=0<o?n.charCodeAt(0):0;r.appendString("<span>");for(let h=0;h<o;h++){h!==0&&h%16384===0&&r.appendString("</span><span>"),c[h]=l,u[h]=a;const f=d;d=h+1<o?n.charCodeAt(h+1):0;let m=1,g=1;switch(f){case 9:m=t-a%t,g=m;for(let _=1;_<=m;_++)_<m?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 32:d===32?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 60:r.appendString("&lt;");break;case 62:r.appendString("&gt;");break;case 38:r.appendString("&amp;");break;case 0:r.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.appendCharCode(65533);break;default:Kg(f)&&g++,f<32?r.appendCharCode(9216+f):r.appendCharCode(f)}l+=m,a+=g}return r.appendString("</span>"),c[n.length]=l,u[n.length]=a,r.appendString("</div>"),[c,u]}function imt(n,e,t,i){if(t.length<=1)return null;const r=Array.prototype.slice.call(e.children,0),s=[];try{oG(n,r,i,0,null,t.length-1,null,s)}catch(o){return console.log(o),null}return s.length===0?null:(s.push(t.length),s)}function oG(n,e,t,i,r,s,o,a){if(i===s||(r=r||nV(n,e,t[i],t[i+1]),o=o||nV(n,e,t[s],t[s+1]),Math.abs(r[0].top-o[0].top)<=.1))return;if(i+1===s){a.push(s);return}const l=i+(s-i)/2|0,c=nV(n,e,t[l],t[l+1]);oG(n,e,t,i,r,l,c,a),oG(n,e,t,l,c,s,o,a)}function nV(n,e,t,i){return n.setStart(e[t/16384|0].firstChild,t%16384),n.setEnd(e[i/16384|0].firstChild,i%16384),n.getClientRects()}class rmt extends Ne{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new IK),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,t,i){this._editor=e,this._instantiationService=i;for(const r of t){if(this._pending.has(r.id)){hi(new Error(`Cannot have two contributions with the same id ${r.id}`));continue}this._pending.set(r.id,r)}this._instantiateSome(0),this._register($I(ht(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register($I(ht(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register($I(ht(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const e={};for(const[t,i]of this._instances)typeof i.saveViewState=="function"&&(e[t]=i.saveViewState());return e}restoreViewState(e){for(const[t,i]of this._instances)typeof i.restoreViewState=="function"&&i.restoreViewState(e[t])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var e;return $I(ht((e=this._editor)==null?void 0:e.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const t=this._findPendingContributionsByInstantiation(e);for(const i of t)this._instantiateById(i.id)}_findPendingContributionsByInstantiation(e){const t=[];for(const[,i]of this._pending)i.instantiation===e&&t.push(i);return t}_instantiateById(e){const t=this._pending.get(e);if(t){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const i=this._instantiationService.createInstance(t.ctor,this._editor);this._instances.set(t.id,i),typeof i.restoreViewState=="function"&&t.instantiation!==0&&console.warn(`Editor contribution '${t.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(i){hi(i)}}}}class LIe{constructor(e,t,i,r,s,o,a){this.id=e,this.label=t,this.alias=i,this.metadata=r,this._precondition=s,this._run=o,this._contextKeyService=a}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(e){return this.isSupported()?this._run(e):Promise.resolve(void 0)}}class MX{static create(e){return new MX(e.get(135),e.get(134))}constructor(e,t){this.classifier=new smt(e,t)}createLineBreaksComputer(e,t,i,r,s){const o=[],a=[],l=[];return{addRequest:(c,u,d)=>{o.push(c),a.push(u),l.push(d)},finalize:()=>{const c=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,u=[];for(let d=0,h=o.length;d<h;d++){const f=a[d],m=l[d];m&&!m.injectionOptions&&!f?u[d]=omt(this.classifier,m,o[d],t,i,c,r,s):u[d]=amt(this.classifier,o[d],f,t,i,c,r,s)}return aG.length=0,lG.length=0,u}}}}class smt extends yA{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let aG=[],lG=[];function omt(n,e,t,i,r,s,o,a){if(r===-1)return null;const l=t.length;if(l<=1)return null;const c=a==="keepAll",u=e.breakOffsets,d=e.breakOffsetsVisibleColumn,h=OIe(t,i,r,s,o),f=r-h,m=aG,g=lG;let _=0,v=0,S=0,C=r;const y=u.length;let b=0;if(b>=0){let w=Math.abs(d[b]-C);for(;b+1<y;){const I=Math.abs(d[b+1]-C);if(I>=w)break;w=I,b++}}for(;b<y;){let w=b<0?0:u[b],I=b<0?0:d[b];v>w&&(w=v,I=S);let O=0,x=0,k=0,P=0;if(I<=C){let W=I,F=w===0?0:t.charCodeAt(w-1),H=w===0?0:n.get(F),V=!0;for(let Y=w;Y<l;Y++){const $=Y,K=t.charCodeAt(Y);let re,G;if(Kr(K)?(Y++,re=0,G=2):(re=n.get(K),G=v0(K,W,i,s)),$>v&&cG(F,H,K,re,c)&&(O=$,x=W),W+=G,W>C){$>v?(k=$,P=W-G):(k=Y+1,P=W),W-x>f&&(O=0),V=!1;break}F=K,H=re}if(V){_>0&&(m[_]=u[u.length-1],g[_]=d[u.length-1],_++);break}}if(O===0){let W=I,F=t.charCodeAt(w),H=n.get(F),V=!1;for(let Y=w-1;Y>=v;Y--){const $=Y+1,K=t.charCodeAt(Y);if(K===9){V=!0;break}let re,G;if(hC(K)?(Y--,re=0,G=2):(re=n.get(K),G=Kg(K)?s:1),W<=C){if(k===0&&(k=$,P=W),W<=C-f)break;if(cG(K,re,F,H,c)){O=$,x=W;break}}W-=G,F=K,H=re}if(O!==0){const Y=f-(P-x);if(Y<=i){const $=t.charCodeAt(k);let K;Kr($)?K=2:K=v0($,P,i,s),Y-K<0&&(O=0)}}if(V){b--;continue}}if(O===0&&(O=k,x=P),O<=v){const W=t.charCodeAt(v);Kr(W)?(O=v+2,x=S+2):(O=v+1,x=S+v0(W,S,i,s))}for(v=O,m[_]=O,S=x,g[_]=x,_++,C=x+f;b<0||b<y&&d[b]<x;)b++;let M=Math.abs(d[b]-C);for(;b+1<y;){const W=Math.abs(d[b+1]-C);if(W>=M)break;M=W,b++}}return _===0?null:(m.length=_,g.length=_,aG=e.breakOffsets,lG=e.breakOffsetsVisibleColumn,e.breakOffsets=m,e.breakOffsetsVisibleColumn=g,e.wrappedTextIndentLength=h,e)}function amt(n,e,t,i,r,s,o,a){const l=pu.applyInjectedText(e,t);let c,u;if(t&&t.length>0?(c=t.map(x=>x.options),u=t.map(x=>x.column-1)):(c=null,u=null),r===-1)return c?new E0(u,c,[l.length],[],0):null;const d=l.length;if(d<=1)return c?new E0(u,c,[l.length],[],0):null;const h=a==="keepAll",f=OIe(l,i,r,s,o),m=r-f,g=[],_=[];let v=0,S=0,C=0,y=r,b=l.charCodeAt(0),w=n.get(b),I=v0(b,0,i,s),O=1;Kr(b)&&(I+=1,b=l.charCodeAt(1),w=n.get(b),O++);for(let x=O;x<d;x++){const k=x,P=l.charCodeAt(x);let M,W;Kr(P)?(x++,M=0,W=2):(M=n.get(P),W=v0(P,I,i,s)),cG(b,w,P,M,h)&&(S=k,C=I),I+=W,I>y&&((S===0||I-C>m)&&(S=k,C=I-W),g[v]=S,_[v]=C,v++,y=C+m,S=0),b=P,w=M}return v===0&&(!t||t.length===0)?null:(g[v]=d,_[v]=I,new E0(u,c,g,_,f))}function v0(n,e,t,i){return n===9?t-e%t:Kg(n)||n<32?i:1}function Ode(n,e){return e-n%e}function cG(n,e,t,i,r){return t!==32&&(e===2&&i!==2||e!==1&&i===1||!r&&e===3&&i!==2||!r&&i===3&&e!==1)}function OIe(n,e,t,i,r){let s=0;if(r!==0){const o=Sa(n);if(o!==-1){for(let l=0;l<o;l++){const c=n.charCodeAt(l)===9?Ode(s,e):1;s+=c}const a=r===3?2:r===2?1:0;for(let l=0;l<a;l++){const c=Ode(s,e);s+=c}s+i>t&&(s=0)}}return s}let xde=class xIe{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new ns(new ce(1,1,1,1),0,0,new Ee(1,1),0),new ns(new ce(1,1,1,1),0,0,new Ee(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new an(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!t.isEmpty()?vn.fromRange(t.collapseToEnd(),this.modelState.selection.getDirection()):vn.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,r){return t.equals(i)?r:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,r=t.selectionStart.getStartPosition(),s=t.selectionStart.getEndPosition(),o=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,r,i,o),l=this._validatePositionWithCache(e,s,r,a);return i.equals(o)&&r.equals(a)&&s.equals(l)?t:new ns(ce.fromPositions(a,l),t.selectionStartKind,t.selectionStartLeftoverVisibleColumns+r.column-a.column,o,t.leftoverVisibleColumns+i.column-o.column)}_setState(e,t,i){if(i&&(i=xIe._validateViewState(e.viewModel,i)),t){const r=e.model.validateRange(t.selectionStart),s=t.selectionStart.equalsRange(r)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),a=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new ns(r,t.selectionStartKind,s,o,a)}else{if(!i)return;const r=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),s=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new ns(r,i.selectionStartKind,i.selectionStartLeftoverVisibleColumns,s,i.leftoverVisibleColumns)}if(i){const r=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),s=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new ns(r,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}else{const r=e.coordinatesConverter.convertModelPositionToViewPosition(new Ee(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),s=e.coordinatesConverter.convertModelPositionToViewPosition(new Ee(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),o=new ce(r.lineNumber,r.column,s.lineNumber,s.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new ns(o,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}};class Dde{constructor(e){this.context=e,this.cursors=[new xde(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return Zet(this.cursors,lc(e=>e.viewState.position,Ee.compare)).viewState.position}getBottomMostViewPosition(){return Qet(this.cursors,lc(e=>e.viewState.position,Ee.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(an.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const r=i-t;for(let s=0;s<r;s++)this._addSecondaryCursor()}else if(t>i){const r=t-i;for(let s=0;s<r;s++)this._removeSecondaryCursor(this.cursors.length-2)}for(let r=0;r<i;r++)this.cursors[r+1].setState(this.context,e[r].modelState,e[r].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new xde(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),t=[];for(let i=0,r=e.length;i<r;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(lc(i=>i.selection,ce.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const r=t[i],s=t[i+1],o=r.selection,a=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||o.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(o.getEndPosition()):l=a.getStartPosition().isBefore(o.getEndPosition()),l){const c=r.index<s.index?i:i+1,u=r.index<s.index?i+1:i,d=t[u].index,h=t[c].index,f=t[u].selection,m=t[c].selection;if(!f.equalsSelection(m)){const g=f.plusRange(m),_=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,v=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn;let S;d===this.lastAddedCursorIndex?(S=_,this.lastAddedCursorIndex=h):S=v;let C;S?C=new vn(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn):C=new vn(g.endLineNumber,g.endColumn,g.startLineNumber,g.startColumn),t[c].selection=C;const y=an.fromModelSelection(C);e[h].setState(this.context,y.modelState,y.viewState)}for(const g of t)g.index>d&&g.index--;e.splice(d,1),t.splice(u,1),this._removeSecondaryCursor(d-1),i--}}}}class Pde{constructor(e,t,i,r){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=r}}class lmt{constructor(){this.type=0}}class cmt{constructor(){this.type=1}}class umt{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class dmt{constructor(e,t,i){this.selections=e,this.modelSelections=t,this.reason=i,this.type=3}}class Kp{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler,this.affectsGlyphMargin=e.affectsGlyphMargin,this.affectsLineNumber=e.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}class yN{constructor(){this.type=5}}class hmt{constructor(e){this.type=6,this.isFocused=e}}class fmt{constructor(){this.type=7}}class bN{constructor(){this.type=8}}class DIe{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}}class uG{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class dG{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class S0{constructor(e,t,i,r,s,o,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=r,this.verticalType=s,this.revealHorizontal=o,this.scrollType=a,this.type=12}}class gmt{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class pmt{constructor(e){this.theme=e,this.type=14}}class mmt{constructor(e){this.type=15,this.ranges=e}}class _mt{constructor(){this.type=16}}let Emt=class{constructor(){this.type=17}};class vmt extends Ne{constructor(){super(),this._onEvent=this._register(new ge),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++){const r=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(r){this._outgoingEvents[t]=r;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Smt),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class Smt{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class FX{constructor(e,t,i,r){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new FX(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class BX{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new BX(this.oldHasFocus,e.hasFocus)}}class UX{constructor(e,t,i,r,s,o,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=r,this.scrollWidth=s,this.scrollLeft=o,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new UX(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Cmt{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class ymt{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class iD{constructor(e,t,i,r,s,o,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=r,this.source=s,this.reason=o,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length,r=t.length;if(i!==r)return!1;for(let s=0;s<i;s++)if(!e[s].equalsSelection(t[s]))return!1;return!0}isNoOp(){return iD._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new iD(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class bmt{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Tmt{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class wmt{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class Amt{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class Rmt{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class Imt{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class Nmt{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class Lmt extends Ne{constructor(e,t,i,r){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new Pde(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors=new Dde(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=As(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new Pde(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,r){let s=!1;const o=this.context.cursorConfig.multiCursorLimit;r!==null&&r.length>o&&(r=r.slice(0,o),s=!0);const a=C0.from(this._model,this);return this._cursors.setStates(r),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,a,s)}setCursorColumnSelectData(e){this._columnSelectData=e}revealAll(e,t,i,r,s,o){const a=this._cursors.getViewPositions();let l=null,c=null;a.length>1?c=this._cursors.getViewSelections():l=ce.fromPositions(a[0],a[0]),e.emitViewEvent(new S0(t,i,l,c,r,s,o))}revealPrimary(e,t,i,r,s,o){const l=[this._cursors.getPrimaryCursor().viewState.selection];e.emitViewEvent(new S0(t,i,null,l,r,s,o))}saveState(){const e=[],t=this._cursors.getSelections();for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push({inSelectionMode:!s.isEmpty(),selectionStart:{lineNumber:s.selectionStartLineNumber,column:s.selectionStartColumn},position:{lineNumber:s.positionLineNumber,column:s.positionColumn}})}return e}restoreState(e,t){const i=[];for(let r=0,s=t.length;r<s;r++){const o=t[r];let a=1,l=1;o.position&&o.position.lineNumber&&(a=o.position.lineNumber),o.position&&o.position.column&&(l=o.position.column);let c=a,u=l;o.selectionStart&&o.selectionStart.lineNumber&&(c=o.selectionStart.lineNumber),o.selectionStart&&o.selectionStart.column&&(u=o.selectionStart.column),i.push({selectionStartLineNumber:c,selectionStartColumn:u,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,an.fromModelSelections(i)),this.revealAll(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof ARe){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;const r=i.containsEvent(1);if(this._prevEditOperationType=0,r)this._cursors.dispose(),this._cursors=new Dde(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const s=an.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,s)&&this.revealAll(e,"modelChange",!1,0,!0,0)}else{const s=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,an.fromModelSelections(s))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,r){this.setStates(e,t,r,an.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const i=[],r=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),r.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});const s=this._model.deltaDecorations([],i),o=this._model.deltaDecorations([],r);this._autoClosedActions.push(new kde(this._model,s,o))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=Omt.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const i=[],r=[];for(let s=0;s<e.commands.length;s++){const o=e.commands[s];o instanceof OX&&o.enclosingRange&&o.closeCharacterRange&&(i.push(o.closeCharacterRange),r.push(o.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,r),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,r,s){const o=C0.from(this._model,this);if(o.equals(r))return!1;const a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new dmt(l,a,i)),!r||r.cursorState.length!==o.cursorState.length||o.cursorState.some((c,u)=>!c.modelState.equals(r.cursorState[u].modelState))){const c=r?r.cursorState.map(d=>d.modelState.selection):null,u=r?r.modelVersionId:0;e.emitOutgoingEvent(new iD(c,a,u,o.modelVersionId,t||"keyboard",i,s))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];if(!s.text||s.text.indexOf(`
`)>=0)return null;const o=s.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const a=o[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;const c=l[0].open,u=s.text.length-o[2].length-1,d=s.text.lastIndexOf(c,u-1);if(d===-1)return null;t.push([d,u])}return t}executeEdits(e,t,i,r){let s=null;t==="snippet"&&(s=this._findAutoClosingPairs(i)),s&&(i[0]._isTracked=!0);const o=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,c=>{if(s)for(let d=0,h=s.length;d<h;d++){const[f,m]=s[d],g=c[d],_=g.range.startLineNumber,v=g.range.startColumn-1+f,S=g.range.startColumn-1+m;o.push(new ce(_,S+1,_,S+2)),a.push(new ce(_,v+1,_,S+2))}const u=r(c);return u&&(this._isHandling=!0),u});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),o.length>0&&this._pushAutoClosedAction(o,a)}_executeEdit(e,t,i,r=0){if(this.context.cursorConfig.readOnly)return;const s=C0.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(o){hi(o)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,r,s,!1)&&this.revealAll(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return kde.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new y0(this._model,this.getSelections())}endComposition(e,t){const i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{t==="keyboard"&&this._executeEditOperation(Am.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){const r=t.length;let s=0;for(;s<r;){const o=FK(t,s),a=t.substr(s,o);this._executeEditOperation(Am.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),s+=o}}else this._executeEditOperation(Am.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,r,s,o){if(t.length===0&&i===0&&r===0){if(s!==0){const a=this.getSelections().map(l=>{const c=l.getPosition();return new vn(c.lineNumber,c.column+s,c.lineNumber,c.column+s)});this.setSelections(e,o,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(Am.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,r,s))},e,o)}paste(e,t,i,r,s){this._executeEdit(()=>{this._executeEditOperation(Am.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,r||[]))},e,s,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(M_.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ea(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new ea(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}class C0{static from(e,t){return new C0(e.getVersionId(),t.getCursorStates())}constructor(e,t){this.modelVersionId=e,this.cursorState=t}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class kde{static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const r=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(r&&(t.push(r),r.startLineNumber!==r.endLineNumber))return!1}t.sort(ce.compareRangesUsingStarts),e.sort(ce.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class Omt{static executeCommands(e,t,i){const r={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},s=this._innerExecuteCommands(r,i);for(let o=0,a=r.trackedRanges.length;o<a;o++)r.model._setTrackedRange(r.trackedRanges[o],null,0);return s}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(i.operations.length===0)return null;const r=i.operations,s=this._getLoserCursorMap(r);if(s.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const o=[];for(let c=0,u=r.length;c<u;c++)s.hasOwnProperty(r[c].identifier.major.toString())||o.push(r[c]);i.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,o,c=>{const u=[];for(let f=0;f<e.selectionsBefore.length;f++)u[f]=[];for(const f of c)f.identifier&&u[f.identifier.major].push(f);const d=(f,m)=>f.identifier.minor-m.identifier.minor,h=[];for(let f=0;f<e.selectionsBefore.length;f++)u[f].length>0?(u[f].sort(d),h[f]=t[f].computeCursorState(e.model,{getInverseEditOperations:()=>u[f],getTrackedSelection:m=>{const g=parseInt(m,10),_=e.model._getTrackedRange(e.trackedRanges[g]);return e.trackedRangesDirection[g]===0?new vn(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn):new vn(_.endLineNumber,_.endColumn,_.startLineNumber,_.startColumn)}})):h[f]=e.selectionsBefore[f];return h});a||(a=e.selectionsBefore);const l=[];for(const c in s)s.hasOwnProperty(c)&&l.push(parseInt(c,10));l.sort((c,u)=>u-c);for(const c of l)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],r=!1;for(let s=0,o=t.length;s<o;s++){const a=t[s];if(a){const l=this._getEditOperationsFromCommand(e,s,a);i=i.concat(l.operations),r=r||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:r}}static _getEditOperationsFromCommand(e,t,i){const r=[];let s=0;const o=(d,h,f=!1)=>{ce.isEmpty(d)&&h===""||r.push({identifier:{major:t,minor:s++},range:d,text:h,forceMoveMarkers:f,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const u={addEditOperation:o,addTrackedEditOperation:(d,h,f)=>{a=!0,o(d,h,f)},trackSelection:(d,h)=>{const f=vn.liftSelection(d);let m;if(f.isEmpty())if(typeof h=="boolean")h?m=2:m=3;else{const v=e.model.getLineMaxColumn(f.startLineNumber);f.startColumn===v?m=2:m=3}else m=1;const g=e.trackedRanges.length,_=e.model._setTrackedRange(null,f,m);return e.trackedRanges[g]=_,e.trackedRangesDirection[g]=f.getDirection(),g.toString()}};try{i.getEditOperations(e.model,u)}catch(d){return hi(d),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,r)=>-ce.compareRangesUsingEnds(i.range,r.range));const t={};for(let i=1;i<e.length;i++){const r=e[i-1],s=e[i];if(ce.getStartPosition(r.range).isBefore(ce.getEndPosition(s.range))){let o;r.identifier.major>s.identifier.major?o=r.identifier.major:o=s.identifier.major,t[o.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===o&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}}class xmt{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}}class y0{static _capture(e,t){const i=[];for(const r of t){if(r.startLineNumber!==r.endLineNumber)return null;i.push(new xmt(e.getLineContent(r.startLineNumber),r.startColumn-1,r.endColumn-1))}return i}constructor(e,t){this._original=y0._capture(e,t)}deduceOutcome(e,t){if(!this._original)return null;const i=y0._capture(e,t);if(!i||this._original.length!==i.length)return null;const r=[];for(let s=0,o=this._original.length;s<o;s++)r.push(y0._deduceOutcome(this._original[s],i[s]));return r}static _deduceOutcome(e,t){const i=Math.min(e.startSelection,t.startSelection,c6(e.text,t.text)),r=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,u6(e.text,t.text)),s=e.text.substring(i,e.text.length-r),o=t.text.substring(i,t.text.length-r);return new spt(s,e.startSelection-i,e.endSelection-i,o,t.startSelection-i,t.endSelection-i)}}class Dmt{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,r=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,r)}}class Pmt{constructor(e,t,i,r,s){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=r,this.minWidth=s,this.prefixSum=0}}var Fg;let kmt=(Fg=class{constructor(e,t,i,r){this._instanceId=S1e(++Fg.INSTANCE_COUNT),this._pendingChanges=new Dmt,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=r}static findInsertionIndex(e,t,i){let r=0,s=e.length;for(;r<s;){const o=r+s>>>1;t===e[o].afterLineNumber?i<e[o].ordinal?s=o:r=o+1:t<e[o].afterLineNumber?s=o:r=o+1}return r}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(r,s,o,a)=>{t=!0,r=r|0,s=s|0,o=o|0,a=a|0;const l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Pmt(l,r,s,o,a)),l},changeOneWhitespace:(r,s,o)=>{t=!0,s=s|0,o=o|0,this._pendingChanges.change({id:r,newAfterLineNumber:s,newHeight:o})},removeWhitespace:r=>{t=!0,this._pendingChanges.remove({id:r})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const l of e)this._insertWhitespace(l);for(const l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(const l of i){const c=this._findWhitespaceIndex(l.id);c!==-1&&this._removeWhitespace(c)}return}const r=new Set;for(const l of i)r.add(l.id);const s=new Map;for(const l of t)s.set(l.id,l);const o=l=>{const c=[];for(const u of l)if(!r.has(u.id)){if(s.has(u.id)){const d=s.get(u.id);u.afterLineNumber=d.newAfterLineNumber,u.height=d.newHeight}c.push(u)}return c},a=o(this._arr).concat(o(e));a.sort((l,c)=>l.afterLineNumber===c.afterLineNumber?l.ordinal-c.ordinal:l.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=Fg.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,r=t.length;i<r;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const r=this._findWhitespaceIndex(e);if(r!==-1&&(this._arr[r].height!==i&&(this._arr[r].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1)),this._arr[r].afterLineNumber!==t)){const s=this._arr[r];this._removeWhitespace(r),s.afterLineNumber=t,this._insertWhitespace(s)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const s=this._arr[i].afterLineNumber;e<=s&&s<=t?this._arr[i].afterLineNumber=e-1:s>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const s=this._arr[i].afterLineNumber;e<=s&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const t=this._arr;let i=0,r=t.length-1;for(;i<=r;){const o=(r-i|0)/2|0,a=i+o|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else r=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;let i;e>1?i=this._lineHeight*(e-1):i=0;const r=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0));return i+r+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;const i=this._lineHeight*e,r=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0));return i+r+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const t=this._lineCount|0,i=this._lineHeight;let r=1,s=t;for(;r<s;){const o=(r+s)/2|0,a=this.getVerticalOffsetForLineNumber(o)|0;if(e>=a+i)r=o+1;else{if(e>=a)return o;s=o}}return r>t?t:r}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this._lineHeight,r=this.getLineNumberAtOrAfterVerticalOffset(e)|0,s=this.getVerticalOffsetForLineNumber(r)|0;let o=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(r)|0;const l=this.getWhitespacesCount()|0;let c,u;a===-1?(a=l,u=o+1,c=0):(u=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let d=s,h=d;const f=5e5;let m=0;s>=f&&(m=Math.floor(s/f)*f,m=Math.floor(m/i)*i,h-=m);const g=[],_=e+(t-e)/2;let v=-1;for(let b=r;b<=o;b++){if(v===-1){const w=d,I=d+i;(w<=_&&_<I||w>_)&&(v=b)}for(d+=i,g[b-r]=h,h+=i;u===b;)h+=c,d+=c,a++,a>=l?u=o+1:(u=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(d>=t){o=b;break}}v===-1&&(v=o);const S=this.getVerticalOffsetForLineNumber(o)|0;let C=r,y=o;return C<y&&s<e&&C++,C<y&&S+i>t&&y--,{bigNumbersDelta:m,startLineNumber:r,endLineNumber:o,relativeVerticalOffset:g,centeredLineNumber:v,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:y,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i;t>=1?i=this._lineHeight*t:i=0;let r;return e>0?r=this.getWhitespacesAccumulatedHeight(e-1):r=0,i+r+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const r=this.getVerticalOffsetForWhitespaceIndex(i),s=this.getHeightForWhitespaceIndex(i);if(e>=r+s)return-1;for(;t<i;){const o=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(o),l=this.getHeightForWhitespaceIndex(o);if(e>=a+l)t=o+1;else{if(e>=a)return o;i=o}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const r=this.getHeightForWhitespaceIndex(t),s=this.getIdForWhitespaceIndex(t),o=this.getAfterLineNumberForWhitespaceIndex(t);return{id:s,afterLineNumber:o,verticalOffset:i,height:r}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),r=this.getWhitespacesCount()-1;if(i<0)return[];const s=[];for(let o=i;o<=r;o++){const a=this.getVerticalOffsetForWhitespaceIndex(o),l=this.getHeightForWhitespaceIndex(o);if(a>=t)break;s.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:a,height:l})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}},Fg.INSTANCE_COUNT=0,Fg);const Mmt=125;class IT{constructor(e,t,i,r){e=e|0,t=t|0,i=i|0,r=r|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),r<0&&(r=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=r,this.scrollHeight=Math.max(i,r)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class Fmt extends Ne{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new ge),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new IT(0,0,0,0),this._scrollable=this._register(new yy({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,r=t.contentHeight!==e.contentHeight;(i||r)&&this._onDidContentSizeChange.fire(new FX(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class Bmt extends Ne{constructor(e,t,i){super(),this._configuration=e;const r=this._configuration.options,s=r.get(146),o=r.get(84);this._linesLayout=new kmt(t,r.get(67),o.top,o.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new Fmt(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new IT(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(115)?Mmt:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(67)&&this._linesLayout.setLineHeight(t.get(67)),e.hasChanged(84)){const i=t.get(84);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(146)){const i=t.get(146),r=i.contentWidth,s=i.height,o=this._scrollable.getScrollDimensions(),a=o.contentWidth;this._scrollable.setScrollDimensions(new IT(r,o.contentWidth,s,this._getContentHeight(r,s,a)))}else this._updateHeight();e.hasChanged(115)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const r=this._configuration.options.get(104);return r.horizontal===2||e>=t?0:r.horizontalScrollbarSize}_getContentHeight(e,t,i){const r=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return r.get(106)?s+=Math.max(0,t-r.get(67)-r.get(84).bottom):r.get(104).ignoreHorizontalScrollbarInContentHeight||(s+=this._getHorizontalScrollbarHeight(e,i)),s}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,r=e.contentWidth;this._scrollable.setScrollDimensions(new IT(t,e.contentWidth,i,this._getContentHeight(t,i,r)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new nde(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new nde(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(){const e=this._configuration.options,t=this._maxLineWidth,i=e.get(147),r=e.get(50),s=e.get(146);if(i.isViewportWrapping){const o=e.get(73);return t>s.contentWidth+r.typicalHalfwidthCharacterWidth&&o.enabled&&o.side==="right"?t+s.verticalScrollbarWidth:t}else{const o=e.get(105)*r.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+o+s.verticalScrollbarWidth,a,this._overlayWidgetsMinWidth)}}setMaxLineWidth(e){this._maxLineWidth=e,this._updateContentWidth()}setOverlayWidgetsMinWidth(e){this._overlayWidgetsMinWidth=e,this._updateContentWidth()}_updateContentWidth(){const e=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new IT(e.width,this._computeContentWidth(),e.height,e.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-r,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class Umt{constructor(e,t,i,r,s){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=r,this._coordinatesConverter=s,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const r=e.range,s=e.options;let o;if(s.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new Ee(r.startLineNumber,1),0,!1,!0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new Ee(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);o=new ce(a.lineNumber,a.column,l.lineNumber,l.column)}else o=this._coordinatesConverter.convertModelRangeToViewRange(r,1);i=new dIe(o,s),this._decorationsCache[t]=i}return i}getMinimapDecorationsInRange(e){return this._getDecorationsInRange(e,!0,!1).decorations}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e,!1,!1),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e,t=!1,i=!1){const r=new ce(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(r,t,i).inlineDecorations[0]}_getDecorationsInRange(e,t,i){const r=this._linesCollection.getDecorationsInRange(e,this.editorId,xO(this.configuration.options),t,i),s=e.startLineNumber,o=e.endLineNumber,a=[];let l=0;const c=[];for(let u=s;u<=o;u++)c[u-s]=[];for(let u=0,d=r.length;u<d;u++){const h=r[u],f=h.options;if(!Hmt(this.model,h))continue;const m=this._getOrCreateViewModelDecoration(h),g=m.range;if(a[l++]=m,f.inlineClassName){const _=new g0(g,f.inlineClassName,f.inlineClassNameAffectsLetterSpacing?3:0),v=Math.max(s,g.startLineNumber),S=Math.min(o,g.endLineNumber);for(let C=v;C<=S;C++)c[C-s].push(_)}if(f.beforeContentClassName&&s<=g.startLineNumber&&g.startLineNumber<=o){const _=new g0(new ce(g.startLineNumber,g.startColumn,g.startLineNumber,g.startColumn),f.beforeContentClassName,1);c[g.startLineNumber-s].push(_)}if(f.afterContentClassName&&s<=g.endLineNumber&&g.endLineNumber<=o){const _=new g0(new ce(g.endLineNumber,g.endColumn,g.endLineNumber,g.endColumn),f.afterContentClassName,2);c[g.endLineNumber-s].push(_)}}return{decorations:a,inlineDecorations:c}}}function Hmt(n,e){return!(e.options.hideInCommentTokens&&Vmt(n,e)||e.options.hideInStringTokens&&Wmt(n,e))}function Vmt(n,e){return PIe(n,e.range,t=>t===1)}function Wmt(n,e){return PIe(n,e.range,t=>t===2)}function PIe(n,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const r=n.tokenization.getLineTokens(i),s=i===e.startLineNumber,o=i===e.endLineNumber;let a=s?r.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<r.getCount()&&!(o&&r.getStartOffset(a)>e.endColumn-1);){if(!t(r.getStandardTokenType(a)))return!1;a++}}return!0}function iV(n,e){return n===null?e?rD.INSTANCE:sD.INSTANCE:new $mt(n,e)}class $mt{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const r=i>0?this._projectionData.breakOffsets[i-1]:0,s=this._projectionData.breakOffsets[i];let o;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((c,u)=>new pu(0,0,c+1,this._projectionData.injectionOptions[u],0));o=pu.applyInjectedText(e.getLineContent(t),a).substring(r,s)}else o=e.getValueInRange({startLineNumber:t,startColumn:r+1,endLineNumber:t,endColumn:s+1});return i>0&&(o=Mde(this._projectionData.wrappedTextIndentLength)+o),o}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const r=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],r),r[0]}getViewLinesData(e,t,i,r,s,o,a){this._assertVisible();const l=this._projectionData,c=l.injectionOffsets,u=l.injectionOptions;let d=null;if(c){d=[];let f=0,m=0;for(let g=0;g<l.getOutputLineCount();g++){const _=new Array;d[g]=_;const v=g>0?l.breakOffsets[g-1]:0,S=l.breakOffsets[g];for(;m<c.length;){const C=u[m].content.length,y=c[m]+f,b=y+C;if(y>S)break;if(v<b){const w=u[m];if(w.inlineClassName){const I=g>0?l.wrappedTextIndentLength:0,O=I+Math.max(y-v,0),x=I+Math.min(b-v,S-v);O!==x&&_.push(new xft(O,x,w.inlineClassName,w.inlineClassNameAffectsLetterSpacing))}}if(b<=S)f+=C,m++;else break}}}let h;c?h=e.tokenization.getLineTokens(t).withInserted(c.map((f,m)=>({offset:f,text:u[m].content,tokenMetadata:ls.defaultTokenMetadata}))):h=e.tokenization.getLineTokens(t);for(let f=i;f<i+r;f++){const m=s+f-i;if(!o[m]){a[m]=null;continue}a[m]=this._getViewLineData(h,d?d[f]:null,f)}}_getViewLineData(e,t,i){this._assertVisible();const r=this._projectionData,s=i>0?r.wrappedTextIndentLength:0,o=i>0?r.breakOffsets[i-1]:0,a=r.breakOffsets[i],l=e.sliceAndInflate(o,a,s);let c=l.getLineContent();i>0&&(c=Mde(r.wrappedTextIndentLength)+c);const u=this._projectionData.getMinOutputOffset(i)+1,d=c.length+1,h=i+1<this.getViewLineCount(),f=i===0?0:r.breakOffsetsVisibleColumn[i-1];return new bX(c,h,u,d,f,l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();const i=this._projectionData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){const r=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(r)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}const tk=class tk{constructor(){}isVisible(){return!0}setVisible(e){return e?this:sD.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const r=e.tokenization.getLineTokens(t),s=r.getLineContent();return new bX(s,!1,1,s.length+1,0,r.inflate(),null)}getViewLinesData(e,t,i,r,s,o,a){if(!o[s]){a[s]=null;return}a[s]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new Ee(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}};tk.INSTANCE=new tk;let rD=tk;const nk=class nk{constructor(){}isVisible(){return!1}setVisible(e){return e?rD.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,r,s,o,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}};nk.INSTANCE=new nk;let sD=nk;const rV=[""];function Mde(n){if(n>=rV.length)for(let e=1;e<=n;e++)rV[e]=Gmt(e);return rV[n]}function Gmt(n){return new Array(n+1).join(" ")}class zmt{constructor(e,t,i,r,s,o,a,l,c,u){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=r,this.fontInfo=s,this.tabSize=o,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=c,this.wordBreak=u,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Ymt(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),r=this.model.getInjectedTextDecorations(this._editorId),s=i.length,o=this.createLineBreaksComputer(),a=new nf(pu.fromDecorations(r));for(let g=0;g<s;g++){const _=a.takeWhile(v=>v.lineNumber===g+1);o.addRequest(i[g],_,t?t[g]:null)}const l=o.finalize(),c=[],u=this.hiddenAreasDecorationIds.map(g=>this.model.getDecorationRange(g)).sort(ce.compareRangesUsingStarts);let d=1,h=0,f=-1,m=f+1<u.length?h+1:s+2;for(let g=0;g<s;g++){const _=g+1;_===m&&(f++,d=u[f].startLineNumber,h=u[f].endLineNumber,m=f+1<u.length?h+1:s+2);const v=_>=d&&_<=h,S=iV(l[g],!v);c[g]=S.getViewLineCount(),this.modelLineProjections[g]=S}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Ftt(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const t=e.map(h=>this.model.validateRange(h)),i=jmt(t),r=this.hiddenAreasDecorationIds.map(h=>this.model.getDecorationRange(h)).sort(ce.compareRangesUsingStarts);if(i.length===r.length){let h=!1;for(let f=0;f<i.length;f++)if(!i[f].equalsRange(r[f])){h=!0;break}if(!h)return!1}const s=i.map(h=>({range:h,options:kr.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,s);const o=i;let a=1,l=0,c=-1,u=c+1<o.length?l+1:this.modelLineProjections.length+2,d=!1;for(let h=0;h<this.modelLineProjections.length;h++){const f=h+1;f===u&&(c++,a=o[c].startLineNumber,l=o[c].endLineNumber,u=c+1<o.length?l+1:this.modelLineProjections.length+2);let m=!1;if(f>=a&&f<=l?this.modelLineProjections[h].isVisible()&&(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!1),m=!0):(d=!0,this.modelLineProjections[h].isVisible()||(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!0),m=!0)),m){const g=this.modelLineProjections[h].getViewLineCount();this.projectedModelLineLineCounts.setValue(h,g)}}return d||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,r,s){const o=this.fontInfo.equals(e),a=this.wrappingStrategy===t,l=this.wrappingColumn===i,c=this.wrappingIndent===r,u=this.wordBreak===s;if(o&&a&&l&&c&&u)return!1;const d=o&&a&&!l&&c&&u;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=r,this.wordBreak=s;let h=null;if(d){h=[];for(let f=0,m=this.modelLineProjections.length;f<m;f++)h[f]=this.modelLineProjections[f].getProjectionData()}return this._constructLines(!1,h),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const r=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,s=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new uG(r,s)}onModelLinesInserted(e,t,i,r){if(!e||e<=this._validModelVersionId)return null;const s=t>2&&!this.modelLineProjections[t-2].isVisible(),o=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let a=0;const l=[],c=[];for(let u=0,d=r.length;u<d;u++){const h=iV(r[u],!s);l.push(h);const f=h.getViewLineCount();a+=f,c[u]=f}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new dG(o,o+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const r=t-1,s=this.modelLineProjections[r].getViewLineCount(),o=this.modelLineProjections[r].isVisible(),a=iV(i,o);this.modelLineProjections[r]=a;const l=this.modelLineProjections[r].getViewLineCount();let c=!1,u=0,d=-1,h=0,f=-1,m=0,g=-1;s>l?(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=u+l-1,m=d+1,g=m+(s-l)-1,c=!0):s<l?(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=u+s-1,h=d+1,f=h+(l-s)-1,c=!0):(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=u+l-1),this.projectedModelLineLineCounts.setValue(r,l);const _=u<=d?new DIe(u,d-u+1):null,v=h<=f?new dG(h,f):null,S=m<=g?new uG(m,g):null;return[c,_,v,S]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const r=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),s=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(r.lineNumber,s.lineNumber,o.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,r=t.remainder;return new Fde(i+1,r)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Ee(e.modelLineNumber,r)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Ee(e.modelLineNumber,r)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),r=this.getViewLineInfo(t),s=new Array;let o=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=r.modelLineNumber;l++){const c=this.modelLineProjections[l-1];if(c.isVisible()){const u=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,d=l===r.modelLineNumber?r.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let h=u;h<d;h++)a.push(new Fde(l,h))}if(!c.isVisible()&&o){const u=new Ee(l-1,this.model.getLineMaxColumn(l-1)+1),d=ce.fromPositions(o,u);s.push(new Bde(d,a)),a=[],o=null}else c.isVisible()&&!o&&(o=new Ee(l,1))}if(o){const l=ce.fromPositions(o,this.getModelEndPositionOfViewLine(r));s.push(new Bde(l,a))}return s}getViewLinesBracketGuides(e,t,i,r){const s=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,o=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const l=a.modelRange.startLineNumber,c=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,s,r);for(const u of a.viewLines){const h=c[u.modelLineNumber-l].map(f=>{if(f.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.forWrappedLinesAfterColumn).lineNumber>=u.modelLineWrappedLineIdx||f.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.forWrappedLinesBeforeOrAtColumn).lineNumber<u.modelLineWrappedLineIdx)return;if(!f.horizontalLine)return f;let m=-1;if(f.column!==-1){const v=this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.column);if(v.lineNumber===u.modelLineWrappedLineIdx)m=v.column;else if(v.lineNumber<u.modelLineWrappedLineIdx)m=this.getMinColumnOfViewLine(u);else if(v.lineNumber>u.modelLineWrappedLineIdx)return}const g=this.convertModelPositionToViewPosition(u.modelLineNumber,f.horizontalLine.endColumn),_=this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.horizontalLine.endColumn);return _.lineNumber===u.modelLineWrappedLineIdx?new Hm(f.visibleColumn,m,f.className,new r0(f.horizontalLine.top,g.column),-1,-1):_.lineNumber<u.modelLineWrappedLineIdx||f.visibleColumn!==-1?void 0:new Hm(f.visibleColumn,m,f.className,new r0(f.horizontalLine.top,this.getMaxColumnOfViewLine(u)),-1,-1)});o.push(h.filter(f=>!!f))}}return o}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let s=[];const o=[],a=[],l=i.lineNumber-1,c=r.lineNumber-1;let u=null;for(let m=l;m<=c;m++){const g=this.modelLineProjections[m];if(g.isVisible()){const _=g.getViewLineNumberOfModelPosition(0,m===l?i.column:1),v=g.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(m+1)),S=v-_+1;let C=0;S>1&&g.getViewLineMinColumn(this.model,m+1,v)===1&&(C=_===0?1:2),o.push(S),a.push(C),u===null&&(u=new Ee(m+1,0))}else u!==null&&(s=s.concat(this.model.guides.getLinesIndentGuides(u.lineNumber,m)),u=null)}u!==null&&(s=s.concat(this.model.guides.getLinesIndentGuides(u.lineNumber,r.lineNumber)),u=null);const d=t-e+1,h=new Array(d);let f=0;for(let m=0,g=s.length;m<g;m++){let _=s[m];const v=Math.min(d-f,o[m]),S=a[m];let C;S===2?C=0:S===1?C=1:C=v;for(let y=0;y<v;y++)y===C&&(_=0),h[f++]=_}return h}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const r=this.projectedModelLineLineCounts.getIndexOf(e-1);let s=e;const o=r.index,a=r.remainder,l=[];for(let c=o,u=this.model.getLineCount();c<u;c++){const d=this.modelLineProjections[c];if(!d.isVisible())continue;const h=c===o?a:0;let f=d.getViewLineCount()-h,m=!1;if(s+f>t&&(m=!0,f=t-s+1),d.getViewLinesData(this.model,c+1,h,f,s-e,i,l),s+=f,m)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const r=this.projectedModelLineLineCounts.getIndexOf(e-1),s=r.index,o=r.remainder,a=this.modelLineProjections[s],l=a.getViewLineMinColumn(this.model,s+1,o),c=a.getViewLineMaxColumn(this.model,s+1,o);t<l&&(t=l),t>c&&(t=c);const u=a.getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new Ee(s+1,u)).equals(i)?new Ee(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),r=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new ce(i.lineNumber,i.column,r.lineNumber,r.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),r=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new Ee(i.modelLineNumber,r))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new ce(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2,r=!1,s=!1){const o=this.model.validatePosition(new Ee(e,t)),a=o.lineNumber,l=o.column;let c=a-1,u=!1;if(s)for(;c<this.modelLineProjections.length&&!this.modelLineProjections[c].isVisible();)c++,u=!0;else for(;c>0&&!this.modelLineProjections[c].isVisible();)c--,u=!0;if(c===0&&!this.modelLineProjections[c].isVisible())return new Ee(r?0:1,1);const d=1+this.projectedModelLineLineCounts.getPrefixSum(c);let h;return u?s?h=this.modelLineProjections[c].getViewPositionOfModelPosition(d,1,i):h=this.modelLineProjections[c].getViewPositionOfModelPosition(d,this.model.getLineMaxColumn(c+1),i):h=this.modelLineProjections[a-1].getViewPositionOfModelPosition(d,l,i),h}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return ce.fromPositions(i)}else{const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),r=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new ce(i.lineNumber,i.column,r.lineNumber,r.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const s=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(s,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;const r=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(r,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i,r,s){const o=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),a=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(a.lineNumber-o.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new ce(o.lineNumber,1,a.lineNumber,a.column),t,i,r,s);let l=[];const c=o.lineNumber-1,u=a.lineNumber-1;let d=null;for(let g=c;g<=u;g++)if(this.modelLineProjections[g].isVisible())d===null&&(d=new Ee(g+1,g===c?o.column:1));else if(d!==null){const v=this.model.getLineMaxColumn(g);l=l.concat(this.model.getDecorationsInRange(new ce(d.lineNumber,d.column,g,v),t,i,r)),d=null}d!==null&&(l=l.concat(this.model.getDecorationsInRange(new ce(d.lineNumber,d.column,a.lineNumber,a.column),t,i,r)),d=null),l.sort((g,_)=>{const v=ce.compareRangesUsingStarts(g.range,_.range);return v===0?g.id<_.id?-1:g.id>_.id?1:0:v});const h=[];let f=0,m=null;for(const g of l){const _=g.id;m!==_&&(m=_,h[f++]=g)}return h}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}}function jmt(n){if(n.length===0)return[];const e=n.slice();e.sort(ce.compareRangesUsingStarts);const t=[];let i=e[0].startLineNumber,r=e[0].endLineNumber;for(let s=1,o=e.length;s<o;s++){const a=e[s];a.startLineNumber>r+1?(t.push(new ce(i,1,r,1)),i=a.startLineNumber,r=a.endLineNumber):a.endLineNumber>r&&(r=a.endLineNumber)}return t.push(new ce(i,1,r,1)),t}class Fde{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}}class Bde{constructor(e,t){this.modelRange=e,this.viewLines=t}}class Ymt{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t,i,r){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t,i,r)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class Kmt{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new qmt(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,r){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,r)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new uG(t,i)}onModelLinesInserted(e,t,i,r){return new dG(t,i)}onModelLineChanged(e,t,i){return[!1,new DIe(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,r=new Array(i);for(let s=0;s<i;s++)r[s]=0;return r}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.tokenization.getLineTokens(e),i=t.getLineContent();return new bX(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const r=this.model.getLineCount();e=Math.min(Math.max(1,e),r),t=Math.min(Math.max(1,t),r);const s=[];for(let o=e;o<=t;o++){const a=o-e;s[a]=i[a]?this.getViewLineData(o):null}return s}getDecorationsInRange(e,t,i,r,s){return this.model.getDecorationsInRange(e,t,i,r,s)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class qmt{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}const qp=Qg.Right;class Xmt{constructor(e){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((e+1)*qp/8))}reset(e){const t=Math.ceil((e+1)*qp/8);this.lanes.length<t?this.lanes=new Uint8Array(t):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(e,t,i){i&&(this.persist|=1<<e-1);for(let r=t.startLineNumber;r<=t.endLineNumber;r++){const s=qp*r+(e-1);this.lanes[s>>>3]|=1<<s%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(r))}}getLanesAtLine(e){const t=[];let i=qp*e;for(let r=0;r<qp;r++)(this.persist&1<<r||this.lanes[i>>>3]&1<<i%8)&&t.push(r+1),i++;return t.length?t:[Qg.Center]}countAtLine(e){let t=qp*e,i=0;for(let r=0;r<qp;r++)(this.persist&1<<r||this.lanes[t>>>3]&1<<t%8)&&i++,t++;return i}}let Qmt=class extends Ne{constructor(e,t,i,r,s,o,a,l,c,u){if(super(),this.languageConfigurationService=a,this._themeService=l,this._attachedView=c,this._transactionalTarget=u,this.hiddenAreasModel=new Jmt,this.previousHiddenAreas=[],this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new vmt,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new gv(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new ho(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=HX.create(this.model),this.glyphLanes=new Xmt(0),this.model.isTooLargeForTokenization())this._lines=new Kmt(this.model);else{const d=this._configuration.options,h=d.get(50),f=d.get(140),m=d.get(147),g=d.get(139),_=d.get(130);this._lines=new zmt(this._editorId,this.model,r,s,h,this.model.getOptions().tabSize,f,m.wrappingColumn,g,_)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Lmt(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Bmt(this._configuration,this.getLineCount(),o)),this._register(this.viewLayout.onDidScroll(d=>{d.scrollTopChanged&&this._handleVisibleLinesChanged(),d.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new gmt(d)),this._eventDispatcher.emitOutgoingEvent(new UX(d.oldScrollWidth,d.oldScrollLeft,d.oldScrollHeight,d.oldScrollTop,d.scrollWidth,d.scrollLeft,d.scrollHeight,d.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(d=>{this._eventDispatcher.emitOutgoingEvent(d)})),this._decorations=new Umt(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(d=>{try{const h=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(h,d)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(tD.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new _mt)})),this._register(this._themeService.onDidColorThemeChange(d=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new pmt(d))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const e=this.viewLayout.getLinesViewportData(),t=new ce(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));return this._toModelVisibleRanges(t)}visibleLinesStabilized(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!0)}_handleVisibleLinesChanged(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!1)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new hmt(e)),this._eventDispatcher.emitOutgoingEvent(new BX(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new lmt)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new cmt)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new Ee(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),t=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new Hde(t,this._viewportStart.startLineDelta)}return new Hde(null,0)}_onConfigurationChanged(e,t){const i=this._captureStableViewport(),r=this._configuration.options,s=r.get(50),o=r.get(140),a=r.get(147),l=r.get(139),c=r.get(130);this._lines.setWrappingSettings(s,o,a.wrappingColumn,l,c)&&(e.emitViewEvent(new yN),e.emitViewEvent(new bN),e.emitViewEvent(new Kp(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(92)&&(this._decorations.reset(),e.emitViewEvent(new Kp(null))),t.hasChanged(99)&&(this._decorations.reset(),e.emitViewEvent(new Kp(null))),e.emitViewEvent(new umt(t)),this.viewLayout.onConfigurationChanged(t),i.recoverViewportStart(this.coordinatesConverter,this.viewLayout),gv.shouldRecreate(t)&&(this.cursorConfig=new gv(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const i=this._eventDispatcher.beginEmitViewEvents();let r=!1,s=!1;const o=e instanceof t_?e.rawContentChangedEvent.changes:e.changes,a=e instanceof t_?e.rawContentChangedEvent.versionId:null,l=this._lines.createLineBreaksComputer();for(const d of o)switch(d.changeType){case 4:{for(let h=0;h<d.detail.length;h++){const f=d.detail[h];let m=d.injectedTexts[h];m&&(m=m.filter(g=>!g.ownerId||g.ownerId===this._editorId)),l.addRequest(f,m,null)}break}case 2:{let h=null;d.injectedText&&(h=d.injectedText.filter(f=>!f.ownerId||f.ownerId===this._editorId)),l.addRequest(d.detail,h,null);break}}const c=l.finalize(),u=new nf(c);for(const d of o)switch(d.changeType){case 1:{this._lines.onModelFlushed(),i.emitViewEvent(new yN),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),r=!0;break}case 3:{const h=this._lines.onModelLinesDeleted(a,d.fromLineNumber,d.toLineNumber);h!==null&&(i.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber)),r=!0;break}case 4:{const h=u.takeCount(d.detail.length),f=this._lines.onModelLinesInserted(a,d.fromLineNumber,d.toLineNumber,h);f!==null&&(i.emitViewEvent(f),this.viewLayout.onLinesInserted(f.fromLineNumber,f.toLineNumber)),r=!0;break}case 2:{const h=u.dequeue(),[f,m,g,_]=this._lines.onModelLineChanged(a,d.lineNumber,h);s=f,m&&i.emitViewEvent(m),g&&(i.emitViewEvent(g),this.viewLayout.onLinesInserted(g.fromLineNumber,g.toLineNumber)),_&&(i.emitViewEvent(_),this.viewLayout.onLinesDeleted(_.fromLineNumber,_.toLineNumber));break}case 5:break}a!==null&&this._lines.acceptVersionId(a),this.viewLayout.onHeightMaybeChanged(),!r&&s&&(i.emitViewEvent(new bN),i.emitViewEvent(new Kp(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){const i=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(i){const r=this.coordinatesConverter.convertModelPositionToViewPosition(i.getStartPosition()),s=this.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber);this.viewLayout.setScrollPosition({scrollTop:s+this._viewportStart.startLineDelta},1)}}try{const i=this._eventDispatcher.beginEmitViewEvents();e instanceof t_&&i.emitOutgoingEvent(new Rmt(e.contentChangedEvent)),this._cursor.onModelContentChanged(i,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(e=>{const t=[];for(let i=0,r=e.ranges.length;i<r;i++){const s=e.ranges[i],o=this.coordinatesConverter.convertModelPositionToViewPosition(new Ee(s.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new Ee(s.toLineNumber,this.model.getLineMaxColumn(s.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new mmt(t)),this._eventDispatcher.emitOutgoingEvent(new Nmt(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new fmt),this.cursorConfig=new gv(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Amt(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new gv(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new wmt(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new yN),t.emitViewEvent(new bN),t.emitViewEvent(new Kp(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new gv(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Imt(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Kp(e)),this._eventDispatcher.emitOutgoingEvent(new Tmt(e))}))}setHiddenAreas(e,t){var o;this.hiddenAreasModel.setHiddenAreas(t,e);const i=this.hiddenAreasModel.getMergedRanges();if(i===this.previousHiddenAreas)return;this.previousHiddenAreas=i;const r=this._captureStableViewport();let s=!1;try{const a=this._eventDispatcher.beginEmitViewEvents();s=this._lines.setHiddenAreas(i),s&&(a.emitViewEvent(new yN),a.emitViewEvent(new bN),a.emitViewEvent(new Kp(null)),this._cursor.onLineMappingChanged(a),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const l=(o=r.viewportStartModelPosition)==null?void 0:o.lineNumber;l&&i.some(u=>u.startLineNumber<=l&&l<=u.endLineNumber)||r.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),s&&this._eventDispatcher.emitOutgoingEvent(new ymt)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(146),t=this._configuration.options.get(67),i=Math.max(20,Math.round(e.height/t)),r=this.viewLayout.getLinesViewportData(),s=Math.max(1,r.completelyVisibleStartLineNumber-i),o=Math.min(this.getLineCount(),r.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new ce(s,this.getLineMinColumn(s),o,this.getLineMaxColumn(o)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];const r=[];let s=0,o=t.startLineNumber,a=t.startColumn;const l=t.endLineNumber,c=t.endColumn;for(let u=0,d=i.length;u<d;u++){const h=i[u].startLineNumber,f=i[u].endLineNumber;f<o||h>l||(o<h&&(r[s++]=new ce(o,a,h-1,this.model.getLineMaxColumn(h-1))),o=f+1,a=1)}return(o<l||o===l&&a<c)&&(r[s++]=new ce(o,a,l,c)),r}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new ce(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,r=t.completelyVisibleEndLineNumber;return new ce(i,this.getLineMinColumn(i),r,this.getLineMaxColumn(r))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),r=this.coordinatesConverter.convertViewPositionToModelPosition(new Ee(i,this.getLineMinColumn(i))),s=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:r,firstPositionDeltaTop:s}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),r=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:r}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,r){return this._lines.getViewLinesBracketGuides(e,t,i,r)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=Sa(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=tE(this.getLineContent(e));return t===-1?0:t+2}getMinimapDecorationsInRange(e){return this._decorations.getMinimapDecorationsInRange(e)}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){const r=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,r)}getViewLineRenderingData(e){const t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),r=this.model.mightContainNonBasicASCII(),s=this.getTabSize(),o=this._lines.getViewLineData(e);return o.inlineDecorations&&(t=[...t,...o.inlineDecorations.map(a=>a.toInlineDecoration(e))]),new Za(o.minColumn,o.maxColumn,o.content,o.continuesWithWrappedLine,i,r,o.tokens,t,s,o.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const r=this._lines.getViewLinesData(e,t,i);return new Oft(this.getTabSize(),r)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,xO(this._configuration.options)),i=new Zmt;for(const r of t){const s=r.options,o=s.overviewRuler;if(!o)continue;const a=o.position;if(a===0)continue;const l=o.getColor(e.value),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.startLineNumber,r.range.startColumn),u=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.endLineNumber,r.range.endColumn);i.accept(l,s.zIndex,c,u,a)}return i.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const i=t.options.overviewRuler;i==null||i.invalidateCachedColor();const r=t.options.minimap;r==null||r.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getValueLengthInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(i,t)}modifyPosition(e,t){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e),r=this.model.modifyPosition(i,t);return this.coordinatesConverter.convertModelPositionToViewPosition(r)}deduceModelPositionRelativeToViewPosition(e,t,i){const r=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);const o=this.model.getOffsetAt(r)+t;return this.model.getPositionAt(o)}getPlainTextToCopy(e,t,i){const r=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(ce.compareRangesUsingStarts);let s=!1,o=!1;for(const l of e)l.isEmpty()?s=!0:o=!0;if(!o){if(!t)return"";const l=e.map(u=>u.startLineNumber);let c="";for(let u=0;u<l.length;u++)u>0&&l[u-1]===l[u]||(c+=this.model.getLineContent(l[u])+r);return c}if(s&&t){const l=[];let c=0;for(const u of e){const d=u.startLineNumber;u.isEmpty()?d!==c&&l.push(this.model.getLineContent(d)):l.push(this.model.getValueInRange(u,i?2:0)),c=d}return l.length===1?l[0]:l}const a=[];for(const l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===cc||e.length!==1)return null;let r=e[0];if(r.isEmpty()){if(!t)return null;const u=r.startLineNumber;r=new ce(u,this.model.getLineMinColumn(u),u,this.model.getLineMaxColumn(u))}const s=this._configuration.options.get(50),o=this._getColorMap(),l=/[:;\\\/<>]/.test(s.fontFamily)||s.fontFamily===qa.fontFamily;let c;return l?c=qa.fontFamily:(c=s.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${qa.fontFamily}`),{mode:i,html:`<div style="color: ${o[1]};background-color: ${o[2]};font-family: ${c};font-weight: ${s.fontWeight};font-size: ${s.fontSize}px;line-height: ${s.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(r,o)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn,a=this.getTabSize();let l="";for(let c=i;c<=s;c++){const u=this.model.tokenization.getLineTokens(c),d=u.getLineContent(),h=c===i?r-1:0,f=c===s?o-1:d.length;d===""?l+="<br>":l+=Ust(d,u.inflate(),t,h,f,a,ba)}return l}_getColorMap(){const e=gr.getColorMap(),t=["#000000"];if(e)for(let i=1,r=e.length;i<r;i++)t[i]=Me.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(r=>this._cursor.setStates(r,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(r=>this._cursor.setSelections(r,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new bmt);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(r=>this._cursor.executeEdits(r,e,t,i))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,r,s){this._executeCursorEdit(o=>this._cursor.compositionType(o,e,t,i,r,s))}paste(e,t,i,r){this._executeCursorEdit(s=>this._cursor.paste(s,e,t,i,r))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealAllCursors(e,t,i=!1){this._withViewEventsCollector(r=>this._cursor.revealAll(r,e,i,0,t,0))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(r=>this._cursor.revealPrimary(r,e,i,0,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new ce(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new S0(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new ce(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new S0(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,r,s){this._withViewEventsCollector(o=>o.emitViewEvent(new S0(e,!1,i,null,r,t,s)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Emt),this._eventDispatcher.emitOutgoingEvent(new Cmt))}_withViewEventsCollector(e){return this._transactionalTarget.batchChanges(()=>{try{const t=this._eventDispatcher.beginEmitViewEvents();return e(t)}finally{this._eventDispatcher.endEmitViewEvents()}})}batchEvents(e){this._withViewEventsCollector(()=>{e()})}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}};class HX{static create(e){const t=e._setTrackedRange(null,new ce(1,1,1,1),1);return new HX(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,t,i,r,s){this._model=e,this._viewLineNumber=t,this._isValid=i,this._modelTrackedRange=r,this._startLineDelta=s}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){const i=e.coordinatesConverter.convertViewPositionToModelPosition(new Ee(t,e.getLineMinColumn(t))),r=e.model._setTrackedRange(this._modelTrackedRange,new ce(i.lineNumber,i.column,i.lineNumber,i.column),1),s=e.viewLayout.getVerticalOffsetForLineNumber(t),o=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=r,this._startLineDelta=o-s}invalidate(){this._isValid=!1}}class Zmt{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,r,s){const o=this._asMap[e];if(o){const a=o.data,l=a[a.length-3],c=a[a.length-1];if(l===s&&c+1>=i){r>c&&(a[a.length-1]=r);return}a.push(s,i,r)}else{const a=new ew(e,t,[s,i,r]);this._asMap[e]=a,this.asArray.push(a)}}}class Jmt{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,t){const i=this.hiddenAreas.get(e);i&&Ude(i,t)||(this.hiddenAreas.set(e,t),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce((t,i)=>e_t(t,i),[]);return Ude(this.ranges,e)?this.ranges:(this.ranges=e,this.ranges)}}function e_t(n,e){const t=[];let i=0,r=0;for(;i<n.length&&r<e.length;){const s=n[i],o=e[r];if(s.endLineNumber<o.startLineNumber-1)t.push(n[i++]);else if(o.endLineNumber<s.startLineNumber-1)t.push(e[r++]);else{const a=Math.min(s.startLineNumber,o.startLineNumber),l=Math.max(s.endLineNumber,o.endLineNumber);t.push(new ce(a,1,l,1)),i++,r++}}for(;i<n.length;)t.push(n[i++]);for(;r<e.length;)t.push(e[r++]);return t}function Ude(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].equalsRange(e[t]))return!1;return!0}class Hde{constructor(e,t){this.viewportStartModelPosition=e,this.startLineDelta=t}recoverViewportStart(e,t){if(!this.viewportStartModelPosition)return;const i=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),r=t.getVerticalOffsetForLineNumber(i.lineNumber);t.setScrollPosition({scrollTop:r+this.startLineDelta},1)}}var t_t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Zd=function(n,e){return function(t,i){e(t,i,n)}},am,f_;let oD=(f_=class extends Ne{get isSimpleWidget(){return this._configuration.isSimpleWidget}get contextMenuId(){return this._configuration.contextMenuId}constructor(e,t,i,r,s,o,a,l,c,u,d,h){super(),this.languageConfigurationService=d,this._deliveryQueue=HXe(),this._contributions=this._register(new rmt),this._onDidDispose=this._register(new ge),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Vde({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Vde({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Zs(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._updateCounter=0,this._onBeginUpdate=this._register(new ge),this.onBeginUpdate=this._onBeginUpdate.event,this._onEndUpdate=this._register(new ge),this.onEndUpdate=this._onEndUpdate.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),s.willCreateCodeEditor();const f={...t};this._domElement=e,this._overflowWidgetsDomNode=f.overflowWidgetsDomNode,delete f.overflowWidgetsDomNode,this._id=++n_t,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,i.contextMenuId??(i.isSimpleWidget?bs.SimpleEditorContext:bs.EditorContext),f,u)),this._register(this._configuration.onDidChange(_=>{this._onDidChangeConfiguration.fire(_);const v=this._configuration.options;if(_.hasChanged(146)){const S=v.get(146);this._onDidLayoutChange.fire(S)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=s,this._commandService=o,this._themeService=l,this._register(new r_t(this,this._contextKeyService)),this._register(new s_t(this,this._contextKeyService,h)),this._instantiationService=this._register(r.createChild(new Ry([qn,this._contextKeyService]))),this._modelData=null,this._focusTracker=new o_t(e,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let m;Array.isArray(i.contributions)?m=i.contributions:m=IS.getEditorContributions(),this._contributions.initialize(this,m,this._instantiationService);for(const _ of IS.getEditorActions()){if(this._actions.has(_.id)){hi(new Error(`Cannot have two actions with the same id ${_.id}`));continue}const v=new LIe(_.id,_.label,_.alias,_.metadata,_.precondition??void 0,S=>this._instantiationService.invokeFunction(C=>Promise.resolve(_.runEditorCommand(C,this,S))),this._contextKeyService);this._actions.set(v.id,v)}const g=()=>!this._configuration.options.get(92)&&this._configuration.options.get(36).enabled;this._register(new zZe(this._domElement,{onDragOver:_=>{if(!g())return;const v=this.getTargetAtClientPoint(_.clientX,_.clientY);v!=null&&v.position&&this.showDropIndicatorAt(v.position)},onDrop:async _=>{if(!g()||(this.removeDropIndicator(),!_.dataTransfer))return;const v=this.getTargetAtClientPoint(_.clientX,_.clientY);v!=null&&v.position&&this._onDropIntoEditor.fire({position:v.position,event:_})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){var t;(t=this._modelData)==null||t.view.writeScreenReaderContent(e)}_createConfiguration(e,t,i,r){return new j$(e,t,i,this._domElement,r)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return CX.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?rr.getWordAtPosition(this._modelData.model,this._configuration.options.get(132),this._configuration.options.get(131),e):null}getValue(e=null){if(!this._modelData)return"";const t=!!(e&&e.preserveBOM);let i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){try{if(this._beginUpdate(),!this._modelData)return;this._modelData.model.setValue(e)}finally{this._endUpdate()}}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){var t;try{this._beginUpdate();const i=e;if(this._modelData===null&&i===null||this._modelData&&this._modelData.model===i)return;const r={oldModelUrl:((t=this._modelData)==null?void 0:t.model.uri)||null,newModelUrl:(i==null?void 0:i.uri)||null};this._onWillChangeModel.fire(r);const s=this.hasTextFocus(),o=this._detachModel();this._attachModel(i),s&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(r),this._postDetachModelCleanup(o),this._contributionsDisposable=this._contributions.onAfterModelAttached()}finally{this._endUpdate()}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(const i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,r){const s=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(o.lineNumber,r)}getTopForLineNumber(e,t=!1){return this._modelData?am._getVerticalOffsetForPosition(this._modelData,e,1,t):-1}getTopForPosition(e,t){return this._modelData?am._getVerticalOffsetForPosition(this._modelData,e,t,!1):-1}static _getVerticalOffsetForPosition(e,t,i,r=!1){const s=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber,r)}getBottomForLineNumber(e,t=!1){if(!this._modelData)return-1;const i=this._modelData.model.getLineMaxColumn(e);return am._getVerticalOffsetAfterPosition(this._modelData,e,i,t)}setHiddenAreas(e,t){var i;(i=this._modelData)==null||i.viewModel.setHiddenAreas(e.map(r=>ce.lift(r)),t)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return xr.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(this._modelData){if(!Ee.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,r){if(!this._modelData)return;if(!ce.isIRange(e))throw new Error("Invalid arguments");const s=this._modelData.model.validateRange(e),o=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(s);this._modelData.viewModel.revealRange("api",i,o,t,r)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new ce(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,r){if(!Ee.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new ce(e.lineNumber,e.column,e.lineNumber,e.column),t,i,r)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){const i=vn.isISelection(e),r=ce.isIRange(e);if(!i&&!r)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(r){const s={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(s,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;const i=new vn(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,r){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new ce(e,1,t,1),i,!1,r)}revealRange(e,t=0,i=!1,r=!0){this._revealRange(e,i?1:0,r,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,r){if(!ce.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(ce.lift(e),t,i,r)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let r=0,s=e.length;r<s;r++)if(!vn.isISelection(e[r]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState(),t=this._modelData.viewModel.saveCursorState(),i=this._modelData.viewModel.saveState();return{cursorState:t,viewState:i,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const i=t.cursorState;Array.isArray(i)?i.length>0&&this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]),this._contributions.restoreViewState(t.contributionsState||{});const r=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(r)}}handleInitialized(){var e;(e=this._getViewModel())==null||e.visibleLinesStabilized()}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions.get(e)||null}trigger(e,t,i){i=i||{};try{switch(this._beginUpdate(),t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const s=i;this._type(e,s.text||"");return}case"replacePreviousChar":{const s=i;this._compositionType(e,s.text||"",s.replaceCharCnt||0,0,0);return}case"compositionType":{const s=i;this._compositionType(e,s.text||"",s.replacePrevCharCnt||0,s.replaceNextCharCnt||0,s.positionDelta||0);return}case"paste":{const s=i;this._paste(e,s.text||"",s.pasteOnNewLine||!1,s.multicursorText||null,s.mode||null,s.clipboardEvent);return}case"cut":this._cut(e);return}const r=this.getAction(t);if(r){Promise.resolve(r.run(i)).then(void 0,hi);return}if(!this._modelData||this._triggerEditorCommand(e,t,i))return;this._triggerCommand(t,i)}finally{this._endUpdate()}}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,r,s){this._modelData&&this._modelData.viewModel.compositionType(t,i,r,s,e)}_paste(e,t,i,r,s,o){if(!this._modelData)return;const a=this._modelData.viewModel,l=a.getSelection().getStartPosition();a.paste(t,i,r,e);const c=a.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({clipboardEvent:o,range:new ce(l.lineNumber,l.column,c.lineNumber,c.column),languageId:s})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const r=IS.getEditorCommand(t);return r?(i=i||{},i.source=e,this._instantiationService.invokeFunction(s=>{Promise.resolve(r.runEditorCommand(s,this,i)).then(void 0,hi)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(92)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(92)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(92))return!1;let r;return i?Array.isArray(i)?r=()=>i:r=i:r=()=>null,this._modelData.viewModel.executeEdits(e,t,r),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new a_t(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,xO(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,xO(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(t=>{t.deltaDecorations(e,[])})}removeDecorationsByType(e){const t=this._decorationTypeKeysToIds[e];t&&this.changeDecorations(i=>i.deltaDecorations(t,[])),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(146)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e,t=!1){this._configuration.observeContainer(e),t||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id:"+e.getId()),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}addGlyphMarginWidget(e){const t={widget:e,position:e.getPosition()};this._glyphMarginWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(t)}layoutGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(i)}}removeGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];delete this._glyphMarginWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,r=i.get(146),s=am._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),o=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-this.getScrollLeft();return{top:s,left:o,height:i.get(67)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.viewModel.batchEvents(()=>{this._modelData.view.render(!0,e)})}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){Us(e,this._configuration.options.get(50))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._bannerDomNode.remove(),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount());const i=e.onBeforeAttached(),r=new Qmt(this._id,this._configuration,e,kX.create(ht(this._domElement)),MX.create(this._configuration.options),a=>wa(ht(this._domElement),a),this.languageConfigurationService,this._themeService,i,{batchChanges:a=>{try{return this._beginUpdate(),a()}finally{this._endUpdate()}}});t.push(e.onWillDispose(()=>this.setModel(null))),t.push(r.onEvent(a=>{switch(a.kind){case 0:this._onDidContentSizeChange.fire(a);break;case 1:this._editorTextFocus.setValue(a.hasFocus);break;case 2:this._onDidScrollChange.fire(a);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(a.reachedMaxCursorCount){const d=this.getOption(80),h=A("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",d);this._notificationService.prompt(qtt.Warning,h,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:A("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const l=[];for(let d=0,h=a.selections.length;d<h;d++)l[d]=a.selections[d].getPosition();const c={position:l[0],secondaryPositions:l.slice(1),reason:a.reason,source:a.source};this._onDidChangeCursorPosition.fire(c);const u={selection:a.selections[0],secondarySelections:a.selections.slice(1),modelVersionId:a.modelVersionId,oldSelections:a.oldSelections,oldModelVersionId:a.oldModelVersionId,source:a.source,reason:a.reason};this._onDidChangeCursorSelection.fire(u);break}case 7:this._onDidChangeModelDecorations.fire(a.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(a.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(a.event);break;case 10:this._onDidChangeModelContent.fire(a.event);break;case 11:this._onDidChangeModelOptions.fire(a.event);break;case 12:this._onDidChangeModelTokens.fire(a.event);break}}));const[s,o]=this._createView(r);if(o){this._domElement.appendChild(s.domNode.domNode);let a=Object.keys(this._contentWidgets);for(let l=0,c=a.length;l<c;l++){const u=a[l];s.addContentWidget(this._contentWidgets[u])}a=Object.keys(this._overlayWidgets);for(let l=0,c=a.length;l<c;l++){const u=a[l];s.addOverlayWidget(this._overlayWidgets[u])}a=Object.keys(this._glyphMarginWidgets);for(let l=0,c=a.length;l<c;l++){const u=a[l];s.addGlyphMarginWidget(this._glyphMarginWidgets[u])}s.render(!1,!0),s.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new i_t(e,r,s,o,t,i)}_createView(e){let t;this.isSimpleWidget?t={paste:(s,o,a,l)=>{this._paste("keyboard",s,o,a,l)},type:s=>{this._type("keyboard",s)},compositionType:(s,o,a,l)=>{this._compositionType("keyboard",s,o,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(s,o,a,l)=>{const c={text:s,pasteOnNewLine:o,multicursorText:a,mode:l};this._commandService.executeCommand("paste",c)},type:s=>{const o={text:s};this._commandService.executeCommand("type",o)},compositionType:(s,o,a,l)=>{if(a||l){const c={text:s,replacePrevCharCnt:o,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",c)}else{const c={text:s,replaceCharCnt:o};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new I2(e.coordinatesConverter);return i.onKeyDown=s=>this._onKeyDown.fire(s),i.onKeyUp=s=>this._onKeyUp.fire(s),i.onContextMenu=s=>this._onContextMenu.fire(s),i.onMouseMove=s=>this._onMouseMove.fire(s),i.onMouseLeave=s=>this._onMouseLeave.fire(s),i.onMouseDown=s=>this._onMouseDown.fire(s),i.onMouseUp=s=>this._onMouseUp.fire(s),i.onMouseDrag=s=>this._onMouseDrag.fire(s),i.onMouseDrop=s=>this._onMouseDrop.fire(s),i.onMouseDropCanceled=s=>this._onMouseDropCanceled.fire(s),i.onMouseWheel=s=>this._onMouseWheel.fire(s),[new rG(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(e){e==null||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var i;if((i=this._contributionsDisposable)==null||i.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&t.remove(),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._bannerDomNode.remove(),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const t=[{range:new ce(e.lineNumber,e.column,e.lineNumber,e.column),options:am.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(t),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(e,t){this._contextKeyService.createKey(e,t)}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&this._onBeginUpdate.fire()}_endUpdate(){this._updateCounter--,this._updateCounter===0&&this._onEndUpdate.fire()}},am=f_,f_.dropIntoEditorDecorationOptions=kr.register({description:"workbench-dnd-target",className:"dnd-target"}),f_);oD=am=t_t([Zd(3,oi),Zd(4,Fr),Zd(5,el),Zd(6,qn),Zd(7,_c),Zd(8,yu),Zd(9,bu),Zd(10,Od),Zd(11,gi)],oD);let n_t=0;class i_t{constructor(e,t,i,r,s,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=r,this.listenersToRemove=s,this.attachedView=o}dispose(){As(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class Vde extends Ne{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new ge(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new ge(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Zs extends ge{constructor(e,t){super({deliveryQueue:t}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class r_t extends Ne{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=Ze.editorSimpleInput.bindTo(t),this._editorFocus=Ze.focus.bindTo(t),this._textInputFocus=Ze.textInputFocus.bindTo(t),this._editorTextFocus=Ze.editorTextFocus.bindTo(t),this._tabMovesFocus=Ze.tabMovesFocus.bindTo(t),this._editorReadonly=Ze.readOnly.bindTo(t),this._inDiffEditor=Ze.inDiffEditor.bindTo(t),this._editorColumnSelection=Ze.columnSelection.bindTo(t),this._hasMultipleSelections=Ze.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=Ze.hasNonEmptySelection.bindTo(t),this._canUndo=Ze.canUndo.bindTo(t),this._canRedo=Ze.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(jx.onDidChangeTabFocus(i=>this._tabMovesFocus.set(i))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._tabMovesFocus.set(jx.getTabFocusMode()),this._editorReadonly.set(e.get(92)),this._inDiffEditor.set(e.get(61)),this._editorColumnSelection.set(e.get(22))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class s_t extends Ne{constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=Ze.languageId.bindTo(t),this._hasCompletionItemProvider=Ze.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=Ze.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=Ze.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=Ze.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=Ze.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=Ze.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=Ze.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=Ze.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=Ze.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=Ze.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=Ze.hasReferenceProvider.bindTo(t),this._hasRenameProvider=Ze.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=Ze.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=Ze.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=Ze.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=Ze.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=Ze.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=Ze.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInEmbeddedEditor=Ze.isInEmbeddedEditor.bindTo(t);const r=()=>this._update();this._register(e.onDidChangeModel(r)),this._register(e.onDidChangeModelLanguage(r)),this._register(i.completionProvider.onDidChange(r)),this._register(i.codeActionProvider.onDidChange(r)),this._register(i.codeLensProvider.onDidChange(r)),this._register(i.definitionProvider.onDidChange(r)),this._register(i.declarationProvider.onDidChange(r)),this._register(i.implementationProvider.onDidChange(r)),this._register(i.typeDefinitionProvider.onDidChange(r)),this._register(i.hoverProvider.onDidChange(r)),this._register(i.documentHighlightProvider.onDidChange(r)),this._register(i.documentSymbolProvider.onDidChange(r)),this._register(i.referenceProvider.onDidChange(r)),this._register(i.renameProvider.onDidChange(r)),this._register(i.documentFormattingEditProvider.onDidChange(r)),this._register(i.documentRangeFormattingEditProvider.onDidChange(r)),this._register(i.signatureHelpProvider.onDidChange(r)),this._register(i.inlayHintsProvider.onDidChange(r)),r()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInEmbeddedEditor.set(e.uri.scheme===Jt.walkThroughSnippet||e.uri.scheme===Jt.vscodeChatCodeBlock)})}}class o_t extends Ne{constructor(e,t){super(),this._onChange=this._register(new ge),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(N1(e)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),t&&(this._overflowWidgetsDomNode=this._register(N1(t)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const e=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==e&&(this._hadFocus=e,this._onChange.fire(void 0))}hasFocus(){return this._hadFocus??!1}}class a_t{get length(){return this._decorationIds.length}constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations(r=>{this._isChangingDecorations||e.call(t,r)},i)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),t=[];for(const i of this._decorationIds){const r=e.getDecorationRange(i);r&&t.push(r)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(e){let t=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(i=>{t=i.deltaDecorations([],e),this._decorationIds=this._decorationIds.concat(t)})}finally{this._isChangingDecorations=!1}return t}}const l_t=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),c_t=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function sV(n){return l_t+encodeURIComponent(n.toString())+c_t}const u_t=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),d_t=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function h_t(n){return u_t+encodeURIComponent(n.toString())+d_t}df((n,e)=>{const t=n.getColor(gq);t&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${sV(t)}") repeat-x bottom left; }`);const i=n.getColor(Jg);i&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${sV(i)}") repeat-x bottom left; }`);const r=n.getColor(x_);r&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${sV(r)}") repeat-x bottom left; }`);const s=n.getColor(Mnt);s&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${h_t(s)}") no-repeat bottom left; }`);const o=n.getColor(Clt);o&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${o.rgba.a}; }`)});class aD{static capture(e){if(e.getScrollTop()===0||e.hasPendingScrollAnimation())return new aD(e.getScrollTop(),e.getContentHeight(),null,0,null);let t=null,i=0;const r=e.getVisibleRanges();if(r.length>0){t=r[0].getStartPosition();const s=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-s}return new aD(e.getScrollTop(),e.getContentHeight(),t,i,e.getPosition())}constructor(e,t,i,r,s){this._initialScrollTop=e,this._initialContentHeight=t,this._visiblePosition=i,this._visiblePositionScrollDelta=r,this._cursorPosition=s}restore(e){if(!(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())&&this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){if(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())return;const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i,1)}}function f_t(n,e,t,i){if(n.length===0)return e;if(e.length===0)return n;const r=[];let s=0,o=0;for(;s<n.length&&o<e.length;){const a=n[s],l=e[o],c=t(a),u=t(l);c<u?(r.push(a),s++):c>u?(r.push(l),o++):(r.push(i(a,l)),s++,o++)}for(;s<n.length;)r.push(n[s]),s++;for(;o<e.length;)r.push(e[o]),o++;return r}function lD(n,e){const t=new at,i=n.createDecorationsCollection();return t.add(o2({debugName:()=>`Apply decorations from ${e.debugName}`},r=>{const s=e.read(r);i.set(s)})),t.add({dispose:()=>{i.clear()}}),t}function NT(n,e){return n.appendChild(e),Ht(()=>{e.remove()})}function g_t(n,e){return n.prepend(e),Ht(()=>{e.remove()})}class kIe extends Ne{get width(){return this._width}get height(){return this._height}get automaticLayout(){return this._automaticLayout}constructor(e,t){super(),this._automaticLayout=!1,this.elementSizeObserver=this._register(new gIe(e,t)),this._width=Nn(this,this.elementSizeObserver.getWidth()),this._height=Nn(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(i=>Pr(r=>{this._width.set(this.elementSizeObserver.getWidth(),r),this._height.set(this.elementSizeObserver.getHeight(),r)})))}observe(e){this.elementSizeObserver.observe(e)}setAutomaticLayout(e){this._automaticLayout=e,e?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function Wde(n,e,t){let i=e.get(),r=i,s=i;const o=Nn("animatedValue",i);let a=-1;const l=300;let c;t.add(a2({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(d,h)=>(d.didChange(e)&&(h.animate=h.animate||d.change),!0)},(d,h)=>{c!==void 0&&(n.cancelAnimationFrame(c),c=void 0),r=s,i=e.read(d),a=Date.now()-(h.animate?0:l),u()}));function u(){const d=Date.now()-a;s=Math.floor(p_t(d,r,i-r,l)),d<l?c=n.requestAnimationFrame(u):s=i,o.set(s,void 0)}return o}function p_t(n,e,t,i){return n===i?e+t:t*(-Math.pow(2,-10*n/i)+1)+e}class VX extends Ne{constructor(e,t,i){super(),this._register(new hG(e,i)),this._register(ip(i,{height:t.actualHeight,top:t.actualTop}))}}class Qv{get afterLineNumber(){return this._afterLineNumber.get()}constructor(e,t){this._afterLineNumber=e,this.heightInPx=t,this.domNode=document.createElement("div"),this._actualTop=Nn(this,void 0),this._actualHeight=Nn(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=i=>{this._actualTop.set(i,void 0)},this.onComputedHeight=i=>{this._actualHeight.set(i,void 0)}}}const ik=class ik{constructor(e,t){this._editor=e,this._domElement=t,this._overlayWidgetId=`managedOverlayWidget-${ik._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}};ik._counter=0;let hG=ik;function ip(n,e){return Un(t=>{for(let[i,r]of Object.entries(e))r&&typeof r=="object"&&"read"in r&&(r=r.read(t)),typeof r=="number"&&(r=`${r}px`),i=i.replace(/[A-Z]/g,s=>"-"+s.toLowerCase()),n.style[i]=r})}function cD(n,e,t,i){const r=new at,s=[];return r.add(su((o,a)=>{const l=e.read(o),c=new Map,u=new Map;t&&t(!0),n.changeViewZones(d=>{for(const h of s)d.removeZone(h),i==null||i.delete(h);s.length=0;for(const h of l){const f=d.addZone(h);h.setZoneId&&h.setZoneId(f),s.push(f),i==null||i.add(f),c.set(h,f)}}),t&&t(!1),a.add(a2({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(d,h){const f=u.get(d.changedObservable);return f!==void 0&&h.zoneIds.push(f),!0}},(d,h)=>{for(const f of l)f.onChange&&(u.set(f.onChange,c.get(f)),f.onChange.read(d));t&&t(!0),n.changeViewZones(f=>{for(const m of h.zoneIds)f.layoutZone(m)}),t&&t(!1)}))})),r.add({dispose(){t&&t(!0),n.changeViewZones(o=>{for(const a of s)o.removeZone(a)}),i==null||i.clear(),t&&t(!1)}}),r}function $de(n,e){const t=qO(e,r=>r.original.startLineNumber<=n.lineNumber);if(!t)return ce.fromPositions(n);if(t.original.endLineNumberExclusive<=n.lineNumber){const r=n.lineNumber-t.original.endLineNumberExclusive+t.modified.endLineNumberExclusive;return ce.fromPositions(new Ee(r,n.column))}if(!t.innerChanges)return ce.fromPositions(new Ee(t.modified.startLineNumber,1));const i=qO(t.innerChanges,r=>r.originalRange.getStartPosition().isBeforeOrEqual(n));if(!i){const r=n.lineNumber-t.original.startLineNumber+t.modified.startLineNumber;return ce.fromPositions(new Ee(r,n.column))}if(i.originalRange.containsPosition(n))return i.modifiedRange;{const r=m_t(i.originalRange.getEndPosition(),n);return ce.fromPositions(r.addToPosition(i.modifiedRange.getEndPosition()))}}function m_t(n,e){return n.lineNumber===e.lineNumber?new Zg(0,e.column-n.column):new Zg(e.lineNumber-n.lineNumber,e.column-1)}function __t(n,e){let t;return n.filter(i=>{const r=e(i,t);return t=i,r})}class uD{static create(e,t=void 0){return new Gde(e,e,t)}static createWithDisposable(e,t,i=void 0){const r=new at;return r.add(t),r.add(e),new Gde(e,r,i)}}class Gde extends uD{constructor(e,t,i){super(),this.object=e,this._disposable=t,this._debugOwner=i,this._refCount=1,this._isDisposed=!1,this._owners=[],i&&this._addOwner(i)}_addOwner(e){e&&this._owners.push(e)}createNewRef(e){return this._refCount++,e&&this._addOwner(e),new E_t(this,e)}dispose(){this._isDisposed||(this._isDisposed=!0,this._decreaseRefCount(this._debugOwner))}_decreaseRefCount(e){if(this._refCount--,this._refCount===0&&this._disposable.dispose(),e){const t=this._owners.indexOf(e);t!==-1&&this._owners.splice(t,1)}}}class E_t extends uD{constructor(e,t){super(),this._base=e,this._debugOwner=t,this._isDisposed=!1}get object(){return this._base.object}createNewRef(e){return this._base.createNewRef(e)}dispose(){this._isDisposed||(this._isDisposed=!0,this._base._decreaseRefCount(this._debugOwner))}}var WX=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$X=function(n,e){return function(t,i){e(t,i,n)}};const v_t=_p("diff-review-insert",tt.add,A("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),S_t=_p("diff-review-remove",tt.remove,A("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),C_t=_p("diff-review-close",tt.close,A("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));var ZS;let Wm=(ZS=class extends Ne{constructor(e,t,i,r,s,o,a,l,c){super(),this._parentNode=e,this._visible=t,this._setVisible=i,this._canClose=r,this._width=s,this._height=o,this._diffs=a,this._models=l,this._instantiationService=c,this._state=Ty(this,(u,d)=>{const h=this._visible.read(u);if(this._parentNode.style.visibility=h?"visible":"hidden",!h)return null;const f=d.add(this._instantiationService.createInstance(fG,this._diffs,this._models,this._setVisible,this._canClose)),m=d.add(this._instantiationService.createInstance(gG,this._parentNode,f,this._width,this._height,this._models));return{model:f,view:m}}).recomputeInitiallyAndOnChange(this._store)}next(){Pr(e=>{const t=this._visible.get();this._setVisible(!0,e),t&&this._state.get().model.nextGroup(e)})}prev(){Pr(e=>{this._setVisible(!0,e),this._state.get().model.previousGroup(e)})}close(){Pr(e=>{this._setVisible(!1,e)})}},ZS._ttPolicy=lE("diffReview",{createHTML:e=>e}),ZS);Wm=WX([$X(8,oi)],Wm);let fG=class extends Ne{constructor(e,t,i,r,s){super(),this._diffs=e,this._models=t,this._setVisible=i,this.canClose=r,this._accessibilitySignalService=s,this._groups=Nn(this,[]),this._currentGroupIdx=Nn(this,0),this._currentElementIdx=Nn(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((o,a)=>this._groups.read(a)[o]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((o,a)=>{var l;return(l=this.currentGroup.read(a))==null?void 0:l.lines[o]}),this._register(Un(o=>{const a=this._diffs.read(o);if(!a){this._groups.set([],void 0);return}const l=y_t(a,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());Pr(c=>{const u=this._models.getModifiedPosition();if(u){const d=l.findIndex(h=>(u==null?void 0:u.lineNumber)<h.range.modified.endLineNumberExclusive);d!==-1&&this._currentGroupIdx.set(d,c)}this._groups.set(l,c)})})),this._register(Un(o=>{const a=this.currentElement.read(o);(a==null?void 0:a.type)===bo.Deleted?this._accessibilitySignalService.playSignal(Qu.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(a==null?void 0:a.type)===bo.Added&&this._accessibilitySignalService.playSignal(Qu.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(Un(o=>{const a=this.currentElement.read(o);if(a&&a.type!==bo.Header){const l=a.modifiedLineNumber??a.diff.modified.startLineNumber;this._models.modifiedSetSelection(ce.fromPositions(new Ee(l,1)))}}))}_goToGroupDelta(e,t){const i=this.groups.get();!i||i.length<=1||kq(t,r=>{this._currentGroupIdx.set(jt.ofLength(i.length).clipCyclic(this._currentGroupIdx.get()+e),r),this._currentElementIdx.set(0,r)})}nextGroup(e){this._goToGroupDelta(1,e)}previousGroup(e){this._goToGroupDelta(-1,e)}_goToLineDelta(e){const t=this.currentGroup.get();!t||t.lines.length<=1||Pr(i=>{this._currentElementIdx.set(jt.ofLength(t.lines.length).clip(this._currentElementIdx.get()+e),i)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(e){const t=this.currentGroup.get();if(!t)return;const i=t.lines.indexOf(e);i!==-1&&Pr(r=>{this._currentElementIdx.set(i,r)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const e=this.currentElement.get();e&&(e.type===bo.Deleted?this._models.originalReveal(ce.fromPositions(new Ee(e.originalLineNumber,1))):this._models.modifiedReveal(e.type!==bo.Header?ce.fromPositions(new Ee(e.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};fG=WX([$X(4,b2)],fG);const Qb=3;function y_t(n,e,t){const i=[];for(const r of EK(n,(s,o)=>o.modified.startLineNumber-s.modified.endLineNumberExclusive<2*Qb)){const s=[];s.push(new T_t);const o=new Rt(Math.max(1,r[0].original.startLineNumber-Qb),Math.min(r[r.length-1].original.endLineNumberExclusive+Qb,e+1)),a=new Rt(Math.max(1,r[0].modified.startLineNumber-Qb),Math.min(r[r.length-1].modified.endLineNumberExclusive+Qb,t+1));F0e(r,(u,d)=>{const h=new Rt(u?u.original.endLineNumberExclusive:o.startLineNumber,d?d.original.startLineNumber:o.endLineNumberExclusive),f=new Rt(u?u.modified.endLineNumberExclusive:a.startLineNumber,d?d.modified.startLineNumber:a.endLineNumberExclusive);h.forEach(m=>{s.push(new R_t(m,f.startLineNumber+(m-h.startLineNumber)))}),d&&(d.original.forEach(m=>{s.push(new w_t(d,m))}),d.modified.forEach(m=>{s.push(new A_t(d,m))}))});const l=r[0].modified.join(r[r.length-1].modified),c=r[0].original.join(r[r.length-1].original);i.push(new b_t(new co(l,c),s))}return i}var bo;(function(n){n[n.Header=0]="Header",n[n.Unchanged=1]="Unchanged",n[n.Deleted=2]="Deleted",n[n.Added=3]="Added"})(bo||(bo={}));class b_t{constructor(e,t){this.range=e,this.lines=t}}class T_t{constructor(){this.type=bo.Header}}class w_t{constructor(e,t){this.diff=e,this.originalLineNumber=t,this.type=bo.Deleted,this.modifiedLineNumber=void 0}}class A_t{constructor(e,t){this.diff=e,this.modifiedLineNumber=t,this.type=bo.Added,this.originalLineNumber=void 0}}class R_t{constructor(e,t){this.originalLineNumber=e,this.modifiedLineNumber=t,this.type=bo.Unchanged}}let gG=class extends Ne{constructor(e,t,i,r,s,o){super(),this._element=e,this._model=t,this._width=i,this._height=r,this._models=s,this._languageService=o,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const a=document.createElement("div");a.className="diff-review-actions",this._actionBar=this._register(new zh(a)),this._register(Un(l=>{this._actionBar.clear(),this._model.canClose.read(l)&&this._actionBar.push(new Wh("diffreview.close",A("label.close","Close"),"close-diff-review "+Ln.asClassName(C_t),!0,async()=>t.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new vq(this._content,{})),wo(this.domNode,this._scrollbar.getDomNode(),a),this._register(Un(l=>{this._height.read(l),this._width.read(l),this._scrollbar.scanDomNode()})),this._register(Ht(()=>{wo(this.domNode)})),this._register(ip(this.domNode,{width:this._width,height:this._height})),this._register(ip(this._content,{width:this._width,height:this._height})),this._register(su((l,c)=>{this._model.currentGroup.read(l),this._render(c)})),this._register(Qr(this.domNode,"keydown",l=>{(l.equals(18)||l.equals(2066)||l.equals(530))&&(l.preventDefault(),this._model.goToNextLine()),(l.equals(16)||l.equals(2064)||l.equals(528))&&(l.preventDefault(),this._model.goToPreviousLine()),(l.equals(9)||l.equals(2057)||l.equals(521)||l.equals(1033))&&(l.preventDefault(),this._model.close()),(l.equals(10)||l.equals(3))&&(l.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(e){const t=this._models.getOriginalOptions(),i=this._models.getModifiedOptions(),r=document.createElement("div");r.className="diff-review-table",r.setAttribute("role","list"),r.setAttribute("aria-label",A("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),Us(r,i.get(50)),wo(this._content,r);const s=this._models.getOriginalModel(),o=this._models.getModifiedModel();if(!s||!o)return;const a=s.getOptions(),l=o.getOptions(),c=i.get(67),u=this._model.currentGroup.get();for(const d of(u==null?void 0:u.lines)||[]){if(!u)break;let h;if(d.type===bo.Header){const m=document.createElement("div");m.className="diff-review-row",m.setAttribute("role","listitem");const g=u.range,_=this._model.currentGroupIndex.get(),v=this._model.groups.get().length,S=w=>w===0?A("no_lines_changed","no lines changed"):w===1?A("one_line_changed","1 line changed"):A("more_lines_changed","{0} lines changed",w),C=S(g.original.length),y=S(g.modified.length);m.setAttribute("aria-label",A({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",_+1,v,g.original.startLineNumber,C,g.modified.startLineNumber,y));const b=document.createElement("div");b.className="diff-review-cell diff-review-summary",b.appendChild(document.createTextNode(`${_+1}/${v}: @@ -${g.original.startLineNumber},${g.original.length} +${g.modified.startLineNumber},${g.modified.length} @@`)),m.appendChild(b),h=m}else h=this._createRow(d,c,this._width.get(),t,s,a,i,o,l);r.appendChild(h);const f=Ut(m=>this._model.currentElement.read(m)===d);e.add(Un(m=>{const g=f.read(m);h.tabIndex=g?0:-1,g&&h.focus()})),e.add(we(h,"focus",()=>{this._model.goToLine(d)}))}this._scrollbar.scanDomNode()}_createRow(e,t,i,r,s,o,a,l,c){const u=r.get(146),d=u.glyphMarginWidth+u.lineNumbersWidth,h=a.get(146),f=10+h.glyphMarginWidth+h.lineNumbersWidth;let m="diff-review-row",g="";const _="diff-review-spacer";let v=null;switch(e.type){case bo.Added:m="diff-review-row line-insert",g=" char-insert",v=v_t;break;case bo.Deleted:m="diff-review-row line-delete",g=" char-delete",v=S_t;break}const S=document.createElement("div");S.style.minWidth=i+"px",S.className=m,S.setAttribute("role","listitem"),S.ariaLevel="";const C=document.createElement("div");C.className="diff-review-cell",C.style.height=`${t}px`,S.appendChild(C);const y=document.createElement("span");y.style.width=d+"px",y.style.minWidth=d+"px",y.className="diff-review-line-number"+g,e.originalLineNumber!==void 0?y.appendChild(document.createTextNode(String(e.originalLineNumber))):y.innerText="",C.appendChild(y);const b=document.createElement("span");b.style.width=f+"px",b.style.minWidth=f+"px",b.style.paddingRight="10px",b.className="diff-review-line-number"+g,e.modifiedLineNumber!==void 0?b.appendChild(document.createTextNode(String(e.modifiedLineNumber))):b.innerText="",C.appendChild(b);const w=document.createElement("span");if(w.className=_,v){const x=document.createElement("span");x.className=Ln.asClassName(v),x.innerText="",w.appendChild(x)}else w.innerText="";C.appendChild(w);let I;if(e.modifiedLineNumber!==void 0){let x=this._getLineHtml(l,a,c.tabSize,e.modifiedLineNumber,this._languageService.languageIdCodec);Wm._ttPolicy&&(x=Wm._ttPolicy.createHTML(x)),C.insertAdjacentHTML("beforeend",x),I=l.getLineContent(e.modifiedLineNumber)}else{let x=this._getLineHtml(s,r,o.tabSize,e.originalLineNumber,this._languageService.languageIdCodec);Wm._ttPolicy&&(x=Wm._ttPolicy.createHTML(x)),C.insertAdjacentHTML("beforeend",x),I=s.getLineContent(e.originalLineNumber)}I.length===0&&(I=A("blankLine","blank"));let O="";switch(e.type){case bo.Unchanged:e.originalLineNumber===e.modifiedLineNumber?O=A({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",I,e.originalLineNumber):O=A("equalLine","{0} original line {1} modified line {2}",I,e.originalLineNumber,e.modifiedLineNumber);break;case bo.Added:O=A("insertLine","+ {0} modified line {1}",I,e.modifiedLineNumber);break;case bo.Deleted:O=A("deleteLine","- {0} original line {1}",I,e.originalLineNumber);break}return S.setAttribute("aria-label",O),S}_getLineHtml(e,t,i,r,s){const o=e.getLineContent(r),a=t.get(50),l=ls.createEmpty(o,s),c=Za.isBasicASCII(o,e.mightContainNonBasicASCII()),u=Za.containsRTL(o,c,e.mightContainRTL());return T2(new Iy(a.isMonospace&&!t.get(33),a.canUseHalfwidthRightwardsArrow,o,!1,c,u,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(118),t.get(100),t.get(95),t.get(51)!==A_.OFF,null)).html}};gG=WX([$X(5,Zr)],gG);class I_t{constructor(e){this.editors=e}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal(e){this.editors.original.revealRange(e),this.editors.original.setSelection(e),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal(e){e&&(this.editors.modified.revealRange(e),this.editors.modified.setSelection(e)),this.editors.modified.focus()}modifiedSetSelection(e){this.editors.modified.setSelection(e)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){return this.editors.modified.getPosition()??void 0}}ie("diffEditor.move.border","#8b8b8b9c",A("diffEditor.move.border","The border color for text that got moved in the diff editor."));ie("diffEditor.moveActive.border","#FFA500",A("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor."));ie("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},A("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));const N_t=_p("diff-insert",tt.add,A("diffInsertIcon","Line decoration for inserts in the diff editor.")),MIe=_p("diff-remove",tt.remove,A("diffRemoveIcon","Line decoration for removals in the diff editor.")),zde=kr.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+Ln.asClassName(N_t),marginClassName:"gutter-insert"}),jde=kr.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+Ln.asClassName(MIe),marginClassName:"gutter-delete"}),Yde=kr.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),Kde=kr.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),qde=kr.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),L_t=kr.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),O_t=kr.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),pG=kr.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),x_t=kr.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),D_t=kr.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"});var FIe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mG=function(n,e){return function(t,i){e(t,i,n)}},lm;const BIe=Cn("diffProviderFactoryService");let _G=class{constructor(e){this.instantiationService=e}createDiffProvider(e){return this.instantiationService.createInstance(EG,e)}};_G=FIe([mG(0,oi)],_G);Pn(BIe,_G,1);var g_;let EG=(g_=class{constructor(e,t,i){this.editorWorkerService=t,this.telemetryService=i,this.onDidChangeEventEmitter=new ge,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(e)}dispose(){var e;(e=this.diffAlgorithmOnDidChangeSubscription)==null||e.dispose()}async computeDiff(e,t,i,r){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(e,t,i,r);if(e.isDisposed()||t.isDisposed())return{changes:[],identical:!0,quitEarly:!1,moves:[]};if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return t.getLineCount()===1&&t.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new Qa(new Rt(1,2),new Rt(1,t.getLineCount()+1),[new Va(e.getFullModelRange(),t.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const s=JSON.stringify([e.uri.toString(),t.uri.toString()]),o=JSON.stringify([e.id,t.id,e.getAlternativeVersionId(),t.getAlternativeVersionId(),JSON.stringify(i)]),a=lm.diffCache.get(s);if(a&&a.context===o)return a.result;const l=eE.create(),c=await this.editorWorkerService.computeDiff(e.uri,t.uri,i,this.diffAlgorithm),u=l.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:u,timedOut:(c==null?void 0:c.quitEarly)??!0,detectedMoves:i.computeMoves?(c==null?void 0:c.moves.length)??0:-1}),r.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!c)throw new Error("no diff result available");return lm.diffCache.size>10&&lm.diffCache.delete(lm.diffCache.keys().next().value),lm.diffCache.set(s,{result:c,context:o}),c}setOptions(e){var i;let t=!1;e.diffAlgorithm&&this.diffAlgorithm!==e.diffAlgorithm&&((i=this.diffAlgorithmOnDidChangeSubscription)==null||i.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=e.diffAlgorithm,typeof e.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=e.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),t=!0),t&&this.onDidChangeEventEmitter.fire()}},lm=g_,g_.diffCache=new Map,g_);EG=lm=FIe([mG(1,DA),mG(2,aE)],EG);function GX(){return a7&&!!a7.VSCODE_DEV}function UIe(n){if(GX()){const e=P_t();return e.add(n),{dispose(){e.delete(n)}}}else return{dispose(){}}}function P_t(){TN||(TN=new Set);const n=globalThis;return n.$hotReload_applyNewExports||(n.$hotReload_applyNewExports=e=>{const t={config:{mode:void 0},...e},i=[];for(const r of TN){const s=r(t);s&&i.push(s)}if(i.length>0)return r=>{let s=!1;for(const o of i)o(r)&&(s=!0);return s}}),TN}let TN;GX()&&UIe(({oldExports:n,newSrc:e,config:t})=>{if(t.mode==="patch-prototype")return i=>{var r,s;for(const o in i){const a=i[o];if(console.log(`[hot-reload] Patching prototype methods of '${o}'`,{exportedItem:a}),typeof a=="function"&&a.prototype){const l=n[o];if(l){for(const c of Object.getOwnPropertyNames(a.prototype)){const u=Object.getOwnPropertyDescriptor(a.prototype,c),d=Object.getOwnPropertyDescriptor(l.prototype,c);((r=u==null?void 0:u.value)==null?void 0:r.toString())!==((s=d==null?void 0:d.value)==null?void 0:s.toString())&&console.log(`[hot-reload] Patching prototype method '${o}.${c}'`),Object.defineProperty(l.prototype,c,u)}i[o]=l}}}return!0}});function Zl(n,e){return k_t([n],e),n}function k_t(n,e){GX()&&El("reload",i=>UIe(({oldExports:r})=>{if([...Object.values(r)].some(s=>n.includes(s)))return s=>(i(void 0),!0)})).read(e)}var M_t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},F_t=function(n,e){return function(t,i){e(t,i,n)}};let vG=class extends Ne{setActiveMovedText(e){this._activeMovedText.set(e,void 0)}constructor(e,t,i){super(),this.model=e,this._options=t,this._diffProviderFactoryService=i,this._isDiffUpToDate=Nn(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=Nn(this,void 0),this.diff=this._diff,this._unchangedRegions=Nn(this,void 0),this.unchangedRegions=Ut(this,a=>{var l;return this._options.hideUnchangedRegions.read(a)?((l=this._unchangedRegions.read(a))==null?void 0:l.regions)??[]:(Pr(c=>{var u;for(const d of((u=this._unchangedRegions.get())==null?void 0:u.regions)||[])d.collapseAll(c)}),[])}),this.movedTextToCompare=Nn(this,void 0),this._activeMovedText=Nn(this,void 0),this._hoveredMovedText=Nn(this,void 0),this.activeMovedText=Ut(this,a=>this.movedTextToCompare.read(a)??this._hoveredMovedText.read(a)??this._activeMovedText.read(a)),this._cancellationTokenSource=new vy,this._diffProvider=Ut(this,a=>{const l=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(a)}),c=El("onDidChange",l.onDidChange);return{diffProvider:l,onChangeSignal:c}}),this._register(Ht(()=>this._cancellationTokenSource.cancel()));const r=Bq("contentChangedSignal"),s=this._register(new ho(()=>r.trigger(void 0),200));this._register(Un(a=>{const l=this._unchangedRegions.read(a);if(!l||l.regions.some(m=>m.isDragged.read(a)))return;const c=l.originalDecorationIds.map(m=>e.original.getDecorationRange(m)).map(m=>m?Rt.fromRangeInclusive(m):void 0),u=l.modifiedDecorationIds.map(m=>e.modified.getDecorationRange(m)).map(m=>m?Rt.fromRangeInclusive(m):void 0),d=l.regions.map((m,g)=>!c[g]||!u[g]?void 0:new bg(c[g].startLineNumber,u[g].startLineNumber,c[g].length,m.visibleLineCountTop.read(a),m.visibleLineCountBottom.read(a))).filter(cC),h=[];let f=!1;for(const m of EK(d,(g,_)=>g.getHiddenModifiedRange(a).endLineNumberExclusive===_.getHiddenModifiedRange(a).startLineNumber))if(m.length>1){f=!0;const g=m.reduce((v,S)=>v+S.lineCount,0),_=new bg(m[0].originalLineNumber,m[0].modifiedLineNumber,g,m[0].visibleLineCountTop.get(),m[m.length-1].visibleLineCountBottom.get());h.push(_)}else h.push(m[0]);if(f){const m=e.original.deltaDecorations(l.originalDecorationIds,h.map(_=>({range:_.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),g=e.modified.deltaDecorations(l.modifiedDecorationIds,h.map(_=>({range:_.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));Pr(_=>{this._unchangedRegions.set({regions:h,originalDecorationIds:m,modifiedDecorationIds:g},_)})}}));const o=(a,l,c)=>{const u=bg.fromDiffs(a.changes,e.original.getLineCount(),e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(c),this._options.hideUnchangedRegionsContextLineCount.read(c));let d;const h=this._unchangedRegions.get();if(h){const _=h.originalDecorationIds.map(y=>e.original.getDecorationRange(y)).map(y=>y?Rt.fromRangeInclusive(y):void 0),v=h.modifiedDecorationIds.map(y=>e.modified.getDecorationRange(y)).map(y=>y?Rt.fromRangeInclusive(y):void 0);let C=__t(h.regions.map((y,b)=>{if(!_[b]||!v[b])return;const w=_[b].length;return new bg(_[b].startLineNumber,v[b].startLineNumber,w,Math.min(y.visibleLineCountTop.get(),w),Math.min(y.visibleLineCountBottom.get(),w-y.visibleLineCountTop.get()))}).filter(cC),(y,b)=>!b||y.modifiedLineNumber>=b.modifiedLineNumber+b.lineCount&&y.originalLineNumber>=b.originalLineNumber+b.lineCount).map(y=>new co(y.getHiddenOriginalRange(c),y.getHiddenModifiedRange(c)));C=co.clip(C,Rt.ofLength(1,e.original.getLineCount()),Rt.ofLength(1,e.modified.getLineCount())),d=co.inverse(C,e.original.getLineCount(),e.modified.getLineCount())}const f=[];if(d)for(const _ of u){const v=d.filter(S=>S.original.intersectsStrict(_.originalUnchangedRange)&&S.modified.intersectsStrict(_.modifiedUnchangedRange));f.push(..._.setVisibleRanges(v,l))}else f.push(...u);const m=e.original.deltaDecorations((h==null?void 0:h.originalDecorationIds)||[],f.map(_=>({range:_.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),g=e.modified.deltaDecorations((h==null?void 0:h.modifiedDecorationIds)||[],f.map(_=>({range:_.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:f,originalDecorationIds:m,modifiedDecorationIds:g},l)};this._register(e.modified.onDidChangeContent(a=>{if(this._diff.get()){const c=Ph.fromModelContentChanges(a.changes);this._lastDiff,e.original,e.modified}this._isDiffUpToDate.set(!1,void 0),s.schedule()})),this._register(e.original.onDidChangeContent(a=>{if(this._diff.get()){const c=Ph.fromModelContentChanges(a.changes);this._lastDiff,e.original,e.modified}this._isDiffUpToDate.set(!1,void 0),s.schedule()})),this._register(su(async(a,l)=>{this._options.hideUnchangedRegionsMinimumLineCount.read(a),this._options.hideUnchangedRegionsContextLineCount.read(a),s.cancel(),r.read(a);const c=this._diffProvider.read(a);c.onChangeSignal.read(a),Zl(ywe,a),Zl(V6,a),this._isDiffUpToDate.set(!1,void 0);let u=[];l.add(e.original.onDidChangeContent(f=>{const m=Ph.fromModelContentChanges(f.changes);u=wx(u,m)}));let d=[];l.add(e.modified.onDidChangeContent(f=>{const m=Ph.fromModelContentChanges(f.changes);d=wx(d,m)}));let h=await c.diffProvider.computeDiff(e.original,e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(a),maxComputationTimeMs:this._options.maxComputationTimeMs.read(a),computeMoves:this._options.showMoves.read(a)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||e.original.isDisposed()||e.modified.isDisposed()||(h=B_t(h,e.original,e.modified),h=(e.original,e.modified,void 0)??h,h=(e.original,e.modified,void 0)??h,Pr(f=>{o(h,f),this._lastDiff=h;const m=zX.fromDiffResult(h);this._diff.set(m,f),this._isDiffUpToDate.set(!0,f);const g=this.movedTextToCompare.get();this.movedTextToCompare.set(g?this._lastDiff.moves.find(_=>_.lineRangeMapping.modified.intersect(g.lineRangeMapping.modified)):void 0,f)}))}))}ensureModifiedLineIsVisible(e,t,i){var s,o;if(((s=this.diff.get())==null?void 0:s.mappings.length)===0)return;const r=((o=this._unchangedRegions.get())==null?void 0:o.regions)||[];for(const a of r)if(a.getHiddenModifiedRange(void 0).contains(e)){a.showModifiedLine(e,t,i);return}}ensureOriginalLineIsVisible(e,t,i){var s,o;if(((s=this.diff.get())==null?void 0:s.mappings.length)===0)return;const r=((o=this._unchangedRegions.get())==null?void 0:o.regions)||[];for(const a of r)if(a.getHiddenOriginalRange(void 0).contains(e)){a.showOriginalLine(e,t,i);return}}async waitForDiff(){await tat(this.isDiffUpToDate,e=>e)}serializeState(){const e=this._unchangedRegions.get();return{collapsedRegions:e==null?void 0:e.regions.map(t=>({range:t.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(e){var r;const t=(r=e.collapsedRegions)==null?void 0:r.map(s=>Rt.deserialize(s.range)),i=this._unchangedRegions.get();!i||!t||Pr(s=>{for(const o of i.regions)for(const a of t)if(o.modifiedUnchangedRange.intersect(a)){o.setHiddenModifiedRange(a,s);break}})}};vG=M_t([F_t(2,BIe)],vG);function B_t(n,e,t){return{changes:n.changes.map(i=>new Qa(i.original,i.modified,i.innerChanges?i.innerChanges.map(r=>U_t(r,e,t)):void 0)),moves:n.moves,identical:n.identical,quitEarly:n.quitEarly}}function U_t(n,e,t){let i=n.originalRange,r=n.modifiedRange;return i.startColumn===1&&r.startColumn===1&&(i.endColumn!==1||r.endColumn!==1)&&i.endColumn===e.getLineMaxColumn(i.endLineNumber)&&r.endColumn===t.getLineMaxColumn(r.endLineNumber)&&i.endLineNumber<e.getLineCount()&&r.endLineNumber<t.getLineCount()&&(i=i.setEndPosition(i.endLineNumber+1,1),r=r.setEndPosition(r.endLineNumber+1,1)),new Va(i,r)}class zX{static fromDiffResult(e){return new zX(e.changes.map(t=>new HIe(t)),e.moves||[],e.identical,e.quitEarly)}constructor(e,t,i,r){this.mappings=e,this.movedTexts=t,this.identical=i,this.quitEarly=r}}class HIe{constructor(e){this.lineRangeMapping=e}}class bg{static fromDiffs(e,t,i,r,s){const o=Qa.inverse(e,t,i),a=[];for(const l of o){let c=l.original.startLineNumber,u=l.modified.startLineNumber,d=l.original.length;const h=c===1&&u===1,f=c+d===t+1&&u+d===i+1;(h||f)&&d>=s+r?(h&&!f&&(d-=s),f&&!h&&(c+=s,u+=s,d-=s),a.push(new bg(c,u,d,0,0))):d>=s*2+r&&(c+=s,u+=s,d-=s*2,a.push(new bg(c,u,d,0,0)))}return a}get originalUnchangedRange(){return Rt.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return Rt.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(e,t,i,r,s){this.originalLineNumber=e,this.modifiedLineNumber=t,this.lineCount=i,this._visibleLineCountTop=Nn(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=Nn(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=Ut(this,l=>this.visibleLineCountTop.read(l)+this.visibleLineCountBottom.read(l)===this.lineCount&&!this.isDragged.read(l)),this.isDragged=Nn(this,void 0);const o=Math.max(Math.min(r,this.lineCount),0),a=Math.max(Math.min(s,this.lineCount-r),0);$ae(r===o),$ae(s===a),this._visibleLineCountTop.set(o,void 0),this._visibleLineCountBottom.set(a,void 0)}setVisibleRanges(e,t){const i=[],r=new _l(e.map(l=>l.modified)).subtractFrom(this.modifiedUnchangedRange);let s=this.originalLineNumber,o=this.modifiedLineNumber;const a=this.modifiedLineNumber+this.lineCount;if(r.ranges.length===0)this.showAll(t),i.push(this);else{let l=0;for(const c of r.ranges){const u=l===r.ranges.length-1;l++;const d=(u?a:c.endLineNumberExclusive)-o,h=new bg(s,o,d,0,0);h.setHiddenModifiedRange(c,t),i.push(h),s=h.originalUnchangedRange.endLineNumberExclusive,o=h.modifiedUnchangedRange.endLineNumberExclusive}}return i}shouldHideControls(e){return this._shouldHideControls.read(e)}getHiddenOriginalRange(e){return Rt.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}getHiddenModifiedRange(e){return Rt.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}setHiddenModifiedRange(e,t){const i=e.startLineNumber-this.modifiedLineNumber,r=this.modifiedLineNumber+this.lineCount-e.endLineNumberExclusive;this.setState(i,r,t)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(e=10,t){const i=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+e,i),t)}showMoreBelow(e=10,t){const i=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+e,i),t)}showAll(e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),e)}showModifiedLine(e,t,i){const r=e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),s=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-e;t===0&&r<s||t===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+r,i):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+s,i)}showOriginalLine(e,t,i){const r=e-this.originalLineNumber,s=this.originalLineNumber+this.lineCount-e;t===0&&r<s||t===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+s-r,this.getMaxVisibleLineCountTop()),i):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+r-s,this.getMaxVisibleLineCountBottom()),i)}collapseAll(e){this._visibleLineCountTop.set(0,e),this._visibleLineCountBottom.set(0,e)}setState(e,t,i){e=Math.max(Math.min(e,this.lineCount),0),t=Math.max(Math.min(t,this.lineCount-e),0),this._visibleLineCountTop.set(e,i),this._visibleLineCountBottom.set(t,i)}}class H_t extends Ne{get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}constructor(e,t,i,r,s,o,a,l,c){super(),this._getViewZoneId=e,this._marginDomNode=t,this._modifiedEditor=i,this._diff=r,this._editor=s,this._viewLineCounts=o,this._originalTextModel=a,this._contextMenuService=l,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Ln.asClassName(tt.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const u=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${u}px`,this._diffActions.style.lineHeight=`${u}px`,this._marginDomNode.appendChild(this._diffActions);let d=0;const h=i.getOption(128)&&!w_,f=(m,g)=>{this._contextMenuService.showContextMenu({domForShadowRoot:h?i.getDomNode()??void 0:void 0,getAnchor:()=>({x:m,y:g}),getActions:()=>{const _=[],v=r.modified.isEmpty;return _.push(new Wh("diff.clipboard.copyDeletedContent",v?r.original.length>1?A("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):A("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):r.original.length>1?A("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):A("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,async()=>{const C=this._originalTextModel.getValueInRange(r.original.toExclusiveRange());await this._clipboardService.writeText(C)})),r.original.length>1&&_.push(new Wh("diff.clipboard.copyDeletedLineContent",v?A("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.original.startLineNumber+d):A("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",r.original.startLineNumber+d),void 0,!0,async()=>{let C=this._originalTextModel.getLineContent(r.original.startLineNumber+d);C===""&&(C=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(C)})),i.getOption(92)||_.push(new Wh("diff.inline.revertChange",A("diff.inline.revertChange.label","Revert this change"),void 0,!0,async()=>{this._editor.revert(this._diff)})),_},autoSelectFirstItem:!0})};this._register(Qr(this._diffActions,"mousedown",m=>{if(!m.leftButton)return;const{top:g,height:_}=yl(this._diffActions),v=Math.floor(u/3);m.preventDefault(),f(m.posx,g+_+v)})),this._register(i.onMouseMove(m=>{(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._getViewZoneId()?(d=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,u),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(m=>{m.event.leftButton&&(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._getViewZoneId()&&(m.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,u),f(m.event.posx,m.event.posy+u))}))}_updateLightBulbPosition(e,t,i){const{top:r}=yl(e),s=t-r,o=Math.floor(s/i),a=o*i;if(this._diffActions.style.top=`${a}px`,this._viewLineCounts){let l=0;for(let c=0;c<this._viewLineCounts.length;c++)if(l+=this._viewLineCounts[c],o<l)return c}return o}}const Xde=lE("diffEditorWidget",{createHTML:n=>n});function V_t(n,e,t,i){Us(i,e.fontInfo);const r=t.length>0,s=new jM(1e4);let o=0,a=0;const l=[];for(let h=0;h<n.lineTokens.length;h++){const f=h+1,m=n.lineTokens[h],g=n.lineBreakData[h],_=oc.filter(t,f,1,Number.MAX_SAFE_INTEGER);if(g){let v=0;for(const S of g.breakOffsets){const C=m.sliceAndInflate(v,S,0);o=Math.max(o,Qde(a,C,oc.extractWrapped(_,v,S),r,n.mightContainNonBasicASCII,n.mightContainRTL,e,s)),a++,v=S}l.push(g.breakOffsets.length)}else l.push(1),o=Math.max(o,Qde(a,m,_,r,n.mightContainNonBasicASCII,n.mightContainRTL,e,s)),a++}o+=e.scrollBeyondLastColumn;const c=s.build(),u=Xde?Xde.createHTML(c):c;i.innerHTML=u;const d=o*e.typicalHalfwidthCharacterWidth;return{heightInLines:a,minWidthInPx:d,viewLineCounts:l}}class W_t{constructor(e,t,i,r){this.lineTokens=e,this.lineBreakData=t,this.mightContainNonBasicASCII=i,this.mightContainRTL=r}}class jX{static fromEditor(e){var s;const t=e.getOptions(),i=t.get(50),r=t.get(146);return new jX(((s=e.getModel())==null?void 0:s.getOptions().tabSize)||0,i,t.get(33),i.typicalHalfwidthCharacterWidth,t.get(105),t.get(67),r.decorationsWidth,t.get(118),t.get(100),t.get(95),t.get(51))}constructor(e,t,i,r,s,o,a,l,c,u,d){this.tabSize=e,this.fontInfo=t,this.disableMonospaceOptimizations=i,this.typicalHalfwidthCharacterWidth=r,this.scrollBeyondLastColumn=s,this.lineHeight=o,this.lineDecorationsWidth=a,this.stopRenderingLineAfter=l,this.renderWhitespace=c,this.renderControlCharacters=u,this.fontLigatures=d}}function Qde(n,e,t,i,r,s,o,a){a.appendString('<div class="view-line'),i||a.appendString(" char-delete"),a.appendString('" style="top:'),a.appendString(String(n*o.lineHeight)),a.appendString('px;width:1000000px;">');const l=e.getLineContent(),c=Za.isBasicASCII(l,r),u=Za.containsRTL(l,c,s),d=yX(new Iy(o.fontInfo.isMonospace&&!o.disableMonospaceOptimizations,o.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,c,u,0,e,t,o.tabSize,0,o.fontInfo.spaceWidth,o.fontInfo.middotWidth,o.fontInfo.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==A_.OFF,null),a);return a.appendString("</div>"),d.characterMapping.getHorizontalOffset(d.characterMapping.length)}var $_t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Zde=function(n,e){return function(t,i){e(t,i,n)}};let SG=class extends Ne{constructor(e,t,i,r,s,o,a,l,c,u){super(),this._targetWindow=e,this._editors=t,this._diffModel=i,this._options=r,this._diffEditorWidget=s,this._canIgnoreViewZoneUpdateEvent=o,this._origViewZonesToIgnore=a,this._modViewZonesToIgnore=l,this._clipboardService=c,this._contextMenuService=u,this._originalTopPadding=Nn(this,0),this._originalScrollOffset=Nn(this,0),this._originalScrollOffsetAnimated=Wde(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=Nn(this,0),this._modifiedScrollOffset=Nn(this,0),this._modifiedScrollOffsetAnimated=Wde(this._targetWindow,this._modifiedScrollOffset,this._store);const d=Nn("invalidateAlignmentsState",0),h=this._register(new ho(()=>{d.set(d.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(C=>{this._canIgnoreViewZoneUpdateEvent()||h.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(C=>{this._canIgnoreViewZoneUpdateEvent()||h.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(C=>{(C.hasChanged(147)||C.hasChanged(67))&&h.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(C=>{(C.hasChanged(147)||C.hasChanged(67))&&h.schedule()}));const f=this._diffModel.map(C=>C?Qi(this,C.model.original.onDidChangeTokens,()=>C.model.original.tokenization.backgroundTokenizationState===2):void 0).map((C,y)=>C==null?void 0:C.read(y)),m=Ut(C=>{const y=this._diffModel.read(C),b=y==null?void 0:y.diff.read(C);if(!y||!b)return null;d.read(C);const I=this._options.renderSideBySide.read(C);return Jde(this._editors.original,this._editors.modified,b.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,I)}),g=Ut(C=>{var w;const y=(w=this._diffModel.read(C))==null?void 0:w.movedTextToCompare.read(C);if(!y)return null;d.read(C);const b=y.changes.map(I=>new HIe(I));return Jde(this._editors.original,this._editors.modified,b,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function _(){const C=document.createElement("div");return C.className="diagonal-fill",C}const v=this._register(new at);this.viewZones=Ty(this,(C,y)=>{var re,G,J,z;v.clear();const b=m.read(C)||[],w=[],I=[],O=this._modifiedTopPadding.read(C);O>0&&I.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:O,showInHiddenAreas:!0,suppressMouseDown:!0});const x=this._originalTopPadding.read(C);x>0&&w.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:x,showInHiddenAreas:!0,suppressMouseDown:!0});const k=this._options.renderSideBySide.read(C),P=k||(re=this._editors.modified._getViewModel())==null?void 0:re.createLineBreaksComputer();if(P){const j=this._editors.original.getModel();for(const ne of b)if(ne.diff)for(let le=ne.originalRange.startLineNumber;le<ne.originalRange.endLineNumberExclusive;le++){if(le>j.getLineCount())return{orig:w,mod:I};P==null||P.addRequest(j.getLineContent(le),null,null)}}const M=(P==null?void 0:P.finalize())??[];let W=0;const F=this._editors.modified.getOption(67),H=(G=this._diffModel.read(C))==null?void 0:G.movedTextToCompare.read(C),V=((J=this._editors.original.getModel())==null?void 0:J.mightContainNonBasicASCII())??!1,Y=((z=this._editors.original.getModel())==null?void 0:z.mightContainRTL())??!1,$=jX.fromEditor(this._editors.modified);for(const j of b)if(j.diff&&!k&&(!this._options.useTrueInlineDiffRendering.read(C)||!YX(j.diff))){if(!j.originalRange.isEmpty){f.read(C);const le=document.createElement("div");le.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const q=this._editors.original.getModel();if(j.originalRange.endLineNumberExclusive-1>q.getLineCount())return{orig:w,mod:I};const he=new W_t(j.originalRange.mapToLineArray(Te=>q.tokenization.getLineTokens(Te)),j.originalRange.mapToLineArray(Te=>M[W++]),V,Y),ue=[];for(const Te of j.diff.innerChanges||[])ue.push(new g0(Te.originalRange.delta(-(j.diff.original.startLineNumber-1)),pG.className,0));const pe=V_t(he,$,ue,le),Ae=document.createElement("div");if(Ae.className="inline-deleted-margin-view-zone",Us(Ae,$.fontInfo),this._options.renderIndicators.read(C))for(let Te=0;Te<pe.heightInLines;Te++){const Oe=document.createElement("div");Oe.className=`delete-sign ${Ln.asClassName(MIe)}`,Oe.setAttribute("style",`position:absolute;top:${Te*F}px;width:${$.lineDecorationsWidth}px;height:${F}px;right:0;`),Ae.appendChild(Oe)}let me;v.add(new H_t(()=>H0e(me),Ae,this._editors.modified,j.diff,this._diffEditorWidget,pe.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Te=0;Te<pe.viewLineCounts.length;Te++){const Oe=pe.viewLineCounts[Te];Oe>1&&w.push({afterLineNumber:j.originalRange.startLineNumber+Te,domNode:_(),heightInPx:(Oe-1)*F,showInHiddenAreas:!0,suppressMouseDown:!0})}I.push({afterLineNumber:j.modifiedRange.startLineNumber-1,domNode:le,heightInPx:pe.heightInLines*F,minWidthInPx:pe.minWidthInPx,marginDomNode:Ae,setZoneId(Te){me=Te},showInHiddenAreas:!0,suppressMouseDown:!0})}const ne=document.createElement("div");ne.className="gutter-delete",w.push({afterLineNumber:j.originalRange.endLineNumberExclusive-1,domNode:_(),heightInPx:j.modifiedHeightInPx,marginDomNode:ne,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const ne=j.modifiedHeightInPx-j.originalHeightInPx;if(ne>0){if(H!=null&&H.lineRangeMapping.original.delta(-1).deltaLength(2).contains(j.originalRange.endLineNumberExclusive-1))continue;w.push({afterLineNumber:j.originalRange.endLineNumberExclusive-1,domNode:_(),heightInPx:ne,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let le=function(){const he=document.createElement("div");return he.className="arrow-revert-change "+Ln.asClassName(tt.arrowRight),y.add(we(he,"mousedown",ue=>ue.stopPropagation())),y.add(we(he,"click",ue=>{ue.stopPropagation(),s.revert(j.diff)})),St("div",{},he)};var K=le;if(H!=null&&H.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(j.modifiedRange.endLineNumberExclusive-1))continue;let q;j.diff&&j.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(C)&&(q=le()),I.push({afterLineNumber:j.modifiedRange.endLineNumberExclusive-1,domNode:_(),heightInPx:-ne,marginDomNode:q,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const j of g.read(C)??[]){if(!(H!=null&&H.lineRangeMapping.original.intersect(j.originalRange))||!(H!=null&&H.lineRangeMapping.modified.intersect(j.modifiedRange)))continue;const ne=j.modifiedHeightInPx-j.originalHeightInPx;ne>0?w.push({afterLineNumber:j.originalRange.endLineNumberExclusive-1,domNode:_(),heightInPx:ne,showInHiddenAreas:!0,suppressMouseDown:!0}):I.push({afterLineNumber:j.modifiedRange.endLineNumberExclusive-1,domNode:_(),heightInPx:-ne,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:w,mod:I}});let S=!1;this._register(this._editors.original.onDidScrollChange(C=>{C.scrollLeftChanged&&!S&&(S=!0,this._editors.modified.setScrollLeft(C.scrollLeft),S=!1)})),this._register(this._editors.modified.onDidScrollChange(C=>{C.scrollLeftChanged&&!S&&(S=!0,this._editors.original.setScrollLeft(C.scrollLeft),S=!1)})),this._originalScrollTop=Qi(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=Qi(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(Un(C=>{const y=this._originalScrollTop.read(C)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(C))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(C));y!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(y,1)})),this._register(Un(C=>{const y=this._modifiedScrollTop.read(C)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(C))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(C));y!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(y,1)})),this._register(Un(C=>{var w;const y=(w=this._diffModel.read(C))==null?void 0:w.movedTextToCompare.read(C);let b=0;if(y){const I=this._editors.original.getTopForLineNumber(y.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();b=this._editors.modified.getTopForLineNumber(y.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-I}b>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(b,void 0)):b<0?(this._modifiedTopPadding.set(-b,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-b,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+b,void 0,!0)}))}};SG=$_t([Zde(8,vX),Zde(9,hf)],SG);function Jde(n,e,t,i,r,s){const o=new nf(ehe(n,i)),a=new nf(ehe(e,r)),l=n.getOption(67),c=e.getOption(67),u=[];let d=0,h=0;function f(g,_){for(;;){let v=o.peek(),S=a.peek();if(v&&v.lineNumber>=g&&(v=void 0),S&&S.lineNumber>=_&&(S=void 0),!v&&!S)break;const C=v?v.lineNumber-d:Number.MAX_VALUE,y=S?S.lineNumber-h:Number.MAX_VALUE;C<y?(o.dequeue(),S={lineNumber:v.lineNumber-d+h,heightInPx:0}):C>y?(a.dequeue(),v={lineNumber:S.lineNumber-h+d,heightInPx:0}):(o.dequeue(),a.dequeue()),u.push({originalRange:Rt.ofLength(v.lineNumber,1),modifiedRange:Rt.ofLength(S.lineNumber,1),originalHeightInPx:l+v.heightInPx,modifiedHeightInPx:c+S.heightInPx,diff:void 0})}}for(const g of t){let y=function(b,w,I=!1){var M,W;if(b<C||w<S)return;if(v)v=!1;else if(!I&&(b===C||w===S))return;const O=new Rt(C,b),x=new Rt(S,w);if(O.isEmpty&&x.isEmpty)return;const k=((M=o.takeWhile(F=>F.lineNumber<b))==null?void 0:M.reduce((F,H)=>F+H.heightInPx,0))??0,P=((W=a.takeWhile(F=>F.lineNumber<w))==null?void 0:W.reduce((F,H)=>F+H.heightInPx,0))??0;u.push({originalRange:O,modifiedRange:x,originalHeightInPx:O.length*l+k,modifiedHeightInPx:x.length*c+P,diff:g.lineRangeMapping}),C=b,S=w};var m=y;const _=g.lineRangeMapping;f(_.original.startLineNumber,_.modified.startLineNumber);let v=!0,S=_.modified.startLineNumber,C=_.original.startLineNumber;if(s)for(const b of _.innerChanges||[]){b.originalRange.startColumn>1&&b.modifiedRange.startColumn>1&&y(b.originalRange.startLineNumber,b.modifiedRange.startLineNumber);const w=n.getModel(),I=b.originalRange.endLineNumber<=w.getLineCount()?w.getLineMaxColumn(b.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;b.originalRange.endColumn<I&&y(b.originalRange.endLineNumber,b.modifiedRange.endLineNumber)}y(_.original.endLineNumberExclusive,_.modified.endLineNumberExclusive,!0),d=_.original.endLineNumberExclusive,h=_.modified.endLineNumberExclusive}return f(Number.MAX_VALUE,Number.MAX_VALUE),u}function ehe(n,e){const t=[],i=[],r=n.getOption(147).wrappingColumn!==-1,s=n._getViewModel().coordinatesConverter,o=n.getOption(67);if(r)for(let l=1;l<=n.getModel().getLineCount();l++){const c=s.getModelLineViewLineCount(l);c>1&&i.push({lineNumber:l,heightInPx:o*(c-1)})}for(const l of n.getWhitespaces()){if(e.has(l.id))continue;const c=l.afterLineNumber===0?0:s.convertViewPositionToModelPosition(new Ee(l.afterLineNumber,1)).lineNumber;t.push({lineNumber:c,heightInPx:l.height})}return f_t(t,i,l=>l.lineNumber,(l,c)=>({lineNumber:l.lineNumber,heightInPx:l.heightInPx+c.heightInPx}))}function YX(n){return n.innerChanges?n.innerChanges.every(e=>the(e.modifiedRange)&&the(e.originalRange)||e.originalRange.equalsRange(new ce(1,1,1,1))):!1}function the(n){return n.startLineNumber===n.endLineNumber}const z0=class z0 extends Ne{constructor(e,t,i,r,s){super(),this._rootElement=e,this._diffModel=t,this._originalEditorLayoutInfo=i,this._modifiedEditorLayoutInfo=r,this._editors=s,this._originalScrollTop=Qi(this,this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=Qi(this,this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=El("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=Nn(this,0),this._modifiedViewZonesChangedSignal=El("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=El("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=Ty(this,(u,d)=>{var I;this._element.replaceChildren();const h=this._diffModel.read(u),f=(I=h==null?void 0:h.diff.read(u))==null?void 0:I.movedTexts;if(!f||f.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(u);const m=this._originalEditorLayoutInfo.read(u),g=this._modifiedEditorLayoutInfo.read(u);if(!m||!g){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(u),this._originalViewZonesChangedSignal.read(u);const _=f.map(O=>{function x($,K){const re=K.getTopForLineNumber($.startLineNumber,!0),G=K.getTopForLineNumber($.endLineNumberExclusive,!0);return(re+G)/2}const k=x(O.lineRangeMapping.original,this._editors.original),P=this._originalScrollTop.read(u),M=x(O.lineRangeMapping.modified,this._editors.modified),W=this._modifiedScrollTop.read(u),F=k-P,H=M-W,V=Math.min(k,M),Y=Math.max(k,M);return{range:new jt(V,Y),from:F,to:H,fromWithoutScroll:k,toWithoutScroll:M,move:O}});_.sort(mqe(lc(O=>O.fromWithoutScroll>O.toWithoutScroll,_qe),lc(O=>O.fromWithoutScroll>O.toWithoutScroll?O.fromWithoutScroll:-O.toWithoutScroll,Lg)));const v=KX.compute(_.map(O=>O.range)),S=10,C=m.verticalScrollbarWidth,y=(v.getTrackCount()-1)*10+S*2,b=C+y+(g.contentLeft-z0.movedCodeBlockPadding);let w=0;for(const O of _){const x=v.getTrack(w),k=C+S+x*10,P=15,M=15,W=b,F=g.glyphMarginWidth+g.lineNumbersWidth,H=18,V=document.createElementNS("http://www.w3.org/2000/svg","rect");V.classList.add("arrow-rectangle"),V.setAttribute("x",`${W-F}`),V.setAttribute("y",`${O.to-H/2}`),V.setAttribute("width",`${F}`),V.setAttribute("height",`${H}`),this._element.appendChild(V);const Y=document.createElementNS("http://www.w3.org/2000/svg","g"),$=document.createElementNS("http://www.w3.org/2000/svg","path");$.setAttribute("d",`M 0 ${O.from} L ${k} ${O.from} L ${k} ${O.to} L ${W-M} ${O.to}`),$.setAttribute("fill","none"),Y.appendChild($);const K=document.createElementNS("http://www.w3.org/2000/svg","polygon");K.classList.add("arrow"),d.add(Un(re=>{$.classList.toggle("currentMove",O.move===h.activeMovedText.read(re)),K.classList.toggle("currentMove",O.move===h.activeMovedText.read(re))})),K.setAttribute("points",`${W-M},${O.to-P/2} ${W},${O.to} ${W-M},${O.to+P/2}`),Y.appendChild(K),this._element.appendChild(Y),w++}this.width.set(y,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(Ht(()=>this._element.remove())),this._register(Un(u=>{const d=this._originalEditorLayoutInfo.read(u),h=this._modifiedEditorLayoutInfo.read(u);!d||!h||(this._element.style.left=`${d.width-d.verticalScrollbarWidth}px`,this._element.style.height=`${d.height}px`,this._element.style.width=`${d.verticalScrollbarWidth+d.contentLeft-z0.movedCodeBlockPadding+this.width.read(u)}px`)})),this._register(c2(this._state));const o=Ut(u=>{const d=this._diffModel.read(u),h=d==null?void 0:d.diff.read(u);return h?h.movedTexts.map(f=>({move:f,original:new Qv(mx(f.lineRangeMapping.original.startLineNumber-1),18),modified:new Qv(mx(f.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register(cD(this._editors.original,o.map(u=>u.map(d=>d.original)))),this._register(cD(this._editors.modified,o.map(u=>u.map(d=>d.modified)))),this._register(su((u,d)=>{const h=o.read(u);for(const f of h)d.add(new nhe(this._editors.original,f.original,f.move,"original",this._diffModel.get())),d.add(new nhe(this._editors.modified,f.modified,f.move,"modified",this._diffModel.get()))}));const a=El("original.onDidFocusEditorWidget",u=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>u(void 0),0))),l=El("modified.onDidFocusEditorWidget",u=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>u(void 0),0)));let c="modified";this._register(a2({createEmptyChangeSummary:()=>{},handleChange:(u,d)=>(u.didChange(a)&&(c="original"),u.didChange(l)&&(c="modified"),!0)},u=>{a.read(u),l.read(u);const d=this._diffModel.read(u);if(!d)return;const h=d.diff.read(u);let f;if(h&&c==="original"){const m=this._editors.originalCursor.read(u);m&&(f=h.movedTexts.find(g=>g.lineRangeMapping.original.contains(m.lineNumber)))}if(h&&c==="modified"){const m=this._editors.modifiedCursor.read(u);m&&(f=h.movedTexts.find(g=>g.lineRangeMapping.modified.contains(m.lineNumber)))}f!==d.movedTextToCompare.get()&&d.movedTextToCompare.set(void 0,void 0),d.setActiveMovedText(f)}))}};z0.movedCodeBlockPadding=4;let YS=z0;class KX{static compute(e){const t=[],i=[];for(const r of e){let s=t.findIndex(o=>!o.intersectsStrict(r));s===-1&&(t.length>=6?s=Jet(t,lc(a=>a.intersectWithRangeLength(r),Lg)):(s=t.length,t.push(new oq))),t[s].addRange(r),i.push(s)}return new KX(t.length,i)}constructor(e,t){this._trackCount=e,this.trackPerLineIdx=t}getTrack(e){return this.trackPerLineIdx[e]}getTrackCount(){return this._trackCount}}class nhe extends VX{constructor(e,t,i,r,s){const o=Rn("div.diff-hidden-lines-widget");super(e,t,o.root),this._editor=e,this._move=i,this._kind=r,this._diffModel=s,this._nodes=Rn("div.diff-moved-code-block",{style:{marginRight:"4px"}},[Rn("div.text-content@textContent"),Rn("div.action-bar@actionBar")]),o.root.appendChild(this._nodes.root);const a=Qi(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register(ip(this._nodes.root,{paddingRight:a.map(h=>h.verticalScrollbarWidth)}));let l;i.changes.length>0?l=this._kind==="original"?A("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):A("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):l=this._kind==="original"?A("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):A("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const c=this._register(new zh(this._nodes.actionBar,{highlightToggledItems:!0})),u=new Wh("",l,"",!1);c.push(u,{icon:!1,label:!0});const d=new Wh("","Compare",Ln.asClassName(tt.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===i?void 0:this._move,void 0)});this._register(Un(h=>{const f=this._diffModel.movedTextToCompare.read(h)===i;d.checked=f})),c.push(d,{icon:!1,label:!0})}}class G_t extends Ne{constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._decorations=Ut(this,s=>{const o=this._diffModel.read(s),a=o==null?void 0:o.diff.read(s);if(!a)return null;const l=this._diffModel.read(s).movedTextToCompare.read(s),c=this._options.renderIndicators.read(s),u=this._options.showEmptyDecorations.read(s),d=[],h=[];if(!l)for(const m of a.mappings)if(m.lineRangeMapping.original.isEmpty||d.push({range:m.lineRangeMapping.original.toInclusiveRange(),options:c?jde:Kde}),m.lineRangeMapping.modified.isEmpty||h.push({range:m.lineRangeMapping.modified.toInclusiveRange(),options:c?zde:Yde}),m.lineRangeMapping.modified.isEmpty||m.lineRangeMapping.original.isEmpty)m.lineRangeMapping.original.isEmpty||d.push({range:m.lineRangeMapping.original.toInclusiveRange(),options:x_t}),m.lineRangeMapping.modified.isEmpty||h.push({range:m.lineRangeMapping.modified.toInclusiveRange(),options:L_t});else{const g=this._options.useTrueInlineDiffRendering.read(s)&&YX(m.lineRangeMapping);for(const _ of m.lineRangeMapping.innerChanges||[])if(m.lineRangeMapping.original.contains(_.originalRange.startLineNumber)&&d.push({range:_.originalRange,options:_.originalRange.isEmpty()&&u?D_t:pG}),m.lineRangeMapping.modified.contains(_.modifiedRange.startLineNumber)&&h.push({range:_.modifiedRange,options:_.modifiedRange.isEmpty()&&u&&!g?O_t:qde}),g){const v=o.model.original.getValueInRange(_.originalRange);h.push({range:_.modifiedRange,options:{description:"deleted-text",before:{content:v,inlineClassName:"inline-deleted-text"},zIndex:1e5,showIfCollapsed:!0}})}}if(l)for(const m of l.changes){const g=m.original.toInclusiveRange();g&&d.push({range:g,options:c?jde:Kde});const _=m.modified.toInclusiveRange();_&&h.push({range:_,options:c?zde:Yde});for(const v of m.innerChanges||[])d.push({range:v.originalRange,options:pG}),h.push({range:v.modifiedRange,options:qde})}const f=this._diffModel.read(s).activeMovedText.read(s);for(const m of a.movedTexts)d.push({range:m.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(m===f?" currentMove":""),blockPadding:[YS.movedCodeBlockPadding,0,YS.movedCodeBlockPadding,YS.movedCodeBlockPadding]}}),h.push({range:m.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(m===f?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:d,modifiedDecorations:h}}),this._register(lD(this._editors.original,this._decorations.map(s=>(s==null?void 0:s.originalDecorations)||[]))),this._register(lD(this._editors.modified,this._decorations.map(s=>(s==null?void 0:s.modifiedDecorations)||[])))}}class z_t{resetSash(){this._sashRatio.set(void 0,void 0)}constructor(e,t){this._options=e,this.dimensions=t,this.sashLeft=Fq(this,i=>{const r=this._sashRatio.read(i)??this._options.splitViewDefaultRatio.read(i);return this._computeSashLeft(r,i)},(i,r)=>{const s=this.dimensions.width.get();this._sashRatio.set(i/s,r)}),this._sashRatio=Nn(this,void 0)}_computeSashLeft(e,t){const i=this.dimensions.width.read(t),r=Math.floor(this._options.splitViewDefaultRatio.read(t)*i),s=this._options.enableSplitViewResizing.read(t)?Math.floor(e*i):r,o=100;return i<=o*2?r:s<o?o:s>i-o?i-o:s}}class VIe extends Ne{constructor(e,t,i,r,s,o){super(),this._domNode=e,this._dimensions=t,this._enabled=i,this._boundarySashes=r,this.sashLeft=s,this._resetSash=o,this._sash=this._register(new ul(this._domNode,{getVerticalSashTop:a=>0,getVerticalSashLeft:a=>this.sashLeft.get(),getVerticalSashHeight:a=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(a=>{this.sashLeft.set(this._startSashPosition+(a.currentX-a.startX),void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._resetSash())),this._register(Un(a=>{const l=this._boundarySashes.read(a);l&&(this._sash.orthogonalEndSash=l.bottom)})),this._register(Un(a=>{const l=this._enabled.read(a);this._sash.state=l?3:0,this.sashLeft.read(a),this._dimensions.height.read(a),this._sash.layout()}))}}class j_t extends Ne{constructor(e,t,i){super(),this._editor=e,this._domNode=t,this.itemProvider=i,this.scrollTop=Qi(this,this._editor.onDidScrollChange,o=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map(o=>o===0),this.modelAttached=Qi(this,this._editor.onDidChangeModel,o=>this._editor.hasModel()),this.editorOnDidChangeViewZones=El("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=El("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=Bq("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const r=this._domNode.appendChild(Rn("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),s=new ResizeObserver(()=>{Pr(o=>{this.domNodeSizeChanged.trigger(o)})});s.observe(this._domNode),this._register(Ht(()=>s.disconnect())),this._register(Un(o=>{r.className=this.isScrollTopZero.read(o)?"":"scroll-decoration"})),this._register(Un(o=>this.render(o)))}dispose(){super.dispose(),wo(this._domNode)}render(e){if(!this.modelAttached.read(e))return;this.domNodeSizeChanged.read(e),this.editorOnDidChangeViewZones.read(e),this.editorOnDidContentSizeChange.read(e);const t=this.scrollTop.read(e),i=this._editor.getVisibleRanges(),r=new Set(this.views.keys()),s=jt.ofStartAndLength(0,this._domNode.clientHeight);if(!s.isEmpty)for(const o of i){const a=new Rt(o.startLineNumber,o.endLineNumber+1),l=this.itemProvider.getIntersectingGutterItems(a,e);Pr(c=>{for(const u of l){if(!u.range.intersect(a))continue;r.delete(u.id);let d=this.views.get(u.id);if(d)d.item.set(u,c);else{const g=document.createElement("div");this._domNode.appendChild(g);const _=Nn("item",u),v=this.itemProvider.createView(_,g);d=new Y_t(_,v,g),this.views.set(u.id,d)}const h=u.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(u.range.startLineNumber,!0)-t:this._editor.getBottomForLineNumber(u.range.startLineNumber-1,!1)-t,m=(u.range.endLineNumberExclusive===1?Math.max(h,this._editor.getTopForLineNumber(u.range.startLineNumber,!1)-t):Math.max(h,this._editor.getBottomForLineNumber(u.range.endLineNumberExclusive-1,!0)-t))-h;d.domNode.style.top=`${h}px`,d.domNode.style.height=`${m}px`,d.gutterItemView.layout(jt.ofStartAndLength(h,m),s)}})}for(const o of r){const a=this.views.get(o);a.gutterItemView.dispose(),a.domNode.remove(),this.views.delete(o)}}}class Y_t{constructor(e,t,i){this.item=e,this.gutterItemView=t,this.domNode=i}}class WIe extends N_{constructor(e){super(),this._getContext=e}runAction(e,t){const i=this._getContext();return super.runAction(e,i)}}class ihe extends vwe{constructor(e){super(),this._textModel=e}getValueOfRange(e){return this._textModel.getValueInRange(e)}get length(){const e=this._textModel.getLineCount(),t=this._textModel.getLineLength(e);return new Zg(e-1,t)}}class K_t extends Ne{constructor(e,t,i={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new WXe),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new at),i.hoverDelegate=i.hoverDelegate??this._register(Uq()),this.options=i,this.toggleMenuAction=this._register(new aw(()=>{var r;return(r=this.toggleMenuActionViewItem)==null?void 0:r.show()},i.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new zh(this.element,{orientation:i.orientation,ariaLabel:i.ariaLabel,actionRunner:i.actionRunner,allowContextMenu:i.allowContextMenu,highlightToggledItems:i.highlightToggledItems,hoverDelegate:i.hoverDelegate,actionViewItemProvider:(r,s)=>{if(r.id===aw.ID)return this.toggleMenuActionViewItem=new Ex(r,r.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:Ln.asClassNameArray(i.moreIcon??tt.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(i.actionViewItemProvider){const o=i.actionViewItemProvider(r,s);if(o)return o}if(r instanceof MM){const o=new Ex(r,r.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:r.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return o.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(o),this.disposables.add(this._onDidChangeDropdownVisibility.add(o.onDidChangeVisibility)),o}}}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(e){return this.actionBar.getAction(e)}setActions(e,t){this.clear();const i=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),i.push(this.toggleMenuAction)),i.forEach(r=>{this.actionBar.push(r,{icon:this.options.icon??!0,label:this.options.label??!1,keybinding:this.getKeybindingLabel(r)})})}getKeybindingLabel(e){var i,r;const t=(r=(i=this.options).getKeyBinding)==null?void 0:r.call(i,e);return(t==null?void 0:t.getLabel())??void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}const rk=class rk extends Wh{constructor(e,t){t=t||A("moreActions","More Actions..."),super(rk.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}};rk.ID="toolbar.toggle.more";let aw=rk;var $Ie=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},tc=function(n,e){return function(t,i){e(t,i,n)}};let CG=class extends K_t{constructor(e,t,i,r,s,o,a,l){super(e,s,{getKeyBinding:u=>o.lookupKeybinding(u.id)??void 0,...t,allowContextMenu:!0,skipTelemetry:typeof(t==null?void 0:t.telemetrySource)=="string"}),this._options=t,this._menuService=i,this._contextKeyService=r,this._contextMenuService=s,this._keybindingService=o,this._commandService=a,this._sessionDisposables=this._store.add(new at);const c=t==null?void 0:t.telemetrySource;c&&this._store.add(this.actionBar.onDidRun(u=>l.publicLog2("workbenchActionExecuted",{id:u.action.id,from:c})))}setActions(e,t=[],i){var u,d,h;this._sessionDisposables.clear();const r=e.slice(),s=t.slice(),o=[];let a=0;const l=[];let c=!1;if(((u=this._options)==null?void 0:u.hiddenItemStrategy)!==-1)for(let f=0;f<r.length;f++){const m=r[f];!(m instanceof $h)&&!(m instanceof QT)||m.hideActions&&(o.push(m.hideActions.toggle),m.hideActions.toggle.checked&&a++,m.hideActions.isHidden&&(c=!0,r[f]=void 0,((d=this._options)==null?void 0:d.hiddenItemStrategy)!==0&&(l[f]=m)))}if(((h=this._options)==null?void 0:h.overflowBehavior)!==void 0){const f=Hlt(new Set(this._options.overflowBehavior.exempted),Mn.map(r,_=>_==null?void 0:_.id)),m=this._options.overflowBehavior.maxItems-f.size;let g=0;for(let _=0;_<r.length;_++){const v=r[_];v&&(g++,!f.has(v.id)&&g>=m&&(r[_]=void 0,l[_]=v))}}qoe(r),qoe(l),super.setActions(r,go.join(l,s)),(o.length>0||r.length>0)&&this._sessionDisposables.add(we(this.getElement(),"contextmenu",f=>{var S,C,y,b,w;const m=new Jc(ht(this.getElement()),f),g=this.getItemAction(m.target);if(!g)return;m.preventDefault(),m.stopPropagation();const _=[];if(g instanceof $h&&g.menuKeybinding)_.push(g.menuKeybinding);else if(!(g instanceof QT||g instanceof aw)){const I=!!this._keybindingService.lookupKeybinding(g.id);_.push(oIe(this._commandService,this._keybindingService,g.id,void 0,I))}if(o.length>0){let I=!1;if(a===1&&((S=this._options)==null?void 0:S.hiddenItemStrategy)===0){I=!0;for(let O=0;O<o.length;O++)if(o[O].checked){o[O]=RS({id:g.id,label:g.label,checked:!0,enabled:!1,run(){}});break}}if(!I&&(g instanceof $h||g instanceof QT)){if(!g.hideActions)return;_.push(g.hideActions.hide)}else _.push(RS({id:"label",label:A("hide","Hide"),enabled:!1,run(){}}))}const v=go.join(_,o);(C=this._options)!=null&&C.resetMenu&&!i&&(i=[this._options.resetMenu]),c&&i&&(v.push(new go),v.push(RS({id:"resetThisMenu",label:A("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),v.length!==0&&this._contextMenuService.showContextMenu({getAnchor:()=>m,getActions:()=>v,menuId:(y=this._options)==null?void 0:y.contextMenu,menuActionOptions:{renderShortTitle:!0,...(b=this._options)==null?void 0:b.menuOptions},skipTelemetry:typeof((w=this._options)==null?void 0:w.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};CG=$Ie([tc(2,oE),tc(3,qn),tc(4,hf),tc(5,Rs),tc(6,el),tc(7,aE)],CG);let dD=class extends CG{constructor(e,t,i,r,s,o,a,l,c){super(e,{resetMenu:t,...i},r,s,o,a,l,c),this._onDidChangeMenuItems=this._store.add(new ge),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const u=this._store.add(r.createMenu(t,s,{emitEventsForSubmenuChanges:!0})),d=()=>{var m,g,_;const h=[],f=[];Xat(u,i==null?void 0:i.menuOptions,{primary:h,secondary:f},(m=i==null?void 0:i.toolbarOptions)==null?void 0:m.primaryGroup,(g=i==null?void 0:i.toolbarOptions)==null?void 0:g.shouldInlineSubmenu,(_=i==null?void 0:i.toolbarOptions)==null?void 0:_.useSeparatorsInPrimaryActions),e.classList.toggle("has-no-actions",h.length===0&&f.length===0),super.setActions(h,f)};this._store.add(u.onDidChange(()=>{d(),this._onDidChangeMenuItems.fire(this)})),d()}setActions(){throw new Kn("This toolbar is populated from a menu.")}};dD=$Ie([tc(3,oE),tc(4,qn),tc(5,hf),tc(6,Rs),tc(7,el),tc(8,aE)],dD);var GIe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},OL=function(n,e){return function(t,i){e(t,i,n)}};const oV=[],wN=35;let yG=class extends Ne{constructor(e,t,i,r,s,o,a,l,c){super(),this._diffModel=t,this._editors=i,this._options=r,this._sashLayout=s,this._boundarySashes=o,this._instantiationService=a,this._contextKeyService=l,this._menuService=c,this._menu=this._register(this._menuService.createMenu(bs.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=Qi(this,this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map(u=>u.length>0),this._showSash=Ut(this,u=>this._options.renderSideBySide.read(u)&&this._hasActions.read(u)),this.width=Ut(this,u=>this._hasActions.read(u)?wN:0),this.elements=Rn("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:wN+"px"}},[]),this._currentDiff=Ut(this,u=>{var m;const d=this._diffModel.read(u);if(!d)return;const h=(m=d.diff.read(u))==null?void 0:m.mappings,f=this._editors.modifiedCursor.read(u);if(f)return h==null?void 0:h.find(g=>g.lineRangeMapping.modified.contains(f.lineNumber))}),this._selectedDiffs=Ut(this,u=>{const d=this._diffModel.read(u),h=d==null?void 0:d.diff.read(u);if(!h)return oV;const f=this._editors.modifiedSelections.read(u);if(f.every(v=>v.isEmpty()))return oV;const m=new _l(f.map(v=>Rt.fromRangeInclusive(v))),_=h.mappings.filter(v=>v.lineRangeMapping.innerChanges&&m.intersects(v.lineRangeMapping.modified)).map(v=>({mapping:v,rangeMappings:v.lineRangeMapping.innerChanges.filter(S=>f.some(C=>ce.areIntersecting(S.modifiedRange,C)))}));return _.length===0||_.every(v=>v.rangeMappings.length===0)?oV:_}),this._register(g_t(e,this.elements.root)),this._register(we(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register(ip(this.elements.root,{display:this._hasActions.map(u=>u?"block":"none")})),Vu(this,u=>this._showSash.read(u)?new VIe(e,this._sashLayout.dimensions,this._options.enableSplitViewResizing,this._boundarySashes,Fq(this,h=>this._sashLayout.sashLeft.read(h)-wN,(h,f)=>this._sashLayout.sashLeft.set(h+wN,f)),()=>this._sashLayout.resetSash()):void 0).recomputeInitiallyAndOnChange(this._store),this._register(new j_t(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(u,d)=>{const h=this._diffModel.read(d);if(!h)return[];const f=h.diff.read(d);if(!f)return[];const m=this._selectedDiffs.read(d);if(m.length>0){const _=Qa.fromRangeMappings(m.flatMap(v=>v.rangeMappings));return[new rhe(_,!0,bs.DiffEditorSelectionToolbar,void 0,h.model.original.uri,h.model.modified.uri)]}const g=this._currentDiff.read(d);return f.mappings.map(_=>new rhe(_.lineRangeMapping.withInnerChangesFromLineRanges(),_.lineRangeMapping===(g==null?void 0:g.lineRangeMapping),bs.DiffEditorHunkToolbar,void 0,h.model.original.uri,h.model.modified.uri))},createView:(u,d)=>this._instantiationService.createInstance(bG,u,d,this)})),this._register(we(this.elements.gutter,Ve.MOUSE_WHEEL,u=>{this._editors.modified.getOption(104).handleMouseWheel&&this._editors.modified.delegateScrollFromMouseWheelEvent(u)},{passive:!1}))}computeStagedValue(e){const t=e.innerChanges??[],i=new ihe(this._editors.modifiedModel.get()),r=new ihe(this._editors.original.getModel());return new ttt(t.map(a=>a.toTextEdit(i))).apply(r)}layout(e){this.elements.gutter.style.left=e+"px"}};yG=GIe([OL(6,oi),OL(7,qn),OL(8,oE)],yG);class rhe{constructor(e,t,i,r,s,o){this.mapping=e,this.showAlways=t,this.menuId=i,this.rangeOverride=r,this.originalUri=s,this.modifiedUri=o}get id(){return this.mapping.modified.toString()}get range(){return this.rangeOverride??this.mapping.modified}}let bG=class extends Ne{constructor(e,t,i,r){super(),this._item=e,this._elements=Rn("div.gutterItem",{style:{height:"20px",width:"34px"}},[Rn("div.background@background",{},[]),Rn("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,o=>o.showAlways),this._menuId=this._item.map(this,o=>o.menuId),this._isSmall=Nn(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const s=this._register(r.createInstance(F1,"element",!0,{position:{hoverPosition:1}}));this._register(NT(t,this._elements.root)),this._register(Un(o=>{const a=this._showAlways.read(o);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",a),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register(su((o,a)=>{this._elements.buttons.replaceChildren();const l=a.add(r.createInstance(dD,this._elements.buttons,this._menuId.read(o),{orientation:1,hoverDelegate:s,toolbarOptions:{primaryGroup:c=>c.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(o)?1:3},hiddenItemStrategy:0,actionRunner:new WIe(()=>{const c=this._item.get(),u=c.mapping;return{mapping:u,originalWithModifiedChanges:i.computeStagedValue(u),originalUri:c.originalUri,modifiedUri:c.modifiedUri}}),menuOptions:{shouldForwardArgs:!0}}));a.add(l.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout(e,t){this._lastItemRange=e,this._lastViewRange=t;let i=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&e.length<30,void 0),i=this._elements.buttons.clientHeight;const r=e.length/2-i/2,s=i;let o=e.start+r;const a=jt.tryCreate(s,t.endExclusive-s-i),l=jt.tryCreate(e.start+s,e.endExclusive-i-s);l&&a&&l.start<l.endExclusive&&(o=a.clip(o),o=l.clip(o)),this._elements.buttons.style.top=`${o-e.start}px`}};bG=GIe([OL(3,oi)],bG);function lw(n){return TG.get(n)}const ig=class ig extends Ne{static get(e){let t=ig._map.get(e);if(!t){t=new ig(e),ig._map.set(e,t);const i=e.onDidDispose(()=>{const r=ig._map.get(e);r&&(ig._map.delete(e),r.dispose(),i.dispose())})}return t}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&(this._currentTransaction=new NA(()=>{}))}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){const e=this._currentTransaction;this._currentTransaction=void 0,e.finish()}}constructor(e){var t;super(),this.editor=e,this._updateCounter=0,this._currentTransaction=void 0,this._model=Nn(this,this.editor.getModel()),this.model=this._model,this.isReadonly=Qi(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(92)),this._versionId=O8({owner:this,lazy:!0},((t=this.editor.getModel())==null?void 0:t.getVersionId())??null),this.versionId=this._versionId,this._selections=O8({owner:this,equalsFn:Fce(Bot(vn.selectionsEqual)),lazy:!0},this.editor.getSelections()??null),this.selections=this._selections,this.isFocused=Qi(this,i=>{const r=this.editor.onDidFocusEditorWidget(i),s=this.editor.onDidBlurEditorWidget(i);return{dispose(){r.dispose(),s.dispose()}}},()=>this.editor.hasWidgetFocus()),this.value=Fq(this,i=>{var r;return this.versionId.read(i),((r=this.model.read(i))==null?void 0:r.getValue())??""},(i,r)=>{const s=this.model.get();s!==null&&i!==s.getValue()&&s.setValue(i)}),this.valueIsEmpty=Ut(this,i=>{var r;return this.versionId.read(i),((r=this.editor.getModel())==null?void 0:r.getValueLength())===0}),this.cursorSelection=s2({owner:this,equalsFn:Fce(vn.selectionsEqual)},i=>{var r;return((r=this.selections.read(i))==null?void 0:r[0])??null}),this.onDidType=Bq(this),this.scrollTop=Qi(this.editor.onDidScrollChange,()=>this.editor.getScrollTop()),this.scrollLeft=Qi(this.editor.onDidScrollChange,()=>this.editor.getScrollLeft()),this.layoutInfo=Qi(this.editor.onDidLayoutChange,()=>this.editor.getLayoutInfo()),this.layoutInfoContentLeft=this.layoutInfo.map(i=>i.contentLeft),this.layoutInfoDecorationsLeft=this.layoutInfo.map(i=>i.decorationsLeft),this.contentWidth=Qi(this.editor.onDidContentSizeChange,()=>this.editor.getContentWidth()),this._overlayWidgetCounter=0,this._register(this.editor.onBeginUpdate(()=>this._beginUpdate())),this._register(this.editor.onEndUpdate(()=>this._endUpdate())),this._register(this.editor.onDidChangeModel(()=>{this._beginUpdate();try{this._model.set(this.editor.getModel(),this._currentTransaction),this._forceUpdate()}finally{this._endUpdate()}})),this._register(this.editor.onDidType(i=>{this._beginUpdate();try{this._forceUpdate(),this.onDidType.trigger(this._currentTransaction,i)}finally{this._endUpdate()}})),this._register(this.editor.onDidChangeModelContent(i=>{var r;this._beginUpdate();try{this._versionId.set(((r=this.editor.getModel())==null?void 0:r.getVersionId())??null,this._currentTransaction,i),this._forceUpdate()}finally{this._endUpdate()}})),this._register(this.editor.onDidChangeCursorSelection(i=>{this._beginUpdate();try{this._selections.set(this.editor.getSelections(),this._currentTransaction,i),this._forceUpdate()}finally{this._endUpdate()}}))}forceUpdate(e){this._beginUpdate();try{return this._forceUpdate(),e?e(this._currentTransaction):void 0}finally{this._endUpdate()}}_forceUpdate(){var e;this._beginUpdate();try{this._model.set(this.editor.getModel(),this._currentTransaction),this._versionId.set(((e=this.editor.getModel())==null?void 0:e.getVersionId())??null,this._currentTransaction,void 0),this._selections.set(this.editor.getSelections(),this._currentTransaction,void 0)}finally{this._endUpdate()}}getOption(e){return Qi(this,t=>this.editor.onDidChangeConfiguration(i=>{i.hasChanged(e)&&t(void 0)}),()=>this.editor.getOption(e))}setDecorations(e){const t=new at,i=this.editor.createDecorationsCollection();return t.add(o2({owner:this,debugName:()=>`Apply decorations from ${e.debugName}`},r=>{const s=e.read(r);i.set(s)})),t.add({dispose:()=>{i.clear()}}),t}createOverlayWidget(e){const t="observableOverlayWidget"+this._overlayWidgetCounter++,i={getDomNode:()=>e.domNode,getPosition:()=>e.position.get(),getId:()=>t,allowEditorOverflow:e.allowEditorOverflow,getMinContentWidthInPx:()=>e.minContentWidthInPx.get()};this.editor.addOverlayWidget(i);const r=Un(s=>{e.position.read(s),e.minContentWidthInPx.read(s),this.editor.layoutOverlayWidget(i)});return Ht(()=>{r.dispose(),this.editor.removeOverlayWidget(i)})}};ig._map=new Map;let TG=ig;var q_t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},X_t=function(n,e){return function(t,i){e(t,i,n)}},xL,p_;let wG=(p_=class extends Ne{static setBreadcrumbsSourceFactory(e){this._breadcrumbsSourceFactory.set(e,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._instantiationService=r,this._modifiedOutlineSource=Vu(this,l=>{const c=this._editors.modifiedModel.read(l),u=xL._breadcrumbsSourceFactory.read(l);return!c||!u?void 0:u(c,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(l=>{if(l.reason===1)return;const c=this._diffModel.get();Pr(u=>{for(const d of this._editors.original.getSelections()||[])c==null||c.ensureOriginalLineIsVisible(d.getStartPosition().lineNumber,0,u),c==null||c.ensureOriginalLineIsVisible(d.getEndPosition().lineNumber,0,u)})})),this._register(this._editors.modified.onDidChangeCursorPosition(l=>{if(l.reason===1)return;const c=this._diffModel.get();Pr(u=>{for(const d of this._editors.modified.getSelections()||[])c==null||c.ensureModifiedLineIsVisible(d.getStartPosition().lineNumber,0,u),c==null||c.ensureModifiedLineIsVisible(d.getEndPosition().lineNumber,0,u)})}));const s=this._diffModel.map((l,c)=>{var d;const u=(l==null?void 0:l.unchangedRegions.read(c))??[];return u.length===1&&u[0].modifiedLineNumber===1&&u[0].lineCount===((d=this._editors.modifiedModel.read(c))==null?void 0:d.getLineCount())?[]:u});this.viewZones=Ty(this,(l,c)=>{const u=this._modifiedOutlineSource.read(l);if(!u)return{origViewZones:[],modViewZones:[]};const d=[],h=[],f=this._options.renderSideBySide.read(l),m=this._options.compactMode.read(l),g=s.read(l);for(let _=0;_<g.length;_++){const v=g[_];if(!v.shouldHideControls(l)&&!(m&&(_===0||_===g.length-1)))if(m){{const S=Ut(this,y=>v.getHiddenOriginalRange(y).startLineNumber-1),C=new Qv(S,12);d.push(C),c.add(new she(this._editors.original,C,v,!f))}{const S=Ut(this,y=>v.getHiddenModifiedRange(y).startLineNumber-1),C=new Qv(S,12);h.push(C),c.add(new she(this._editors.modified,C,v))}}else{{const S=Ut(this,y=>v.getHiddenOriginalRange(y).startLineNumber-1),C=new Qv(S,24);d.push(C),c.add(new ohe(this._editors.original,C,v,v.originalUnchangedRange,!f,u,y=>this._diffModel.get().ensureModifiedLineIsVisible(y,2,void 0),this._options))}{const S=Ut(this,y=>v.getHiddenModifiedRange(y).startLineNumber-1),C=new Qv(S,24);h.push(C),c.add(new ohe(this._editors.modified,C,v,v.modifiedUnchangedRange,!1,u,y=>this._diffModel.get().ensureModifiedLineIsVisible(y,2,void 0),this._options))}}}return{origViewZones:d,modViewZones:h}});const o={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},a={description:"Fold Unchanged",glyphMarginHoverMessage:new TAe(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(A("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+Ln.asClassName(tt.fold),zIndex:10001};this._register(lD(this._editors.original,Ut(this,l=>{const c=s.read(l),u=c.map(d=>({range:d.originalUnchangedRange.toInclusiveRange(),options:o}));for(const d of c)d.shouldHideControls(l)&&u.push({range:ce.fromPositions(new Ee(d.originalLineNumber,1)),options:a});return u}))),this._register(lD(this._editors.modified,Ut(this,l=>{const c=s.read(l),u=c.map(d=>({range:d.modifiedUnchangedRange.toInclusiveRange(),options:o}));for(const d of c)d.shouldHideControls(l)&&u.push({range:Rt.ofLength(d.modifiedLineNumber,1).toInclusiveRange(),options:a});return u}))),this._register(Un(l=>{const c=s.read(l);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(c.map(u=>u.getHiddenOriginalRange(l).toInclusiveRange()).filter(cC)),this._editors.modified.setHiddenAreas(c.map(u=>u.getHiddenModifiedRange(l).toInclusiveRange()).filter(cC))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(l=>{var c;if(!l.event.rightButton&&l.target.position&&((c=l.target.element)!=null&&c.className.includes("fold-unchanged"))){const u=l.target.position.lineNumber,d=this._diffModel.get();if(!d)return;const h=d.unchangedRegions.get().find(f=>f.modifiedUnchangedRange.includes(u));if(!h)return;h.collapseAll(void 0),l.event.stopPropagation(),l.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(l=>{var c;if(!l.event.rightButton&&l.target.position&&((c=l.target.element)!=null&&c.className.includes("fold-unchanged"))){const u=l.target.position.lineNumber,d=this._diffModel.get();if(!d)return;const h=d.unchangedRegions.get().find(f=>f.originalUnchangedRange.includes(u));if(!h)return;h.collapseAll(void 0),l.event.stopPropagation(),l.event.preventDefault()}}))}},xL=p_,p_._breadcrumbsSourceFactory=Nn(xL,()=>({dispose(){},getBreadcrumbItems(e,t){return[]}})),p_);wG=xL=q_t([X_t(3,oi)],wG);class she extends VX{constructor(e,t,i,r=!1){const s=Rn("div.diff-hidden-lines-widget");super(e,t,s.root),this._unchangedRegion=i,this._hide=r,this._nodes=Rn("div.diff-hidden-lines-compact",[Rn("div.line-left",[]),Rn("div.text@text",[]),Rn("div.line-right",[])]),s.root.appendChild(this._nodes.root),this._hide&&this._nodes.root.replaceChildren(),this._register(Un(o=>{if(!this._hide){const a=this._unchangedRegion.getHiddenModifiedRange(o).length,l=A("hiddenLines","{0} hidden lines",a);this._nodes.text.innerText=l}}))}}class ohe extends VX{constructor(e,t,i,r,s,o,a,l){const c=Rn("div.diff-hidden-lines-widget");super(e,t,c.root),this._editor=e,this._unchangedRegion=i,this._unchangedRegionRange=r,this._hide=s,this._modifiedOutlineSource=o,this._revealModifiedHiddenLine=a,this._options=l,this._nodes=Rn("div.diff-hidden-lines",[Rn("div.top@top",{title:A("diff.hiddenLines.top","Click or drag to show more above")}),Rn("div.center@content",{style:{display:"flex"}},[Rn("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[St("a",{title:A("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...Qm("$(unfold)"))]),Rn("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),Rn("div.bottom@bottom",{title:A("diff.bottom","Click or drag to show more below"),role:"button"})]),c.root.appendChild(this._nodes.root),this._hide?wo(this._nodes.first):this._register(ip(this._nodes.first,{width:lw(this._editor).layoutInfoContentLeft})),this._register(Un(d=>{const h=this._unchangedRegion.visibleLineCountTop.read(d)+this._unchangedRegion.visibleLineCountBottom.read(d)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!h),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(d)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(d)>0),this._nodes.top.classList.toggle("canMoveBottom",!h);const f=this._unchangedRegion.isDragged.read(d),m=this._editor.getDomNode();m&&(m.classList.toggle("draggingUnchangedRegion",!!f),f==="top"?(m.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(d)>0),m.classList.toggle("canMoveBottom",!h)):f==="bottom"?(m.classList.toggle("canMoveTop",!h),m.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(d)>0)):(m.classList.toggle("canMoveTop",!1),m.classList.toggle("canMoveBottom",!1)))}));const u=this._editor;this._register(we(this._nodes.top,"mousedown",d=>{if(d.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),d.preventDefault();const h=d.clientY;let f=!1;const m=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const g=ht(this._nodes.top),_=we(g,"mousemove",S=>{const y=S.clientY-h;f=f||Math.abs(y)>2;const b=Math.round(y/u.getOption(67)),w=Math.max(0,Math.min(m+b,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(w,void 0)}),v=we(g,"mouseup",S=>{f||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),_.dispose(),v.dispose()})})),this._register(we(this._nodes.bottom,"mousedown",d=>{if(d.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),d.preventDefault();const h=d.clientY;let f=!1;const m=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const g=ht(this._nodes.bottom),_=we(g,"mousemove",S=>{const y=S.clientY-h;f=f||Math.abs(y)>2;const b=Math.round(y/u.getOption(67)),w=Math.max(0,Math.min(m-b,this._unchangedRegion.getMaxVisibleLineCountBottom())),I=this._unchangedRegionRange.endLineNumberExclusive>u.getModel().getLineCount()?u.getContentHeight():u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(w,void 0);const O=this._unchangedRegionRange.endLineNumberExclusive>u.getModel().getLineCount()?u.getContentHeight():u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(O-I))}),v=we(g,"mouseup",S=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!f){const C=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const y=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(y-C))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),_.dispose(),v.dispose()})})),this._register(Un(d=>{const h=[];if(!this._hide){const f=i.getHiddenModifiedRange(d).length,m=A("hiddenLines","{0} hidden lines",f),g=St("span",{title:A("diff.hiddenLines.expandAll","Double click to unfold")},m);g.addEventListener("dblclick",S=>{S.button===0&&(S.preventDefault(),this._unchangedRegion.showAll(void 0))}),h.push(g);const _=this._unchangedRegion.getHiddenModifiedRange(d),v=this._modifiedOutlineSource.getBreadcrumbItems(_,d);if(v.length>0){h.push(St("span",void 0,"|"));for(let S=0;S<v.length;S++){const C=v[S],y=d7.toIcon(C.kind),b=Rn("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[ax(y),"",C.name,...S===v.length-1?[]:[ax(tt.chevronRight)]]).root;h.push(b),b.onclick=()=>{this._revealModifiedHiddenLine(C.startLineNumber)}}}}wo(this._nodes.others,...h)}))}}var Q_t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Z_t=function(n,e){return function(t,i){e(t,i,n)}},Fc,Uh;let cw=(Uh=class extends Ne{constructor(e,t,i,r,s,o,a){super(),this._editors=e,this._rootElement=t,this._diffModel=i,this._rootWidth=r,this._rootHeight=s,this._modifiedEditorLayoutInfo=o,this._themeService=a,this.width=Fc.ENTIRE_DIFF_OVERVIEW_WIDTH;const l=Qi(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),c=Ut(h=>{const f=l.read(h),m=f.getColor(Wnt)||(f.getColor(Hnt)||n8).transparent(2),g=f.getColor($nt)||(f.getColor(Vnt)||i8).transparent(2);return{insertColor:m,removeColor:g}}),u=Dn(document.createElement("div"));u.setClassName("diffViewport"),u.setPosition("absolute");const d=Rn("div.diffOverview",{style:{position:"absolute",top:"0px",width:Fc.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register(NT(d,u.domNode)),this._register(Qr(d,Ve.POINTER_DOWN,h=>{this._editors.modified.delegateVerticalScrollbarPointerDown(h)})),this._register(we(d,Ve.MOUSE_WHEEL,h=>{this._editors.modified.delegateScrollFromMouseWheelEvent(h)},{passive:!1})),this._register(NT(this._rootElement,d)),this._register(su((h,f)=>{const m=this._diffModel.read(h),g=this._editors.original.createOverviewRuler("original diffOverviewRuler");g&&(f.add(g),f.add(NT(d,g.getDomNode())));const _=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(_&&(f.add(_),f.add(NT(d,_.getDomNode()))),!g||!_)return;const v=El("viewZoneChanged",this._editors.original.onDidChangeViewZones),S=El("viewZoneChanged",this._editors.modified.onDidChangeViewZones),C=El("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),y=El("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);f.add(Un(b=>{var P;v.read(b),S.read(b),C.read(b),y.read(b);const w=c.read(b),I=(P=m==null?void 0:m.diff.read(b))==null?void 0:P.mappings;function O(M,W,F){const H=F._getViewModel();return H?M.filter(V=>V.length>0).map(V=>{const Y=H.coordinatesConverter.convertModelPositionToViewPosition(new Ee(V.startLineNumber,1)),$=H.coordinatesConverter.convertModelPositionToViewPosition(new Ee(V.endLineNumberExclusive,1)),K=$.lineNumber-Y.lineNumber;return new NIe(Y.lineNumber,$.lineNumber,K,W.toString())}):[]}const x=O((I||[]).map(M=>M.lineRangeMapping.original),w.removeColor,this._editors.original),k=O((I||[]).map(M=>M.lineRangeMapping.modified),w.insertColor,this._editors.modified);g==null||g.setZones(x),_==null||_.setZones(k)})),f.add(Un(b=>{const w=this._rootHeight.read(b),I=this._rootWidth.read(b),O=this._modifiedEditorLayoutInfo.read(b);if(O){const x=Fc.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Fc.ONE_OVERVIEW_WIDTH;g.setLayout({top:0,height:w,right:x+Fc.ONE_OVERVIEW_WIDTH,width:Fc.ONE_OVERVIEW_WIDTH}),_.setLayout({top:0,height:w,right:0,width:Fc.ONE_OVERVIEW_WIDTH});const k=this._editors.modifiedScrollTop.read(b),P=this._editors.modifiedScrollHeight.read(b),M=this._editors.modified.getOption(104),W=new bC(M.verticalHasArrows?M.arrowSize:0,M.verticalScrollbarSize,0,O.height,P,k);u.setTop(W.getSliderPosition()),u.setHeight(W.getSliderSize())}else u.setTop(0),u.setHeight(0);d.style.height=w+"px",d.style.left=I-Fc.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",u.setWidth(Fc.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}},Fc=Uh,Uh.ONE_OVERVIEW_WIDTH=15,Uh.ENTIRE_DIFF_OVERVIEW_WIDTH=Uh.ONE_OVERVIEW_WIDTH*2,Uh);cw=Fc=Q_t([Z_t(6,_c)],cw);const aV=[];class J_t extends Ne{constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._widget=r,this._selectedDiffs=Ut(this,s=>{const o=this._diffModel.read(s),a=o==null?void 0:o.diff.read(s);if(!a)return aV;const l=this._editors.modifiedSelections.read(s);if(l.every(h=>h.isEmpty()))return aV;const c=new _l(l.map(h=>Rt.fromRangeInclusive(h))),d=a.mappings.filter(h=>h.lineRangeMapping.innerChanges&&c.intersects(h.lineRangeMapping.modified)).map(h=>({mapping:h,rangeMappings:h.lineRangeMapping.innerChanges.filter(f=>l.some(m=>ce.areIntersecting(f.modifiedRange,m)))}));return d.length===0||d.every(h=>h.rangeMappings.length===0)?aV:d}),this._register(su((s,o)=>{if(!this._options.shouldRenderOldRevertArrows.read(s))return;const a=this._diffModel.read(s),l=a==null?void 0:a.diff.read(s);if(!a||!l||a.movedTextToCompare.read(s))return;const c=[],u=this._selectedDiffs.read(s),d=new Set(u.map(h=>h.mapping));if(u.length>0){const h=this._editors.modifiedSelections.read(s),f=o.add(new hD(h[h.length-1].positionLineNumber,this._widget,u.flatMap(m=>m.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(f),c.push(f)}for(const h of l.mappings)if(!d.has(h)&&!h.lineRangeMapping.modified.isEmpty&&h.lineRangeMapping.innerChanges){const f=o.add(new hD(h.lineRangeMapping.modified.startLineNumber,this._widget,h.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(f),c.push(f)}o.add(Ht(()=>{for(const h of c)this._editors.modified.removeGlyphMarginWidget(h)}))}))}}const sk=class sk extends Ne{getId(){return this._id}constructor(e,t,i,r){super(),this._lineNumber=e,this._widget=t,this._diffs=i,this._revertSelection=r,this._id=`revertButton${sk.counter++}`,this._domNode=Rn("div.revertButton",{title:this._revertSelection?A("revertSelectedChanges","Revert Selected Changes"):A("revertChange","Revert Change")},[ax(tt.arrowRight)]).root,this._register(we(this._domNode,Ve.MOUSE_DOWN,s=>{s.button!==2&&(s.stopPropagation(),s.preventDefault())})),this._register(we(this._domNode,Ve.MOUSE_UP,s=>{s.stopPropagation(),s.preventDefault()})),this._register(we(this._domNode,Ve.CLICK,s=>{this._diffs instanceof co?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),s.stopPropagation(),s.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:Qg.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}};sk.counter=0;let hD=sk;function Jd(n,e,t){const i=n.bindTo(e);return o2({debugName:()=>`Set Context Key "${n.key}"`},r=>{i.set(t(r))})}var eEt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ahe=function(n,e){return function(t,i){e(t,i,n)}};let AG=class extends Ne{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(e,t,i,r,s,o,a){super(),this.originalEditorElement=e,this.modifiedEditorElement=t,this._options=i,this._argCodeEditorWidgetOptions=r,this._createInnerEditor=s,this._instantiationService=o,this._keybindingService=a,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new ge),this.modifiedScrollTop=Qi(this,this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=Qi(this,this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedObs=lw(this.modified),this.originalObs=lw(this.original),this.modifiedModel=this.modifiedObs.model,this.modifiedSelections=Qi(this,this.modified.onDidChangeCursorSelection,()=>this.modified.getSelections()??[]),this.modifiedCursor=s2({owner:this,equalsFn:Ee.equals},l=>{var c;return((c=this.modifiedSelections.read(l)[0])==null?void 0:c.getPosition())??new Ee(1,1)}),this.originalCursor=Qi(this,this.original.onDidChangeCursorPosition,()=>this.original.getPosition()??new Ee(1,1)),this._argCodeEditorWidgetOptions=null,this._register(a2({createEmptyChangeSummary:()=>({}),handleChange:(l,c)=>(l.didChange(i.editorOptions)&&Object.assign(c,l.change.changedOptions),!0)},(l,c)=>{i.editorOptions.read(l),this._options.renderSideBySide.read(l),this.modified.updateOptions(this._adjustOptionsForRightHandSide(l,c)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(l,c))}))}_createLeftHandSideEditor(e,t){const i=this._adjustOptionsForLeftHandSide(void 0,e),r=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,i,t);return r.setContextValue("isInDiffLeftEditor",!0),r}_createRightHandSideEditor(e,t){const i=this._adjustOptionsForRightHandSide(void 0,e),r=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,i,t);return r.setContextValue("isInDiffRightEditor",!0),r}_constructInnerEditor(e,t,i,r){const s=this._createInnerEditor(e,t,i,r);return this._register(s.onDidContentSizeChange(o=>{const a=this.original.getContentWidth()+this.modified.getContentWidth()+cw.ENTIRE_DIFF_OVERVIEW_WIDTH,l=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:l,contentWidth:a,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),s}_adjustOptionsForLeftHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(i.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},i.wordWrapOverride1=this._options.diffWordWrap.get()):(i.wordWrapOverride1="off",i.wordWrapOverride2="off",i.stickyScroll={enabled:!1},i.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),i.glyphMargin=this._options.renderSideBySide.get(),t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.readOnly=!this._options.originalEditable.get(),i.dropIntoEditor={enabled:!i.readOnly},i.extraEditorClassName="original-in-monaco-diff-editor",i}_adjustOptionsForRightHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.wordWrapOverride1=this._options.diffWordWrap.get(),i.revealHorizontalRightPadding=J_.revealHorizontalRightPadding.defaultValue+cw.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",i}_adjustOptionsForSubEditor(e){const t={...e,dimension:{height:0,width:0}};return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar={...t.scrollbar||{}},t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap={...t.minimap||{}},t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(e){var i;e||(e="");const t=A("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(i=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))==null?void 0:i.getAriaLabel());return this._options.accessibilityVerbose.get()?e+t:e?e.replaceAll(t,""):""}};AG=eEt([ahe(5,oi),ahe(6,Rs)],AG);const ok=class ok extends Ne{constructor(){super(...arguments),this._id=++ok.idCounter,this._onDidDispose=this._register(new ge),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(e){return this._targetEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._targetEditor.getPosition()}setPosition(e,t="api"){this._targetEditor.setPosition(e,t)}revealLine(e,t=0){this._targetEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._targetEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._targetEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._targetEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._targetEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._targetEditor.revealPositionNearTop(e,t)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(e,t="api"){this._targetEditor.setSelection(e,t)}setSelections(e,t="api"){this._targetEditor.setSelections(e,t)}revealLines(e,t,i=0){this._targetEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._targetEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._targetEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,r=!0){this._targetEditor.revealRange(e,t,i,r)}revealRangeInCenter(e,t=0){this._targetEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._targetEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._targetEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(e,t,i){this._targetEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._targetEditor.createDecorationsCollection(e)}changeDecorations(e){return this._targetEditor.changeDecorations(e)}};ok.idCounter=0;let RG=ok;var tEt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},nEt=function(n,e){return function(t,i){e(t,i,n)}};let IG=class{get editorOptions(){return this._options}constructor(e,t){this._accessibilityService=t,this._diffEditorWidth=Nn(this,0),this._screenReaderMode=Qi(this,this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this.couldShowInlineViewBecauseOfSize=Ut(this,r=>this._options.read(r).renderSideBySide&&this._diffEditorWidth.read(r)<=this._options.read(r).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=Ut(this,r=>this._options.read(r).renderOverviewRuler),this.renderSideBySide=Ut(this,r=>this.compactMode.read(r)&&this.shouldRenderInlineViewInSmartMode.read(r)?!1:this._options.read(r).renderSideBySide&&!(this._options.read(r).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(r)&&!this._screenReaderMode.read(r))),this.readOnly=Ut(this,r=>this._options.read(r).readOnly),this.shouldRenderOldRevertArrows=Ut(this,r=>!(!this._options.read(r).renderMarginRevertIcon||!this.renderSideBySide.read(r)||this.readOnly.read(r)||this.shouldRenderGutterMenu.read(r))),this.shouldRenderGutterMenu=Ut(this,r=>this._options.read(r).renderGutterMenu),this.renderIndicators=Ut(this,r=>this._options.read(r).renderIndicators),this.enableSplitViewResizing=Ut(this,r=>this._options.read(r).enableSplitViewResizing),this.splitViewDefaultRatio=Ut(this,r=>this._options.read(r).splitViewDefaultRatio),this.ignoreTrimWhitespace=Ut(this,r=>this._options.read(r).ignoreTrimWhitespace),this.maxComputationTimeMs=Ut(this,r=>this._options.read(r).maxComputationTime),this.showMoves=Ut(this,r=>this._options.read(r).experimental.showMoves&&this.renderSideBySide.read(r)),this.isInEmbeddedEditor=Ut(this,r=>this._options.read(r).isInEmbeddedEditor),this.diffWordWrap=Ut(this,r=>this._options.read(r).diffWordWrap),this.originalEditable=Ut(this,r=>this._options.read(r).originalEditable),this.diffCodeLens=Ut(this,r=>this._options.read(r).diffCodeLens),this.accessibilityVerbose=Ut(this,r=>this._options.read(r).accessibilityVerbose),this.diffAlgorithm=Ut(this,r=>this._options.read(r).diffAlgorithm),this.showEmptyDecorations=Ut(this,r=>this._options.read(r).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=Ut(this,r=>this._options.read(r).onlyShowAccessibleDiffViewer),this.compactMode=Ut(this,r=>this._options.read(r).compactMode),this.trueInlineDiffRenderingEnabled=Ut(this,r=>this._options.read(r).experimental.useTrueInlineView),this.useTrueInlineDiffRendering=Ut(this,r=>!this.renderSideBySide.read(r)&&this.trueInlineDiffRenderingEnabled.read(r)),this.hideUnchangedRegions=Ut(this,r=>this._options.read(r).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=Ut(this,r=>this._options.read(r).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=Ut(this,r=>this._options.read(r).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=Ut(this,r=>this._options.read(r).hideUnchangedRegions.minimumLineCount),this._model=Nn(this,void 0),this.shouldRenderInlineViewInSmartMode=this._model.map(this,r=>eat(this,s=>{const o=r==null?void 0:r.diff.read(s);return o?iEt(o,this.trueInlineDiffRenderingEnabled.read(s)):void 0})).flatten().map(this,r=>!!r),this.inlineViewHideOriginalLineNumbers=this.compactMode;const i={...e,...lhe(e,_s)};this._options=Nn(this,i)}updateOptions(e){const t=lhe(e,this._options.get()),i={...this._options.get(),...e,...t};this._options.set(i,void 0,{changedOptions:e})}setWidth(e){this._diffEditorWidth.set(e,void 0)}setModel(e){this._model.set(e,void 0)}};IG=tEt([nEt(1,bu)],IG);function iEt(n,e){return n.mappings.every(t=>rEt(t.lineRangeMapping)||sEt(t.lineRangeMapping)||e&&YX(t.lineRangeMapping))}function rEt(n){return n.original.length===0}function sEt(n){return n.modified.length===0}function lhe(n,e){var t,i,r,s,o,a,l,c;return{enableSplitViewResizing:Je(n.enableSplitViewResizing,e.enableSplitViewResizing),splitViewDefaultRatio:Hqe(n.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:Je(n.renderSideBySide,e.renderSideBySide),renderMarginRevertIcon:Je(n.renderMarginRevertIcon,e.renderMarginRevertIcon),maxComputationTime:nm(n.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:nm(n.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:Je(n.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:Je(n.renderIndicators,e.renderIndicators),originalEditable:Je(n.originalEditable,e.originalEditable),diffCodeLens:Je(n.diffCodeLens,e.diffCodeLens),renderOverviewRuler:Je(n.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:$i(n.diffWordWrap,e.diffWordWrap,["off","on","inherit"]),diffAlgorithm:$i(n.diffAlgorithm,e.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:Je(n.accessibilityVerbose,e.accessibilityVerbose),experimental:{showMoves:Je((t=n.experimental)==null?void 0:t.showMoves,e.experimental.showMoves),showEmptyDecorations:Je((i=n.experimental)==null?void 0:i.showEmptyDecorations,e.experimental.showEmptyDecorations),useTrueInlineView:Je((r=n.experimental)==null?void 0:r.useTrueInlineView,e.experimental.useTrueInlineView)},hideUnchangedRegions:{enabled:Je(((s=n.hideUnchangedRegions)==null?void 0:s.enabled)??((o=n.experimental)==null?void 0:o.collapseUnchangedRegions),e.hideUnchangedRegions.enabled),contextLineCount:nm((a=n.hideUnchangedRegions)==null?void 0:a.contextLineCount,e.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:nm((l=n.hideUnchangedRegions)==null?void 0:l.minimumLineCount,e.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:nm((c=n.hideUnchangedRegions)==null?void 0:c.revealLineCount,e.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:Je(n.isInEmbeddedEditor,e.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:Je(n.onlyShowAccessibleDiffViewer,e.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:nm(n.renderSideBySideInlineBreakpoint,e.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:Je(n.useInlineViewWhenSpaceIsLimited,e.useInlineViewWhenSpaceIsLimited),renderGutterMenu:Je(n.renderGutterMenu,e.renderGutterMenu),compactMode:Je(n.compactMode,e.compactMode)}}var oEt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Zb=function(n,e){return function(t,i){e(t,i,n)}};let fD=class extends RG{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(e,t,i,r,s,o,a,l){super(),this._domElement=e,this._parentContextKeyService=r,this._parentInstantiationService=s,this._accessibilitySignalService=a,this._editorProgressService=l,this.elements=Rn("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[Rn("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),Rn("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),Rn("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModelSrc=this._register(FAe(this,void 0)),this._diffModel=Ut(this,y=>{var b;return(b=this._diffModelSrc.read(y))==null?void 0:b.object}),this.onDidChangeModel=Ue.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new Ry([qn,this._contextKeyService]))),this._boundarySashes=Nn(this,void 0),this._accessibleDiffViewerShouldBeVisible=Nn(this,!1),this._accessibleDiffViewerVisible=Ut(this,y=>this._options.onlyShowAccessibleDiffViewer.read(y)?!0:this._accessibleDiffViewerShouldBeVisible.read(y)),this._movedBlocksLinesPart=Nn(this,void 0),this._layoutInfo=Ut(this,y=>{var Y,$;const b=this._rootSizeObserver.width.read(y),w=this._rootSizeObserver.height.read(y);this._rootSizeObserver.automaticLayout?this.elements.root.style.height="100%":this.elements.root.style.height=w+"px";const I=this._sash.read(y),O=this._gutter.read(y),x=(O==null?void 0:O.width.read(y))??0,k=((Y=this._overviewRulerPart.read(y))==null?void 0:Y.width)??0;let P,M,W,F,H;if(!!I){const K=I.sashLeft.read(y),re=(($=this._movedBlocksLinesPart.read(y))==null?void 0:$.width.read(y))??0;P=0,M=K-x-re,H=K-x,W=K,F=b-W-k}else{H=0;const K=this._options.inlineViewHideOriginalLineNumbers.read(y);P=x,K?M=0:M=Math.max(5,this._editors.originalObs.layoutInfoDecorationsLeft.read(y)),W=x+M,F=b-W-k}return this.elements.original.style.left=P+"px",this.elements.original.style.width=M+"px",this._editors.original.layout({width:M,height:w},!0),O==null||O.layout(H),this.elements.modified.style.left=W+"px",this.elements.modified.style.width=F+"px",this._editors.modified.layout({width:F,height:w},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((y,b)=>y==null?void 0:y.diff.read(b)),this.onDidUpdateDiff=Ue.fromObservableLight(this._diffValue),o.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(Ht(()=>this.elements.root.remove())),this._rootSizeObserver=this._register(new kIe(this.elements.root,t.dimension)),this._rootSizeObserver.setAutomaticLayout(t.automaticLayout??!1),this._options=this._instantiationService.createInstance(IG,t),this._register(Un(y=>{this._options.setWidth(this._rootSizeObserver.width.read(y))})),this._contextKeyService.createKey(Ze.isEmbeddedDiffEditor.key,!1),this._register(Jd(Ze.isEmbeddedDiffEditor,this._contextKeyService,y=>this._options.isInEmbeddedEditor.read(y))),this._register(Jd(Ze.comparingMovedCode,this._contextKeyService,y=>{var b;return!!((b=this._diffModel.read(y))!=null&&b.movedTextToCompare.read(y))})),this._register(Jd(Ze.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,y=>this._options.couldShowInlineViewBecauseOfSize.read(y))),this._register(Jd(Ze.diffEditorInlineMode,this._contextKeyService,y=>!this._options.renderSideBySide.read(y))),this._register(Jd(Ze.hasChanges,this._contextKeyService,y=>{var b,w;return(((w=(b=this._diffModel.read(y))==null?void 0:b.diff.read(y))==null?void 0:w.mappings.length)??0)>0})),this._editors=this._register(this._instantiationService.createInstance(AG,this.elements.original,this.elements.modified,this._options,i,(y,b,w,I)=>this._createInnerEditor(y,b,w,I))),this._register(Jd(Ze.diffEditorOriginalWritable,this._contextKeyService,y=>this._options.originalEditable.read(y))),this._register(Jd(Ze.diffEditorModifiedWritable,this._contextKeyService,y=>!this._options.readOnly.read(y))),this._register(Jd(Ze.diffEditorOriginalUri,this._contextKeyService,y=>{var b;return((b=this._diffModel.read(y))==null?void 0:b.model.original.uri.toString())??""})),this._register(Jd(Ze.diffEditorModifiedUri,this._contextKeyService,y=>{var b;return((b=this._diffModel.read(y))==null?void 0:b.model.modified.uri.toString())??""})),this._overviewRulerPart=Vu(this,y=>this._options.renderOverviewRuler.read(y)?this._instantiationService.createInstance(Zl(cw,y),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(b=>b.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store);const c={height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((y,b)=>{var w;return y-(((w=this._overviewRulerPart.read(b))==null?void 0:w.width)??0)})};this._sashLayout=new z_t(this._options,c),this._sash=Vu(this,y=>{const b=this._options.renderSideBySide.read(y);return this.elements.root.classList.toggle("side-by-side",b),b?new VIe(this.elements.root,c,this._options.enableSplitViewResizing,this._boundarySashes,this._sashLayout.sashLeft,()=>this._sashLayout.resetSash()):void 0}).recomputeInitiallyAndOnChange(this._store);const u=Vu(this,y=>this._instantiationService.createInstance(Zl(wG,y),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);Vu(this,y=>this._instantiationService.createInstance(Zl(G_t,y),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const d=new Set,h=new Set;let f=!1;const m=Vu(this,y=>this._instantiationService.createInstance(Zl(SG,y),ht(this._domElement),this._editors,this._diffModel,this._options,this,()=>f||u.get().isUpdatingHiddenAreas,d,h)).recomputeInitiallyAndOnChange(this._store),g=Ut(this,y=>{const b=m.read(y).viewZones.read(y).orig,w=u.read(y).viewZones.read(y).origViewZones;return b.concat(w)}),_=Ut(this,y=>{const b=m.read(y).viewZones.read(y).mod,w=u.read(y).viewZones.read(y).modViewZones;return b.concat(w)});this._register(cD(this._editors.original,g,y=>{f=y},d));let v;this._register(cD(this._editors.modified,_,y=>{f=y,f?v=aD.capture(this._editors.modified):(v==null||v.restore(this._editors.modified),v=void 0)},h)),this._accessibleDiffViewer=Vu(this,y=>this._instantiationService.createInstance(Zl(Wm,y),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(b,w)=>this._accessibleDiffViewerShouldBeVisible.set(b,w),this._options.onlyShowAccessibleDiffViewer.map(b=>!b),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((b,w)=>{var I;return(I=b==null?void 0:b.diff.read(w))==null?void 0:I.mappings.map(O=>O.lineRangeMapping)}),new I_t(this._editors))).recomputeInitiallyAndOnChange(this._store);const S=this._accessibleDiffViewerVisible.map(y=>y?"hidden":"visible");this._register(ip(this.elements.modified,{visibility:S})),this._register(ip(this.elements.original,{visibility:S})),this._createDiffEditorContributions(),o.addDiffEditor(this),this._gutter=Vu(this,y=>this._options.shouldRenderGutterMenu.read(y)?this._instantiationService.createInstance(Zl(yG,y),this.elements.root,this._diffModel,this._editors,this._options,this._sashLayout,this._boundarySashes):void 0),this._register(c2(this._layoutInfo)),Vu(this,y=>new(Zl(YS,y))(this.elements.root,this._diffModel,this._layoutInfo.map(b=>b.originalEditor),this._layoutInfo.map(b=>b.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,y=>{this._movedBlocksLinesPart.set(y,void 0)}),this._register(Ue.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,y=>this._handleCursorPositionChange(y,!0))),this._register(Ue.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,y=>this._handleCursorPositionChange(y,!1)));const C=this._diffModel.map(this,(y,b)=>{if(y)return y.diff.read(b)===void 0&&!y.isDiffUpToDate.read(b)});this._register(su((y,b)=>{if(C.read(y)===!0){const w=this._editorProgressService.show(!0,1e3);b.add(Ht(()=>w.done()))}})),this._register(su((y,b)=>{b.add(new(Zl(J_t,y))(this._editors,this._diffModel,this._options,this))})),this._register(su((y,b)=>{const w=this._diffModel.read(y);if(w)for(const I of[w.model.original,w.model.modified])b.add(I.onWillDispose(O=>{hi(new Kn("TextModel got disposed before DiffEditorWidget model got reset")),this.setModel(null)}))})),this._register(Un(y=>{this._options.setModel(this._diffModel.read(y))}))}_createInnerEditor(e,t,i,r){return e.createInstance(oD,t,i,r)}_createDiffEditorContributions(){const e=IS.getDiffEditorContributions();for(const t of e)try{this._register(this._instantiationService.createInstance(t.ctor,this))}catch(i){hi(i)}}get _targetEditor(){return this._editors.modified}getEditorType(){return CX.IDiffEditor}layout(e){this._rootSizeObserver.observe(e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var i;const e=this._editors.original.saveViewState(),t=this._editors.modified.saveViewState();return{original:e,modified:t,modelState:(i=this._diffModel.get())==null?void 0:i.serializeState()}}restoreViewState(e){var t;if(e&&e.original&&e.modified){const i=e;this._editors.original.restoreViewState(i.original),this._editors.modified.restoreViewState(i.modified),i.modelState&&((t=this._diffModel.get())==null||t.restoreSerializedState(i.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(e){return this._instantiationService.createInstance(vG,e,this._options)}getModel(){var e;return((e=this._diffModel.get())==null?void 0:e.model)??null}setModel(e){const t=e?"model"in e?uD.create(e).createNewRef(this):uD.create(this.createViewModel(e),this):null;this.setDiffModel(t)}setDiffModel(e,t){const i=this._diffModel.get();!e&&i&&this._accessibleDiffViewer.get().close(),this._diffModel.get()!==(e==null?void 0:e.object)&&kq(t,r=>{var a;const s=e==null?void 0:e.object;Qi.batchEventsGlobally(r,()=>{this._editors.original.setModel(s?s.model.original:null),this._editors.modified.setModel(s?s.model.modified:null)});const o=(a=this._diffModelSrc.get())==null?void 0:a.createNewRef(this);this._diffModelSrc.set(e==null?void 0:e.createNewRef(this),r),setTimeout(()=>{o==null||o.dispose()},0)})}updateOptions(e){this._options.updateOptions(e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var t;const e=(t=this._diffModel.get())==null?void 0:t.diff.get();return e?aEt(e):null}revert(e){const t=this._diffModel.get();!t||!t.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:e.modified.toExclusiveRange(),text:t.model.original.getValueInRange(e.original.toExclusiveRange())}])}revertRangeMappings(e){const t=this._diffModel.get();if(!t||!t.isDiffUpToDate.get())return;const i=e.map(r=>({range:r.modifiedRange,text:t.model.original.getValueInRange(r.originalRange)}));this._editors.modified.executeEdits("diffEditor",i)}_goTo(e){this._editors.modified.setPosition(new Ee(e.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(e.lineRangeMapping.modified.toExclusiveRange())}goToDiff(e){var s,o;const t=(o=(s=this._diffModel.get())==null?void 0:s.diff.get())==null?void 0:o.mappings;if(!t||t.length===0)return;const i=this._editors.modified.getPosition().lineNumber;let r;e==="next"?r=t.find(a=>a.lineRangeMapping.modified.startLineNumber>i)??t[0]:r=qO(t,a=>a.lineRangeMapping.modified.startLineNumber<i)??t[t.length-1],this._goTo(r),r.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(Qu.diffLineDeleted,{source:"diffEditor.goToDiff"}):r.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(Qu.diffLineInserted,{source:"diffEditor.goToDiff"}):r&&this._accessibilitySignalService.playSignal(Qu.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const e=this._diffModel.get();e&&this.waitForDiff().then(()=>{var i;const t=(i=e.diff.get())==null?void 0:i.mappings;!t||t.length===0||this._goTo(t[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const e=this._diffModel.get();e&&await e.waitForDiff()}mapToOtherSide(){var o,a;const e=this._editors.modified.hasWidgetFocus(),t=e?this._editors.modified:this._editors.original,i=e?this._editors.original:this._editors.modified;let r;const s=t.getSelection();if(s){const l=(a=(o=this._diffModel.get())==null?void 0:o.diff.get())==null?void 0:a.mappings.map(c=>e?c.lineRangeMapping.flip():c.lineRangeMapping);if(l){const c=$de(s.getStartPosition(),l),u=$de(s.getEndPosition(),l);r=ce.plusRange(c,u)}}return{destination:i,destinationSelection:r}}switchSide(){const{destination:e,destinationSelection:t}=this.mapToOtherSide();e.focus(),t&&e.setSelection(t)}exitCompareMove(){const e=this._diffModel.get();e&&e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var t;const e=(t=this._diffModel.get())==null?void 0:t.unchangedRegions.get();e&&Pr(i=>{for(const r of e)r.collapseAll(i)})}showAllUnchangedRegions(){var t;const e=(t=this._diffModel.get())==null?void 0:t.unchangedRegions.get();e&&Pr(i=>{for(const r of e)r.showAll(i)})}_handleCursorPositionChange(e,t){var i,r;if((e==null?void 0:e.reason)===3){const s=(r=(i=this._diffModel.get())==null?void 0:i.diff.get())==null?void 0:r.mappings.find(o=>t?o.lineRangeMapping.modified.contains(e.position.lineNumber):o.lineRangeMapping.original.contains(e.position.lineNumber));s!=null&&s.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(Qu.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):s!=null&&s.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(Qu.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):s&&this._accessibilitySignalService.playSignal(Qu.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};fD=oEt([Zb(3,qn),Zb(4,oi),Zb(5,Fr),Zb(6,b2),Zb(7,xq)],fD);function aEt(n){return n.mappings.map(e=>{const t=e.lineRangeMapping;let i,r,s,o,a=t.innerChanges;return t.original.isEmpty?(i=t.original.startLineNumber-1,r=0,a=void 0):(i=t.original.startLineNumber,r=t.original.endLineNumberExclusive-1),t.modified.isEmpty?(s=t.modified.startLineNumber-1,o=0,a=void 0):(s=t.modified.startLineNumber,o=t.modified.endLineNumberExclusive-1),{originalStartLineNumber:i,originalEndLineNumber:r,modifiedStartLineNumber:s,modifiedEndLineNumber:o,charChanges:a==null?void 0:a.map(l=>({originalStartLineNumber:l.originalRange.startLineNumber,originalStartColumn:l.originalRange.startColumn,originalEndLineNumber:l.originalRange.endLineNumber,originalEndColumn:l.originalRange.endColumn,modifiedStartLineNumber:l.modifiedRange.startLineNumber,modifiedStartColumn:l.modifiedRange.startColumn,modifiedEndLineNumber:l.modifiedRange.endLineNumber,modifiedEndColumn:l.modifiedRange.endColumn}))}})}var qX=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},pi=function(n,e){return function(t,i){e(t,i,n)}};let lEt=0,che=!1;function cEt(n){if(!n){if(che)return;che=!0}$st(n||fi.document.body)}let gD=class extends oD{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f){const m={...t};m.ariaLabel=m.ariaLabel||A8.editorViewAccessibleLabel,super(e,m,{},i,r,s,o,c,u,d,h,f),l instanceof NC?this._standaloneKeybindingService=l:this._standaloneKeybindingService=null,cEt(m.ariaContainerElement),oat((g,_)=>i.createInstance(F1,g,_,{})),aat(a)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const r="DYNAMIC_"+ ++lEt,s=$n.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(r,e,t,s),r}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Ne.None;const t=e.id,i=e.label,r=$n.and($n.equals("editorId",this.getId()),$n.deserialize(e.precondition)),s=e.keybindings,o=$n.and(r,$n.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=(f,...m)=>Promise.resolve(e.run(this,...m)),u=new at,d=this.getId()+":"+t;if(u.add(na.registerCommand(d,c)),a){const f={command:{id:d,title:i},when:r,group:a,order:l};u.add(gC.appendMenuItem(bs.EditorContext,f))}if(Array.isArray(s))for(const f of s)u.add(this._standaloneKeybindingService.addDynamicKeybinding(d,f,c,o));const h=new LIe(d,i,i,void 0,r,(...f)=>Promise.resolve(e.run(this,...f)),this._contextKeyService);return this._actions.set(t,h),u.add(Ht(()=>{this._actions.delete(t)})),u}_triggerCommand(e,t){if(this._codeEditorService instanceof ex)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};gD=qX([pi(2,oi),pi(3,Fr),pi(4,el),pi(5,qn),pi(6,AA),pi(7,Rs),pi(8,_c),pi(9,yu),pi(10,bu),pi(11,Od),pi(12,gi)],gD);let NG=class extends gD{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f,m,g,_){const v={...t};Wx(d,v,!1);const S=c.registerEditorContainer(e);typeof v.theme=="string"&&c.setTheme(v.theme),typeof v.autoDetectHighContrast<"u"&&c.setAutoDetectHighContrast(!!v.autoDetectHighContrast);const C=v.model;delete v.model,super(e,v,i,r,s,o,a,l,c,u,h,g,_),this._configurationService=d,this._standaloneThemeService=c,this._register(S);let y;if(typeof C>"u"){const b=m.getLanguageIdByMimeType(v.language)||v.language||cc;y=zIe(f,m,v.value||"",b,void 0),this._ownsModel=!0}else y=C,this._ownsModel=!1;if(this._attachModel(y),y){const b={oldModelUrl:null,newModelUrl:y.uri};this._onDidChangeModel.fire(b)}}dispose(){super.dispose()}updateOptions(e){Wx(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};NG=qX([pi(2,oi),pi(3,Fr),pi(4,el),pi(5,qn),pi(6,AA),pi(7,Rs),pi(8,Ec),pi(9,yu),pi(10,Zi),pi(11,bu),pi(12,No),pi(13,Zr),pi(14,Od),pi(15,gi)],NG);let LG=class extends fD{constructor(e,t,i,r,s,o,a,l,c,u,d,h){const f={...t};Wx(l,f,!0);const m=o.registerEditorContainer(e);typeof f.theme=="string"&&o.setTheme(f.theme),typeof f.autoDetectHighContrast<"u"&&o.setAutoDetectHighContrast(!!f.autoDetectHighContrast),super(e,f,{},r,i,s,h,u),this._configurationService=l,this._standaloneThemeService=o,this._register(m)}dispose(){super.dispose()}updateOptions(e){Wx(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(gD,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};LG=qX([pi(2,oi),pi(3,qn),pi(4,Fr),pi(5,Ec),pi(6,yu),pi(7,Zi),pi(8,hf),pi(9,xq),pi(10,vX),pi(11,b2)],LG);function zIe(n,e,t,i,r){if(t=t||"",!i){const s=t.indexOf(`
`);let o=t;return s!==-1&&(o=t.substring(0,s)),uhe(n,t,e.createByFilepathOrFirstLine(r||null,o),r)}return uhe(n,t,e.createById(i),r)}function uhe(n,e,t,i){return n.createModel(e,t,i)}var uEt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},dhe=function(n,e){return function(t,i){e(t,i,n)}};class dEt{constructor(e,t){this.viewModel=e,this.deltaScrollVertical=t}getId(){return this.viewModel}}let pD=class extends Ne{constructor(e,t,i,r,s){super(),this._container=e,this._overflowWidgetsDomNode=t,this._workbenchUIElementFactory=i,this._instantiationService=r,this._viewModel=Nn(this,void 0),this._collapsed=Ut(this,l=>{var c;return(c=this._viewModel.read(l))==null?void 0:c.collapsed.read(l)}),this._editorContentHeight=Nn(this,500),this.contentHeight=Ut(this,l=>(this._collapsed.read(l)?0:this._editorContentHeight.read(l))+this._outerEditorHeight),this._modifiedContentWidth=Nn(this,0),this._modifiedWidth=Nn(this,0),this._originalContentWidth=Nn(this,0),this._originalWidth=Nn(this,0),this.maxScroll=Ut(this,l=>{const c=this._modifiedContentWidth.read(l)-this._modifiedWidth.read(l),u=this._originalContentWidth.read(l)-this._originalWidth.read(l);return c>u?{maxScroll:c,width:this._modifiedWidth.read(l)}:{maxScroll:u,width:this._originalWidth.read(l)}}),this._elements=Rn("div.multiDiffEntry",[Rn("div.header@header",[Rn("div.header-content",[Rn("div.collapse-button@collapseButton"),Rn("div.file-path",[Rn("div.title.modified.show-file-icons@primaryPath",[]),Rn("div.status.deleted@status",["R"]),Rn("div.title.original.show-file-icons@secondaryPath",[])]),Rn("div.actions@actions")])]),Rn("div.editorParent",[Rn("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(fD,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=lw(this.editor.getModifiedEditor()).isFocused,this.isOriginalFocused=lw(this.editor.getOriginalEditor()).isFocused,this.isFocused=Ut(this,l=>this.isModifedFocused.read(l)||this.isOriginalFocused.read(l)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=this._register(new at),this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const o=new l$(this._elements.collapseButton,{});this._register(Un(l=>{o.element.className="",o.icon=this._collapsed.read(l)?tt.chevronRight:tt.chevronDown})),this._register(o.onDidClick(()=>{var l;(l=this._viewModel.get())==null||l.collapsed.set(!this._collapsed.get(),void 0)})),this._register(Un(l=>{this._elements.editor.style.display=this._collapsed.read(l)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(l=>{const c=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(c,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(l=>{const c=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(c,void 0)})),this._register(this.editor.onDidContentSizeChange(l=>{bT(c=>{this._editorContentHeight.set(l.contentHeight,c),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),c),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),c)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(l=>{if(this._isSettingScrollTop||!l.scrollTopChanged||!this._data)return;const c=l.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(c)})),this._register(Un(l=>{var u;const c=(u=this._viewModel.read(l))==null?void 0:u.isActive.read(l);this._elements.root.classList.toggle("active",c)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._contextKeyService=this._register(s.createScoped(this._elements.actions));const a=this._register(this._instantiationService.createChild(new Ry([qn,this._contextKeyService])));this._register(a.createInstance(dD,this._elements.actions,bs.MultiDiffEditorFileToolbar,{actionRunner:this._register(new WIe(()=>{var l;return(l=this._viewModel.get())==null?void 0:l.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:l=>l.startsWith("navigation")},actionViewItemProvider:(l,c)=>Qat(a,l,c)}))}setScrollLeft(e){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(e):this.editor.getOriginalEditor().setScrollLeft(e)}setData(e){this._data=e;function t(r){return{...r,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}if(!e){bT(r=>{this._viewModel.set(void 0,r),this.editor.setDiffModel(null,r),this._dataStore.clear()});return}const i=e.viewModel.documentDiffItem;if(bT(r=>{var c,u;(c=this._resourceLabel)==null||c.setUri(e.viewModel.modifiedUri??e.viewModel.originalUri,{strikethrough:e.viewModel.modifiedUri===void 0});let s=!1,o=!1,a=!1,l="";e.viewModel.modifiedUri&&e.viewModel.originalUri&&e.viewModel.modifiedUri.path!==e.viewModel.originalUri.path?(l="R",s=!0):e.viewModel.modifiedUri?e.viewModel.originalUri||(l="A",a=!0):(l="D",o=!0),this._elements.status.classList.toggle("renamed",s),this._elements.status.classList.toggle("deleted",o),this._elements.status.classList.toggle("added",a),this._elements.status.innerText=l,(u=this._resourceLabel2)==null||u.setUri(s?e.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(e.viewModel,r),this.editor.setDiffModel(e.viewModel.diffEditorViewModelRef,r),this.editor.updateOptions(t(i.options??{}))}),i.onOptionsDidChange&&this._dataStore.add(i.onOptionsDidChange(()=>{this.editor.updateOptions(t(i.options??{}))})),e.viewModel.isAlive.recomputeInitiallyAndOnChange(this._dataStore,r=>{r||this.setData(void 0)}),e.viewModel.documentDiffItem.contextKeys)for(const[r,s]of Object.entries(e.viewModel.documentDiffItem.contextKeys))this._contextKeyService.createKey(r,s)}render(e,t,i,r){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${e.start}px`,this._elements.root.style.height=`${e.length}px`,this._elements.root.style.width=`${t}px`,this._elements.root.style.position="absolute";const s=e.length-this._headerHeight,o=Math.max(0,Math.min(r.start-e.start,s));this._elements.header.style.transform=`translateY(${o}px)`,bT(a=>{this.editor.layout({width:t-2*8-2*1,height:e.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=i,this.editor.getOriginalEditor().setScrollTop(i)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",o>0||i>0),this._elements.header.classList.toggle("collapsed",o===s)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};pD=uEt([dhe(3,oi),dhe(4,qn)],pD);class hEt{constructor(e){this._create=e,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(e){let t;if(this._unused.size===0)t=this._create(e),this._itemData.set(t,e);else{const i=[...this._unused.values()];t=i.find(r=>this._itemData.get(r).getId()===e.getId())??i[0],this._unused.delete(t),this._itemData.set(t,e),t.setData(e)}return this._used.add(t),{object:t,dispose:()=>{this._used.delete(t),this._unused.size>5?t.dispose():this._unused.add(t)}}}dispose(){for(const e of this._used)e.dispose();for(const e of this._unused)e.dispose();this._used.clear(),this._unused.clear()}}var fEt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},hhe=function(n,e){return function(t,i){e(t,i,n)}};let OG=class extends Ne{constructor(e,t,i,r,s,o){super(),this._element=e,this._dimension=t,this._viewModel=i,this._workbenchUIElementFactory=r,this._parentContextKeyService=s,this._parentInstantiationService=o,this._scrollableElements=Rn("div.scrollContent",[Rn("div@content",{style:{overflow:"hidden"}}),Rn("div.monaco-editor@overflowWidgetsDomNode",{})]),this._scrollable=this._register(new yy({forceIntegerValues:!1,scheduleAtNextAnimationFrame:l=>wa(ht(this._element),l),smoothScrollDuration:100})),this._scrollableElement=this._register(new e2(this._scrollableElements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this._elements=Rn("div.monaco-component.multiDiffEditor",{},[Rn("div",{},[this._scrollableElement.getDomNode()]),Rn("div.placeholder@placeholder",{},[Rn("div",[A("noChangedFiles","No Changed Files")])])]),this._sizeObserver=this._register(new kIe(this._element,void 0)),this._objectPool=this._register(new hEt(l=>{const c=this._instantiationService.createInstance(pD,this._scrollableElements.content,this._scrollableElements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return c.setData(l),c})),this.scrollTop=Qi(this,this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=Qi(this,this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItemsInfo=Ty(this,(l,c)=>{const u=this._viewModel.read(l);if(!u)return{items:[],getItem:m=>{throw new Kn}};const d=u.items.read(l),h=new Map;return{items:d.map(m=>{var v;const g=c.add(new gEt(m,this._objectPool,this.scrollLeft,S=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+S})})),_=(v=this._lastDocStates)==null?void 0:v[g.getKey()];return _&&Pr(S=>{g.setViewState(_,S)}),h.set(m,g),g}),getItem:m=>h.get(m)}}),this._viewItems=this._viewItemsInfo.map(this,l=>l.items),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(l,c)=>l.reduce((u,d)=>u+d.contentHeight.read(c)+this._spaceBetweenPx,0)),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new Ry([qn,this._contextKeyService]))),this._lastDocStates={},this._contextKeyService.createKey(Ze.inMultiDiffEditor.key,!0),this._register(su((l,c)=>{const u=this._viewModel.read(l);if(u&&u.contextKeys)for(const[d,h]of Object.entries(u.contextKeys)){const f=this._contextKeyService.createKey(d,void 0);f.set(h),c.add(Ht(()=>f.reset()))}}));const a=this._parentContextKeyService.createKey(Ze.multiDiffEditorAllCollapsed.key,!1);this._register(Un(l=>{const c=this._viewModel.read(l);if(c){const u=c.items.read(l).every(d=>d.collapsed.read(l));a.set(u)}})),this._register(Un(l=>{const c=this._dimension.read(l);this._sizeObserver.observe(c)})),this._register(Un(l=>{const c=this._viewItems.read(l);this._elements.placeholder.classList.toggle("visible",c.length===0)})),this._scrollableElements.content.style.position="relative",this._register(Un(l=>{const c=this._sizeObserver.height.read(l);this._scrollableElements.root.style.height=`${c}px`;const u=this._totalHeight.read(l);this._scrollableElements.content.style.height=`${u}px`;const d=this._sizeObserver.width.read(l);let h=d;const f=this._viewItems.read(l),m=Ewe(f,lc(g=>g.maxScroll.read(l).maxScroll,Lg));if(m){const g=m.maxScroll.read(l);h=d+g.maxScroll}this._scrollableElement.setScrollDimensions({width:d,height:c,scrollHeight:u,scrollWidth:h})})),e.replaceChildren(this._elements.root),this._register(Ht(()=>{e.replaceChildren()})),this._register(this._register(Un(l=>{bT(c=>{this.render(l)})})))}render(e){const t=this.scrollTop.read(e);let i=0,r=0,s=0;const o=this._sizeObserver.height.read(e),a=jt.ofStartAndLength(t,o),l=this._sizeObserver.width.read(e);for(const c of this._viewItems.read(e)){const u=c.contentHeight.read(e),d=Math.min(u,o),h=jt.ofStartAndLength(r,d),f=jt.ofStartAndLength(s,u);if(f.isBefore(a))i-=u-d,c.hide();else if(f.isAfter(a))c.hide();else{const m=Math.max(0,Math.min(a.start-f.start,u-d));i-=m;const g=jt.ofStartAndLength(t+i,o);c.render(h,m,l,g)}r+=d+this._spaceBetweenPx,s+=u+this._spaceBetweenPx}this._scrollableElements.content.style.transform=`translateY(${-(t+i)}px)`}};OG=fEt([hhe(4,qn),hhe(5,oi)],OG);class gEt extends Ne{constructor(e,t,i,r){super(),this.viewModel=e,this._objectPool=t,this._scrollLeft=i,this._deltaScrollVertical=r,this._templateRef=this._register(FAe(this,void 0)),this.contentHeight=Ut(this,s=>{var o,a;return((a=(o=this._templateRef.read(s))==null?void 0:o.object.contentHeight)==null?void 0:a.read(s))??this.viewModel.lastTemplateData.read(s).contentHeight}),this.maxScroll=Ut(this,s=>{var o;return((o=this._templateRef.read(s))==null?void 0:o.object.maxScroll.read(s))??{maxScroll:0,scrollWidth:0}}),this.template=Ut(this,s=>{var o;return(o=this._templateRef.read(s))==null?void 0:o.object}),this._isHidden=Nn(this,!1),this._isFocused=Ut(this,s=>{var o;return((o=this.template.read(s))==null?void 0:o.isFocused.read(s))??!1}),this.viewModel.setIsFocused(this._isFocused,void 0),this._register(Un(s=>{var a;const o=this._scrollLeft.read(s);(a=this._templateRef.read(s))==null||a.object.setScrollLeft(o)})),this._register(Un(s=>{const o=this._templateRef.read(s);!o||!this._isHidden.read(s)||o.object.isFocused.read(s)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var e;return`VirtualViewItem(${(e=this.viewModel.documentDiffItem.modified)==null?void 0:e.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(e,t){var o;this.viewModel.collapsed.set(e.collapsed,t),this._updateTemplateData(t);const i=this.viewModel.lastTemplateData.get(),r=(o=e.selections)==null?void 0:o.map(vn.liftSelection);this.viewModel.lastTemplateData.set({...i,selections:r},t);const s=this._templateRef.get();s&&r&&s.object.editor.setSelections(r)}_updateTemplateData(e){const t=this._templateRef.get();t&&this.viewModel.lastTemplateData.set({contentHeight:t.object.contentHeight.get(),selections:t.object.editor.getSelections()??void 0},e)}_clear(){const e=this._templateRef.get();e&&Pr(t=>{this._updateTemplateData(t),e.object.hide(),this._templateRef.set(void 0,t)})}hide(){this._isHidden.set(!0,void 0)}render(e,t,i,r){this._isHidden.set(!1,void 0);let s=this._templateRef.get();if(!s){s=this._objectPool.getUnusedObj(new dEt(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(s,void 0);const o=this.viewModel.lastTemplateData.get().selections;o&&s.object.editor.setSelections(o)}s.object.render(e,i,t,r)}}ie("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},A("multiDiffEditor.headerBackground","The background color of the diff editor's header"));ie("multiDiffEditor.background",gu,A("multiDiffEditor.background","The background color of the multi file diff editor"));ie("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},A("multiDiffEditor.border","The border color of the multi file diff editor"));var pEt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mEt=function(n,e){return function(t,i){e(t,i,n)}};let xG=class extends Ne{constructor(e,t,i){super(),this._element=e,this._workbenchUIElementFactory=t,this._instantiationService=i,this._dimension=Nn(this,void 0),this._viewModel=Nn(this,void 0),this._widgetImpl=Ty(this,(r,s)=>(Zl(pD,r),s.add(this._instantiationService.createInstance(Zl(OG,r),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register(c2(this._widgetImpl))}};xG=pEt([mEt(2,oi)],xG);function _Et(n,e,t){return gt.initialize(t||{}).createInstance(NG,n,e)}function EEt(n){return gt.get(Fr).onCodeEditorAdd(t=>{n(t)})}function vEt(n){return gt.get(Fr).onDiffEditorAdd(t=>{n(t)})}function SEt(){return gt.get(Fr).listCodeEditors()}function CEt(){return gt.get(Fr).listDiffEditors()}function yEt(n,e,t){return gt.initialize(t||{}).createInstance(LG,n,e)}function bEt(n,e){const t=gt.initialize(e||{});return new xG(n,{},t)}function TEt(n){if(typeof n.id!="string"||typeof n.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return na.registerCommand(n.id,n.run)}function wEt(n){if(typeof n.id!="string"||typeof n.label!="string"||typeof n.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const e=$n.deserialize(n.precondition),t=(r,...s)=>O_.runEditorCommand(r,s,e,(o,a,l)=>Promise.resolve(n.run(a,...l))),i=new at;if(i.add(na.registerCommand(n.id,t)),n.contextMenuGroupId){const r={command:{id:n.id,title:n.label},when:e,group:n.contextMenuGroupId,order:n.contextMenuOrder||0};i.add(gC.appendMenuItem(bs.EditorContext,r))}if(Array.isArray(n.keybindings)){const r=gt.get(Rs);if(!(r instanceof NC))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const s=$n.and(e,$n.deserialize(n.keybindingContext));i.add(r.addDynamicKeybindings(n.keybindings.map(o=>({keybinding:o,command:n.id,when:s}))))}}return i}function AEt(n){return jIe([n])}function jIe(n){const e=gt.get(Rs);return e instanceof NC?e.addDynamicKeybindings(n.map(t=>({keybinding:t.keybinding,command:t.command,commandArgs:t.commandArgs,when:$n.deserialize(t.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Ne.None)}function REt(n,e,t){const i=gt.get(Zr),r=i.getLanguageIdByMimeType(e)||e;return zIe(gt.get(No),i,n,r,t)}function IEt(n,e){const t=gt.get(Zr),i=t.getLanguageIdByMimeType(e)||e||cc;n.setLanguage(t.createById(i))}function NEt(n,e,t){n&&gt.get(dE).changeOne(e,n.uri,t)}function LEt(n){gt.get(dE).changeAll(n,[])}function OEt(n){return gt.get(dE).read(n)}function xEt(n){return gt.get(dE).onMarkerChanged(n)}function DEt(n){return gt.get(No).getModel(n)}function PEt(){return gt.get(No).getModels()}function kEt(n){return gt.get(No).onModelAdded(n)}function MEt(n){return gt.get(No).onModelRemoved(n)}function FEt(n){return gt.get(No).onModelLanguageChanged(t=>{n({model:t.model,oldLanguage:t.oldLanguageId})})}function BEt(n){return _ft(gt.get(No),n)}function UEt(n,e){const t=gt.get(Zr),i=gt.get(Ec);return TX.colorizeElement(i,t,n,e).then(()=>{i.registerEditorContainer(n)})}function HEt(n,e,t){const i=gt.get(Zr);return gt.get(Ec).registerEditorContainer(fi.document.body),TX.colorize(i,n,e,t)}function VEt(n,e,t=4){return gt.get(Ec).registerEditorContainer(fi.document.body),TX.colorizeModelLine(n,e,t)}function WEt(n){const e=gr.get(n);return e||{getInitialState:()=>U1,tokenize:(t,i,r)=>NAe(n,r)}}function $Et(n,e){gr.getOrCreate(e);const t=WEt(e),i=Sy(n),r=[];let s=t.getInitialState();for(let o=0,a=i.length;o<a;o++){const l=i[o],c=t.tokenize(l,!0,s);r[o]=c.tokens,s=c.endState}return r}function GEt(n,e){gt.get(Ec).defineTheme(n,e)}function zEt(n){gt.get(Ec).setTheme(n)}function jEt(){w6.clearAllFontInfos()}function YEt(n,e){return na.registerCommand({id:n,handler:e})}function KEt(n){return gt.get(IA).registerOpener({async open(t){return typeof t=="string"&&(t=en.parse(t)),n.open(t)}})}function qEt(n){return gt.get(Fr).registerCodeEditorOpenHandler(async(t,i,r)=>{var a;if(!i)return null;const s=(a=t.options)==null?void 0:a.selection;let o;return s&&typeof s.endLineNumber=="number"&&typeof s.endColumn=="number"?o=s:s&&(o={lineNumber:s.startLineNumber,column:s.startColumn}),await n.openCodeEditor(i,t.resource,o)?i:null})}function XEt(){return{create:_Et,getEditors:SEt,getDiffEditors:CEt,onDidCreateEditor:EEt,onDidCreateDiffEditor:vEt,createDiffEditor:yEt,addCommand:TEt,addEditorAction:wEt,addKeybindingRule:AEt,addKeybindingRules:jIe,createModel:REt,setModelLanguage:IEt,setModelMarkers:NEt,getModelMarkers:OEt,removeAllMarkers:LEt,onDidChangeMarkers:xEt,getModels:PEt,getModel:DEt,onDidCreateModel:kEt,onWillDisposeModel:MEt,onDidChangeModelLanguage:FEt,createWebWorker:BEt,colorizeElement:UEt,colorize:HEt,colorizeModelLine:VEt,tokenize:$Et,defineTheme:GEt,setTheme:zEt,remeasureFonts:jEt,registerCommand:YEt,registerLinkOpener:KEt,registerEditorOpener:qEt,AccessibilitySupport:g7,ContentWidgetPositionPreference:S7,CursorChangeReason:C7,DefaultEndOfLine:y7,EditorAutoIndentStrategy:T7,EditorOption:w7,EndOfLinePreference:A7,EndOfLineSequence:R7,MinimapPosition:B7,MinimapSectionHeaderStyle:U7,MouseTargetType:H7,OverlayWidgetPositionPreference:$7,OverviewRulerLane:G7,GlyphMarginLane:I7,RenderLineNumbersType:Y7,RenderMinimap:K7,ScrollbarVisibility:X7,ScrollType:q7,TextEditorCursorBlinkingStyle:n6,TextEditorCursorStyle:i6,TrackedRangeStickiness:r6,WrappingIndent:s6,InjectedTextCursorStops:O7,PositionAffinity:j7,ShowLightbulbIconMode:Z7,ConfigurationChangedEvent:Q0e,BareFontInfo:Xm,FontInfo:T6,TextModelResolvedOptions:dL,FindMatch:x1,ApplyUpdateResult:zT,EditorZoom:sg,createMultiFileDiffEditor:bEt,EditorType:CX,EditorOptions:J_}}function QEt(n,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!n(t))return!1;return!0}function AN(n,e){return typeof n=="boolean"?n:e}function fhe(n,e){return typeof n=="string"?n:e}function ZEt(n){const e={};for(const t of n)e[t]=!0;return e}function ghe(n,e=!1){e&&(n=n.map(function(i){return i.toLowerCase()}));const t=ZEt(n);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function DG(n,e,t){e=e.replace(/@@/g,"");let i=0,r;do r=!1,e=e.replace(/@(\w+)/g,function(o,a){r=!0;let l="";if(typeof n[a]=="string")l=n[a];else if(n[a]&&n[a]instanceof RegExp)l=n[a].source;else throw n[a]===void 0?bi(n,"language definition does not contain attribute '"+a+"', used at: "+e):bi(n,"attribute reference '"+a+"' must be a string, used at: "+e);return bm(l)?"":"(?:"+l+")"}),i++;while(r&&i<5);e=e.replace(/\x01/g,"@");const s=(n.ignoreCase?"i":"")+(n.unicode?"u":"");if(t&&e.match(/\$[sS](\d\d?)/g)){let a=null,l=null;return c=>(l&&a===c||(a=c,l=new RegExp(Mft(n,e,c),s)),l)}return new RegExp(e,s)}function JEt(n,e,t,i){if(i<0)return n;if(i<e.length)return e[i];if(i>=100){i=i-100;const r=t.split(".");if(r.unshift(t),i<r.length)return r[i]}return null}function evt(n,e,t,i){let r=-1,s=t,o=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(r=parseInt(o[3]),o[2]&&(r=r+100)),s=o[4]);let a="~",l=s;!s||s.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(o=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(a=o[1],l=o[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){const u=ghe(l.split("|"),n.ignoreCase);c=function(d){return a==="~"?u(d):!u(d)}}else if(a==="@"||a==="!@"){const u=n[l];if(!u)throw bi(n,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!QEt(function(h){return typeof h=="string"},u))throw bi(n,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);const d=ghe(u,n.ignoreCase);c=function(h){return a==="@"?d(h):!d(h)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){const u=DG(n,"^"+l+"$",!1);c=function(d){return a==="~"?u.test(d):!u.test(d)}}else c=function(u,d,h,f){return DG(n,"^"+lg(n,l,d,h,f)+"$",!1).test(u)};else if(l.indexOf("$")<0){const u=jh(n,l);c=function(d){return a==="=="?d===u:d!==u}}else{const u=jh(n,l);c=function(d,h,f,m,g){const _=lg(n,u,h,f,m);return a==="=="?d===_:d!==_}}return r===-1?{name:t,value:i,test:function(u,d,h,f){return c(u,u,d,h,f)}}:{name:t,value:i,test:function(u,d,h,f){const m=JEt(u,d,h,r);return c(m||"",u,d,h,f)}}}function PG(n,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw bi(n,"a 'token' attribute must be of type string, in rule: "+e);{const i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw bi(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw bi(n,"the next state must be a string value in rule: "+e);{let r=t.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!Fft(n,lg(n,r,"",[],""))))throw bi(n,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=r}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,n.usesEmbedded=!0),i}}else if(Array.isArray(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=PG(n,e,t[r]);return{group:i}}else if(t.cases){const i=[];for(const s in t.cases)if(t.cases.hasOwnProperty(s)){const o=PG(n,e,t.cases[s]);s==="@default"||s==="@"||s===""?i.push({test:void 0,value:o,name:s}):s==="@eos"?i.push({test:function(a,l,c,u){return u},value:o,name:s}):i.push(evt(n,e,s,o))}const r=n.defaultToken;return{test:function(s,o,a,l){for(const c of i)if(!c.test||c.test(s,o,a,l))return c.value;return r}}}else throw bi(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}class tvt{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw bi(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=DG(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")",!0)}setAction(e,t){this.action=PG(e,this.name,t)}resolveRegex(e){return this.regex instanceof RegExp?this.regex:this.regex(e)}}function YIe(n,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");const t={languageId:n,includeLF:AN(e.includeLF,!1),noThrow:!1,maxStack:100,start:typeof e.start=="string"?e.start:null,ignoreCase:AN(e.ignoreCase,!1),unicode:AN(e.unicode,!1),tokenPostfix:fhe(e.tokenPostfix,"."+n),defaultToken:fhe(e.defaultToken,"source"),usesEmbedded:!1,stateNames:{},tokenizer:{},brackets:[]},i=e;i.languageId=n,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function r(o,a,l){for(const c of l){let u=c.include;if(u){if(typeof u!="string")throw bi(t,"an 'include' attribute must be a string at: "+o);if(u[0]==="@"&&(u=u.substr(1)),!e.tokenizer[u])throw bi(t,"include target '"+u+"' is not defined at: "+o);r(o+"."+u,a,e.tokenizer[u])}else{const d=new tvt(o);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(d.setRegex(i,c[0]),c.length>=3)if(typeof c[1]=="string")d.setAction(i,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){const h=c[1];h.next=c[2],d.setAction(i,h)}else throw bi(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else d.setAction(i,c[1]);else{if(!c.regex)throw bi(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);c.name&&typeof c.name=="string"&&(d.name=c.name),c.matchOnlyAtStart&&(d.matchOnlyAtLineStart=AN(c.matchOnlyAtLineStart,!1)),d.setRegex(i,c.regex),d.setAction(i,c.action)}a.push(d)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw bi(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(const o in e.tokenizer)if(e.tokenizer.hasOwnProperty(o)){t.start||(t.start=o);const a=e.tokenizer[o];t.tokenizer[o]=new Array,r("tokenizer."+o,t.tokenizer[o],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw bi(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const s=[];for(const o of e.brackets){let a=o;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw bi(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")s.push({token:a.token+t.tokenPostfix,open:jh(t,a.open),close:jh(t,a.close)});else throw bi(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=s,t.noThrow=!0,t}function nvt(n){pC.registerLanguage(n)}function ivt(){let n=[];return n=n.concat(pC.getLanguages()),n}function rvt(n){return gt.get(Zr).languageIdCodec.encodeLanguageId(n)}function svt(n,e){return gt.withServices(()=>{const i=gt.get(Zr).onDidRequestRichLanguageFeatures(r=>{r===n&&(i.dispose(),e())});return i})}function ovt(n,e){return gt.withServices(()=>{const i=gt.get(Zr).onDidRequestBasicLanguageFeatures(r=>{r===n&&(i.dispose(),e())});return i})}function avt(n,e){if(!gt.get(Zr).isRegisteredLanguageId(n))throw new Error(`Cannot set configuration for unknown language ${n}`);return gt.get(Od).register(n,e,100)}class lvt{constructor(e,t){this._languageId=e,this._actual=t}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if(typeof this._actual.tokenize=="function")return uw.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const r=this._actual.tokenizeEncoded(e,i);return new NM(r.tokens,r.endState)}}class uw{constructor(e,t,i,r){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=r}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let r=0;for(let s=0,o=e.length;s<o;s++){const a=e[s];let l=a.startIndex;s===0?l=0:l<r&&(l=r),i[s]=new w1(l,a.scopes,t),r=l}return i}static adaptTokenize(e,t,i,r){const s=t.tokenize(i,r),o=uw._toClassicTokens(s.tokens,e);let a;return s.endState.equals(r)?a=r:a=s.endState,new xK(o,a)}tokenize(e,t,i){return uw.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),r=this._standaloneThemeService.getColorTheme().tokenTheme,s=[];let o=0,a=0;for(let c=0,u=t.length;c<u;c++){const d=t[c],h=r.match(i,d.scopes)|1024;if(o>0&&s[o-1]===h)continue;let f=d.startIndex;c===0?f=0:f<a&&(f=a),s[o++]=f,s[o++]=h,a=f}const l=new Uint32Array(o);for(let c=0;c<o;c++)l[c]=s[c];return l}tokenizeEncoded(e,t,i){const r=this._actual.tokenize(e,i),s=this._toBinaryTokens(this._languageService.languageIdCodec,r.tokens);let o;return r.endState.equals(i)?o=i:o=r.endState,new NM(s,o)}}function cvt(n){return typeof n.getInitialState=="function"}function uvt(n){return"tokenizeEncoded"in n}function KIe(n){return n&&typeof n.then=="function"}function dvt(n){const e=gt.get(Ec);if(n){const t=[null];for(let i=1,r=n.length;i<r;i++)t[i]=Me.fromHex(n[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function qIe(n,e){return uvt(e)?new lvt(n,e):new uw(n,e,gt.get(Zr),gt.get(Ec))}function XX(n,e){const t=new EQe(async()=>{const i=await Promise.resolve(e.create());return i?cvt(i)?qIe(n,i):new nw(gt.get(Zr),gt.get(Ec),n,YIe(n,i),gt.get(Zi)):null});return gr.registerFactory(n,t)}function hvt(n,e){if(!gt.get(Zr).isRegisteredLanguageId(n))throw new Error(`Cannot set tokens provider for unknown language ${n}`);return KIe(e)?XX(n,{create:()=>e}):gr.register(n,qIe(n,e))}function fvt(n,e){const t=i=>new nw(gt.get(Zr),gt.get(Ec),n,YIe(n,i),gt.get(Zi));return KIe(e)?XX(n,{create:()=>e}):gr.register(n,t(e))}function gvt(n,e){return gt.get(gi).referenceProvider.register(n,e)}function pvt(n,e){return gt.get(gi).renameProvider.register(n,e)}function mvt(n,e){return gt.get(gi).newSymbolNamesProvider.register(n,e)}function _vt(n,e){return gt.get(gi).signatureHelpProvider.register(n,e)}function Evt(n,e){return gt.get(gi).hoverProvider.register(n,{provideHover:async(i,r,s,o)=>{const a=i.getWordAtPosition(r);return Promise.resolve(e.provideHover(i,r,s,o)).then(l=>{if(l)return!l.range&&a&&(l.range=new ce(r.lineNumber,a.startColumn,r.lineNumber,a.endColumn)),l.range||(l.range=new ce(r.lineNumber,r.column,r.lineNumber,r.column)),l})}})}function vvt(n,e){return gt.get(gi).documentSymbolProvider.register(n,e)}function Svt(n,e){return gt.get(gi).documentHighlightProvider.register(n,e)}function Cvt(n,e){return gt.get(gi).linkedEditingRangeProvider.register(n,e)}function yvt(n,e){return gt.get(gi).definitionProvider.register(n,e)}function bvt(n,e){return gt.get(gi).implementationProvider.register(n,e)}function Tvt(n,e){return gt.get(gi).typeDefinitionProvider.register(n,e)}function wvt(n,e){return gt.get(gi).codeLensProvider.register(n,e)}function Avt(n,e,t){return gt.get(gi).codeActionProvider.register(n,{providedCodeActionKinds:t==null?void 0:t.providedCodeActionKinds,documentation:t==null?void 0:t.documentation,provideCodeActions:(r,s,o,a)=>{const c=gt.get(dE).read({resource:r.uri}).filter(u=>ce.areIntersectingOrTouching(u,s));return e.provideCodeActions(r,s,{markers:c,only:o.only,trigger:o.trigger},a)},resolveCodeAction:e.resolveCodeAction})}function Rvt(n,e){return gt.get(gi).documentFormattingEditProvider.register(n,e)}function Ivt(n,e){return gt.get(gi).documentRangeFormattingEditProvider.register(n,e)}function Nvt(n,e){return gt.get(gi).onTypeFormattingEditProvider.register(n,e)}function Lvt(n,e){return gt.get(gi).linkProvider.register(n,e)}function Ovt(n,e){return gt.get(gi).completionProvider.register(n,e)}function xvt(n,e){return gt.get(gi).colorProvider.register(n,e)}function Dvt(n,e){return gt.get(gi).foldingRangeProvider.register(n,e)}function Pvt(n,e){return gt.get(gi).declarationProvider.register(n,e)}function kvt(n,e){return gt.get(gi).selectionRangeProvider.register(n,e)}function Mvt(n,e){return gt.get(gi).documentSemanticTokensProvider.register(n,e)}function Fvt(n,e){return gt.get(gi).documentRangeSemanticTokensProvider.register(n,e)}function Bvt(n,e){return gt.get(gi).inlineCompletionsProvider.register(n,e)}function Uvt(n,e){return gt.get(gi).inlineEditProvider.register(n,e)}function Hvt(n,e){return gt.get(gi).inlayHintsProvider.register(n,e)}function Vvt(){return{register:nvt,getLanguages:ivt,onLanguage:svt,onLanguageEncountered:ovt,getEncodedLanguageId:rvt,setLanguageConfiguration:avt,setColorMap:dvt,registerTokensProviderFactory:XX,setTokensProvider:hvt,setMonarchTokensProvider:fvt,registerReferenceProvider:gvt,registerRenameProvider:pvt,registerNewSymbolNameProvider:mvt,registerCompletionItemProvider:Ovt,registerSignatureHelpProvider:_vt,registerHoverProvider:Evt,registerDocumentSymbolProvider:vvt,registerDocumentHighlightProvider:Svt,registerLinkedEditingRangeProvider:Cvt,registerDefinitionProvider:yvt,registerImplementationProvider:bvt,registerTypeDefinitionProvider:Tvt,registerCodeLensProvider:wvt,registerCodeActionProvider:Avt,registerDocumentFormattingEditProvider:Rvt,registerDocumentRangeFormattingEditProvider:Ivt,registerOnTypeFormattingEditProvider:Nvt,registerLinkProvider:Lvt,registerColorProvider:xvt,registerFoldingRangeProvider:Dvt,registerDeclarationProvider:Pvt,registerSelectionRangeProvider:kvt,registerDocumentSemanticTokensProvider:Mvt,registerDocumentRangeSemanticTokensProvider:Fvt,registerInlineCompletionsProvider:Bvt,registerInlineEditProvider:Uvt,registerInlayHintsProvider:Hvt,DocumentHighlightKind:b7,CompletionItemKind:_7,CompletionItemTag:E7,CompletionItemInsertTextRule:m7,SymbolKind:e6,SymbolTag:t6,IndentAction:L7,CompletionTriggerKind:v7,SignatureHelpTriggerKind:J7,InlayHintKind:x7,InlineCompletionTriggerKind:D7,InlineEditTriggerKind:P7,CodeActionTriggerType:p7,NewSymbolNameTag:V7,NewSymbolNameTriggerKind:W7,PartialAcceptTriggerKind:z7,HoverVerbosityAction:N7,FoldingRangeKind:h7,SelectedSuggestionInfo:_Qe}}const XIe=Cn("IEditorCancelService"),QIe=new ct("cancellableOperation",!1,A("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Pn(XIe,class{constructor(){this._tokens=new WeakMap}add(n,e){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(r=>{const s=QIe.bindTo(r.get(qn)),o=new pa;return{key:s,tokens:o}}),this._tokens.set(n,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(n){const e=this._tokens.get(n);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},1);Ft(new class extends O_{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:QIe})}runEditorCommand(n,e){n.get(XIe).cancel(e)}});class phe{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}class Wvt{constructor(e){if(this._set=new Set,e)for(const t of e)this.add(t)}add(e){this._set.add(phe.toKey(e))}has(e){return this._set.has(phe.toKey(e))}}function $vt(n,e,t){const i=[],r=new Wvt,s=n.ordered(t);for(const a of s)i.push(a),a.extensionId&&r.add(a.extensionId);const o=e.ordered(t);for(const a of o){if(a.extensionId){if(r.has(a.extensionId))continue;r.add(a.extensionId)}i.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits(l,c,u){return a.provideDocumentRangeFormattingEdits(l,l.getFullModelRange(),c,u)}})}return i}const j0=class j0{static setFormatterSelector(e){return{dispose:j0._selectors.unshift(e)}}static async select(e,t,i,r){if(e.length===0)return;const s=Mn.first(j0._selectors);if(s)return await s(e,t,i,r)}};j0._selectors=new pa;let kG=j0;async function Gvt(n,e,t,i,r,s){const o=e.documentRangeFormattingEditProvider.ordered(t);for(const a of o){const l=await Promise.resolve(a.provideDocumentRangeFormattingEdits(t,i,r,s)).catch(AK);if(wM(l))return await n.computeMoreMinimalEdits(t.uri,l)}}async function zvt(n,e,t,i,r){const s=$vt(e.documentFormattingEditProvider,e.documentRangeFormattingEditProvider,t);for(const o of s){const a=await Promise.resolve(o.provideDocumentFormattingEdits(t,i,r)).catch(AK);if(wM(a))return await n.computeMoreMinimalEdits(t.uri,a)}}function jvt(n,e,t,i,r,s,o){const a=e.onTypeFormattingEditProvider.ordered(t);return a.length===0||a[0].autoFormatTriggerCharacters.indexOf(r)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,r,s,o)).catch(AK).then(l=>n.computeMoreMinimalEdits(t.uri,l))}na.registerCommand("_executeFormatRangeProvider",async function(n,...e){const[t,i,r]=e;Og(en.isUri(t)),Og(ce.isIRange(i));const s=n.get(kM),o=n.get(DA),a=n.get(gi),l=await s.createModelReference(t);try{return Gvt(o,a,l.object.textEditorModel,ce.lift(i),r,uc.None)}finally{l.dispose()}});na.registerCommand("_executeFormatDocumentProvider",async function(n,...e){const[t,i]=e;Og(en.isUri(t));const r=n.get(kM),s=n.get(DA),o=n.get(gi),a=await r.createModelReference(t);try{return zvt(s,o,a.object.textEditorModel,i,uc.None)}finally{a.dispose()}});na.registerCommand("_executeFormatOnTypeProvider",async function(n,...e){const[t,i,r,s]=e;Og(en.isUri(t)),Og(Ee.isIPosition(i)),Og(typeof r=="string");const o=n.get(kM),a=n.get(DA),l=n.get(gi),c=await o.createModelReference(t);try{return jvt(a,l,c.object.textEditorModel,Ee.lift(i),r,s,uc.None)}finally{c.dispose()}});J_.wrappingIndent.defaultValue=0;J_.glyphMargin.defaultValue=!1;J_.autoIndent.defaultValue=3;J_.overviewRulerLanes.defaultValue=2;kG.setFormatterSelector((n,e,t)=>Promise.resolve(n[0]));const Lo=g1e();Lo.editor=XEt();Lo.languages=Vvt();Lo.CancellationTokenSource;Lo.Emitter;Lo.KeyCode;Lo.KeyMod;Lo.Position;const Yvt=Lo.Range;Lo.Selection;Lo.SelectionDirection;Lo.MarkerSeverity;Lo.MarkerTag;Lo.Uri;Lo.Token;Lo.editor;Lo.languages;const lV=globalThis.MonacoEnvironment;(lV!=null&&lV.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=Lo);typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});const Kvt={SCHEMA_ITEM:"schemaItem"};function qvt(){const n=TM(),e=In(h=>h.updateQueryInTab),t=In(h=>h.tableSchemas),i=N.useRef(null),r=Z.useMemo(()=>Object.values(t).map(h=>({tableName:h.table_name,columns:h.columns.map(f=>({name:f.name,type:f.data_type}))})),[t]),[{canDrop:s,isOver:o},a]=y2e(()=>({accept:Kvt.SCHEMA_ITEM,drop:h=>{if(!i.current)return;const f=i.current,m=f.getPosition();m&&(f.executeEdits("dnd-insert",[{range:new Yvt(m.lineNumber,m.column,m.lineNumber,m.column),text:h.name,forceMoveMarkers:!0}]),f.focus()),console.log(`Dropped: ${h.name} (${h.type})`)},collect:h=>({isOver:!!h.isOver(),canDrop:!!h.canDrop()})}),[i]);if(!n)return R.jsx("div",{className:"p-4 text-muted-foreground",children:"No active tab selected."});const{id:l,query:c}=n,u=h=>{i.current=h;const f=h.getDomNode();f&&a(f)},d=h=>{typeof h=="string"?e(l,h):console.warn("Unexpected value type from SqlEditor onChange:",typeof h)};return R.jsxs("div",{className:`h-full w-full flex flex-col ${o&&s?"bg-primary/10":""}`,children:[" ",R.jsx("div",{className:"flex-grow relative",children:R.jsx(UY,{value:c,onChange:d,tableSchemas:r,height:"300px",onMount:u,options:{fontSize:18,minimap:{enabled:!1}}},l)})]})}const QX="-",Xvt=n=>{const e=Zvt(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const a=o.split(QX);return a[0]===""&&a.length!==1&&a.shift(),ZIe(a,e)||Qvt(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},ZIe=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?ZIe(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(QX);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},mhe=/^\[(.+)\]$/,Qvt=n=>{if(mhe.test(n)){const e=mhe.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Zvt=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const r in t)MG(t[r],i,r,e);return i},MG=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:_he(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(Jvt(r)){MG(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{MG(o,_he(e,s),t,i)})})},_he=(n,e)=>{let t=n;return e.split(QX).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},Jvt=n=>n.isThemeGetter,eSt=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},FG="!",BG=":",tSt=BG.length,nSt=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=r=>{const s=[];let o=0,a=0,l=0,c;for(let m=0;m<r.length;m++){let g=r[m];if(o===0&&a===0){if(g===BG){s.push(r.slice(l,m)),l=m+tSt;continue}if(g==="/"){c=m;continue}}g==="["?o++:g==="]"?o--:g==="("?a++:g===")"&&a--}const u=s.length===0?r:r.substring(l),d=iSt(u),h=d!==u,f=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}};if(e){const r=e+BG,s=i;i=o=>o.startsWith(r)?s(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const r=i;i=s=>t({className:s,parseClassName:r})}return i},iSt=n=>n.endsWith(FG)?n.substring(0,n.length-1):n.startsWith(FG)?n.substring(1):n,rSt=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let s=[];return i.forEach(o=>{o[0]==="["||e[o]?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r}},sSt=n=>({cache:eSt(n.cacheSize),parseClassName:nSt(n),sortModifiers:rSt(n),...Xvt(n)}),oSt=/\s+/,aSt=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=e,o=[],a=n.trim().split(oSt);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=t(u);if(d){l=u+(l.length>0?" "+l:l);continue}let _=!!g,v=i(_?m.substring(0,g):m);if(!v){if(!_){l=u+(l.length>0?" "+l:l);continue}if(v=i(m),!v){l=u+(l.length>0?" "+l:l);continue}_=!1}const S=s(h).join(":"),C=f?S+FG:S,y=C+v;if(o.includes(y))continue;o.push(y);const b=r(v,_);for(let w=0;w<b.length;++w){const I=b[w];o.push(C+I)}l=u+(l.length>0?" "+l:l)}return l};function lSt(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=JIe(e))&&(i&&(i+=" "),i+=t);return i}const JIe=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=JIe(n[i]))&&(t&&(t+=" "),t+=e);return t};function cSt(n,...e){let t,i,r,s=o;function o(l){const c=e.reduce((u,d)=>d(u),n());return t=sSt(c),i=t.cache.get,r=t.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const u=aSt(l,t);return r(l,u),u}return function(){return s(lSt.apply(null,arguments))}}const Ds=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},eNe=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tNe=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uSt=/^\d+\/\d+$/,dSt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hSt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fSt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gSt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pSt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mv=n=>uSt.test(n),ii=n=>!!n&&!Number.isNaN(Number(n)),$f=n=>!!n&&Number.isInteger(Number(n)),cV=n=>n.endsWith("%")&&ii(n.slice(0,-1)),eh=n=>dSt.test(n),mSt=()=>!0,_St=n=>hSt.test(n)&&!fSt.test(n),nNe=()=>!1,ESt=n=>gSt.test(n),vSt=n=>pSt.test(n),SSt=n=>!Dt(n)&&!Pt(n),CSt=n=>Ly(n,sNe,nNe),Dt=n=>eNe.test(n),Xp=n=>Ly(n,oNe,_St),uV=n=>Ly(n,ASt,ii),Ehe=n=>Ly(n,iNe,nNe),ySt=n=>Ly(n,rNe,vSt),RN=n=>Ly(n,aNe,ESt),Pt=n=>tNe.test(n),Jb=n=>Oy(n,oNe),bSt=n=>Oy(n,RSt),vhe=n=>Oy(n,iNe),TSt=n=>Oy(n,sNe),wSt=n=>Oy(n,rNe),IN=n=>Oy(n,aNe,!0),Ly=(n,e,t)=>{const i=eNe.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Oy=(n,e,t=!1)=>{const i=tNe.exec(n);return i?i[1]?e(i[1]):t:!1},iNe=n=>n==="position"||n==="percentage",rNe=n=>n==="image"||n==="url",sNe=n=>n==="length"||n==="size"||n==="bg-size",oNe=n=>n==="length",ASt=n=>n==="number",RSt=n=>n==="family-name",aNe=n=>n==="shadow",ISt=()=>{const n=Ds("color"),e=Ds("font"),t=Ds("text"),i=Ds("font-weight"),r=Ds("tracking"),s=Ds("leading"),o=Ds("breakpoint"),a=Ds("container"),l=Ds("spacing"),c=Ds("radius"),u=Ds("shadow"),d=Ds("inset-shadow"),h=Ds("text-shadow"),f=Ds("drop-shadow"),m=Ds("blur"),g=Ds("perspective"),_=Ds("aspect"),v=Ds("ease"),S=Ds("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],b=()=>[...y(),Pt,Dt],w=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],O=()=>[Pt,Dt,l],x=()=>[mv,"full","auto",...O()],k=()=>[$f,"none","subgrid",Pt,Dt],P=()=>["auto",{span:["full",$f,Pt,Dt]},$f,Pt,Dt],M=()=>[$f,"auto",Pt,Dt],W=()=>["auto","min","max","fr",Pt,Dt],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...O()],Y=()=>[mv,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],$=()=>[n,Pt,Dt],K=()=>[...y(),vhe,Ehe,{position:[Pt,Dt]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",TSt,CSt,{size:[Pt,Dt]}],J=()=>[cV,Jb,Xp],z=()=>["","none","full",c,Pt,Dt],j=()=>["",ii,Jb,Xp],ne=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>[ii,cV,vhe,Ehe],he=()=>["","none",m,Pt,Dt],ue=()=>["none",ii,Pt,Dt],pe=()=>["none",ii,Pt,Dt],Ae=()=>[ii,Pt,Dt],me=()=>[mv,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[eh],breakpoint:[eh],color:[mSt],container:[eh],"drop-shadow":[eh],ease:["in","out","in-out"],font:[SSt],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[eh],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[eh],shadow:[eh],spacing:["px",ii],text:[eh],"text-shadow":[eh],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mv,Dt,Pt,_]}],container:["container"],columns:[{columns:[ii,Dt,Pt,a]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[$f,"auto",Pt,Dt]}],basis:[{basis:[mv,"full","auto",a,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ii,mv,"auto","initial","none",Dt]}],grow:[{grow:["",ii,Pt,Dt]}],shrink:[{shrink:["",ii,Pt,Dt]}],order:[{order:[$f,"first","last","none",Pt,Dt]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[a,"screen",...Y()]}],"min-w":[{"min-w":[a,"screen","none",...Y()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...Y()]}],h:[{h:["screen",...Y()]}],"min-h":[{"min-h":["screen","none",...Y()]}],"max-h":[{"max-h":["screen",...Y()]}],"font-size":[{text:["base",t,Jb,Xp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Pt,uV]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cV,Dt]}],"font-family":[{font:[bSt,Dt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Pt,Dt]}],"line-clamp":[{"line-clamp":[ii,"none",Pt,uV]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Pt,Dt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pt,Dt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[ii,"from-font","auto",Pt,Xp]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[ii,"auto",Pt,Dt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt,Dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt,Dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$f,Pt,Dt],radial:["",Pt,Dt],conic:[$f,Pt,Dt]},wSt,ySt]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:j()}],"border-w-x":[{"border-x":j()}],"border-w-y":[{"border-y":j()}],"border-w-s":[{"border-s":j()}],"border-w-e":[{"border-e":j()}],"border-w-t":[{"border-t":j()}],"border-w-r":[{"border-r":j()}],"border-w-b":[{"border-b":j()}],"border-w-l":[{"border-l":j()}],"divide-x":[{"divide-x":j()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":j()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ii,Pt,Dt]}],"outline-w":[{outline:["",ii,Jb,Xp]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",u,IN,RN]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",d,IN,RN]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[ii,Xp]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":j()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",h,IN,RN]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[ii,Pt,Dt]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ii]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Pt,Dt]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":y()}],"mask-image-conic-pos":[{"mask-conic":[ii]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pt,Dt]}],filter:[{filter:["","none",Pt,Dt]}],blur:[{blur:he()}],brightness:[{brightness:[ii,Pt,Dt]}],contrast:[{contrast:[ii,Pt,Dt]}],"drop-shadow":[{"drop-shadow":["","none",f,IN,RN]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",ii,Pt,Dt]}],"hue-rotate":[{"hue-rotate":[ii,Pt,Dt]}],invert:[{invert:["",ii,Pt,Dt]}],saturate:[{saturate:[ii,Pt,Dt]}],sepia:[{sepia:["",ii,Pt,Dt]}],"backdrop-filter":[{"backdrop-filter":["","none",Pt,Dt]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[ii,Pt,Dt]}],"backdrop-contrast":[{"backdrop-contrast":[ii,Pt,Dt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ii,Pt,Dt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ii,Pt,Dt]}],"backdrop-invert":[{"backdrop-invert":["",ii,Pt,Dt]}],"backdrop-opacity":[{"backdrop-opacity":[ii,Pt,Dt]}],"backdrop-saturate":[{"backdrop-saturate":[ii,Pt,Dt]}],"backdrop-sepia":[{"backdrop-sepia":["",ii,Pt,Dt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pt,Dt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ii,"initial",Pt,Dt]}],ease:[{ease:["linear","initial",v,Pt,Dt]}],delay:[{delay:[ii,Pt,Dt]}],animate:[{animate:["none",S,Pt,Dt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Pt,Dt]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:Ae()}],"skew-x":[{"skew-x":Ae()}],"skew-y":[{"skew-y":Ae()}],transform:[{transform:[Pt,Dt,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt,Dt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt,Dt]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[ii,Jb,Xp,uV]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NSt=cSt(ISt);function si(...n){return NSt(On(n))}function LSt({className:n,...e}){return R.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:R.jsx("table",{"data-slot":"table",className:si("w-full caption-bottom text-sm",n),...e})})}function OSt({className:n,...e}){return R.jsx("thead",{"data-slot":"table-header",className:si("[&_tr]:border-b",n),...e})}function xSt({className:n,...e}){return R.jsx("tbody",{"data-slot":"table-body",className:si("[&_tr:last-child]:border-0",n),...e})}function dV({className:n,...e}){return R.jsx("tr",{"data-slot":"table-row",className:si("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function DSt({className:n,...e}){return R.jsx("th",{"data-slot":"table-head",className:si("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function She({className:n,...e}){return R.jsx("td",{"data-slot":"table-cell",className:si("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}const PSt=z_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),Ko=N.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...r},s)=>{const o=i?_k:"button";return R.jsx(o,{className:si(PSt({variant:e,size:t,className:n})),ref:s,...r})});Ko.displayName="Button";function BA({className:n,type:e,...t}){return R.jsx("input",{type:e,"data-slot":"input",className:si("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kSt=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MSt=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Che=n=>{const e=MSt(n);return e.charAt(0).toUpperCase()+e.slice(1)},lNe=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),FSt=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BSt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const USt=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>N.createElement("svg",{ref:l,...BSt,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:lNe("lucide",r),...!s&&!FSt(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>N.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=(n,e)=>{const t=N.forwardRef(({className:i,...r},s)=>N.createElement(USt,{ref:s,iconNode:e,className:lNe(`lucide-${kSt(Che(n))}`,`lucide-${n}`,i),...r}));return t.displayName=Che(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HSt=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],VSt=Br("arrow-up-down",HSt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WSt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZX=Br("check",WSt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $St=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],N2=Br("chevron-down",$St);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GSt=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zSt=Br("chevron-right",GSt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jSt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],YSt=Br("chevron-up",jSt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KSt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],qSt=Br("columns-2",KSt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XSt=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],cNe=Br("database",XSt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QSt=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],yhe=Br("download",QSt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZSt=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],JSt=Br("grip-vertical",ZSt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eCt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],tCt=Br("history",eCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nCt=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],iCt=Br("key",nCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rCt=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],sCt=Br("link",rCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oCt=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],aCt=Br("loader-circle",oCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lCt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],cCt=Br("panel-right-open",lCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uCt=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],dCt=Br("play",uCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hCt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fCt=Br("plus",hCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gCt=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pCt=Br("refresh-cw",gCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mCt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_Ct=Br("save",mCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ECt=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vCt=Br("settings",ECt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SCt=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],CCt=Br("table",SCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yCt=[["path",{d:"M17 6H3",key:"16j9eg"}],["path",{d:"M21 12H8",key:"scolzb"}],["path",{d:"M21 18H8",key:"1wfozv"}],["path",{d:"M3 12v6",key:"fv4c87"}]],bCt=Br("text-quote",yCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TCt=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],wCt=Br("wand-sparkles",TCt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ACt=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],JX=Br("x",ACt);function RCt({...n}){return R.jsx(rSe,{"data-slot":"dropdown-menu",...n})}function ICt({...n}){return R.jsx(sSe,{"data-slot":"dropdown-menu-trigger",...n})}function NCt({className:n,sideOffset:e=4,...t}){return R.jsx(oSe,{children:R.jsx(tY,{"data-slot":"dropdown-menu-content",sideOffset:e,className:si("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function LCt({className:n,children:e,checked:t,...i}){return R.jsxs(nY,{"data-slot":"dropdown-menu-checkbox-item",className:si("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),checked:t,...i,children:[R.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:R.jsx(iY,{children:R.jsx(ZX,{className:"size-4"})})}),e]})}function OCt(n){if(!n||n.length===0)return"";const e=Object.keys(n[0]),t=e.join(","),i=n.map(r=>e.map(s=>JSON.stringify(r[s]??"")).join(","));return[t,...i].join(`
`)}function bhe(n,e,t){const i=new Blob([n],{type:t}),r=URL.createObjectURL(i),s=document.createElement("a");s.href=r,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}function xCt({columns:n,data:e}){var g;const[t,i]=N.useState([]),[r,s]=N.useState([]),[o,a]=N.useState(""),[l,c]=N.useState({}),[u,d]=N.useState({}),h=rK({data:e,columns:n,initialState:{pagination:{pageSize:50}},getCoreRowModel:nK(),getPaginationRowModel:Eje(),onSortingChange:i,getSortedRowModel:iK(),onColumnFiltersChange:s,getFilteredRowModel:_je(),onColumnVisibilityChange:c,onRowSelectionChange:d,onGlobalFilterChange:a,state:{sorting:t,columnFilters:r,columnVisibility:l,rowSelection:u,globalFilter:o}}),f=()=>{const _=OCt(e);bhe(_,"results.csv","text/csv;charset=utf-8;")},m=()=>{const _=JSON.stringify(e,null,2);bhe(_,"results.json","application/json;charset=utf-8;")};return R.jsxs("div",{className:"flex flex-col w-full h-full",children:[R.jsxs("div",{className:"flex items-center px-2 py-4 space-x-2",children:[R.jsx(BA,{placeholder:"Filter results...",value:o??"",onChange:_=>a(_.target.value),className:"max-w-sm"}),R.jsxs(RCt,{children:[R.jsx(ICt,{asChild:!0,children:R.jsxs(Ko,{variant:"outline",className:"ml-auto",children:["Columns ",R.jsx(N2,{className:"ml-2 w-4 h-4"})]})}),R.jsx(NCt,{align:"end",children:h.getAllColumns().filter(_=>_.getCanHide()).map(_=>R.jsx(LCt,{className:"capitalize",checked:_.getIsVisible(),onCheckedChange:v=>_.toggleVisibility(!!v),children:_.id},_.id))})]})]}),R.jsx("div",{className:"overflow-auto flex-grow rounded-md border",children:R.jsxs(LSt,{children:[R.jsx(OSt,{className:"sticky top-0 z-10 bg-background",children:h.getHeaderGroups().map(_=>R.jsx(dV,{children:_.headers.map(v=>R.jsx(DSt,{children:v.isPlaceholder?null:lC(v.column.columnDef.header,v.getContext())},v.id))},_.id))}),R.jsx(xSt,{children:(g=h.getRowModel().rows)!=null&&g.length?h.getRowModel().rows.map(_=>R.jsx(dV,{"data-state":_.getIsSelected()&&"selected",children:_.getVisibleCells().map(v=>R.jsx(She,{children:lC(v.column.columnDef.cell,v.getContext())},v.id))},_.id)):R.jsx(dV,{children:R.jsx(She,{colSpan:n.length,className:"h-24 text-center",children:"No results."})})})]})}),R.jsxs("div",{className:"flex flex-shrink-0 justify-between items-center px-2 py-4",children:[R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsxs(Ko,{variant:"outline",size:"sm",onClick:f,disabled:e.length===0,children:[R.jsx(yhe,{className:"mr-2 w-4 h-4"})," Export CSV"]}),R.jsxs(Ko,{variant:"outline",size:"sm",onClick:m,disabled:e.length===0,children:[R.jsx(yhe,{className:"mr-2 w-4 h-4"})," Export JSON"]})]}),R.jsxs("div",{className:"space-x-2",children:[R.jsx(Ko,{variant:"outline",size:"sm",onClick:()=>h.previousPage(),disabled:!h.getCanPreviousPage(),children:"Previous"}),R.jsx(Ko,{variant:"outline",size:"sm",onClick:()=>h.nextPage(),disabled:!h.getCanNextPage(),children:"Next"})]})]})]})}var DCt=N0e();const Il=Si(DCt);var hV,The;function PCt(){if(The)return hV;The=1;function n(e){return e==null}return hV=n,hV}var kCt=PCt();const cn=Si(kCt);var fV,whe;function MCt(){if(whe)return fV;whe=1;var n=lf(),e=Ja(),t=cf(),i="[object String]";function r(s){return typeof s=="string"||!e(s)&&t(s)&&n(s)==i}return fV=r,fV}var FCt=MCt();const B_=Si(FCt);var BCt=sK();const ln=Si(BCt);var UCt=fp();const xy=Si(UCt);var gV={exports:{}},Vi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ahe;function HCt(){if(Ahe)return Vi;Ahe=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function g(_){if(typeof _=="object"&&_!==null){var v=_.$$typeof;switch(v){case n:switch(_=_.type,_){case t:case r:case i:case c:case u:return _;default:switch(_=_&&_.$$typeof,_){case a:case o:case l:case h:case d:case s:return _;default:return v}}case e:return v}}}return Vi.ContextConsumer=o,Vi.ContextProvider=s,Vi.Element=n,Vi.ForwardRef=l,Vi.Fragment=t,Vi.Lazy=h,Vi.Memo=d,Vi.Portal=e,Vi.Profiler=r,Vi.StrictMode=i,Vi.Suspense=c,Vi.SuspenseList=u,Vi.isAsyncMode=function(){return!1},Vi.isConcurrentMode=function(){return!1},Vi.isContextConsumer=function(_){return g(_)===o},Vi.isContextProvider=function(_){return g(_)===s},Vi.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===n},Vi.isForwardRef=function(_){return g(_)===l},Vi.isFragment=function(_){return g(_)===t},Vi.isLazy=function(_){return g(_)===h},Vi.isMemo=function(_){return g(_)===d},Vi.isPortal=function(_){return g(_)===e},Vi.isProfiler=function(_){return g(_)===r},Vi.isStrictMode=function(_){return g(_)===i},Vi.isSuspense=function(_){return g(_)===c},Vi.isSuspenseList=function(_){return g(_)===u},Vi.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===t||_===r||_===i||_===c||_===u||_===f||typeof _=="object"&&_!==null&&(_.$$typeof===h||_.$$typeof===d||_.$$typeof===s||_.$$typeof===o||_.$$typeof===l||_.$$typeof===m||_.getModuleId!==void 0)},Vi.typeOf=g,Vi}var Rhe;function VCt(){return Rhe||(Rhe=1,gV.exports=HCt()),gV.exports}var WCt=VCt(),pV,Ihe;function uNe(){if(Ihe)return pV;Ihe=1;var n=lf(),e=cf(),t="[object Number]";function i(r){return typeof r=="number"||e(r)&&n(r)==t}return pV=i,pV}var mV,Nhe;function $Ct(){if(Nhe)return mV;Nhe=1;var n=uNe();function e(t){return n(t)&&t!=+t}return mV=e,mV}var GCt=$Ct();const Dy=Si(GCt);var zCt=uNe();const jCt=Si(zCt);var ma=function(e){return e===0?0:e>0?1:-1},$m=function(e){return B_(e)&&e.indexOf("%")===e.length-1},rt=function(e){return jCt(e)&&!Dy(e)},Bs=function(e){return rt(e)||B_(e)},YCt=0,Ep=function(e){var t=++YCt;return"".concat(e||"").concat(t)},_a=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!rt(e)&&!B_(e))return i;var s;if($m(e)){var o=e.indexOf("%");s=t*parseFloat(e.slice(0,o))/100}else s=+e;return Dy(s)&&(s=i),r&&s>t&&(s=t),s},dg=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},KCt=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,i={},r=0;r<t;r++)if(!i[e[r]])i[e[r]]=!0;else return!0;return!1},Dr=function(e,t){return rt(e)&&rt(t)?function(i){return e+i*(t-e)}:function(){return t}};function mD(n,e,t){return!n||!n.length?null:n.find(function(i){return i&&(typeof e=="function"?e(i):Il(i,e))===t})}var qCt=function(e){if(!e||!e.length)return null;for(var t=e.length,i=0,r=0,s=0,o=0,a=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,i+=c,r+=u,s+=c*u,o+=c*c,a=Math.min(a,c),l=Math.max(l,c);var h=t*o!==i*i?(t*s-i*r)/(t*o-i*i):0;return{xmin:a,xmax:l,a:h,b:(r-h*i)/t}},XCt=function(e,t){return rt(e)&&rt(t)?e-t:B_(e)&&B_(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function KS(n,e){for(var t in n)if({}.hasOwnProperty.call(n,t)&&(!{}.hasOwnProperty.call(e,t)||n[t]!==e[t]))return!1;for(var i in e)if({}.hasOwnProperty.call(e,i)&&!{}.hasOwnProperty.call(n,i))return!1;return!0}function UG(n){"@babel/helpers - typeof";return UG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UG(n)}var QCt=["viewBox","children"],ZCt=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lhe=["points","pathLength"],_V={svg:QCt,polygon:Lhe,polyline:Lhe},eQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_D=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!xy(i))return null;var r={};return Object.keys(i).forEach(function(s){eQ.includes(s)&&(r[s]=t||function(o){return i[s](i,o)})}),r},JCt=function(e,t,i){return function(r){return e(t,i,r),null}},rp=function(e,t,i){if(!xy(e)||UG(e)!=="object")return null;var r=null;return Object.keys(e).forEach(function(s){var o=e[s];eQ.includes(s)&&typeof o=="function"&&(r||(r={}),r[s]=JCt(o,t,i))}),r},eyt=["children"],tyt=["children"];function Ohe(n,e){if(n==null)return{};var t=nyt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function nyt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function HG(n){"@babel/helpers - typeof";return HG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HG(n)}var xhe={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Kh=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Dhe=null,EV=null,tQ=function n(e){if(e===Dhe&&Array.isArray(EV))return EV;var t=[];return N.Children.forEach(e,function(i){cn(i)||(WCt.isFragment(i)?t=t.concat(n(i.props.children)):t.push(i))}),EV=t,Dhe=e,t};function Ca(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(function(r){return Kh(r)}):i=[Kh(e)],tQ(n).forEach(function(r){var s=Il(r,"type.displayName")||Il(r,"type.name");i.indexOf(s)!==-1&&t.push(r)}),t}function hl(n,e){var t=Ca(n,e);return t&&t[0]}var Phe=function(e){if(!e||!e.props)return!1;var t=e.props,i=t.width,r=t.height;return!(!rt(i)||i<=0||!rt(r)||r<=0)},iyt=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ryt=function(e){return e&&e.type&&B_(e.type)&&iyt.indexOf(e.type)>=0},dNe=function(e){return e&&HG(e)==="object"&&"clipDot"in e},syt=function(e,t,i,r){var s,o=(s=_V==null?void 0:_V[r])!==null&&s!==void 0?s:[];return t.startsWith("data-")||!ln(e)&&(r&&o.includes(t)||ZCt.includes(t))||i&&eQ.includes(t)},$t=function(e,t,i){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!xy(r))return null;var s={};return Object.keys(r).forEach(function(o){var a;syt((a=r)===null||a===void 0?void 0:a[o],o,t,i)&&(s[o]=r[o])}),s},VG=function n(e,t){if(e===t)return!0;var i=N.Children.count(e);if(i!==N.Children.count(t))return!1;if(i===0)return!0;if(i===1)return khe(Array.isArray(e)?e[0]:e,Array.isArray(t)?t[0]:t);for(var r=0;r<i;r++){var s=e[r],o=t[r];if(Array.isArray(s)||Array.isArray(o)){if(!n(s,o))return!1}else if(!khe(s,o))return!1}return!0},khe=function(e,t){if(cn(e)&&cn(t))return!0;if(!cn(e)&&!cn(t)){var i=e.props||{},r=i.children,s=Ohe(i,eyt),o=t.props||{},a=o.children,l=Ohe(o,tyt);return r&&a?KS(s,l)&&VG(r,a):!r&&!a?KS(s,l):!1}return!1},Mhe=function(e,t){var i=[],r={};return tQ(e).forEach(function(s,o){if(ryt(s))i.push(s);else if(s){var a=Kh(s.type),l=t[a]||{},c=l.handler,u=l.once;if(c&&(!u||!r[a])){var d=c(s,a,o);i.push(d),r[a]=!0}}}),i},oyt=function(e){var t=e&&e.type;return t&&xhe[t]?xhe[t]:null},ayt=function(e,t){return tQ(t).indexOf(e)},lyt=["children","width","height","viewBox","className","style","title","desc"];function WG(){return WG=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WG.apply(this,arguments)}function cyt(n,e){if(n==null)return{};var t=uyt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function uyt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function $G(n){var e=n.children,t=n.width,i=n.height,r=n.viewBox,s=n.className,o=n.style,a=n.title,l=n.desc,c=cyt(n,lyt),u=r||{width:t,height:i,x:0,y:0},d=On("recharts-surface",s);return Z.createElement("svg",WG({},$t(c,!0,"svg"),{className:d,width:t,height:i,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Z.createElement("title",null,a),Z.createElement("desc",null,l),e)}var dyt=["children","className"];function GG(){return GG=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},GG.apply(this,arguments)}function hyt(n,e){if(n==null)return{};var t=fyt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function fyt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var Gn=Z.forwardRef(function(n,e){var t=n.children,i=n.className,r=hyt(n,dyt),s=On("recharts-layer",i);return Z.createElement("g",GG({className:s},$t(r,!0),{ref:e}),t)}),ou=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s]},vV,Fhe;function gyt(){if(Fhe)return vV;Fhe=1;var n=BKe();function e(t,i,r){var s=t.length;return r=r===void 0?s:r,!i&&r>=s?t:n(t,i,r)}return vV=e,vV}var SV,Bhe;function hNe(){if(Bhe)return SV;Bhe=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",r=e+t+i,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+n+r+s+"]");function l(c){return a.test(c)}return SV=l,SV}var CV,Uhe;function pyt(){if(Uhe)return CV;Uhe=1;function n(e){return e.split("")}return CV=n,CV}var yV,Hhe;function myt(){if(Hhe)return yV;Hhe=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",r=e+t+i,s="\\ufe0e\\ufe0f",o="["+n+"]",a="["+r+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+a+"|"+l+")",u="[^"+n+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",m=c+"?",g="["+s+"]?",_="(?:"+f+"(?:"+[u,d,h].join("|")+")"+g+m+")*",v=g+m+_,S="(?:"+[u+a+"?",a,d,h,o].join("|")+")",C=RegExp(l+"(?="+l+")|"+S+v,"g");function y(b){return b.match(C)||[]}return yV=y,yV}var bV,Vhe;function _yt(){if(Vhe)return bV;Vhe=1;var n=pyt(),e=hNe(),t=myt();function i(r){return e(r)?t(r):n(r)}return bV=i,bV}var TV,Whe;function Eyt(){if(Whe)return TV;Whe=1;var n=gyt(),e=hNe(),t=_yt(),i=R0e();function r(s){return function(o){o=i(o);var a=e(o)?t(o):void 0,l=a?a[0]:o.charAt(0),c=a?n(a,1).join(""):o.slice(1);return l[s]()+c}}return TV=r,TV}var wV,$he;function vyt(){if($he)return wV;$he=1;var n=Eyt(),e=n("toUpperCase");return wV=e,wV}var Syt=vyt();const L2=Si(Syt);function fr(n){return function(){return n}}const fNe=Math.cos,ED=Math.sin,Au=Math.sqrt,vD=Math.PI,O2=2*vD,zG=Math.PI,jG=2*zG,cm=1e-6,Cyt=jG-cm;function gNe(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function yyt(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return gNe;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class byt{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gNe:yyt(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,o){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+o}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=i-e,c=r-t,u=o-e,d=a-t,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(h>cm)if(!(Math.abs(d*l-c*u)>cm)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let f=i-o,m=r-a,g=l*l+c*c,_=f*f+m*m,v=Math.sqrt(g),S=Math.sqrt(h),C=s*Math.tan((zG-Math.acos((g+h-_)/(2*v*S)))/2),y=C/S,b=C/v;Math.abs(y-1)>cm&&this._append`L${e+y*u},${t+y*d}`,this._append`A${s},${s},0,0,${+(d*f>u*m)},${this._x1=e+b*l},${this._y1=t+b*c}`}}arc(e,t,i,r,s,o){if(e=+e,t=+t,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),c=e+a,u=t+l,d=1^o,h=o?r-s:s-r;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>cm||Math.abs(this._y1-u)>cm)&&this._append`L${c},${u}`,i&&(h<0&&(h=h%jG+jG),h>Cyt?this._append`A${i},${i},0,1,${d},${e-a},${t-l}A${i},${i},0,1,${d},${this._x1=c},${this._y1=u}`:h>cm&&this._append`A${i},${i},0,${+(h>=zG)},${d},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function nQ(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new byt(e)}function iQ(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function pNe(n){this._context=n}pNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function x2(n){return new pNe(n)}function mNe(n){return n[0]}function _Ne(n){return n[1]}function ENe(n,e){var t=fr(!0),i=null,r=x2,s=null,o=nQ(a);n=typeof n=="function"?n:n===void 0?mNe:fr(n),e=typeof e=="function"?e:e===void 0?_Ne:fr(e);function a(l){var c,u=(l=iQ(l)).length,d,h=!1,f;for(i==null&&(s=r(f=o())),c=0;c<=u;++c)!(c<u&&t(d=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+n(d,c,l),+e(d,c,l));if(f)return s=null,f+""||null}return a.x=function(l){return arguments.length?(n=typeof l=="function"?l:fr(+l),a):n},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:fr(+l),a):e},a.defined=function(l){return arguments.length?(t=typeof l=="function"?l:fr(!!l),a):t},a.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),a):r},a.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),a):i},a}function NN(n,e,t){var i=null,r=fr(!0),s=null,o=x2,a=null,l=nQ(c);n=typeof n=="function"?n:n===void 0?mNe:fr(+n),e=typeof e=="function"?e:fr(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?_Ne:fr(+t);function c(d){var h,f,m,g=(d=iQ(d)).length,_,v=!1,S,C=new Array(g),y=new Array(g);for(s==null&&(a=o(S=l())),h=0;h<=g;++h){if(!(h<g&&r(_=d[h],h,d))===v)if(v=!v)f=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=h-1;m>=f;--m)a.point(C[m],y[m]);a.lineEnd(),a.areaEnd()}v&&(C[h]=+n(_,h,d),y[h]=+e(_,h,d),a.point(i?+i(_,h,d):C[h],t?+t(_,h,d):y[h]))}if(S)return a=null,S+""||null}function u(){return ENe().defined(r).curve(o).context(s)}return c.x=function(d){return arguments.length?(n=typeof d=="function"?d:fr(+d),i=null,c):n},c.x0=function(d){return arguments.length?(n=typeof d=="function"?d:fr(+d),c):n},c.x1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:fr(+d),c):i},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:fr(+d),t=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:fr(+d),c):e},c.y1=function(d){return arguments.length?(t=d==null?null:typeof d=="function"?d:fr(+d),c):t},c.lineX0=c.lineY0=function(){return u().x(n).y(e)},c.lineY1=function(){return u().x(n).y(t)},c.lineX1=function(){return u().x(i).y(e)},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:fr(!!d),c):r},c.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),c):o},c.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),c):s},c}class vNe{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Tyt(n){return new vNe(n,!0)}function wyt(n){return new vNe(n,!1)}const rQ={draw(n,e){const t=Au(e/vD);n.moveTo(t,0),n.arc(0,0,t,0,O2)}},Ayt={draw(n,e){const t=Au(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},SNe=Au(1/3),Ryt=SNe*2,Iyt={draw(n,e){const t=Au(e/Ryt),i=t*SNe;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},Nyt={draw(n,e){const t=Au(e),i=-t/2;n.rect(i,i,t,t)}},Lyt=.8908130915292852,CNe=ED(vD/10)/ED(7*vD/10),Oyt=ED(O2/10)*CNe,xyt=-fNe(O2/10)*CNe,Dyt={draw(n,e){const t=Au(e*Lyt),i=Oyt*t,r=xyt*t;n.moveTo(0,-t),n.lineTo(i,r);for(let s=1;s<5;++s){const o=O2*s/5,a=fNe(o),l=ED(o);n.lineTo(l*t,-a*t),n.lineTo(a*i-l*r,l*i+a*r)}n.closePath()}},AV=Au(3),Pyt={draw(n,e){const t=-Au(e/(AV*3));n.moveTo(0,t*2),n.lineTo(-AV*t,-t),n.lineTo(AV*t,-t),n.closePath()}},jl=-.5,Yl=Au(3)/2,YG=1/Au(12),kyt=(YG/2+1)*3,Myt={draw(n,e){const t=Au(e/kyt),i=t/2,r=t*YG,s=i,o=t*YG+t,a=-s,l=o;n.moveTo(i,r),n.lineTo(s,o),n.lineTo(a,l),n.lineTo(jl*i-Yl*r,Yl*i+jl*r),n.lineTo(jl*s-Yl*o,Yl*s+jl*o),n.lineTo(jl*a-Yl*l,Yl*a+jl*l),n.lineTo(jl*i+Yl*r,jl*r-Yl*i),n.lineTo(jl*s+Yl*o,jl*o-Yl*s),n.lineTo(jl*a+Yl*l,jl*l-Yl*a),n.closePath()}};function Fyt(n,e){let t=null,i=nQ(r);n=typeof n=="function"?n:fr(n||rQ),e=typeof e=="function"?e:fr(e===void 0?64:+e);function r(){let s;if(t||(t=s=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:fr(s),r):n},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:fr(+s),r):e},r.context=function(s){return arguments.length?(t=s??null,r):t},r}function SD(){}function CD(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function yNe(n){this._context=n}yNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:CD(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:CD(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Byt(n){return new yNe(n)}function bNe(n){this._context=n}bNe.prototype={areaStart:SD,areaEnd:SD,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:CD(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Uyt(n){return new bNe(n)}function TNe(n){this._context=n}TNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:CD(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Hyt(n){return new TNe(n)}function wNe(n){this._context=n}wNe.prototype={areaStart:SD,areaEnd:SD,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function Vyt(n){return new wNe(n)}function Ghe(n){return n<0?-1:1}function zhe(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),o=(t-n._y1)/(r||i<0&&-0),a=(s*r+o*i)/(i+r);return(Ghe(s)+Ghe(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function jhe(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function RV(n,e,t){var i=n._x0,r=n._y0,s=n._x1,o=n._y1,a=(s-i)/3;n._context.bezierCurveTo(i+a,r+a*e,s-a,o-a*t,s,o)}function yD(n){this._context=n}yD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:RV(this,this._t0,jhe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,RV(this,jhe(this,t=zhe(this,n,e)),t);break;default:RV(this,this._t0,t=zhe(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function ANe(n){this._context=new RNe(n)}(ANe.prototype=Object.create(yD.prototype)).point=function(n,e){yD.prototype.point.call(this,e,n)};function RNe(n){this._context=n}RNe.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function Wyt(n){return new yD(n)}function $yt(n){return new ANe(n)}function INe(n){this._context=n}INe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=Yhe(n),r=Yhe(e),s=0,o=1;o<t;++s,++o)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[o],e[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Yhe(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),o=new Array(t);for(r[0]=0,s[0]=2,o[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,o[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,o[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,o[e]-=i*o[e-1];for(r[t-1]=o[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(o[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function Gyt(n){return new INe(n)}function D2(n,e){this._context=n,this._t=e}D2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function zyt(n){return new D2(n,.5)}function jyt(n){return new D2(n,0)}function Yyt(n){return new D2(n,1)}function OC(n,e){if((o=n.length)>1)for(var t=1,i,r,s=n[e[0]],o,a=s.length;t<o;++t)for(r=s,s=n[e[t]],i=0;i<a;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function KG(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Kyt(n,e){return n[e]}function qyt(n){const e=[];return e.key=n,e}function Xyt(){var n=fr([]),e=KG,t=OC,i=Kyt;function r(s){var o=Array.from(n.apply(this,arguments),qyt),a,l=o.length,c=-1,u;for(const d of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+i(d,o[a].key,c,s)]).data=d;for(a=0,u=iQ(e(o));a<l;++a)o[u[a]].index=a;return t(o,u),o}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:fr(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:fr(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?KG:typeof s=="function"?s:fr(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??OC,r):t},r}function Qyt(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,o;r<s;++r){for(o=t=0;t<i;++t)o+=n[t][r][1]||0;if(o)for(t=0;t<i;++t)n[t][r][1]/=o}OC(n,e)}}function Zyt(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var o=0,a=0;o<r;++o)a+=n[o][t][1]||0;i[t][1]+=i[t][0]=-a/2}OC(n,e)}}function Jyt(n,e){if(!(!((o=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,o;i<s;++i){for(var a=0,l=0,c=0;a<o;++a){for(var u=n[e[a]],d=u[i][1]||0,h=u[i-1][1]||0,f=(d-h)/2,m=0;m<a;++m){var g=n[e[m]],_=g[i][1]||0,v=g[i-1][1]||0;f+=_-v}l+=d,c+=f*d}r[i-1][1]+=r[i-1][0]=t,l&&(t-=c/l)}r[i-1][1]+=r[i-1][0]=t,OC(n,e)}}function dw(n){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(n)}var ebt=["type","size","sizeType"];function qG(){return qG=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qG.apply(this,arguments)}function Khe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function qhe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Khe(Object(t),!0).forEach(function(i){tbt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Khe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function tbt(n,e,t){return e=nbt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nbt(n){var e=ibt(n,"string");return dw(e)=="symbol"?e:e+""}function ibt(n,e){if(dw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(dw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rbt(n,e){if(n==null)return{};var t=sbt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function sbt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var NNe={symbolCircle:rQ,symbolCross:Ayt,symbolDiamond:Iyt,symbolSquare:Nyt,symbolStar:Dyt,symbolTriangle:Pyt,symbolWye:Myt},obt=Math.PI/180,abt=function(e){var t="symbol".concat(L2(e));return NNe[t]||rQ},lbt=function(e,t,i){if(t==="area")return e;switch(i){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*obt;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.pow(Math.tan(r),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cbt=function(e,t){NNe["symbol".concat(L2(e))]=t},P2=function(e){var t=e.type,i=t===void 0?"circle":t,r=e.size,s=r===void 0?64:r,o=e.sizeType,a=o===void 0?"area":o,l=rbt(e,ebt),c=qhe(qhe({},l),{},{type:i,size:s,sizeType:a}),u=function(){var _=abt(i),v=Fyt().type(_).size(lbt(s,a,i));return v()},d=c.className,h=c.cx,f=c.cy,m=$t(c,!0);return h===+h&&f===+f&&s===+s?Z.createElement("path",qG({},m,{className:On("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:u()})):null};P2.registerSymbol=cbt;function xC(n){"@babel/helpers - typeof";return xC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xC(n)}function XG(){return XG=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XG.apply(this,arguments)}function Xhe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ubt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xhe(Object(t),!0).forEach(function(i){hw(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xhe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dbt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hbt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ONe(i.key),i)}}function fbt(n,e,t){return e&&hbt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function gbt(n,e,t){return e=bD(e),pbt(n,LNe()?Reflect.construct(e,t||[],bD(n).constructor):e.apply(n,t))}function pbt(n,e){if(e&&(xC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mbt(n)}function mbt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function LNe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LNe=function(){return!!n})()}function bD(n){return bD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bD(n)}function _bt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&QG(n,e)}function QG(n,e){return QG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},QG(n,e)}function hw(n,e,t){return e=ONe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ONe(n){var e=Ebt(n,"string");return xC(e)=="symbol"?e:e+""}function Ebt(n,e){if(xC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(xC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var xc=32,sQ=function(n){function e(){return dbt(this,e),gbt(this,e,arguments)}return _bt(e,n),fbt(e,[{key:"renderIcon",value:function(i){var r=this.props.inactiveColor,s=xc/2,o=xc/6,a=xc/3,l=i.inactive?r:i.color;if(i.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:xc,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(xc,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return Z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(xc/8,"h").concat(xc,"v").concat(xc*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(i.legendIcon)){var c=ubt({},i);return delete c.legendIcon,Z.cloneElement(i.legendIcon,c)}return Z.createElement(P2,{fill:l,cx:s,cy:s,size:xc,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,r=this.props,s=r.payload,o=r.iconSize,a=r.layout,l=r.formatter,c=r.inactiveColor,u={x:0,y:0,width:xc,height:xc},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,m){var g=f.formatter||l,_=On(hw(hw({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",f.inactive));if(f.type==="none")return null;var v=ln(f.value)?null:f.value;ou(!ln(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=f.inactive?c:f.color;return Z.createElement("li",XG({className:_,style:d,key:"legend-item-".concat(m)},rp(i.props,f,m)),Z.createElement($G,{width:o,height:o,viewBox:u,style:h},i.renderIcon(f)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},g?g(v,f,m):v))})}},{key:"render",value:function(){var i=this.props,r=i.payload,s=i.layout,o=i.align;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(N.PureComponent);hw(sQ,"displayName","Legend");hw(sQ,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var IV,Qhe;function xNe(){if(Qhe)return IV;Qhe=1;function n(e,t,i,r){for(var s=e.length,o=i+(r?1:-1);r?o--:++o<s;)if(t(e[o],o,e))return o;return-1}return IV=n,IV}var NV,Zhe;function vbt(){if(Zhe)return NV;Zhe=1;function n(e){return e!==e}return NV=n,NV}var LV,Jhe;function Sbt(){if(Jhe)return LV;Jhe=1;function n(e,t,i){for(var r=i-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}return LV=n,LV}var OV,efe;function Cbt(){if(efe)return OV;efe=1;var n=xNe(),e=vbt(),t=Sbt();function i(r,s,o){return s===s?t(r,s,o):n(r,e,o)}return OV=i,OV}var xV,tfe;function ybt(){if(tfe)return xV;tfe=1;var n=Cbt();function e(t,i){var r=t==null?0:t.length;return!!r&&n(t,i,0)>-1}return xV=e,xV}var DV,nfe;function bbt(){if(nfe)return DV;nfe=1;function n(e,t,i){for(var r=-1,s=e==null?0:e.length;++r<s;)if(i(t,e[r]))return!0;return!1}return DV=n,DV}var PV,ife;function Tbt(){if(ife)return PV;ife=1;var n=b0e(),e=FKe(),t=fK(),i=1/0,r=n&&1/t(new n([,-0]))[1]==i?function(s){return new n(s)}:e;return PV=r,PV}var kV,rfe;function wbt(){if(rfe)return kV;rfe=1;var n=E0e(),e=ybt(),t=bbt(),i=S0e(),r=Tbt(),s=fK(),o=200;function a(l,c,u){var d=-1,h=e,f=l.length,m=!0,g=[],_=g;if(u)m=!1,h=t;else if(f>=o){var v=c?null:r(l);if(v)return s(v);m=!1,h=i,_=new n}else _=c?[]:g;e:for(;++d<f;){var S=l[d],C=c?c(S):S;if(S=u||S!==0?S:0,m&&C===C){for(var y=_.length;y--;)if(_[y]===C)continue e;c&&_.push(C),g.push(S)}else h(_,C,u)||(_!==g&&_.push(C),g.push(S))}return g}return kV=a,kV}var MV,sfe;function Abt(){if(sfe)return MV;sfe=1;var n=Nd(),e=wbt();function t(i,r){return i&&i.length?e(i,n(r,2)):[]}return MV=t,MV}var Rbt=Abt();const ofe=Si(Rbt);function DNe(n,e,t){return e===!0?ofe(n,t):ln(e)?ofe(n,e):n}function DC(n){"@babel/helpers - typeof";return DC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DC(n)}var Ibt=["ref"];function afe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function th(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?afe(Object(t),!0).forEach(function(i){k2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):afe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Nbt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lfe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,kNe(i.key),i)}}function Lbt(n,e,t){return e&&lfe(n.prototype,e),t&&lfe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Obt(n,e,t){return e=TD(e),xbt(n,PNe()?Reflect.construct(e,t||[],TD(n).constructor):e.apply(n,t))}function xbt(n,e){if(e&&(DC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dbt(n)}function Dbt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function PNe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PNe=function(){return!!n})()}function TD(n){return TD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},TD(n)}function Pbt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ZG(n,e)}function ZG(n,e){return ZG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},ZG(n,e)}function k2(n,e,t){return e=kNe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kNe(n){var e=kbt(n,"string");return DC(e)=="symbol"?e:e+""}function kbt(n,e){if(DC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(DC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Mbt(n,e){if(n==null)return{};var t=Fbt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Fbt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Bbt(n){return n.value}function Ubt(n,e){if(Z.isValidElement(n))return Z.cloneElement(n,e);if(typeof n=="function")return Z.createElement(n,e);e.ref;var t=Mbt(e,Ibt);return Z.createElement(sQ,t)}var cfe=1,Qc=function(n){function e(){var t;Nbt(this,e);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=Obt(this,e,[].concat(r)),k2(t,"lastBoundingBox",{width:-1,height:-1}),t}return Pbt(e,n),Lbt(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();return i.height=this.wrapperNode.offsetHeight,i.width=this.wrapperNode.offsetWidth,i}return null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate,r=this.getBBox();r?(Math.abs(r.width-this.lastBoundingBox.width)>cfe||Math.abs(r.height-this.lastBoundingBox.height)>cfe)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height,i&&i(r)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?th({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var r=this.props,s=r.layout,o=r.align,a=r.verticalAlign,l=r.margin,c=r.chartWidth,u=r.chartHeight,d,h;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(o==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((c||0)-f.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return th(th({},d),h)}},{key:"render",value:function(){var i=this,r=this.props,s=r.content,o=r.width,a=r.height,l=r.wrapperStyle,c=r.payloadUniqBy,u=r.payload,d=th(th({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return Z.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){i.wrapperNode=f}},Ubt(s,th(th({},this.props),{},{payload:DNe(u,c,Bbt)})))}}],[{key:"getWithHeight",value:function(i,r){var s=th(th({},this.defaultProps),i.props),o=s.layout;return o==="vertical"&&rt(i.props.height)?{height:i.props.height}:o==="horizontal"?{width:i.props.width||r}:null}}])}(N.PureComponent);k2(Qc,"displayName","Legend");k2(Qc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var FV,ufe;function MNe(){if(ufe)return FV;ufe=1;var n=cK(),e=uA();function t(i,r){var s=-1,o=e(i)?Array(i.length):[];return n(i,function(a,l,c){o[++s]=r(a,l,c)}),o}return FV=t,FV}var BV,dfe;function Hbt(){if(dfe)return BV;dfe=1;function n(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}return BV=n,BV}var UV,hfe;function Vbt(){if(hfe)return UV;hfe=1;var n=gy();function e(t,i){if(t!==i){var r=t!==void 0,s=t===null,o=t===t,a=n(t),l=i!==void 0,c=i===null,u=i===i,d=n(i);if(!c&&!d&&!a&&t>i||a&&l&&u&&!c&&!d||s&&l&&u||!r&&u||!o)return 1;if(!s&&!a&&!d&&t<i||d&&r&&o&&!s&&!a||c&&r&&o||!l&&o||!u)return-1}return 0}return UV=e,UV}var HV,ffe;function Wbt(){if(ffe)return HV;ffe=1;var n=Vbt();function e(t,i,r){for(var s=-1,o=t.criteria,a=i.criteria,l=o.length,c=r.length;++s<l;){var u=n(o[s],a[s]);if(u){if(s>=c)return u;var d=r[s];return u*(d=="desc"?-1:1)}}return t.index-i.index}return HV=e,HV}var VV,gfe;function $bt(){if(gfe)return VV;gfe=1;var n=mK(),e=_K(),t=Nd(),i=MNe(),r=Hbt(),s=f0e(),o=Wbt(),a=py(),l=Ja();function c(u,d,h){d.length?d=n(d,function(g){return l(g)?function(_){return e(_,g.length===1?g[0]:g)}:g}):d=[a];var f=-1;d=n(d,s(t));var m=i(u,function(g,_,v){var S=n(d,function(C){return C(g)});return{criteria:S,index:++f,value:g}});return r(m,function(g,_){return o(g,_,h)})}return VV=c,VV}var WV,pfe;function M2(){if(pfe)return WV;pfe=1;var n=uK(),e=uA(),t=aK(),i=fp();function r(s,o,a){if(!i(a))return!1;var l=typeof o;return(l=="number"?e(a)&&t(o,a.length):l=="string"&&o in a)?n(a[o],s):!1}return WV=r,WV}var $V,mfe;function Gbt(){if(mfe)return $V;mfe=1;var n=x0e(),e=$bt(),t=KKe(),i=M2(),r=t(function(s,o){if(s==null)return[];var a=o.length;return a>1&&i(s,o[0],o[1])?o=[]:a>2&&i(o[0],o[1],o[2])&&(o=[o[0]]),e(s,n(o,1),[])});return $V=r,$V}var zbt=Gbt();const oQ=Si(zbt);function fw(n){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fw(n)}function JG(){return JG=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},JG.apply(this,arguments)}function jbt(n,e){return Xbt(n)||qbt(n,e)||Kbt(n,e)||Ybt()}function Ybt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kbt(n,e){if(n){if(typeof n=="string")return _fe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _fe(n,e)}}function _fe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function qbt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function Xbt(n){if(Array.isArray(n))return n}function Efe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function GV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Efe(Object(t),!0).forEach(function(i){Qbt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Efe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Qbt(n,e,t){return e=Zbt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zbt(n){var e=Jbt(n,"string");return fw(e)=="symbol"?e:e+""}function Jbt(n,e){if(fw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(fw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eTt(n){return Array.isArray(n)&&Bs(n[0])&&Bs(n[1])?n.join(" ~ "):n}var tTt=function(e){var t=e.separator,i=t===void 0?" : ":t,r=e.contentStyle,s=r===void 0?{}:r,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,g=e.label,_=e.labelFormatter,v=e.accessibilityLayer,S=v===void 0?!1:v,C=function(){if(u&&u.length){var M={padding:0,margin:0},W=(h?oQ(u,h):u).map(function(F,H){if(F.type==="none")return null;var V=GV({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a),Y=F.formatter||d||eTt,$=F.value,K=F.name,re=$,G=K;if(Y&&re!=null&&G!=null){var J=Y($,K,F,H,u);if(Array.isArray(J)){var z=jbt(J,2);re=z[0],G=z[1]}else re=J}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:V},Bs(G)?Z.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Bs(G)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},i):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},re),Z.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:M},W)}return null},y=GV({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=GV({margin:0},c),w=!cn(g),I=w?g:"",O=On("recharts-default-tooltip",f),x=On("recharts-tooltip-label",m);w&&_&&u!==void 0&&u!==null&&(I=_(g,u));var k=S?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",JG({className:O,style:y},k),Z.createElement("p",{className:x,style:b},Z.isValidElement(I)?I:"".concat(I)),C())};function gw(n){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(n)}function LN(n,e,t){return e=nTt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nTt(n){var e=iTt(n,"string");return gw(e)=="symbol"?e:e+""}function iTt(n,e){if(gw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(gw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var eT="recharts-tooltip-wrapper",rTt={visibility:"hidden"};function sTt(n){var e=n.coordinate,t=n.translateX,i=n.translateY;return On(eT,LN(LN(LN(LN({},"".concat(eT,"-right"),rt(t)&&e&&rt(e.x)&&t>=e.x),"".concat(eT,"-left"),rt(t)&&e&&rt(e.x)&&t<e.x),"".concat(eT,"-bottom"),rt(i)&&e&&rt(e.y)&&i>=e.y),"".concat(eT,"-top"),rt(i)&&e&&rt(e.y)&&i<e.y))}function vfe(n){var e=n.allowEscapeViewBox,t=n.coordinate,i=n.key,r=n.offsetTopLeft,s=n.position,o=n.reverseDirection,a=n.tooltipDimension,l=n.viewBox,c=n.viewBoxDimension;if(s&&rt(s[i]))return s[i];var u=t[i]-a-r,d=t[i]+r;if(e[i])return o[i]?u:d;if(o[i]){var h=u,f=l[i];return h<f?Math.max(d,l[i]):Math.max(u,l[i])}var m=d+a,g=l[i]+c;return m>g?Math.max(u,l[i]):Math.max(d,l[i])}function oTt(n){var e=n.translateX,t=n.translateY,i=n.useTranslate3d;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function aTt(n){var e=n.allowEscapeViewBox,t=n.coordinate,i=n.offsetTopLeft,r=n.position,s=n.reverseDirection,o=n.tooltipBox,a=n.useTranslate3d,l=n.viewBox,c,u,d;return o.height>0&&o.width>0&&t?(u=vfe({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=vfe({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=oTt({translateX:u,translateY:d,useTranslate3d:a})):c=rTt,{cssProperties:c,cssClasses:sTt({translateX:u,translateY:d,coordinate:t})}}function PC(n){"@babel/helpers - typeof";return PC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PC(n)}function Sfe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Cfe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sfe(Object(t),!0).forEach(function(i){tz(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sfe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lTt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cTt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,BNe(i.key),i)}}function uTt(n,e,t){return e&&cTt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function dTt(n,e,t){return e=wD(e),hTt(n,FNe()?Reflect.construct(e,t||[],wD(n).constructor):e.apply(n,t))}function hTt(n,e){if(e&&(PC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTt(n)}function fTt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function FNe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FNe=function(){return!!n})()}function wD(n){return wD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wD(n)}function gTt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ez(n,e)}function ez(n,e){return ez=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},ez(n,e)}function tz(n,e,t){return e=BNe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BNe(n){var e=pTt(n,"string");return PC(e)=="symbol"?e:e+""}function pTt(n,e){if(PC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(PC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var yfe=1,mTt=function(n){function e(){var t;lTt(this,e);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=dTt(this,e,[].concat(r)),tz(t,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tz(t,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,u;t.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=t.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(u=t.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),t}return gTt(e,n),uTt(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.state.lastBoundingBox.width)>yfe||Math.abs(i.height-this.state.lastBoundingBox.height)>yfe)&&this.setState({lastBoundingBox:{width:i.width,height:i.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,r;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,r=this.props,s=r.active,o=r.allowEscapeViewBox,a=r.animationDuration,l=r.animationEasing,c=r.children,u=r.coordinate,d=r.hasPayload,h=r.isAnimationActive,f=r.offset,m=r.position,g=r.reverseDirection,_=r.useTranslate3d,v=r.viewBox,S=r.wrapperStyle,C=aTt({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:v}),y=C.cssClasses,b=C.cssProperties,w=Cfe(Cfe({transition:h&&s?"transform ".concat(a,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},S);return Z.createElement("div",{tabIndex:-1,className:y,style:w,ref:function(O){i.wrapperNode=O}},c)}}])}(N.PureComponent),_Tt=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mf={isSsr:_Tt()};function kC(n){"@babel/helpers - typeof";return kC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kC(n)}function bfe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Tfe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bfe(Object(t),!0).forEach(function(i){aQ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bfe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ETt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vTt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,HNe(i.key),i)}}function STt(n,e,t){return e&&vTt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function CTt(n,e,t){return e=AD(e),yTt(n,UNe()?Reflect.construct(e,t||[],AD(n).constructor):e.apply(n,t))}function yTt(n,e){if(e&&(kC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bTt(n)}function bTt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function UNe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UNe=function(){return!!n})()}function AD(n){return AD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},AD(n)}function TTt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&nz(n,e)}function nz(n,e){return nz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},nz(n,e)}function aQ(n,e,t){return e=HNe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HNe(n){var e=wTt(n,"string");return kC(e)=="symbol"?e:e+""}function wTt(n,e){if(kC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(kC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function ATt(n){return n.dataKey}function RTt(n,e){return Z.isValidElement(n)?Z.cloneElement(n,e):typeof n=="function"?Z.createElement(n,e):Z.createElement(tTt,e)}var Ha=function(n){function e(){return ETt(this,e),CTt(this,e,arguments)}return TTt(e,n),STt(e,[{key:"render",value:function(){var i=this,r=this.props,s=r.active,o=r.allowEscapeViewBox,a=r.animationDuration,l=r.animationEasing,c=r.content,u=r.coordinate,d=r.filterNull,h=r.isAnimationActive,f=r.offset,m=r.payload,g=r.payloadUniqBy,_=r.position,v=r.reverseDirection,S=r.useTranslate3d,C=r.viewBox,y=r.wrapperStyle,b=m??[];d&&b.length&&(b=DNe(m.filter(function(I){return I.value!=null&&(I.hide!==!0||i.props.includeHidden)}),g,ATt));var w=b.length>0;return Z.createElement(mTt,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:h,active:s,coordinate:u,hasPayload:w,offset:f,position:_,reverseDirection:v,useTranslate3d:S,viewBox:C,wrapperStyle:y},RTt(c,Tfe(Tfe({},this.props),{},{payload:b})))}}])}(N.PureComponent);aQ(Ha,"displayName","Tooltip");aQ(Ha,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ITt=MKe();const VNe=Si(ITt);function pw(n){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(n)}function wfe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ON(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wfe(Object(t),!0).forEach(function(i){NTt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wfe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NTt(n,e,t){return e=LTt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LTt(n){var e=OTt(n,"string");return pw(e)=="symbol"?e:e+""}function OTt(n,e){if(pw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(pw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xTt(n,e){return MTt(n)||kTt(n,e)||PTt(n,e)||DTt()}function DTt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PTt(n,e){if(n){if(typeof n=="string")return Afe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Afe(n,e)}}function Afe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function kTt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function MTt(n){if(Array.isArray(n))return n}var FTt=N.forwardRef(function(n,e){var t=n.aspect,i=n.initialDimension,r=i===void 0?{width:-1,height:-1}:i,s=n.width,o=s===void 0?"100%":s,a=n.height,l=a===void 0?"100%":a,c=n.minWidth,u=c===void 0?0:c,d=n.minHeight,h=n.maxHeight,f=n.children,m=n.debounce,g=m===void 0?0:m,_=n.id,v=n.className,S=n.onResize,C=n.style,y=C===void 0?{}:C,b=N.useRef(null),w=N.useRef();w.current=S,N.useImperativeHandle(e,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var I=N.useState({containerWidth:r.width,containerHeight:r.height}),O=xTt(I,2),x=O[0],k=O[1],P=N.useCallback(function(W,F){k(function(H){var V=Math.round(W),Y=Math.round(F);return H.containerWidth===V&&H.containerHeight===Y?H:{containerWidth:V,containerHeight:Y}})},[]);N.useEffect(function(){var W=function(K){var re,G=K[0].contentRect,J=G.width,z=G.height;P(J,z),(re=w.current)===null||re===void 0||re.call(w,J,z)};g>0&&(W=VNe(W,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(W),H=b.current.getBoundingClientRect(),V=H.width,Y=H.height;return P(V,Y),F.observe(b.current),function(){F.disconnect()}},[P,g]);var M=N.useMemo(function(){var W=x.containerWidth,F=x.containerHeight;if(W<0||F<0)return null;ou($m(o)||$m(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ou(!t||t>0,"The aspect(%s) must be greater than zero.",t);var H=$m(o)?W:o,V=$m(l)?F:l;t&&t>0&&(H?V=H/t:V&&(H=V*t),h&&V>h&&(V=h)),ou(H>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,V,o,l,u,d,t);var Y=!Array.isArray(f)&&Kh(f.type).endsWith("Chart");return Z.Children.map(f,function($){return Z.isValidElement($)?N.cloneElement($,ON({width:H,height:V},Y?{style:ON({height:"100%",width:"100%",maxHeight:V,maxWidth:H},$.props.style)}:{})):$})},[t,f,l,h,d,u,x,o]);return Z.createElement("div",{id:_?"".concat(_):void 0,className:On("recharts-responsive-container",v),style:ON(ON({},y),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:b},M)}),UA=function(e){return null};UA.displayName="Cell";function mw(n){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(n)}function Rfe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function iz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rfe(Object(t),!0).forEach(function(i){BTt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rfe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function BTt(n,e,t){return e=UTt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UTt(n){var e=HTt(n,"string");return mw(e)=="symbol"?e:e+""}function HTt(n,e){if(mw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(mw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _v={widthCache:{},cacheCount:0},VTt=2e3,WTt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ife="recharts_measurement_span";function $Tt(n){var e=iz({},n);return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}var b0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mf.isSsr)return{width:0,height:0};var i=$Tt(t),r=JSON.stringify({text:e,copyStyle:i});if(_v.widthCache[r])return _v.widthCache[r];try{var s=document.getElementById(Ife);s||(s=document.createElement("span"),s.setAttribute("id",Ife),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=iz(iz({},WTt),i);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return _v.widthCache[r]=l,++_v.cacheCount>VTt&&(_v.cacheCount=0,_v.widthCache={}),l}catch{return{width:0,height:0}}},GTt=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _w(n){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_w(n)}function RD(n,e){return KTt(n)||YTt(n,e)||jTt(n,e)||zTt()}function zTt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jTt(n,e){if(n){if(typeof n=="string")return Nfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nfe(n,e)}}function Nfe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function YTt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function KTt(n){if(Array.isArray(n))return n}function qTt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Lfe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,QTt(i.key),i)}}function XTt(n,e,t){return e&&Lfe(n.prototype,e),t&&Lfe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function QTt(n){var e=ZTt(n,"string");return _w(e)=="symbol"?e:e+""}function ZTt(n,e){if(_w(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(_w(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Ofe=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xfe=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JTt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,e0t=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WNe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},t0t=Object.keys(WNe),Zv="NaN";function n0t(n,e){return n*WNe[e]}var xN=function(){function n(e,t){qTt(this,n),this.num=e,this.unit=t,this.num=e,this.unit=t,Number.isNaN(e)&&(this.unit=""),t!==""&&!JTt.test(t)&&(this.num=NaN,this.unit=""),t0t.includes(t)&&(this.num=n0t(e,t),this.unit="px")}return XTt(n,[{key:"add",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var i,r=(i=e0t.exec(t))!==null&&i!==void 0?i:[],s=RD(r,3),o=s[1],a=s[2];return new n(parseFloat(o),a??"")}}])}();function $Ne(n){if(n.includes(Zv))return Zv;for(var e=n;e.includes("*")||e.includes("/");){var t,i=(t=Ofe.exec(e))!==null&&t!==void 0?t:[],r=RD(i,4),s=r[1],o=r[2],a=r[3],l=xN.parse(s??""),c=xN.parse(a??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Zv;e=e.replace(Ofe,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=xfe.exec(e))!==null&&d!==void 0?d:[],f=RD(h,4),m=f[1],g=f[2],_=f[3],v=xN.parse(m??""),S=xN.parse(_??""),C=g==="+"?v.add(S):v.subtract(S);if(C.isNaN())return Zv;e=e.replace(xfe,C.toString())}return e}var Dfe=/\(([^()]*)\)/;function i0t(n){for(var e=n;e.includes("(");){var t=Dfe.exec(e),i=RD(t,2),r=i[1];e=e.replace(Dfe,$Ne(r))}return e}function r0t(n){var e=n.replace(/\s+/g,"");return e=i0t(e),e=$Ne(e),e}function s0t(n){try{return r0t(n)}catch{return Zv}}function zV(n){var e=s0t(n.slice(5,-1));return e===Zv?"":e}var o0t=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],a0t=["dx","dy","angle","className","breakAll"];function rz(){return rz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rz.apply(this,arguments)}function Pfe(n,e){if(n==null)return{};var t=l0t(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function l0t(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function kfe(n,e){return h0t(n)||d0t(n,e)||u0t(n,e)||c0t()}function c0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u0t(n,e){if(n){if(typeof n=="string")return Mfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mfe(n,e)}}function Mfe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function d0t(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function h0t(n){if(Array.isArray(n))return n}var GNe=/[ \f\n\r\t\v\u2028\u2029]+/,zNe=function(e){var t=e.children,i=e.breakAll,r=e.style;try{var s=[];cn(t)||(i?s=t.toString().split(""):s=t.toString().split(GNe));var o=s.map(function(l){return{word:l,width:b0(l,r).width}}),a=i?0:b0("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},f0t=function(e,t,i,r,s){var o=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=rt(o),d=a,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(V,Y){var $=Y.word,K=Y.width,re=V[V.length-1];if(re&&(r==null||s||re.width+K+i<Number(r)))re.words.push($),re.width+=K+i;else{var G={words:[$],width:K};V.push(G)}return V},[])},f=h(t),m=function(H){return H.reduce(function(V,Y){return V.width>Y.width?V:Y})};if(!u)return f;for(var g="",_=function(H){var V=d.slice(0,H),Y=zNe({breakAll:c,style:l,children:V+g}).wordsWithComputedWidth,$=h(Y),K=$.length>o||m($).width>Number(r);return[K,$]},v=0,S=d.length-1,C=0,y;v<=S&&C<=d.length-1;){var b=Math.floor((v+S)/2),w=b-1,I=_(w),O=kfe(I,2),x=O[0],k=O[1],P=_(b),M=kfe(P,1),W=M[0];if(!x&&!W&&(v=b+1),x&&W&&(S=b-1),!x&&W){y=k;break}C++}return y||f},Ffe=function(e){var t=cn(e)?[]:e.toString().split(GNe);return[{words:t}]},g0t=function(e){var t=e.width,i=e.scaleToFit,r=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((t||i)&&!mf.isSsr){var l,c,u=zNe({breakAll:o,children:r,style:s});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return Ffe(r);return f0t({breakAll:o,children:r,maxLines:a,style:s},l,c,t,i)}return Ffe(r)},Bfe="#808080",U_=function(e){var t=e.x,i=t===void 0?0:t,r=e.y,s=r===void 0?0:r,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,f=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,_=e.fill,v=_===void 0?Bfe:_,S=Pfe(e,o0t),C=N.useMemo(function(){return g0t({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:d,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,d,S.style,S.width]),y=S.dx,b=S.dy,w=S.angle,I=S.className,O=S.breakAll,x=Pfe(S,a0t);if(!Bs(i)||!Bs(s))return null;var k=i+(rt(y)?y:0),P=s+(rt(b)?b:0),M;switch(g){case"start":M=zV("calc(".concat(c,")"));break;case"middle":M=zV("calc(".concat((C.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:M=zV("calc(".concat(C.length-1," * -").concat(a,")"));break}var W=[];if(d){var F=C[0].width,H=S.width;W.push("scale(".concat((rt(H)?H/F:1)/F,")"))}return w&&W.push("rotate(".concat(w,", ").concat(k,", ").concat(P,")")),W.length&&(x.transform=W.join(" ")),Z.createElement("text",rz({},$t(x,!0),{x:k,y:P,className:On("recharts-text",I),textAnchor:f,fill:v.includes("url")?Bfe:v}),C.map(function(V,Y){var $=V.words.join(O?"":" ");return Z.createElement("tspan",{x:k,dy:Y===0?M:a,key:"".concat($,"-").concat(Y)},$)}))};function vc(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function _f(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const sz=Symbol("implicit");function lQ(){var n=new Aie,e=[],t=[],i=sz;function r(s){let o=n.get(s);if(o===void 0){if(i!==sz)return i;n.set(s,o=e.push(s)-1)}return t[o%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new Aie;for(const o of s)n.has(o)||n.set(o,e.push(o)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return lQ(e,t).unknown(i)},vc.apply(r,arguments),r}function Ew(){var n=lQ().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,o,a=!1,l=0,c=0,u=.5;delete n.unknown;function d(){var h=e().length,f=r<i,m=f?r:i,g=f?i:r;s=(g-m)/Math.max(1,h-l+c*2),a&&(s=Math.floor(s)),m+=(g-m-s*(h-l))*u,o=s*(1-l),a&&(m=Math.round(m),o=Math.round(o));var _=p$e(h).map(function(v){return m+s*v});return t(f?_.reverse():_)}return n.domain=function(h){return arguments.length?(e(h),d()):e()},n.range=function(h){return arguments.length?([i,r]=h,i=+i,r=+r,d()):[i,r]},n.rangeRound=function(h){return[i,r]=h,i=+i,r=+r,a=!0,d()},n.bandwidth=function(){return o},n.step=function(){return s},n.round=function(h){return arguments.length?(a=!!h,d()):a},n.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},n.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},n.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},n.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},n.copy=function(){return Ew(e(),[i,r]).round(a).paddingInner(l).paddingOuter(c).align(u)},vc.apply(d(),arguments)}function jNe(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return jNe(e())},n}function T0(){return jNe(Ew.apply(null,arguments).paddingInner(1))}const cQ=n=>()=>n;function p0t(n,e){return function(t){return n+t*e}}function m0t(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function _0t(n){return(n=+n)==1?YNe:function(e,t){return t-e?m0t(e,t,n):cQ(isNaN(e)?t:e)}}function YNe(n,e){var t=e-n;return t?p0t(n,t):cQ(isNaN(n)?e:n)}const Ufe=function n(e){var t=_0t(e);function i(r,s){var o=t((r=U9(r)).r,(s=U9(s)).r),a=t(r.g,s.g),l=t(r.b,s.b),c=YNe(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function E0t(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function v0t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function S0t(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),o;for(o=0;o<i;++o)r[o]=Py(n[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s}}function C0t(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function ID(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function y0t(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=Py(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var oz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jV=new RegExp(oz.source,"g");function b0t(n){return function(){return n}}function T0t(n){return function(e){return n(e)+""}}function w0t(n,e){var t=oz.lastIndex=jV.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(i=oz.exec(n))&&(r=jV.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:ID(i,r)})),t=jV.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?T0t(l[0].x):b0t(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Py(n,e){var t=typeof e,i;return e==null||t==="boolean"?cQ(e):(t==="number"?ID:t==="string"?(i=v1(e))?(e=i,Ufe):w0t:e instanceof v1?Ufe:e instanceof Date?C0t:v0t(e)?E0t:Array.isArray(e)?S0t:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?y0t:ID)(n,e)}function uQ(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function A0t(n,e){e===void 0&&(e=n,n=Py);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(o){var a=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return s[a](o-a)}}function R0t(n){return function(){return n}}function ND(n){return+n}var Hfe=[0,1];function Ea(n){return n}function az(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:R0t(isNaN(e)?NaN:.5)}function I0t(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function N0t(n,e,t){var i=n[0],r=n[1],s=e[0],o=e[1];return r<i?(i=az(r,i),s=t(o,s)):(i=az(i,r),s=t(s,o)),function(a){return s(i(a))}}function L0t(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),o=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=az(n[o],n[o+1]),s[o]=t(e[o],e[o+1]);return function(a){var l=aA(n,a,1,i)-1;return s[l](r[l](a))}}function HA(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function F2(){var n=Hfe,e=Hfe,t=Py,i,r,s,o=Ea,a,l,c;function u(){var h=Math.min(n.length,e.length);return o!==Ea&&(o=I0t(n[0],n[h-1])),a=h>2?L0t:N0t,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=a(n.map(i),e,t)))(i(o(h)))}return d.invert=function(h){return o(r((c||(c=a(e,n.map(i),ID)))(h)))},d.domain=function(h){return arguments.length?(n=Array.from(h,ND),u()):n.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),t=uQ,u()},d.clamp=function(h){return arguments.length?(o=h?!0:Ea,u()):o!==Ea},d.interpolate=function(h){return arguments.length?(t=h,u()):t},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return i=h,r=f,u()}}function dQ(){return F2()(Ea,Ea)}function KNe(n,e,t,i){var r=$9(n,e,t),s;switch(i=S1(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=z8e(r,o))&&(i.precision=s),DTe(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=j8e(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=G8e(r))&&(i.precision=s-(i.type==="%")*2);break}}return hy(i)}function vp(n){var e=n.domain;return n.ticks=function(t){var i=e();return V9(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return KNe(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,o=i[r],a=i[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);u-- >0;){if(c=W9(o,a,t),c===l)return i[r]=o,i[s]=a,e(i);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return n},n}function LD(){var n=dQ();return n.copy=function(){return HA(n,LD())},vc.apply(n,arguments),vp(n)}function qNe(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,ND),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return qNe(n).unknown(e)},n=arguments.length?Array.from(n,ND):[0,1],vp(t)}function XNe(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],o;return s<r&&(o=t,t=i,i=o,o=r,r=s,s=o),n[t]=e.floor(r),n[i]=e.ceil(s),n}function Vfe(n){return Math.log(n)}function Wfe(n){return Math.exp(n)}function O0t(n){return-Math.log(-n)}function x0t(n){return-Math.exp(-n)}function D0t(n){return isFinite(n)?+("1e"+n):n<0?0:n}function P0t(n){return n===10?D0t:n===Math.E?Math.exp:e=>Math.pow(n,e)}function k0t(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function $fe(n){return(e,t)=>-n(-e,t)}function hQ(n){const e=n(Vfe,Wfe),t=e.domain;let i=10,r,s;function o(){return r=k0t(i),s=P0t(i),t()[0]<0?(r=$fe(r),s=$fe(s),n(O0t,x0t)):n(Vfe,Wfe),e}return e.base=function(a){return arguments.length?(i=+a,o()):i},e.domain=function(a){return arguments.length?(t(a),o()):t()},e.ticks=a=>{const l=t();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=r(c),f=r(u),m,g;const _=a==null?10:+a;let v=[];if(!(i%1)&&f-h<_){if(h=Math.floor(h),f=Math.ceil(f),c>0){for(;h<=f;++h)for(m=1;m<i;++m)if(g=h<0?m/s(-h):m*s(h),!(g<c)){if(g>u)break;v.push(g)}}else for(;h<=f;++h)for(m=i-1;m>=1;--m)if(g=h>0?m/s(-h):m*s(h),!(g<c)){if(g>u)break;v.push(g)}v.length*2<_&&(v=V9(c,u,_))}else v=V9(h,f,Math.min(f-h,_)).map(s);return d?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=S1(l)).precision==null&&(l.trim=!0),l=hy(l)),a===1/0)return l;const c=Math.max(1,i*a/e.ticks().length);return u=>{let d=u/s(Math.round(r(u)));return d*i<i-.5&&(d*=i),d<=c?l(u):""}},e.nice=()=>t(XNe(t(),{floor:a=>s(Math.floor(r(a))),ceil:a=>s(Math.ceil(r(a)))})),e}function QNe(){const n=hQ(F2()).domain([1,10]);return n.copy=()=>HA(n,QNe()).base(n.base()),vc.apply(n,arguments),n}function Gfe(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function zfe(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function fQ(n){var e=1,t=n(Gfe(e),zfe(e));return t.constant=function(i){return arguments.length?n(Gfe(e=+i),zfe(e)):e},vp(t)}function ZNe(){var n=fQ(F2());return n.copy=function(){return HA(n,ZNe()).constant(n.constant())},vc.apply(n,arguments)}function jfe(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function M0t(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function F0t(n){return n<0?-n*n:n*n}function gQ(n){var e=n(Ea,Ea),t=1;function i(){return t===1?n(Ea,Ea):t===.5?n(M0t,F0t):n(jfe(t),jfe(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},vp(e)}function pQ(){var n=gQ(F2());return n.copy=function(){return HA(n,pQ()).exponent(n.exponent())},vc.apply(n,arguments),n}function B0t(){return pQ.apply(null,arguments).exponent(.5)}function Yfe(n){return Math.sign(n)*n*n}function U0t(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function JNe(){var n=dQ(),e=[0,1],t=!1,i;function r(s){var o=U0t(n(s));return isNaN(o)?i:t?Math.round(o):o}return r.invert=function(s){return n.invert(Yfe(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,ND)).map(Yfe)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return JNe(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},vc.apply(r,arguments),vp(r)}function eLe(){var n=[],e=[],t=[],i;function r(){var o=0,a=Math.max(1,e.length);for(t=new Array(a-1);++o<a;)t[o-1]=g$e(n,o/a);return s}function s(o){return o==null||isNaN(o=+o)?i:e[aA(t,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?t[a-1]:n[0],a<t.length?t[a]:n[n.length-1]]},s.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let a of o)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(Ng),r()},s.range=function(o){return arguments.length?(e=Array.from(o),r()):e.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return eLe().domain(n).range(e).unknown(i)},vc.apply(s,arguments)}function tLe(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function o(l){return l!=null&&l<=l?r[aA(i,l,0,t)]:s}function a(){var l=-1;for(i=new Array(t);++l<t;)i[l]=((l+1)*e-(l-t)*n)/(t+1);return o}return o.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,a()):[n,e]},o.range=function(l){return arguments.length?(t=(r=Array.from(l)).length-1,a()):r.slice()},o.invertExtent=function(l){var c=r.indexOf(l);return c<0?[NaN,NaN]:c<1?[n,i[0]]:c>=t?[i[t-1],e]:[i[c-1],i[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return i.slice()},o.copy=function(){return tLe().domain([n,e]).range(r).unknown(s)},vc.apply(vp(o),arguments)}function nLe(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[aA(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var o=e.indexOf(s);return[n[o-1],n[o]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return nLe().domain(n).range(e).unknown(t)},vc.apply(r,arguments)}function H0t(n){return new Date(n)}function V0t(n){return n instanceof Date?+n:+new Date(+n)}function mQ(n,e,t,i,r,s,o,a,l,c){var u=dQ(),d=u.invert,h=u.domain,f=c(".%L"),m=c(":%S"),g=c("%I:%M"),_=c("%I %p"),v=c("%a %d"),S=c("%b %d"),C=c("%B"),y=c("%Y");function b(w){return(l(w)<w?f:a(w)<w?m:o(w)<w?g:s(w)<w?_:i(w)<w?r(w)<w?v:S:t(w)<w?C:y)(w)}return u.invert=function(w){return new Date(d(w))},u.domain=function(w){return arguments.length?h(Array.from(w,V0t)):h().map(H0t)},u.ticks=function(w){var I=h();return n(I[0],I[I.length-1],w??10)},u.tickFormat=function(w,I){return I==null?b:c(I)},u.nice=function(w){var I=h();return(!w||typeof w.range!="function")&&(w=e(I[0],I[I.length-1],w??10)),w?h(XNe(I,w)):u},u.copy=function(){return HA(u,mQ(n,e,t,i,r,s,o,a,l,c))},u}function W0t(){return vc.apply(mQ(E$e,v$e,ef,KY,gM,oA,jY,GY,Mm,lA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $0t(){return vc.apply(mQ(m$e,_$e,tf,qY,pM,fM,YY,zY,Mm,$Te).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function B2(){var n=0,e=1,t,i,r,s,o=Ea,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(r===0?.5:(d=(s(d)-t)*r,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([n,e]=d,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),c):[n,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var f,m;return arguments.length?([f,m]=h,o=d(f,m),c):[o(0),o(1)]}}return c.range=u(Py),c.rangeRound=u(uQ),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,t=d(n),i=d(e),r=t===i?0:1/(i-t),c}}function Sp(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function iLe(){var n=vp(B2()(Ea));return n.copy=function(){return Sp(n,iLe())},_f.apply(n,arguments)}function rLe(){var n=hQ(B2()).domain([1,10]);return n.copy=function(){return Sp(n,rLe()).base(n.base())},_f.apply(n,arguments)}function sLe(){var n=fQ(B2());return n.copy=function(){return Sp(n,sLe()).constant(n.constant())},_f.apply(n,arguments)}function _Q(){var n=gQ(B2());return n.copy=function(){return Sp(n,_Q()).exponent(n.exponent())},_f.apply(n,arguments)}function G0t(){return _Q.apply(null,arguments).exponent(.5)}function oLe(){var n=[],e=Ea;function t(i){if(i!=null&&!isNaN(i=+i))return e((aA(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(Ng),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>f$e(n,s/i))},t.copy=function(){return oLe(e).domain(n)},_f.apply(t,arguments)}function U2(){var n=0,e=.5,t=1,i=1,r,s,o,a,l,c=Ea,u,d=!1,h;function f(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-s)*(i*g<i*s?a:l),c(d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([n,e,t]=g,r=u(n=+n),s=u(e=+e),o=u(t=+t),a=r===s?0:.5/(s-r),l=s===o?0:.5/(o-s),i=s<r?-1:1,f):[n,e,t]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(c=g,f):c};function m(g){return function(_){var v,S,C;return arguments.length?([v,S,C]=_,c=A0t(g,[v,S,C]),f):[c(0),c(.5),c(1)]}}return f.range=m(Py),f.rangeRound=m(uQ),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return u=g,r=g(n),s=g(e),o=g(t),a=r===s?0:.5/(s-r),l=s===o?0:.5/(o-s),i=s<r?-1:1,f}}function aLe(){var n=vp(U2()(Ea));return n.copy=function(){return Sp(n,aLe())},_f.apply(n,arguments)}function lLe(){var n=hQ(U2()).domain([.1,1,10]);return n.copy=function(){return Sp(n,lLe()).base(n.base())},_f.apply(n,arguments)}function cLe(){var n=fQ(U2());return n.copy=function(){return Sp(n,cLe()).constant(n.constant())},_f.apply(n,arguments)}function EQ(){var n=gQ(U2());return n.copy=function(){return Sp(n,EQ()).exponent(n.exponent())},_f.apply(n,arguments)}function z0t(){return EQ.apply(null,arguments).exponent(.5)}const Kfe=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ew,scaleDiverging:aLe,scaleDivergingLog:lLe,scaleDivergingPow:EQ,scaleDivergingSqrt:z0t,scaleDivergingSymlog:cLe,scaleIdentity:qNe,scaleImplicit:sz,scaleLinear:LD,scaleLog:QNe,scaleOrdinal:lQ,scalePoint:T0,scalePow:pQ,scaleQuantile:eLe,scaleQuantize:tLe,scaleRadial:JNe,scaleSequential:iLe,scaleSequentialLog:rLe,scaleSequentialPow:_Q,scaleSequentialQuantile:oLe,scaleSequentialSqrt:G0t,scaleSequentialSymlog:sLe,scaleSqrt:B0t,scaleSymlog:ZNe,scaleThreshold:nLe,scaleTime:W0t,scaleUtc:$0t,tickFormat:KNe},Symbol.toStringTag,{value:"Module"}));var YV,qfe;function H2(){if(qfe)return YV;qfe=1;var n=gy();function e(t,i,r){for(var s=-1,o=t.length;++s<o;){var a=t[s],l=i(a);if(l!=null&&(c===void 0?l===l&&!n(l):r(l,c)))var c=l,u=a}return u}return YV=e,YV}var KV,Xfe;function uLe(){if(Xfe)return KV;Xfe=1;function n(e,t){return e>t}return KV=n,KV}var qV,Qfe;function j0t(){if(Qfe)return qV;Qfe=1;var n=H2(),e=uLe(),t=py();function i(r){return r&&r.length?n(r,t,e):void 0}return qV=i,qV}var Y0t=j0t();const Tg=Si(Y0t);var XV,Zfe;function dLe(){if(Zfe)return XV;Zfe=1;function n(e,t){return e<t}return XV=n,XV}var QV,Jfe;function K0t(){if(Jfe)return QV;Jfe=1;var n=H2(),e=dLe(),t=py();function i(r){return r&&r.length?n(r,t,e):void 0}return QV=i,QV}var q0t=K0t();const V2=Si(q0t);var ZV,ege;function X0t(){if(ege)return ZV;ege=1;var n=mK(),e=Nd(),t=MNe(),i=Ja();function r(s,o){var a=i(s)?n:t;return a(s,e(o,3))}return ZV=r,ZV}var JV,tge;function Q0t(){if(tge)return JV;tge=1;var n=x0e(),e=X0t();function t(i,r){return n(e(i,r),1)}return JV=t,JV}var Z0t=Q0t();const J0t=Si(Z0t);var e1t=HKe();const sp=Si(e1t);var ky=1e9,t1t={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SQ,wr=!0,pc="[DecimalError] ",r_=pc+"Invalid argument: ",vQ=pc+"Exponent out of range: ",My=Math.floor,um=Math.pow,n1t=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sl,oo=1e7,Sr=7,hLe=9007199254740991,OD=My(hLe/Sr),It={};It.absoluteValue=It.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};It.comparedTo=It.cmp=function(n){var e,t,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};It.decimalPlaces=It.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Sr;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};It.dividedBy=It.div=function(n){return qh(this,new this.constructor(n))};It.dividedToIntegerBy=It.idiv=function(n){var e=this,t=e.constructor;return lr(qh(e,new t(n),0,1),t.precision)};It.equals=It.eq=function(n){return!this.cmp(n)};It.exponent=function(){return ws(this)};It.greaterThan=It.gt=function(n){return this.cmp(n)>0};It.greaterThanOrEqualTo=It.gte=function(n){return this.cmp(n)>=0};It.isInteger=It.isint=function(){return this.e>this.d.length-2};It.isNegative=It.isneg=function(){return this.s<0};It.isPositive=It.ispos=function(){return this.s>0};It.isZero=function(){return this.s===0};It.lessThan=It.lt=function(n){return this.cmp(n)<0};It.lessThanOrEqualTo=It.lte=function(n){return this.cmp(n)<1};It.logarithm=It.log=function(n){var e,t=this,i=t.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(Sl))throw Error(pc+"NaN");if(t.s<1)throw Error(pc+(t.s?"NaN":"-Infinity"));return t.eq(Sl)?new i(0):(wr=!1,e=qh(vw(t,s),vw(n,s),s),wr=!0,lr(e,r))};It.minus=It.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?pLe(e,n):fLe(e,(n.s=-n.s,n))};It.modulo=It.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(pc+"NaN");return t.s?(wr=!1,e=qh(t,n,0,1).times(n),wr=!0,t.minus(e)):lr(new i(t),r)};It.naturalExponential=It.exp=function(){return gLe(this)};It.naturalLogarithm=It.ln=function(){return vw(this)};It.negated=It.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};It.plus=It.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?fLe(e,n):pLe(e,(n.s=-n.s,n))};It.precision=It.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(r_+n);if(e=ws(r)+1,i=r.d.length-1,t=i*Sr+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};It.squareRoot=It.sqrt=function(){var n,e,t,i,r,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(pc+"NaN")}for(n=ws(a),wr=!1,r=Math.sqrt(+a),r==0||r==1/0?(e=rd(a.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=My((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new l(e)):i=new l(r.toString()),t=l.precision,r=o=t+3;;)if(s=i,i=s.plus(qh(a,s,o+2)).times(.5),rd(s.d).slice(0,o)===(e=rd(i.d)).slice(0,o)){if(e=e.slice(o-3,o+1),r==o&&e=="4999"){if(lr(s,t+1,0),s.times(s).eq(a)){i=s;break}}else if(e!="9999")break;o+=4}return wr=!0,lr(i,t)};It.times=It.mul=function(n){var e,t,i,r,s,o,a,l,c,u=this,d=u.constructor,h=u.d,f=(n=new d(n)).d;if(!u.s||!n.s)return new d(0);for(n.s*=u.s,t=u.e+n.e,l=h.length,c=f.length,l<c&&(s=h,h=f,f=s,o=l,l=c,c=o),s=[],o=l+c,i=o;i--;)s.push(0);for(i=c;--i>=0;){for(e=0,r=l+i;r>i;)a=s[r]+f[i]*h[r-i-1]+e,s[r--]=a%oo|0,e=a/oo|0;s[r]=(s[r]+e)%oo|0}for(;!s[--o];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,wr?lr(n,d.precision):n};It.toDecimalPlaces=It.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(wd(n,0,ky),e===void 0?e=i.rounding:wd(e,0,8),lr(t,n+ws(t)+1,e))};It.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=H_(i,!0):(wd(n,0,ky),e===void 0?e=r.rounding:wd(e,0,8),i=lr(new r(i),n+1,e),t=H_(i,!0,n+1)),t};It.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?H_(r):(wd(n,0,ky),e===void 0?e=s.rounding:wd(e,0,8),i=lr(new s(r),n+ws(r)+1,e),t=H_(i.abs(),!1,n+ws(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};It.toInteger=It.toint=function(){var n=this,e=n.constructor;return lr(new e(n),ws(n)+1,e.rounding)};It.toNumber=function(){return+this};It.toPower=It.pow=function(n){var e,t,i,r,s,o,a=this,l=a.constructor,c=12,u=+(n=new l(n));if(!n.s)return new l(Sl);if(a=new l(a),!a.s){if(n.s<1)throw Error(pc+"Infinity");return a}if(a.eq(Sl))return a;if(i=l.precision,n.eq(Sl))return lr(a,i);if(e=n.e,t=n.d.length-1,o=e>=t,s=a.s,o){if((t=u<0?-u:u)<=hLe){for(r=new l(Sl),e=Math.ceil(i/Sr+4),wr=!1;t%2&&(r=r.times(a),ige(r.d,e)),t=My(t/2),t!==0;)a=a.times(a),ige(a.d,e);return wr=!0,n.s<0?new l(Sl).div(r):lr(r,i)}}else if(s<0)throw Error(pc+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,a.s=1,wr=!1,r=n.times(vw(a,i+c)),wr=!0,r=gLe(r),r.s=s,r};It.toPrecision=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?(t=ws(r),i=H_(r,t<=s.toExpNeg||t>=s.toExpPos)):(wd(n,1,ky),e===void 0?e=s.rounding:wd(e,0,8),r=lr(new s(r),n,e),t=ws(r),i=H_(r,n<=t||t<=s.toExpNeg,n)),i};It.toSignificantDigits=It.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(wd(n,1,ky),e===void 0?e=i.rounding:wd(e,0,8)),lr(new i(t),n,e)};It.toString=It.valueOf=It.val=It.toJSON=It[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=ws(n),t=n.constructor;return H_(n,e<=t.toExpNeg||e>=t.toExpPos)};function fLe(n,e){var t,i,r,s,o,a,l,c,u=n.constructor,d=u.precision;if(!n.s||!e.s)return e.s||(e=new u(n)),wr?lr(e,d):e;if(l=n.d,c=e.d,o=n.e,r=e.e,l=l.slice(),s=o-r,s){for(s<0?(i=l,s=-s,a=c.length):(i=c,r=o,a=l.length),o=Math.ceil(d/Sr),a=o>a?o+1:a+1,s>a&&(s=a,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,i=c,c=l,l=i),t=0;s;)t=(l[--s]=l[s]+c[s]+t)/oo|0,l[s]%=oo;for(t&&(l.unshift(t),++r),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=r,wr?lr(e,d):e}function wd(n,e,t){if(n!==~~n||n<e||n>t)throw Error(r_+n)}function rd(n){var e,t,i,r=n.length-1,s="",o=n[0];if(r>0){for(s+=o,e=1;e<r;e++)i=n[e]+"",t=Sr-i.length,t&&(s+=eg(t)),s+=i;o=n[e],i=o+"",t=Sr-i.length,t&&(s+=eg(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var qh=function(){function n(i,r){var s,o=0,a=i.length;for(i=i.slice();a--;)s=i[a]*r+o,i[a]=s%oo|0,o=s/oo|0;return o&&i.unshift(o),i}function e(i,r,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(i[a]!=r[a]){l=i[a]>r[a]?1:-1;break}return l}function t(i,r,s){for(var o=0;s--;)i[s]-=o,o=i[s]<r[s]?1:0,i[s]=o*oo+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,o){var a,l,c,u,d,h,f,m,g,_,v,S,C,y,b,w,I,O,x=i.constructor,k=i.s==r.s?1:-1,P=i.d,M=r.d;if(!i.s)return new x(i);if(!r.s)throw Error(pc+"Division by zero");for(l=i.e-r.e,I=M.length,b=P.length,f=new x(k),m=f.d=[],c=0;M[c]==(P[c]||0);)++c;if(M[c]>(P[c]||0)&&--l,s==null?S=s=x.precision:o?S=s+(ws(i)-ws(r))+1:S=s,S<0)return new x(0);if(S=S/Sr+2|0,c=0,I==1)for(u=0,M=M[0],S++;(c<b||u)&&S--;c++)C=u*oo+(P[c]||0),m[c]=C/M|0,u=C%M|0;else{for(u=oo/(M[0]+1)|0,u>1&&(M=n(M,u),P=n(P,u),I=M.length,b=P.length),y=I,g=P.slice(0,I),_=g.length;_<I;)g[_++]=0;O=M.slice(),O.unshift(0),w=M[0],M[1]>=oo/2&&++w;do u=0,a=e(M,g,I,_),a<0?(v=g[0],I!=_&&(v=v*oo+(g[1]||0)),u=v/w|0,u>1?(u>=oo&&(u=oo-1),d=n(M,u),h=d.length,_=g.length,a=e(d,g,h,_),a==1&&(u--,t(d,I<h?O:M,h))):(u==0&&(a=u=1),d=M.slice()),h=d.length,h<_&&d.unshift(0),t(g,d,_),a==-1&&(_=g.length,a=e(M,g,I,_),a<1&&(u++,t(g,I<_?O:M,_))),_=g.length):a===0&&(u++,g=[0]),m[c++]=u,a&&g[0]?g[_++]=P[y]||0:(g=[P[y]],_=1);while((y++<b||g[0]!==void 0)&&S--)}return m[0]||m.shift(),f.e=l,lr(f,o?s+ws(f)+1:s)}}();function gLe(n,e){var t,i,r,s,o,a,l=0,c=0,u=n.constructor,d=u.precision;if(ws(n)>16)throw Error(vQ+ws(n));if(!n.s)return new u(Sl);for(wr=!1,a=d,o=new u(.03125);n.abs().gte(.1);)n=n.times(o),c+=5;for(i=Math.log(um(2,c))/Math.LN10*2+5|0,a+=i,t=r=s=new u(Sl),u.precision=a;;){if(r=lr(r.times(n),a),t=t.times(++l),o=s.plus(qh(r,t,a)),rd(o.d).slice(0,a)===rd(s.d).slice(0,a)){for(;c--;)s=lr(s.times(s),a);return u.precision=d,e==null?(wr=!0,lr(s,d)):s}s=o}}function ws(n){for(var e=n.e*Sr,t=n.d[0];t>=10;t/=10)e++;return e}function eW(n,e,t){if(e>n.LN10.sd())throw wr=!0,t&&(n.precision=t),Error(pc+"LN10 precision limit exceeded");return lr(new n(n.LN10),e)}function eg(n){for(var e="";n--;)e+="0";return e}function vw(n,e){var t,i,r,s,o,a,l,c,u,d=1,h=10,f=n,m=f.d,g=f.constructor,_=g.precision;if(f.s<1)throw Error(pc+(f.s?"NaN":"-Infinity"));if(f.eq(Sl))return new g(0);if(e==null?(wr=!1,c=_):c=e,f.eq(10))return e==null&&(wr=!0),eW(g,c);if(c+=h,g.precision=c,t=rd(m),i=t.charAt(0),s=ws(f),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)f=f.times(n),t=rd(f.d),i=t.charAt(0),d++;s=ws(f),i>1?(f=new g("0."+t),s++):f=new g(i+"."+t.slice(1))}else return l=eW(g,c+2,_).times(s+""),f=vw(new g(i+"."+t.slice(1)),c-h).plus(l),g.precision=_,e==null?(wr=!0,lr(f,_)):f;for(a=o=f=qh(f.minus(Sl),f.plus(Sl),c),u=lr(f.times(f),c),r=3;;){if(o=lr(o.times(u),c),l=a.plus(qh(o,new g(r),c)),rd(l.d).slice(0,c)===rd(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(eW(g,c+2,_).times(s+""))),a=qh(a,new g(d),c),g.precision=_,e==null?(wr=!0,lr(a,_)):a;a=l,r+=2}}function nge(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=My(t/Sr),n.d=[],i=(t+1)%Sr,t<0&&(i+=Sr),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=Sr;i<r;)n.d.push(+e.slice(i,i+=Sr));e=e.slice(i),i=Sr-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),wr&&(n.e>OD||n.e<-OD))throw Error(vQ+t)}else n.s=0,n.e=0,n.d=[0];return n}function lr(n,e,t){var i,r,s,o,a,l,c,u,d=n.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(i=e-o,i<0)i+=Sr,r=e,c=d[u=0];else{if(u=Math.ceil((i+1)/Sr),s=d.length,u>=s)return n;for(c=s=d[u],o=1;s>=10;s/=10)o++;i%=Sr,r=i-Sr+o}if(t!==void 0&&(s=um(10,o-r-1),a=c/s%10|0,l=e<0||d[u+1]!==void 0||c%s,l=t<4?(a||l)&&(t==0||t==(n.s<0?3:2)):a>5||a==5&&(t==4||l||t==6&&(i>0?r>0?c/um(10,o-r):0:d[u-1])%10&1||t==(n.s<0?8:7))),e<1||!d[0])return l?(s=ws(n),d.length=1,e=e-s-1,d[0]=um(10,(Sr-e%Sr)%Sr),n.e=My(-e/Sr)||0):(d.length=1,d[0]=n.e=n.s=0),n;if(i==0?(d.length=u,s=1,u--):(d.length=u+1,s=um(10,Sr-i),d[u]=r>0?(c/um(10,o-r)%um(10,r)|0)*s:0),l)for(;;)if(u==0){(d[0]+=s)==oo&&(d[0]=1,++n.e);break}else{if(d[u]+=s,d[u]!=oo)break;d[u--]=0,s=1}for(i=d.length;d[--i]===0;)d.pop();if(wr&&(n.e>OD||n.e<-OD))throw Error(vQ+ws(n));return n}function pLe(n,e){var t,i,r,s,o,a,l,c,u,d,h=n.constructor,f=h.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new h(n),wr?lr(e,f):e;if(l=n.d,d=e.d,i=e.e,c=n.e,l=l.slice(),o=c-i,o){for(u=o<0,u?(t=l,o=-o,a=d.length):(t=d,i=c,a=l.length),r=Math.max(Math.ceil(f/Sr),a)+2,o>r&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for(r=l.length,a=d.length,u=r<a,u&&(a=r),r=0;r<a;r++)if(l[r]!=d[r]){u=l[r]<d[r];break}o=0}for(u&&(t=l,l=d,d=t,e.s=-e.s),a=l.length,r=d.length-a;r>0;--r)l[a++]=0;for(r=d.length;r>o;){if(l[--r]<d[r]){for(s=r;s&&l[--s]===0;)l[s]=oo-1;--l[s],l[r]+=oo}l[r]-=d[r]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--i;return l[0]?(e.d=l,e.e=i,wr?lr(e,f):e):new h(0)}function H_(n,e,t){var i,r=ws(n),s=rd(n.d),o=s.length;return e?(t&&(i=t-o)>0?s=s.charAt(0)+"."+s.slice(1)+eg(i):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+eg(-r-1)+s,t&&(i=t-o)>0&&(s+=eg(i))):r>=o?(s+=eg(r+1-o),t&&(i=t-r-1)>0&&(s=s+"."+eg(i))):((i=r+1)<o&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-o)>0&&(r+1===o&&(s+="."),s+=eg(i))),n.s<0?"-"+s:s}function ige(n,e){if(n.length>e)return n.length=e,!0}function mLe(n){var e,t,i;function r(s){var o=this;if(!(o instanceof r))return new r(s);if(o.constructor=r,s instanceof r){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(r_+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return nge(o,s.toString())}else if(typeof s!="string")throw Error(r_+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,n1t.test(s))nge(o,s);else throw Error(r_+s)}if(r.prototype=It,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=mLe,r.config=r.set=i1t,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function i1t(n){if(!n||typeof n!="object")throw Error(pc+"Object expected");var e,t,i,r=["precision",1,ky,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(My(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(r_+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(r_+t+": "+i);return this}var SQ=mLe(t1t);Sl=new SQ(1);const Xi=SQ;function r1t(n){return l1t(n)||a1t(n)||o1t(n)||s1t()}function s1t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o1t(n,e){if(n){if(typeof n=="string")return lz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lz(n,e)}}function a1t(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function l1t(n){if(Array.isArray(n))return lz(n)}function lz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var c1t=function(e){return e},_Le={},ELe=function(e){return e===_Le},rge=function(e){return function t(){return arguments.length===0||arguments.length===1&&ELe(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},u1t=function n(e,t){return e===1?t:rge(function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var o=r.filter(function(a){return a!==_Le}).length;return o>=e?t.apply(void 0,r):n(e-o,rge(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=r.map(function(d){return ELe(d)?l.shift():d});return t.apply(void 0,r1t(u).concat(l))}))})},W2=function(e){return u1t(e.length,e)},cz=function(e,t){for(var i=[],r=e;r<t;++r)i[r-e]=r;return i},d1t=W2(function(n,e){return Array.isArray(e)?e.map(n):Object.keys(e).map(function(t){return e[t]}).map(n)}),h1t=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return c1t;var r=t.reverse(),s=r[0],o=r.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},uz=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},vLe=function(e){var t=null,i=null;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return t&&s.every(function(a,l){return a===t[l]})||(t=s,i=e.apply(void 0,s)),i}};function f1t(n){var e;return n===0?e=1:e=Math.floor(new Xi(n).abs().log(10).toNumber())+1,e}function g1t(n,e,t){for(var i=new Xi(n),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(t),r++;return s}var p1t=W2(function(n,e,t){var i=+n,r=+e;return i+t*(r-i)}),m1t=W2(function(n,e,t){var i=e-+n;return i=i||1/0,(t-n)/i}),_1t=W2(function(n,e,t){var i=e-+n;return i=i||1/0,Math.max(0,Math.min(1,(t-n)/i))});const $2={rangeStep:g1t,getDigitCount:f1t,interpolateNumber:p1t,uninterpolateNumber:m1t,uninterpolateTruncation:_1t};function dz(n){return S1t(n)||v1t(n)||SLe(n)||E1t()}function E1t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1t(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function S1t(n){if(Array.isArray(n))return hz(n)}function Sw(n,e){return b1t(n)||y1t(n,e)||SLe(n,e)||C1t()}function C1t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SLe(n,e){if(n){if(typeof n=="string")return hz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hz(n,e)}}function hz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function y1t(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],i=!0,r=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(i=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));i=!0);}catch(l){r=!0,s=l}finally{try{!i&&o.return!=null&&o.return()}finally{if(r)throw s}}return t}}function b1t(n){if(Array.isArray(n))return n}function CLe(n){var e=Sw(n,2),t=e[0],i=e[1],r=t,s=i;return t>i&&(r=i,s=t),[r,s]}function yLe(n,e,t){if(n.lte(0))return new Xi(0);var i=$2.getDigitCount(n.toNumber()),r=new Xi(10).pow(i),s=n.div(r),o=i!==1?.05:.1,a=new Xi(Math.ceil(s.div(o).toNumber())).add(t).mul(o),l=a.mul(r);return e?l:new Xi(Math.ceil(l))}function T1t(n,e,t){var i=1,r=new Xi(n);if(!r.isint()&&t){var s=Math.abs(n);s<1?(i=new Xi(10).pow($2.getDigitCount(n)-1),r=new Xi(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new Xi(Math.floor(n)))}else n===0?r=new Xi(Math.floor((e-1)/2)):t||(r=new Xi(Math.floor(n)));var o=Math.floor((e-1)/2),a=h1t(d1t(function(l){return r.add(new Xi(l-o).mul(i)).toNumber()}),cz);return a(0,e)}function bLe(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-n)/(t-1)))return{step:new Xi(0),tickMin:new Xi(0),tickMax:new Xi(0)};var s=yLe(new Xi(e).sub(n).div(t-1),i,r),o;n<=0&&e>=0?o=new Xi(0):(o=new Xi(n).add(e).div(2),o=o.sub(new Xi(o).mod(s)));var a=Math.ceil(o.sub(n).div(s).toNumber()),l=Math.ceil(new Xi(e).sub(o).div(s).toNumber()),c=a+l+1;return c>t?bLe(n,e,t,i,r+1):(c<t&&(l=e>0?l+(t-c):l,a=e>0?a:a+(t-c)),{step:s,tickMin:o.sub(new Xi(a).mul(s)),tickMax:o.add(new Xi(l).mul(s))})}function w1t(n){var e=Sw(n,2),t=e[0],i=e[1],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),a=CLe([t,i]),l=Sw(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(dz(cz(0,r-1).map(function(){return 1/0}))):[].concat(dz(cz(0,r-1).map(function(){return-1/0})),[u]);return t>i?uz(d):d}if(c===u)return T1t(c,r,s);var h=bLe(c,u,o,s),f=h.step,m=h.tickMin,g=h.tickMax,_=$2.rangeStep(m,g.add(new Xi(.1).mul(f)),f);return t>i?uz(_):_}function A1t(n,e){var t=Sw(n,2),i=t[0],r=t[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=CLe([i,r]),a=Sw(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[i,r];if(l===c)return[l];var u=Math.max(e,2),d=yLe(new Xi(c).sub(l).div(u-1),s,0),h=[].concat(dz($2.rangeStep(new Xi(l),new Xi(c).sub(new Xi(.99).mul(d)),d)),[c]);return i>r?uz(h):h}var R1t=vLe(w1t),I1t=vLe(A1t),N1t="Invariant failed";function V_(n,e){throw new Error(N1t)}var L1t=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function MC(n){"@babel/helpers - typeof";return MC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MC(n)}function xD(){return xD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xD.apply(this,arguments)}function O1t(n,e){return k1t(n)||P1t(n,e)||D1t(n,e)||x1t()}function x1t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D1t(n,e){if(n){if(typeof n=="string")return sge(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sge(n,e)}}function sge(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function P1t(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function k1t(n){if(Array.isArray(n))return n}function M1t(n,e){if(n==null)return{};var t=F1t(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function F1t(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function B1t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function U1t(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ALe(i.key),i)}}function H1t(n,e,t){return e&&U1t(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function V1t(n,e,t){return e=DD(e),W1t(n,TLe()?Reflect.construct(e,t||[],DD(n).constructor):e.apply(n,t))}function W1t(n,e){if(e&&(MC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1t(n)}function $1t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function TLe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TLe=function(){return!!n})()}function DD(n){return DD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DD(n)}function G1t(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&fz(n,e)}function fz(n,e){return fz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},fz(n,e)}function wLe(n,e,t){return e=ALe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ALe(n){var e=z1t(n,"string");return MC(e)=="symbol"?e:e+""}function z1t(n,e){if(MC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(MC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Fy=function(n){function e(){return B1t(this,e),V1t(this,e,arguments)}return G1t(e,n),H1t(e,[{key:"render",value:function(){var i=this.props,r=i.offset,s=i.layout,o=i.width,a=i.dataKey,l=i.data,c=i.dataPointFormatter,u=i.xAxis,d=i.yAxis,h=M1t(i,L1t),f=$t(h,!1);this.props.direction==="x"&&u.type!=="number"&&V_();var m=l.map(function(g){var _=c(g,a),v=_.x,S=_.y,C=_.value,y=_.errorVal;if(!y)return null;var b=[],w,I;if(Array.isArray(y)){var O=O1t(y,2);w=O[0],I=O[1]}else w=I=y;if(s==="vertical"){var x=u.scale,k=S+r,P=k+o,M=k-o,W=x(C-w),F=x(C+I);b.push({x1:F,y1:P,x2:F,y2:M}),b.push({x1:W,y1:k,x2:F,y2:k}),b.push({x1:W,y1:P,x2:W,y2:M})}else if(s==="horizontal"){var H=d.scale,V=v+r,Y=V-o,$=V+o,K=H(C-w),re=H(C+I);b.push({x1:Y,y1:re,x2:$,y2:re}),b.push({x1:V,y1:K,x2:V,y2:re}),b.push({x1:Y,y1:K,x2:$,y2:K})}return Z.createElement(Gn,xD({className:"recharts-errorBar",key:"bar-".concat(b.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},f),b.map(function(G){return Z.createElement("line",xD({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return Z.createElement(Gn,{className:"recharts-errorBars"},m)}}])}(Z.Component);wLe(Fy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wLe(Fy,"displayName","ErrorBar");function Cw(n){"@babel/helpers - typeof";return Cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(n)}function oge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Qp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oge(Object(t),!0).forEach(function(i){j1t(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j1t(n,e,t){return e=Y1t(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y1t(n){var e=K1t(n,"string");return Cw(e)=="symbol"?e:e+""}function K1t(n,e){if(Cw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Cw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var RLe=function(e){var t=e.children,i=e.formattedGraphicalItems,r=e.legendWidth,s=e.legendContent,o=hl(t,Qc);if(!o)return null;var a=Qc.defaultProps,l=a!==void 0?Qp(Qp({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(i||[]).reduce(function(u,d){var h=d.item,f=d.props,m=f.sectors||f.data||[];return u.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(i||[]).map(function(u){var d=u.item,h=d.type.defaultProps,f=h!==void 0?Qp(Qp({},h),d.props):{},m=f.dataKey,g=f.name,_=f.legendType,v=f.hide;return{inactive:v,dataKey:m,type:l.iconType||_||"square",color:CQ(d),value:g||m,payload:f}}),Qp(Qp(Qp({},l),Qc.getWithHeight(o,r)),{},{payload:c,item:o})};function yw(n){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yw(n)}function age(n){return Z1t(n)||Q1t(n)||X1t(n)||q1t()}function q1t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X1t(n,e){if(n){if(typeof n=="string")return gz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gz(n,e)}}function Q1t(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Z1t(n){if(Array.isArray(n))return gz(n)}function gz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function lge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lge(Object(t),!0).forEach(function(i){qS(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function qS(n,e,t){return e=J1t(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function J1t(n){var e=ewt(n,"string");return yw(e)=="symbol"?e:e+""}function ewt(n,e){if(yw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(yw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Cr(n,e,t){return cn(n)||cn(e)?t:Bs(e)?Il(n,e,t):ln(e)?e(n):t}function w0(n,e,t,i){var r=J0t(n,function(a){return Cr(a,e)});if(t==="number"){var s=r.filter(function(a){return rt(a)||parseFloat(a)});return s.length?[V2(s),Tg(s)]:[1/0,-1/0]}var o=i?r.filter(function(a){return!cn(a)}):r;return o.map(function(a){return Bs(a)||a instanceof Date?a:""})}var twt=function(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(t=i==null?void 0:i.length)!==null&&t!==void 0?t:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var u=c>0?r[c-1].coordinate:r[a-1].coordinate,d=r[c].coordinate,h=c>=a-1?r[0].coordinate:r[c+1].coordinate,f=void 0;if(ma(d-u)!==ma(h-d)){var m=[];if(ma(h-d)===ma(l[1]-l[0])){f=h;var g=d+l[1]-l[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{f=u;var _=h+l[1]-l[0];m[0]=Math.min(d,(_+d)/2),m[1]=Math.max(d,(_+d)/2)}var v=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){o=r[c].index;break}}else{var S=Math.min(u,h),C=Math.max(u,h);if(e>(S+d)/2&&e<=(C+d)/2){o=r[c].index;break}}}else for(var y=0;y<a;y++)if(y===0&&e<=(i[y].coordinate+i[y+1].coordinate)/2||y>0&&y<a-1&&e>(i[y].coordinate+i[y-1].coordinate)/2&&e<=(i[y].coordinate+i[y+1].coordinate)/2||y===a-1&&e>(i[y].coordinate+i[y-1].coordinate)/2){o=i[y].index;break}return o},CQ=function(e){var t,i=e,r=i.type.displayName,s=(t=e.type)!==null&&t!==void 0&&t.defaultProps?Gr(Gr({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(r){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},nwt=function(e){var t=e.barSize,i=e.totalSize,r=e.stackGroups,s=r===void 0?{}:r;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var u=s[a[l]].stackGroups,d=Object.keys(u),h=0,f=d.length;h<f;h++){var m=u[d[h]],g=m.items,_=m.cateAxisId,v=g.filter(function(I){return Kh(I.type).indexOf("Bar")>=0});if(v&&v.length){var S=v[0].type.defaultProps,C=S!==void 0?Gr(Gr({},S),v[0].props):v[0].props,y=C.barSize,b=C[_];o[b]||(o[b]=[]);var w=cn(y)?t:y;o[b].push({item:v[0],stackList:v.slice(1),barSize:cn(w)?void 0:_a(w,i,0)})}}return o},iwt=function(e){var t=e.barGap,i=e.barCategoryGap,r=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var c=_a(t,r,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=r/l,m=o.reduce(function(y,b){return y+b.barSize||0},0);m+=(l-1)*c,m>=r&&(m-=(l-1)*c,c=0),m>=r&&f>0&&(h=!0,f*=.9,m=l*f);var g=(r-m)/2>>0,_={offset:g-c,size:0};u=o.reduce(function(y,b){var w={item:b.item,position:{offset:_.offset+_.size+c,size:h?f:b.barSize}},I=[].concat(age(y),[w]);return _=I[I.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(O){I.push({item:O,position:_})}),I},d)}else{var v=_a(i,r,0,!0);r-2*v-(l-1)*c<=0&&(c=0);var S=(r-2*v-(l-1)*c)/l;S>1&&(S>>=0);var C=a===+a?Math.min(S,a):S;u=o.reduce(function(y,b,w){var I=[].concat(age(y),[{item:b.item,position:{offset:v+(S+c)*w+(S-C)/2,size:C}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(O){I.push({item:O,position:I[I.length-1].position})}),I},d)}return u},rwt=function(e,t,i,r){var s=i.children,o=i.width,a=i.margin,l=o-(a.left||0)-(a.right||0),c=RLe({children:s,legendWidth:l});if(c){var u=r||{},d=u.width,h=u.height,f=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&f!=="center"&&rt(e[f]))return Gr(Gr({},e),{},qS({},f,e[f]+(d||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&m!=="middle"&&rt(e[m]))return Gr(Gr({},e),{},qS({},m,e[m]+(h||0)))}return e},swt=function(e,t,i){return cn(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||i==="x"?t==="xAxis":i==="y"?t==="yAxis":!0},ILe=function(e,t,i,r,s){var o=t.props.children,a=Ca(o,Fy).filter(function(c){return swt(r,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Cr(u,i);if(cn(d))return c;var h=Array.isArray(d)?[V2(d),Tg(d)]:[d,d],f=l.reduce(function(m,g){var _=Cr(u,g,0),v=h[0]-Math.abs(Array.isArray(_)?_[0]:_),S=h[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(v,m[0]),Math.max(S,m[1])]},[1/0,-1/0]);return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0])}return null},owt=function(e,t,i,r,s){var o=t.map(function(a){return ILe(e,a,i,s,r)}).filter(function(a){return!cn(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},NLe=function(e,t,i,r,s){var o=t.map(function(l){var c=l.props.dataKey;return i==="number"&&c&&ILe(e,l,c,r)||w0(e,c,i,s)});if(i==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},LLe=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},OLe=function(e,t,i,r){if(r)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===t&&(s=!0),l.coordinate===i&&(o=!0),l.coordinate});return s||a.push(t),o||a.push(i),a},Fh=function(e,t,i){if(!e)return null;var r=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?r.bandwidth()/2:2,c=(t||i)&&o==="category"&&r.bandwidth?r.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ma(a[0]-a[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:r(h)+c,value:d,offset:c}});return u.filter(function(d){return!Dy(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:r(d)+c,value:d,index:h,offset:c}}):r.ticks&&!i?r.ticks(e.tickCount).map(function(d){return{coordinate:r(d)+c,value:d,offset:c}}):r.domain().map(function(d,h){return{coordinate:r(d)+c,value:s?s[d]:d,index:h,offset:c}})},tW=new WeakMap,DN=function(e,t){if(typeof t!="function")return e;tW.has(e)||tW.set(e,new WeakMap);var i=tW.get(e);if(i.has(t))return i.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return i.set(t,r),r},xLe=function(e,t,i){var r=e.scale,s=e.type,o=e.layout,a=e.axisType;if(r==="auto")return o==="radial"&&a==="radiusAxis"?{scale:Ew(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:LD(),realScaleType:"linear"}:s==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!i)?{scale:T0(),realScaleType:"point"}:s==="category"?{scale:Ew(),realScaleType:"band"}:{scale:LD(),realScaleType:"linear"};if(B_(r)){var l="scale".concat(L2(r));return{scale:(Kfe[l]||T0)(),realScaleType:Kfe[l]?l:"point"}}return ln(r)?{scale:r}:{scale:T0(),realScaleType:"point"}},cge=1e-4,DLe=function(e){var t=e.domain();if(!(!t||t.length<=2)){var i=t.length,r=e.range(),s=Math.min(r[0],r[1])-cge,o=Math.max(r[0],r[1])+cge,a=e(t[0]),l=e(t[i-1]);(a<s||a>o||l<s||l>o)&&e.domain([t[0],t[i-1]])}},awt=function(e,t){if(!e)return null;for(var i=0,r=e.length;i<r;i++)if(e[i].item===t)return e[i].position;return null},lwt=function(e,t){if(!t||t.length!==2||!rt(t[0])||!rt(t[1]))return e;var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!rt(e[0])||e[0]<i)&&(s[0]=i),(!rt(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<i&&(s[1]=i),s},cwt=function(e){var t=e.length;if(!(t<=0))for(var i=0,r=e[0].length;i<r;++i)for(var s=0,o=0,a=0;a<t;++a){var l=Dy(e[a][i][1])?e[a][i][0]:e[a][i][1];l>=0?(e[a][i][0]=s,e[a][i][1]=s+l,s=e[a][i][1]):(e[a][i][0]=o,e[a][i][1]=o+l,o=e[a][i][1])}},uwt=function(e){var t=e.length;if(!(t<=0))for(var i=0,r=e[0].length;i<r;++i)for(var s=0,o=0;o<t;++o){var a=Dy(e[o][i][1])?e[o][i][0]:e[o][i][1];a>=0?(e[o][i][0]=s,e[o][i][1]=s+a,s=e[o][i][1]):(e[o][i][0]=0,e[o][i][1]=0)}},dwt={sign:cwt,expand:Qyt,none:OC,silhouette:Zyt,wiggle:Jyt,positive:uwt},hwt=function(e,t,i){var r=t.map(function(a){return a.props.dataKey}),s=dwt[i],o=Xyt().keys(r).value(function(a,l){return+Cr(a,l,0)}).order(KG).offset(s);return o(e)},fwt=function(e,t,i,r,s,o){if(!e)return null;var a=o?t.reverse():t,l={},c=a.reduce(function(d,h){var f,m=(f=h.type)!==null&&f!==void 0&&f.defaultProps?Gr(Gr({},h.type.defaultProps),h.props):h.props,g=m.stackId,_=m.hide;if(_)return d;var v=m[i],S=d[v]||{hasStack:!1,stackGroups:{}};if(Bs(g)){var C=S.stackGroups[g]||{numericAxisId:i,cateAxisId:r,items:[]};C.items.push(h),S.hasStack=!0,S.stackGroups[g]=C}else S.stackGroups[Ep("_stackId_")]={numericAxisId:i,cateAxisId:r,items:[h]};return Gr(Gr({},d),{},qS({},v,S))},l),u={};return Object.keys(c).reduce(function(d,h){var f=c[h];if(f.hasStack){var m={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,_){var v=f.stackGroups[_];return Gr(Gr({},g),{},qS({},_,{numericAxisId:i,cateAxisId:r,items:v.items,stackedData:hwt(e,v.items,s)}))},m)}return Gr(Gr({},d),{},qS({},h,f))},u)},PLe=function(e,t){var i=t.realScaleType,r=t.type,s=t.tickCount,o=t.originalDomain,a=t.allowDecimals,l=i||t.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&r==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=R1t(c,s,a);return e.domain([V2(u),Tg(u)]),{niceTicks:u}}if(s&&r==="number"){var d=e.domain(),h=I1t(d,s,a);return{niceTicks:h}}return null};function FC(n){var e=n.axis,t=n.ticks,i=n.bandSize,r=n.entry,s=n.index,o=n.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!cn(r[e.dataKey])){var a=mD(t,"value",r[e.dataKey]);if(a)return a.coordinate+i/2}return t[s]?t[s].coordinate+i/2:null}var l=Cr(r,cn(o)?e.dataKey:o);return cn(l)?null:e.scale(l)}var uge=function(e){var t=e.axis,i=e.ticks,r=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(t.type==="category")return i[a]?i[a].coordinate+r:null;var l=Cr(o,t.dataKey,t.domain[a]);return cn(l)?null:t.scale(l)-s/2+r},gwt=function(e){var t=e.numericAxis,i=t.scale.domain();if(t.type==="number"){var r=Math.min(i[0],i[1]),s=Math.max(i[0],i[1]);return r<=0&&s>=0?0:s<0?s:r}return i[0]},pwt=function(e,t){var i,r=(i=e.type)!==null&&i!==void 0&&i.defaultProps?Gr(Gr({},e.type.defaultProps),e.props):e.props,s=r.stackId;if(Bs(s)){var o=t[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},mwt=function(e){return e.reduce(function(t,i){return[V2(i.concat([t[0]]).filter(rt)),Tg(i.concat([t[1]]).filter(rt))]},[1/0,-1/0])},kLe=function(e,t,i){return Object.keys(e).reduce(function(r,s){var o=e[s],a=o.stackedData,l=a.reduce(function(c,u){var d=mwt(u.slice(t,i+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]).map(function(r){return r===1/0||r===-1/0?0:r})},dge=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hge=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pz=function(e,t,i){if(ln(e))return e(t,i);if(!Array.isArray(e))return t;var r=[];if(rt(e[0]))r[0]=i?e[0]:Math.min(e[0],t[0]);else if(dge.test(e[0])){var s=+dge.exec(e[0])[1];r[0]=t[0]-s}else ln(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(rt(e[1]))r[1]=i?e[1]:Math.max(e[1],t[1]);else if(hge.test(e[1])){var o=+hge.exec(e[1])[1];r[1]=t[1]+o}else ln(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},PD=function(e,t,i){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!i||r>0)return r}if(e&&t&&t.length>=2){for(var s=oQ(t,function(d){return d.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],u=s[a-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return i?void 0:0},fge=function(e,t,i){return!e||!e.length||sp(e,Il(i,"type.defaultProps.domain"))?t:e},MLe=function(e,t){var i=e.type.defaultProps?Gr(Gr({},e.type.defaultProps),e.props):e.props,r=i.dataKey,s=i.name,o=i.unit,a=i.formatter,l=i.tooltipType,c=i.chartType,u=i.hide;return Gr(Gr({},$t(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:s||r,color:CQ(e),value:Cr(t,r),type:l,payload:t,chartType:c,hide:u})};function bw(n){"@babel/helpers - typeof";return bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bw(n)}function gge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gge(Object(t),!0).forEach(function(i){FLe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function FLe(n,e,t){return e=_wt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _wt(n){var e=Ewt(n,"string");return bw(e)=="symbol"?e:e+""}function Ewt(n,e){if(bw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(bw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vwt(n,e){return bwt(n)||ywt(n,e)||Cwt(n,e)||Swt()}function Swt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cwt(n,e){if(n){if(typeof n=="string")return pge(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pge(n,e)}}function pge(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function ywt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function bwt(n){if(Array.isArray(n))return n}var kD=Math.PI/180,Twt=function(e){return e*180/Math.PI},pr=function(e,t,i,r){return{x:e+Math.cos(-kD*r)*i,y:t+Math.sin(-kD*r)*i}},BLe=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(t-(i.top||0)-(i.bottom||0)))/2},wwt=function(e,t,i,r,s){var o=e.width,a=e.height,l=e.startAngle,c=e.endAngle,u=_a(e.cx,o,o/2),d=_a(e.cy,a,a/2),h=BLe(o,a,i),f=_a(e.innerRadius,h,0),m=_a(e.outerRadius,h,h*.8),g=Object.keys(t);return g.reduce(function(_,v){var S=t[v],C=S.domain,y=S.reversed,b;if(cn(S.range))r==="angleAxis"?b=[l,c]:r==="radiusAxis"&&(b=[f,m]),y&&(b=[b[1],b[0]]);else{b=S.range;var w=b,I=vwt(w,2);l=I[0],c=I[1]}var O=xLe(S,s),x=O.realScaleType,k=O.scale;k.domain(C).range(b),DLe(k);var P=PLe(k,uh(uh({},S),{},{realScaleType:x})),M=uh(uh(uh({},S),P),{},{range:b,radius:m,realScaleType:x,scale:k,cx:u,cy:d,innerRadius:f,outerRadius:m,startAngle:l,endAngle:c});return uh(uh({},_),{},FLe({},v,M))},{})},Awt=function(e,t){var i=e.x,r=e.y,s=t.x,o=t.y;return Math.sqrt(Math.pow(i-s,2)+Math.pow(r-o,2))},Rwt=function(e,t){var i=e.x,r=e.y,s=t.cx,o=t.cy,a=Awt({x:i,y:r},{x:s,y:o});if(a<=0)return{radius:a};var l=(i-s)/a,c=Math.acos(l);return r>o&&(c=2*Math.PI-c),{radius:a,angle:Twt(c),angleInRadian:c}},Iwt=function(e){var t=e.startAngle,i=e.endAngle,r=Math.floor(t/360),s=Math.floor(i/360),o=Math.min(r,s);return{startAngle:t-o*360,endAngle:i-o*360}},Nwt=function(e,t){var i=t.startAngle,r=t.endAngle,s=Math.floor(i/360),o=Math.floor(r/360),a=Math.min(s,o);return e+a*360},mge=function(e,t){var i=e.x,r=e.y,s=Rwt({x:i,y:r},t),o=s.radius,a=s.angle,l=t.innerRadius,c=t.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=Iwt(t),d=u.startAngle,h=u.endAngle,f=a,m;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=d}return m?uh(uh({},t),{},{radius:o,angle:Nwt(f,t)}):null},ULe=function(e){return!N.isValidElement(e)&&!ln(e)&&typeof e!="boolean"?e.className:""};function Tw(n){"@babel/helpers - typeof";return Tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tw(n)}var Lwt=["offset"];function Owt(n){return kwt(n)||Pwt(n)||Dwt(n)||xwt()}function xwt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dwt(n,e){if(n){if(typeof n=="string")return mz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mz(n,e)}}function Pwt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kwt(n){if(Array.isArray(n))return mz(n)}function mz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Mwt(n,e){if(n==null)return{};var t=Fwt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Fwt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function _ge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ps(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_ge(Object(t),!0).forEach(function(i){Bwt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_ge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Bwt(n,e,t){return e=Uwt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Uwt(n){var e=Hwt(n,"string");return Tw(e)=="symbol"?e:e+""}function Hwt(n,e){if(Tw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Tw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ww(){return ww=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ww.apply(this,arguments)}var Vwt=function(e){var t=e.value,i=e.formatter,r=cn(e.children)?t:e.children;return ln(i)?i(r):r},Wwt=function(e,t){var i=ma(t-e),r=Math.min(Math.abs(t-e),360);return i*r},$wt=function(e,t,i){var r=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,f=l.startAngle,m=l.endAngle,g=l.clockWise,_=(d+h)/2,v=Wwt(f,m),S=v>=0?1:-1,C,y;r==="insideStart"?(C=f+S*o,y=g):r==="insideEnd"?(C=m-S*o,y=!g):r==="end"&&(C=m+S*o,y=g),y=v<=0?y:!y;var b=pr(c,u,_,C),w=pr(c,u,_,C+(y?1:-1)*359),I="M".concat(b.x,",").concat(b.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(y?0:1,`,
    `).concat(w.x,",").concat(w.y),O=cn(e.id)?Ep("recharts-radial-line-"):e.id;return Z.createElement("text",ww({},i,{dominantBaseline:"central",className:On("recharts-radial-bar-label",a)}),Z.createElement("defs",null,Z.createElement("path",{id:O,d:I})),Z.createElement("textPath",{xlinkHref:"#".concat(O)},t))},Gwt=function(e){var t=e.viewBox,i=e.offset,r=e.position,s=t,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,d=s.endAngle,h=(u+d)/2;if(r==="outside"){var f=pr(o,a,c+i,h),m=f.x,g=f.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var _=(l+c)/2,v=pr(o,a,_,h),S=v.x,C=v.y;return{x:S,y:C,textAnchor:"middle",verticalAnchor:"middle"}},zwt=function(e){var t=e.viewBox,i=e.parentViewBox,r=e.offset,s=e.position,o=t,a=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,h=d*r,f=d>0?"end":"start",m=d>0?"start":"end",g=c>=0?1:-1,_=g*r,v=g>0?"end":"start",S=g>0?"start":"end";if(s==="top"){var C={x:a+c/2,y:l-d*r,textAnchor:"middle",verticalAnchor:f};return Ps(Ps({},C),i?{height:Math.max(l-i.y,0),width:c}:{})}if(s==="bottom"){var y={x:a+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return Ps(Ps({},y),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(s==="left"){var b={x:a-_,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Ps(Ps({},b),i?{width:Math.max(b.x-i.x,0),height:u}:{})}if(s==="right"){var w={x:a+c+_,y:l+u/2,textAnchor:S,verticalAnchor:"middle"};return Ps(Ps({},w),i?{width:Math.max(i.x+i.width-w.x,0),height:u}:{})}var I=i?{width:c,height:u}:{};return s==="insideLeft"?Ps({x:a+_,y:l+u/2,textAnchor:S,verticalAnchor:"middle"},I):s==="insideRight"?Ps({x:a+c-_,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},I):s==="insideTop"?Ps({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},I):s==="insideBottom"?Ps({x:a+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:f},I):s==="insideTopLeft"?Ps({x:a+_,y:l+h,textAnchor:S,verticalAnchor:m},I):s==="insideTopRight"?Ps({x:a+c-_,y:l+h,textAnchor:v,verticalAnchor:m},I):s==="insideBottomLeft"?Ps({x:a+_,y:l+u-h,textAnchor:S,verticalAnchor:f},I):s==="insideBottomRight"?Ps({x:a+c-_,y:l+u-h,textAnchor:v,verticalAnchor:f},I):xy(s)&&(rt(s.x)||$m(s.x))&&(rt(s.y)||$m(s.y))?Ps({x:a+_a(s.x,c),y:l+_a(s.y,u),textAnchor:"end",verticalAnchor:"end"},I):Ps({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},jwt=function(e){return"cx"in e&&rt(e.cx)};function lo(n){var e=n.offset,t=e===void 0?5:e,i=Mwt(n,Lwt),r=Ps({offset:t},i),s=r.viewBox,o=r.position,a=r.value,l=r.children,c=r.content,u=r.className,d=u===void 0?"":u,h=r.textBreakAll;if(!s||cn(a)&&cn(l)&&!N.isValidElement(c)&&!ln(c))return null;if(N.isValidElement(c))return N.cloneElement(c,r);var f;if(ln(c)){if(f=N.createElement(c,r),N.isValidElement(f))return f}else f=Vwt(r);var m=jwt(s),g=$t(r,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return $wt(r,f,g);var _=m?Gwt(r):zwt(r);return Z.createElement(U_,ww({className:On("recharts-label",d)},g,_,{breakAll:h}),f)}lo.displayName="Label";var HLe=function(e){var t=e.cx,i=e.cy,r=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,f=e.top,m=e.left,g=e.width,_=e.height,v=e.clockWise,S=e.labelViewBox;if(S)return S;if(rt(g)&&rt(_)){if(rt(d)&&rt(h))return{x:d,y:h,width:g,height:_};if(rt(f)&&rt(m))return{x:f,y:m,width:g,height:_}}return rt(d)&&rt(h)?{x:d,y:h,width:0,height:0}:rt(t)&&rt(i)?{cx:t,cy:i,startAngle:s||r||0,endAngle:o||r||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:v}:e.viewBox?e.viewBox:{}},Ywt=function(e,t){return e?e===!0?Z.createElement(lo,{key:"label-implicit",viewBox:t}):Bs(e)?Z.createElement(lo,{key:"label-implicit",viewBox:t,value:e}):N.isValidElement(e)?e.type===lo?N.cloneElement(e,{key:"label-implicit",viewBox:t}):Z.createElement(lo,{key:"label-implicit",content:e,viewBox:t}):ln(e)?Z.createElement(lo,{key:"label-implicit",content:e,viewBox:t}):xy(e)?Z.createElement(lo,ww({viewBox:t},e,{key:"label-implicit"})):null:null},Kwt=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&i&&!e.label)return null;var r=e.children,s=HLe(e),o=Ca(r,lo).map(function(l,c){return N.cloneElement(l,{viewBox:t||s,key:"label-".concat(c)})});if(!i)return o;var a=Ywt(e.label,t||s);return[a].concat(Owt(o))};lo.parseViewBox=HLe;lo.renderCallByParent=Kwt;var qwt=VKe();const Xwt=Si(qwt);function Aw(n){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(n)}var Qwt=["valueAccessor"],Zwt=["data","dataKey","clockWise","id","textBreakAll"];function Jwt(n){return iAt(n)||nAt(n)||tAt(n)||eAt()}function eAt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tAt(n,e){if(n){if(typeof n=="string")return _z(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _z(n,e)}}function nAt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function iAt(n){if(Array.isArray(n))return _z(n)}function _z(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function MD(){return MD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},MD.apply(this,arguments)}function Ege(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ege(Object(t),!0).forEach(function(i){rAt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ege(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function rAt(n,e,t){return e=sAt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sAt(n){var e=oAt(n,"string");return Aw(e)=="symbol"?e:e+""}function oAt(n,e){if(Aw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Aw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Sge(n,e){if(n==null)return{};var t=aAt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function aAt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var lAt=function(e){return Array.isArray(e.value)?Xwt(e.value):e.value};function au(n){var e=n.valueAccessor,t=e===void 0?lAt:e,i=Sge(n,Qwt),r=i.data,s=i.dataKey,o=i.clockWise,a=i.id,l=i.textBreakAll,c=Sge(i,Zwt);return!r||!r.length?null:Z.createElement(Gn,{className:"recharts-label-list"},r.map(function(u,d){var h=cn(s)?t(u,d):Cr(u&&u.payload,s),f=cn(a)?{}:{id:"".concat(a,"-").concat(d)};return Z.createElement(lo,MD({},$t(u,!0),c,f,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:lo.parseViewBox(cn(o)?u:vge(vge({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}au.displayName="LabelList";function cAt(n,e){return n?n===!0?Z.createElement(au,{key:"labelList-implicit",data:e}):Z.isValidElement(n)||ln(n)?Z.createElement(au,{key:"labelList-implicit",data:e,content:n}):xy(n)?Z.createElement(au,MD({data:e},n,{key:"labelList-implicit"})):null:null}function uAt(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&t&&!n.label)return null;var i=n.children,r=Ca(i,au).map(function(o,a){return N.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!t)return r;var s=cAt(n.label,e);return[s].concat(Jwt(r))}au.renderCallByParent=uAt;function Rw(n){"@babel/helpers - typeof";return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rw(n)}function Ez(){return Ez=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ez.apply(this,arguments)}function Cge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cge(Object(t),!0).forEach(function(i){dAt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dAt(n,e,t){return e=hAt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hAt(n){var e=fAt(n,"string");return Rw(e)=="symbol"?e:e+""}function fAt(n,e){if(Rw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Rw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var gAt=function(e,t){var i=ma(t-e),r=Math.min(Math.abs(t-e),359.999);return i*r},PN=function(e){var t=e.cx,i=e.cy,r=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+r,d=Math.asin(l/u)/kD,h=c?s:s+o*d,f=pr(t,i,u,h),m=pr(t,i,r,h),g=c?s-o*d:s,_=pr(t,i,u*Math.cos(d*kD),g);return{center:f,circleTangency:m,lineTangency:_,theta:d}},VLe=function(e){var t=e.cx,i=e.cy,r=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=gAt(o,a),c=o+l,u=pr(t,i,s,o),d=pr(t,i,s,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var f=pr(t,i,r,o),m=pr(t,i,r,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(t,",").concat(i," Z");return h},pAt=function(e){var t=e.cx,i=e.cy,r=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=ma(u-c),h=PN({cx:t,cy:i,radius:s,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),f=h.circleTangency,m=h.lineTangency,g=h.theta,_=PN({cx:t,cy:i,radius:s,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),v=_.circleTangency,S=_.lineTangency,C=_.theta,y=l?Math.abs(c-u):Math.abs(c-u)-g-C;if(y<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):VLe({cx:t,cy:i,innerRadius:r,outerRadius:s,startAngle:c,endAngle:u});var b="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var w=PN({cx:t,cy:i,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=w.circleTangency,O=w.lineTangency,x=w.theta,k=PN({cx:t,cy:i,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=k.circleTangency,M=k.lineTangency,W=k.theta,F=l?Math.abs(c-u):Math.abs(c-u)-x-W;if(F<0&&o===0)return"".concat(b,"L").concat(t,",").concat(i,"Z");b+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(F>180),",").concat(+(d>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else b+="L".concat(t,",").concat(i,"Z");return b},mAt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WLe=function(e){var t=yge(yge({},mAt),e),i=t.cx,r=t.cy,s=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(o<s||u===d)return null;var f=On("recharts-sector",h),m=o-s,g=_a(a,m,0,!0),_;return g>0&&Math.abs(u-d)<360?_=pAt({cx:i,cy:r,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):_=VLe({cx:i,cy:r,innerRadius:s,outerRadius:o,startAngle:u,endAngle:d}),Z.createElement("path",Ez({},$t(t,!0),{className:f,d:_,role:"img"}))};function Iw(n){"@babel/helpers - typeof";return Iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iw(n)}function vz(){return vz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vz.apply(this,arguments)}function bge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Tge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bge(Object(t),!0).forEach(function(i){_At(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function _At(n,e,t){return e=EAt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EAt(n){var e=vAt(n,"string");return Iw(e)=="symbol"?e:e+""}function vAt(n,e){if(Iw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Iw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var wge={curveBasisClosed:Uyt,curveBasisOpen:Hyt,curveBasis:Byt,curveBumpX:Tyt,curveBumpY:wyt,curveLinearClosed:Vyt,curveLinear:x2,curveMonotoneX:Wyt,curveMonotoneY:$yt,curveNatural:Gyt,curveStep:zyt,curveStepAfter:Yyt,curveStepBefore:jyt},kN=function(e){return e.x===+e.x&&e.y===+e.y},tT=function(e){return e.x},nT=function(e){return e.y},SAt=function(e,t){if(ln(e))return e;var i="curve".concat(L2(e));return(i==="curveMonotone"||i==="curveBump")&&t?wge["".concat(i).concat(t==="vertical"?"Y":"X")]:wge[i]||x2},CAt=function(e){var t=e.type,i=t===void 0?"linear":t,r=e.points,s=r===void 0?[]:r,o=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=SAt(i,a),d=c?s.filter(function(g){return kN(g)}):s,h;if(Array.isArray(o)){var f=c?o.filter(function(g){return kN(g)}):o,m=d.map(function(g,_){return Tge(Tge({},g),{},{base:f[_]})});return a==="vertical"?h=NN().y(nT).x1(tT).x0(function(g){return g.base.x}):h=NN().x(tT).y1(nT).y0(function(g){return g.base.y}),h.defined(kN).curve(u),h(m)}return a==="vertical"&&rt(o)?h=NN().y(nT).x1(tT).x0(o):rt(o)?h=NN().x(tT).y1(nT).y0(o):h=ENe().x(tT).y(nT),h.defined(kN).curve(u),h(d)},Mg=function(e){var t=e.className,i=e.points,r=e.path,s=e.pathRef;if((!i||!i.length)&&!r)return null;var o=i&&i.length?CAt(e):r;return Z.createElement("path",vz({},$t(e,!1),_D(e),{className:On("recharts-curve",t),d:o,ref:s}))},yAt=Object.getOwnPropertyNames,bAt=Object.getOwnPropertySymbols,TAt=Object.prototype.hasOwnProperty;function Age(n,e){return function(i,r,s){return n(i,r,s)&&e(i,r,s)}}function MN(n){return function(t,i,r){if(!t||!i||typeof t!="object"||typeof i!="object")return n(t,i,r);var s=r.cache,o=s.get(t),a=s.get(i);if(o&&a)return o===i&&a===t;s.set(t,i),s.set(i,t);var l=n(t,i,r);return s.delete(t),s.delete(i),l}}function Rge(n){return yAt(n).concat(bAt(n))}var wAt=Object.hasOwn||function(n,e){return TAt.call(n,e)};function mE(n,e){return n===e||!n&&!e&&n!==n&&e!==e}var AAt="__v",RAt="__o",IAt="_owner",Ige=Object.getOwnPropertyDescriptor,Nge=Object.keys;function NAt(n,e,t){var i=n.length;if(e.length!==i)return!1;for(;i-- >0;)if(!t.equals(n[i],e[i],i,i,n,e,t))return!1;return!0}function LAt(n,e){return mE(n.getTime(),e.getTime())}function OAt(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function xAt(n,e){return n===e}function Lge(n,e,t){var i=n.size;if(i!==e.size)return!1;if(!i)return!0;for(var r=new Array(i),s=n.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var c=e.entries(),u=!1,d=0;(a=c.next())&&!a.done;){if(r[d]){d++;continue}var h=o.value,f=a.value;if(t.equals(h[0],f[0],l,d,n,e,t)&&t.equals(h[1],f[1],h[0],f[0],n,e,t)){u=r[d]=!0;break}d++}if(!u)return!1;l++}return!0}var DAt=mE;function PAt(n,e,t){var i=Nge(n),r=i.length;if(Nge(e).length!==r)return!1;for(;r-- >0;)if(!$Le(n,e,t,i[r]))return!1;return!0}function iT(n,e,t){var i=Rge(n),r=i.length;if(Rge(e).length!==r)return!1;for(var s,o,a;r-- >0;)if(s=i[r],!$Le(n,e,t,s)||(o=Ige(n,s),a=Ige(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function kAt(n,e){return mE(n.valueOf(),e.valueOf())}function MAt(n,e){return n.source===e.source&&n.flags===e.flags}function Oge(n,e,t){var i=n.size;if(i!==e.size)return!1;if(!i)return!0;for(var r=new Array(i),s=n.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!r[u]&&t.equals(o.value,a.value,o.value,a.value,n,e,t)){c=r[u]=!0;break}u++}if(!c)return!1}return!0}function FAt(n,e){var t=n.length;if(e.length!==t)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function BAt(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function $Le(n,e,t,i){return(i===IAt||i===RAt||i===AAt)&&(n.$$typeof||e.$$typeof)?!0:wAt(e,i)&&t.equals(n[i],e[i],i,i,n,e,t)}var UAt="[object Arguments]",HAt="[object Boolean]",VAt="[object Date]",WAt="[object Error]",$At="[object Map]",GAt="[object Number]",zAt="[object Object]",jAt="[object RegExp]",YAt="[object Set]",KAt="[object String]",qAt="[object URL]",XAt=Array.isArray,xge=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Dge=Object.assign,QAt=Object.prototype.toString.call.bind(Object.prototype.toString);function ZAt(n){var e=n.areArraysEqual,t=n.areDatesEqual,i=n.areErrorsEqual,r=n.areFunctionsEqual,s=n.areMapsEqual,o=n.areNumbersEqual,a=n.areObjectsEqual,l=n.arePrimitiveWrappersEqual,c=n.areRegExpsEqual,u=n.areSetsEqual,d=n.areTypedArraysEqual,h=n.areUrlsEqual;return function(m,g,_){if(m===g)return!0;if(m==null||g==null)return!1;var v=typeof m;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?o(m,g,_):v==="function"?r(m,g,_):!1;var S=m.constructor;if(S!==g.constructor)return!1;if(S===Object)return a(m,g,_);if(XAt(m))return e(m,g,_);if(xge!=null&&xge(m))return d(m,g,_);if(S===Date)return t(m,g,_);if(S===RegExp)return c(m,g,_);if(S===Map)return s(m,g,_);if(S===Set)return u(m,g,_);var C=QAt(m);return C===VAt?t(m,g,_):C===jAt?c(m,g,_):C===$At?s(m,g,_):C===YAt?u(m,g,_):C===zAt?typeof m.then!="function"&&typeof g.then!="function"&&a(m,g,_):C===qAt?h(m,g,_):C===WAt?i(m,g,_):C===UAt?a(m,g,_):C===HAt||C===GAt||C===KAt?l(m,g,_):!1}}function JAt(n){var e=n.circular,t=n.createCustomConfig,i=n.strict,r={areArraysEqual:i?iT:NAt,areDatesEqual:LAt,areErrorsEqual:OAt,areFunctionsEqual:xAt,areMapsEqual:i?Age(Lge,iT):Lge,areNumbersEqual:DAt,areObjectsEqual:i?iT:PAt,arePrimitiveWrappersEqual:kAt,areRegExpsEqual:MAt,areSetsEqual:i?Age(Oge,iT):Oge,areTypedArraysEqual:i?iT:FAt,areUrlsEqual:BAt};if(t&&(r=Dge({},r,t(r))),e){var s=MN(r.areArraysEqual),o=MN(r.areMapsEqual),a=MN(r.areObjectsEqual),l=MN(r.areSetsEqual);r=Dge({},r,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return r}function eRt(n){return function(e,t,i,r,s,o,a){return n(e,t,a)}}function tRt(n){var e=n.circular,t=n.comparator,i=n.createState,r=n.equals,s=n.strict;if(i)return function(l,c){var u=i(),d=u.cache,h=d===void 0?e?new WeakMap:void 0:d,f=u.meta;return t(l,c,{cache:h,equals:r,meta:f,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};var o={cache:void 0,equals:r,meta:void 0,strict:s};return function(l,c){return t(l,c,o)}}var nRt=Cp();Cp({strict:!0});Cp({circular:!0});Cp({circular:!0,strict:!0});Cp({createInternalComparator:function(){return mE}});Cp({strict:!0,createInternalComparator:function(){return mE}});Cp({circular:!0,createInternalComparator:function(){return mE}});Cp({circular:!0,createInternalComparator:function(){return mE},strict:!0});function Cp(n){n===void 0&&(n={});var e=n.circular,t=e===void 0?!1:e,i=n.createInternalComparator,r=n.createState,s=n.strict,o=s===void 0?!1:s,a=JAt(n),l=ZAt(a),c=i?i(l):eRt(l);return tRt({circular:t,comparator:l,createState:r,equals:c,strict:o})}function iRt(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function Pge(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,i=function r(s){t<0&&(t=s),s-t>e?(n(s),t=-1):iRt(r)};requestAnimationFrame(i)}function Sz(n){"@babel/helpers - typeof";return Sz=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sz(n)}function rRt(n){return lRt(n)||aRt(n)||oRt(n)||sRt()}function sRt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oRt(n,e){if(n){if(typeof n=="string")return kge(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kge(n,e)}}function kge(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function aRt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function lRt(n){if(Array.isArray(n))return n}function cRt(){var n={},e=function(){return null},t=!1,i=function r(s){if(!t){if(Array.isArray(s)){if(!s.length)return;var o=s,a=rRt(o),l=a[0],c=a.slice(1);if(typeof l=="number"){Pge(r.bind(null,c),l);return}r(l),Pge(r.bind(null,c));return}Sz(s)==="object"&&(n=s,e(n)),typeof s=="function"&&s()}};return{stop:function(){t=!0},start:function(s){t=!1,i(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Nw(n){"@babel/helpers - typeof";return Nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nw(n)}function Mge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Fge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mge(Object(t),!0).forEach(function(i){GLe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function GLe(n,e,t){return e=uRt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uRt(n){var e=dRt(n,"string");return Nw(e)==="symbol"?e:String(e)}function dRt(n,e){if(Nw(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Nw(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hRt=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(i,r){return i.filter(function(s){return r.includes(s)})})},fRt=function(e){return e},gRt=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},A0=function(e,t){return Object.keys(t).reduce(function(i,r){return Fge(Fge({},i),{},GLe({},r,e(r,t[r])))},{})},Bge=function(e,t,i){return e.map(function(r){return"".concat(gRt(r)," ").concat(t,"ms ").concat(i)}).join(",")};function pRt(n,e){return ERt(n)||_Rt(n,e)||zLe(n,e)||mRt()}function mRt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Rt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function ERt(n){if(Array.isArray(n))return n}function vRt(n){return yRt(n)||CRt(n)||zLe(n)||SRt()}function SRt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zLe(n,e){if(n){if(typeof n=="string")return Cz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cz(n,e)}}function CRt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function yRt(n){if(Array.isArray(n))return Cz(n)}function Cz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var FD=1e-4,jLe=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},YLe=function(e,t){return e.map(function(i,r){return i*Math.pow(t,r)}).reduce(function(i,r){return i+r})},Uge=function(e,t){return function(i){var r=jLe(e,t);return YLe(r,i)}},bRt=function(e,t){return function(i){var r=jLe(e,t),s=[].concat(vRt(r.map(function(o,a){return o*a}).slice(1)),[0]);return YLe(s,i)}},Hge=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0],s=t[1],o=t[2],a=t[3];if(t.length===1)switch(t[0]){case"linear":r=0,s=0,o=1,a=1;break;case"ease":r=.25,s=.1,o=.25,a=1;break;case"ease-in":r=.42,s=0,o=1,a=1;break;case"ease-out":r=.42,s=0,o=.58,a=1;break;case"ease-in-out":r=0,s=0,o=.58,a=1;break;default:{var l=t[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),u=pRt(c,4);r=u[0],s=u[1],o=u[2],a=u[3]}}}var d=Uge(r,o),h=Uge(s,a),f=bRt(r,o),m=function(v){return v>1?1:v<0?0:v},g=function(v){for(var S=v>1?1:v,C=S,y=0;y<8;++y){var b=d(C)-S,w=f(C);if(Math.abs(b-S)<FD||w<FD)return h(C);C=m(C-b/w)}return h(C)};return g.isStepper=!1,g},TRt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,i=t===void 0?100:t,r=e.damping,s=r===void 0?8:r,o=e.dt,a=o===void 0?17:o,l=function(u,d,h){var f=-(u-d)*i,m=h*s,g=h+(f-m)*a/1e3,_=h*a/1e3+u;return Math.abs(_-d)<FD&&Math.abs(g)<FD?[d,0]:[_,g]};return l.isStepper=!0,l.dt=a,l},wRt=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0];if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Hge(r);case"spring":return TRt();default:if(r.split("(")[0]==="cubic-bezier")return Hge(r)}return typeof r=="function"?r:null};function Lw(n){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lw(n)}function Vge(n){return IRt(n)||RRt(n)||KLe(n)||ARt()}function ARt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RRt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function IRt(n){if(Array.isArray(n))return bz(n)}function Wge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function So(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wge(Object(t),!0).forEach(function(i){yz(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function yz(n,e,t){return e=NRt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NRt(n){var e=LRt(n,"string");return Lw(e)==="symbol"?e:String(e)}function LRt(n,e){if(Lw(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Lw(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ORt(n,e){return PRt(n)||DRt(n,e)||KLe(n,e)||xRt()}function xRt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KLe(n,e){if(n){if(typeof n=="string")return bz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bz(n,e)}}function bz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function DRt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function PRt(n){if(Array.isArray(n))return n}var BD=function(e,t,i){return e+(t-e)*i},Tz=function(e){var t=e.from,i=e.to;return t!==i},kRt=function n(e,t,i){var r=A0(function(s,o){if(Tz(o)){var a=e(o.from,o.to,o.velocity),l=ORt(a,2),c=l[0],u=l[1];return So(So({},o),{},{from:c,velocity:u})}return o},t);return i<1?A0(function(s,o){return Tz(o)?So(So({},o),{},{velocity:BD(o.velocity,r[s].velocity,i),from:BD(o.from,r[s].from,i)}):o},t):n(e,r,i-1)};const MRt=function(n,e,t,i,r){var s=hRt(n,e),o=s.reduce(function(_,v){return So(So({},_),{},yz({},v,[n[v],e[v]]))},{}),a=s.reduce(function(_,v){return So(So({},_),{},yz({},v,{from:n[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return A0(function(v,S){return S.from},a)},f=function(){return!Object.values(a).filter(Tz).length},m=function(v){c||(c=v);var S=v-c,C=S/t.dt;a=kRt(t,a,C),r(So(So(So({},n),e),h())),c=v,f()||(l=requestAnimationFrame(d))},g=function(v){u||(u=v);var S=(v-u)/i,C=A0(function(b,w){return BD.apply(void 0,Vge(w).concat([t(S)]))},o);if(r(So(So(So({},n),e),C)),S<1)l=requestAnimationFrame(d);else{var y=A0(function(b,w){return BD.apply(void 0,Vge(w).concat([t(1)]))},o);r(So(So(So({},n),e),y))}};return d=t.isStepper?m:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function BC(n){"@babel/helpers - typeof";return BC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BC(n)}var FRt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function BRt(n,e){if(n==null)return{};var t=URt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function URt(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function nW(n){return $Rt(n)||WRt(n)||VRt(n)||HRt()}function HRt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VRt(n,e){if(n){if(typeof n=="string")return wz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wz(n,e)}}function WRt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $Rt(n){if(Array.isArray(n))return wz(n)}function wz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function $ge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Dc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$ge(Object(t),!0).forEach(function(i){LT(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$ge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function LT(n,e,t){return e=qLe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GRt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zRt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,qLe(i.key),i)}}function jRt(n,e,t){return e&&zRt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function qLe(n){var e=YRt(n,"string");return BC(e)==="symbol"?e:String(e)}function YRt(n,e){if(BC(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(BC(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KRt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Az(n,e)}function Az(n,e){return Az=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Az(n,e)}function qRt(n){var e=XRt();return function(){var i=UD(n),r;if(e){var s=UD(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Rz(this,r)}}function Rz(n,e){if(e&&(BC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iz(n)}function Iz(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function XRt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function UD(n){return UD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},UD(n)}var mc=function(n){KRt(t,n);var e=qRt(t);function t(i,r){var s;GRt(this,t),s=e.call(this,i,r);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,h=o.children,f=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Iz(s)),s.changeStyle=s.changeStyle.bind(Iz(s)),!a||f<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:u}),Rz(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof h=="function")return s.state={style:c},Rz(s);s.state={style:l?LT({},l,c):c}}else s.state={style:{}};return s}return jRt(t,[{key:"componentDidMount",value:function(){var r=this.props,s=r.isActive,o=r.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(r){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,d=s.from,h=this.state.style;if(a){if(!o){var f={style:l?LT({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(f);return}if(!(nRt(r.to,u)&&r.canBegin&&r.isActive)){var m=!r.canBegin||!r.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?d:r.to;if(this.state&&h){var _={style:l?LT({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(_)}this.runAnimation(Dc(Dc({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var r=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}},{key:"handleStyleChange",value:function(r){this.changeStyle(r)}},{key:"changeStyle",value:function(r){this.mounted&&this.setState({style:r})}},{key:"runJSAnimation",value:function(r){var s=this,o=r.from,a=r.to,l=r.duration,c=r.easing,u=r.begin,d=r.onAnimationEnd,h=r.onAnimationStart,f=MRt(o,a,wRt(c),l,this.changeStyle),m=function(){s.stopJSAnimation=f()};this.manager.start([h,u,m,l,d])}},{key:"runStepAnimation",value:function(r){var s=this,o=r.steps,a=r.begin,l=r.onAnimationStart,c=o[0],u=c.style,d=c.duration,h=d===void 0?0:d,f=function(g,_,v){if(v===0)return g;var S=_.duration,C=_.easing,y=C===void 0?"ease":C,b=_.style,w=_.properties,I=_.onAnimationEnd,O=v>0?o[v-1]:_,x=w||Object.keys(b);if(typeof y=="function"||y==="spring")return[].concat(nW(g),[s.runJSAnimation.bind(s,{from:O.style,to:b,duration:S,easing:y}),S]);var k=Bge(x,S,y),P=Dc(Dc(Dc({},O.style),b),{},{transition:k});return[].concat(nW(g),[P,S,I]).filter(fRt)};return this.manager.start([l].concat(nW(o.reduce(f,[u,Math.max(h,a)])),[r.onAnimationEnd]))}},{key:"runAnimation",value:function(r){this.manager||(this.manager=cRt());var s=r.begin,o=r.duration,a=r.attributeName,l=r.to,c=r.easing,u=r.onAnimationStart,d=r.onAnimationEnd,h=r.steps,f=r.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(r);return}if(h.length>1){this.runStepAnimation(r);return}var g=a?LT({},a,l):l,_=Bge(Object.keys(g),o,c);m.start([u,s,Dc(Dc({},g),{},{transition:_}),o,d])}},{key:"render",value:function(){var r=this.props,s=r.children;r.begin;var o=r.duration;r.attributeName,r.easing;var a=r.isActive;r.steps,r.from,r.to,r.canBegin,r.onAnimationEnd,r.shouldReAnimate,r.onAnimationReStart;var l=BRt(r,FRt),c=N.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!a||c===0||o<=0)return s;var d=function(f){var m=f.props,g=m.style,_=g===void 0?{}:g,v=m.className,S=N.cloneElement(f,Dc(Dc({},l),{},{style:Dc(Dc({},_),u),className:v}));return S};return c===1?d(N.Children.only(s)):Z.createElement("div",null,N.Children.map(s,function(h){return d(h)}))}}]),t}(N.PureComponent);mc.displayName="Animate";mc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};mc.propTypes={from:Ui.oneOfType([Ui.object,Ui.string]),to:Ui.oneOfType([Ui.object,Ui.string]),attributeName:Ui.string,duration:Ui.number,begin:Ui.number,easing:Ui.oneOfType([Ui.string,Ui.func]),steps:Ui.arrayOf(Ui.shape({duration:Ui.number.isRequired,style:Ui.object.isRequired,easing:Ui.oneOfType([Ui.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ui.func]),properties:Ui.arrayOf("string"),onAnimationEnd:Ui.func})),children:Ui.oneOfType([Ui.node,Ui.func]),isActive:Ui.bool,canBegin:Ui.bool,onAnimationEnd:Ui.func,shouldReAnimate:Ui.bool,onAnimationStart:Ui.func,onAnimationReStart:Ui.func};function Ow(n){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(n)}function HD(){return HD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},HD.apply(this,arguments)}function QRt(n,e){return tIt(n)||eIt(n,e)||JRt(n,e)||ZRt()}function ZRt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JRt(n,e){if(n){if(typeof n=="string")return Gge(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gge(n,e)}}function Gge(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function eIt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function tIt(n){if(Array.isArray(n))return n}function zge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zge(Object(t),!0).forEach(function(i){nIt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function nIt(n,e,t){return e=iIt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iIt(n){var e=rIt(n,"string");return Ow(e)=="symbol"?e:e+""}function rIt(n,e){if(Ow(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Ow(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Yge=function(e,t,i,r,s){var o=Math.min(Math.abs(i)/2,Math.abs(r)/2),a=r>=0?1:-1,l=i>=0?1:-1,c=r>=0&&i>=0||r<0&&i<0?1:0,u;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>o?o:s[h];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+i-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+i,",").concat(t+a*d[1])),u+="L ".concat(e+i,",").concat(t+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+i-l*d[2],",").concat(t+r)),u+="L ".concat(e+l*d[3],",").concat(t+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-a*d[3])),u+="Z"}else if(o>0&&s===+s&&s>0){var m=Math.min(o,s);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+i-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+i,",").concat(t+a*m,`
            L `).concat(e+i,",").concat(t+r-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+i-l*m,",").concat(t+r,`
            L `).concat(e+l*m,",").concat(t+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+r-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(i," v ").concat(r," h ").concat(-i," Z");return u},sIt=function(e,t){if(!e||!t)return!1;var i=e.x,r=e.y,s=t.x,o=t.y,a=t.width,l=t.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),u=Math.max(s,s+a),d=Math.min(o,o+l),h=Math.max(o,o+l);return i>=c&&i<=u&&r>=d&&r<=h}return!1},oIt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yQ=function(e){var t=jge(jge({},oIt),e),i=N.useRef(),r=N.useState(-1),s=QRt(r,2),o=s[0],a=s[1];N.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var y=i.current.getTotalLength();y&&a(y)}catch{}},[]);var l=t.x,c=t.y,u=t.width,d=t.height,h=t.radius,f=t.className,m=t.animationEasing,g=t.animationDuration,_=t.animationBegin,v=t.isAnimationActive,S=t.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var C=On("recharts-rectangle",f);return S?Z.createElement(mc,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:g,animationEasing:m,isActive:S},function(y){var b=y.width,w=y.height,I=y.x,O=y.y;return Z.createElement(mc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:g,isActive:v,easing:m},Z.createElement("path",HD({},$t(t,!0),{className:C,d:Yge(I,O,b,w,h),ref:i})))}):Z.createElement("path",HD({},$t(t,!0),{className:C,d:Yge(l,c,u,d,h)}))},aIt=["points","className","baseLinePoints","connectNulls"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jv.apply(this,arguments)}function lIt(n,e){if(n==null)return{};var t=cIt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function cIt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Kge(n){return fIt(n)||hIt(n)||dIt(n)||uIt()}function uIt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dIt(n,e){if(n){if(typeof n=="string")return Nz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nz(n,e)}}function hIt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function fIt(n){if(Array.isArray(n))return Nz(n)}function Nz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var qge=function(e){return e&&e.x===+e.x&&e.y===+e.y},gIt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[[]];return e.forEach(function(i){qge(i)?t[t.length-1].push(i):t[t.length-1].length>0&&t.push([])}),qge(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},R0=function(e,t){var i=gIt(e);t&&(i=[i.reduce(function(s,o){return[].concat(Kge(s),Kge(o))},[])]);var r=i.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return i.length===1?"".concat(r,"Z"):r},pIt=function(e,t,i){var r=R0(e,i);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(R0(t.reverse(),i).slice(1))},mIt=function(e){var t=e.points,i=e.className,r=e.baseLinePoints,s=e.connectNulls,o=lIt(e,aIt);if(!t||!t.length)return null;var a=On("recharts-polygon",i);if(r&&r.length){var l=o.stroke&&o.stroke!=="none",c=pIt(t,r,s);return Z.createElement("g",{className:a},Z.createElement("path",Jv({},$t(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?Z.createElement("path",Jv({},$t(o,!0),{fill:"none",d:R0(t,s)})):null,l?Z.createElement("path",Jv({},$t(o,!0),{fill:"none",d:R0(r,s)})):null)}var u=R0(t,s);return Z.createElement("path",Jv({},$t(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:a,d:u}))};function Lz(){return Lz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lz.apply(this,arguments)}var VA=function(e){var t=e.cx,i=e.cy,r=e.r,s=e.className,o=On("recharts-dot",s);return t===+t&&i===+i&&r===+r?Z.createElement("circle",Lz({},$t(e,!1),_D(e),{className:o,cx:t,cy:i,r})):null};function xw(n){"@babel/helpers - typeof";return xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xw(n)}var _It=["x","y","top","left","width","height","className"];function Oz(){return Oz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Oz.apply(this,arguments)}function Xge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function EIt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xge(Object(t),!0).forEach(function(i){vIt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vIt(n,e,t){return e=SIt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SIt(n){var e=CIt(n,"string");return xw(e)=="symbol"?e:e+""}function CIt(n,e){if(xw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(xw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yIt(n,e){if(n==null)return{};var t=bIt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function bIt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var TIt=function(e,t,i,r,s,o){return"M".concat(e,",").concat(s,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(i)},wIt=function(e){var t=e.x,i=t===void 0?0:t,r=e.y,s=r===void 0?0:r,o=e.top,a=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,f=h===void 0?0:h,m=e.className,g=yIt(e,_It),_=EIt({x:i,y:s,top:a,left:c,width:d,height:f},g);return!rt(i)||!rt(s)||!rt(d)||!rt(f)||!rt(a)||!rt(c)?null:Z.createElement("path",Oz({},$t(_,!0),{className:On("recharts-cross",m),d:TIt(i,s,d,f,a,c)}))},iW,Qge;function AIt(){if(Qge)return iW;Qge=1;var n=H2(),e=uLe(),t=Nd();function i(r,s){return r&&r.length?n(r,t(s,2),e):void 0}return iW=i,iW}var RIt=AIt();const IIt=Si(RIt);var rW,Zge;function NIt(){if(Zge)return rW;Zge=1;var n=H2(),e=Nd(),t=dLe();function i(r,s){return r&&r.length?n(r,e(s,2),t):void 0}return rW=i,rW}var LIt=NIt();const OIt=Si(LIt);var xIt=["cx","cy","angle","ticks","axisLine"],DIt=["ticks","tick","angle","tickFormatter","stroke"];function UC(n){"@babel/helpers - typeof";return UC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UC(n)}function I0(){return I0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},I0.apply(this,arguments)}function Jge(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Zp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jge(Object(t),!0).forEach(function(i){G2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jge(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function epe(n,e){if(n==null)return{};var t=PIt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function PIt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function kIt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tpe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,QLe(i.key),i)}}function MIt(n,e,t){return e&&tpe(n.prototype,e),t&&tpe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function FIt(n,e,t){return e=VD(e),BIt(n,XLe()?Reflect.construct(e,t||[],VD(n).constructor):e.apply(n,t))}function BIt(n,e){if(e&&(UC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UIt(n)}function UIt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function XLe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XLe=function(){return!!n})()}function VD(n){return VD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},VD(n)}function HIt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&xz(n,e)}function xz(n,e){return xz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},xz(n,e)}function G2(n,e,t){return e=QLe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function QLe(n){var e=VIt(n,"string");return UC(e)=="symbol"?e:e+""}function VIt(n,e){if(UC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(UC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var z2=function(n){function e(){return kIt(this,e),FIt(this,e,arguments)}return HIt(e,n),MIt(e,[{key:"getTickValueCoord",value:function(i){var r=i.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return pr(a,l,r,o)}},{key:"getTickTextAnchor",value:function(){var i=this.props.orientation,r;switch(i){case"left":r="end";break;case"right":r="start";break;default:r="middle";break}return r}},{key:"getViewBox",value:function(){var i=this.props,r=i.cx,s=i.cy,o=i.angle,a=i.ticks,l=IIt(a,function(u){return u.coordinate||0}),c=OIt(a,function(u){return u.coordinate||0});return{cx:r,cy:s,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var i=this.props,r=i.cx,s=i.cy,o=i.angle,a=i.ticks,l=i.axisLine,c=epe(i,xIt),u=a.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),d=pr(r,s,u[0],o),h=pr(r,s,u[1],o),f=Zp(Zp(Zp({},$t(c,!1)),{},{fill:"none"},$t(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return Z.createElement("line",I0({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var i=this,r=this.props,s=r.ticks,o=r.tick,a=r.angle,l=r.tickFormatter,c=r.stroke,u=epe(r,DIt),d=this.getTickTextAnchor(),h=$t(u,!1),f=$t(o,!1),m=s.map(function(g,_){var v=i.getTickValueCoord(g),S=Zp(Zp(Zp(Zp({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:c},f),{},{index:_},v),{},{payload:g});return Z.createElement(Gn,I0({className:On("recharts-polar-radius-axis-tick",ULe(o)),key:"tick-".concat(g.coordinate)},rp(i.props,g,_)),e.renderTickItem(o,S,l?l(g.value,_):g.value))});return Z.createElement(Gn,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var i=this.props,r=i.ticks,s=i.axisLine,o=i.tick;return!r||!r.length?null:Z.createElement(Gn,{className:On("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),lo.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(i,r,s){var o;return Z.isValidElement(i)?o=Z.cloneElement(i,r):ln(i)?o=i(r):o=Z.createElement(U_,I0({},r,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(N.PureComponent);G2(z2,"displayName","PolarRadiusAxis");G2(z2,"axisType","radiusAxis");G2(z2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function HC(n){"@babel/helpers - typeof";return HC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HC(n)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Rm.apply(this,arguments)}function npe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Jp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?npe(Object(t),!0).forEach(function(i){j2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):npe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function WIt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ipe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,JLe(i.key),i)}}function $It(n,e,t){return e&&ipe(n.prototype,e),t&&ipe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function GIt(n,e,t){return e=WD(e),zIt(n,ZLe()?Reflect.construct(e,t||[],WD(n).constructor):e.apply(n,t))}function zIt(n,e){if(e&&(HC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jIt(n)}function jIt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ZLe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZLe=function(){return!!n})()}function WD(n){return WD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},WD(n)}function YIt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Dz(n,e)}function Dz(n,e){return Dz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Dz(n,e)}function j2(n,e,t){return e=JLe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JLe(n){var e=KIt(n,"string");return HC(e)=="symbol"?e:e+""}function KIt(n,e){if(HC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(HC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var qIt=Math.PI/180,XIt=1e-5,Y2=function(n){function e(){return WIt(this,e),GIt(this,e,arguments)}return YIt(e,n),$It(e,[{key:"getTickLineCoord",value:function(i){var r=this.props,s=r.cx,o=r.cy,a=r.radius,l=r.orientation,c=r.tickSize,u=c||8,d=pr(s,o,a,i.coordinate),h=pr(s,o,a+(l==="inner"?-1:1)*u,i.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(i){var r=this.props.orientation,s=Math.cos(-i.coordinate*qIt),o;return s>XIt?o=r==="outer"?"start":"end":s<-1e-5?o=r==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var i=this.props,r=i.cx,s=i.cy,o=i.radius,a=i.axisLine,l=i.axisLineType,c=Jp(Jp({},$t(this.props,!1)),{},{fill:"none"},$t(a,!1));if(l==="circle")return Z.createElement(VA,Rm({className:"recharts-polar-angle-axis-line"},c,{cx:r,cy:s,r:o}));var u=this.props.ticks,d=u.map(function(h){return pr(r,s,o,h.coordinate)});return Z.createElement(mIt,Rm({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var i=this,r=this.props,s=r.ticks,o=r.tick,a=r.tickLine,l=r.tickFormatter,c=r.stroke,u=$t(this.props,!1),d=$t(o,!1),h=Jp(Jp({},u),{},{fill:"none"},$t(a,!1)),f=s.map(function(m,g){var _=i.getTickLineCoord(m),v=i.getTickTextAnchor(m),S=Jp(Jp(Jp({textAnchor:v},u),{},{stroke:"none",fill:c},d),{},{index:g,payload:m,x:_.x2,y:_.y2});return Z.createElement(Gn,Rm({className:On("recharts-polar-angle-axis-tick",ULe(o)),key:"tick-".concat(m.coordinate)},rp(i.props,m,g)),a&&Z.createElement("line",Rm({className:"recharts-polar-angle-axis-tick-line"},h,_)),o&&e.renderTickItem(o,S,l?l(m.value,g):m.value))});return Z.createElement(Gn,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var i=this.props,r=i.ticks,s=i.radius,o=i.axisLine;return s<=0||!r||!r.length?null:Z.createElement(Gn,{className:On("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(i,r,s){var o;return Z.isValidElement(i)?o=Z.cloneElement(i,r):ln(i)?o=i(r):o=Z.createElement(U_,Rm({},r,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(N.PureComponent);j2(Y2,"displayName","PolarAngleAxis");j2(Y2,"axisType","angleAxis");j2(Y2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var sW,rpe;function QIt(){if(rpe)return sW;rpe=1;var n=lf(),e=bKe(),t=cf(),i="[object Object]",r=Function.prototype,s=Object.prototype,o=r.toString,a=s.hasOwnProperty,l=o.call(Object);function c(u){if(!t(u)||n(u)!=i)return!1;var d=e(u);if(d===null)return!0;var h=a.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==l}return sW=c,sW}var ZIt=QIt();const JIt=Si(ZIt);var oW,spe;function eNt(){if(spe)return oW;spe=1;var n=lf(),e=cf(),t="[object Boolean]";function i(r){return r===!0||r===!1||e(r)&&n(r)==t}return oW=i,oW}var tNt=eNt();const nNt=Si(tNt);function Dw(n){"@babel/helpers - typeof";return Dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dw(n)}function $D(){return $D=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$D.apply(this,arguments)}function iNt(n,e){return aNt(n)||oNt(n,e)||sNt(n,e)||rNt()}function rNt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sNt(n,e){if(n){if(typeof n=="string")return ope(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ope(n,e)}}function ope(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function oNt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function aNt(n){if(Array.isArray(n))return n}function ape(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lpe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ape(Object(t),!0).forEach(function(i){lNt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ape(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lNt(n,e,t){return e=cNt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cNt(n){var e=uNt(n,"string");return Dw(e)=="symbol"?e:e+""}function uNt(n,e){if(Dw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Dw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cpe=function(e,t,i,r,s){var o=i-r,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+i,",").concat(t),a+="L ".concat(e+i-o/2,",").concat(t+s),a+="L ".concat(e+i-o/2-r,",").concat(t+s),a+="L ".concat(e,",").concat(t," Z"),a},dNt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hNt=function(e){var t=lpe(lpe({},dNt),e),i=N.useRef(),r=N.useState(-1),s=iNt(r,2),o=s[0],a=s[1];N.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var C=i.current.getTotalLength();C&&a(C)}catch{}},[]);var l=t.x,c=t.y,u=t.upperWidth,d=t.lowerWidth,h=t.height,f=t.className,m=t.animationEasing,g=t.animationDuration,_=t.animationBegin,v=t.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var S=On("recharts-trapezoid",f);return v?Z.createElement(mc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:v},function(C){var y=C.upperWidth,b=C.lowerWidth,w=C.height,I=C.x,O=C.y;return Z.createElement(mc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:g,easing:m},Z.createElement("path",$D({},$t(t,!0),{className:S,d:cpe(I,O,y,b,w),ref:i})))}):Z.createElement("g",null,Z.createElement("path",$D({},$t(t,!0),{className:S,d:cpe(l,c,u,d,h)})))},fNt=["option","shapeType","propTransformer","activeClassName","isActive"];function Pw(n){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pw(n)}function gNt(n,e){if(n==null)return{};var t=pNt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function pNt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function upe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function GD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?upe(Object(t),!0).forEach(function(i){mNt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):upe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function mNt(n,e,t){return e=_Nt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _Nt(n){var e=ENt(n,"string");return Pw(e)=="symbol"?e:e+""}function ENt(n,e){if(Pw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Pw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vNt(n,e){return GD(GD({},e),n)}function SNt(n,e){return n==="symbols"}function dpe(n){var e=n.shapeType,t=n.elementProps;switch(e){case"rectangle":return Z.createElement(yQ,t);case"trapezoid":return Z.createElement(hNt,t);case"sector":return Z.createElement(WLe,t);case"symbols":if(SNt(e))return Z.createElement(P2,t);break;default:return null}}function CNt(n){return N.isValidElement(n)?n.props:n}function zD(n){var e=n.option,t=n.shapeType,i=n.propTransformer,r=i===void 0?vNt:i,s=n.activeClassName,o=s===void 0?"recharts-active-shape":s,a=n.isActive,l=gNt(n,fNt),c;if(N.isValidElement(e))c=N.cloneElement(e,GD(GD({},l),CNt(e)));else if(ln(e))c=e(l);else if(JIt(e)&&!nNt(e)){var u=r(e,l);c=Z.createElement(dpe,{shapeType:t,elementProps:u})}else{var d=l;c=Z.createElement(dpe,{shapeType:t,elementProps:d})}return a?Z.createElement(Gn,{className:o},c):c}function K2(n,e){return e!=null&&"trapezoids"in n.props}function q2(n,e){return e!=null&&"sectors"in n.props}function kw(n,e){return e!=null&&"points"in n.props}function yNt(n,e){var t,i,r=n.x===(e==null||(t=e.labelViewBox)===null||t===void 0?void 0:t.x)||n.x===e.x,s=n.y===(e==null||(i=e.labelViewBox)===null||i===void 0?void 0:i.y)||n.y===e.y;return r&&s}function bNt(n,e){var t=n.endAngle===e.endAngle,i=n.startAngle===e.startAngle;return t&&i}function TNt(n,e){var t=n.x===e.x,i=n.y===e.y,r=n.z===e.z;return t&&i&&r}function wNt(n,e){var t;return K2(n,e)?t=yNt:q2(n,e)?t=bNt:kw(n,e)&&(t=TNt),t}function ANt(n,e){var t;return K2(n,e)?t="trapezoids":q2(n,e)?t="sectors":kw(n,e)&&(t="points"),t}function RNt(n,e){if(K2(n,e)){var t;return(t=e.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}if(q2(n,e)){var i;return(i=e.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}return kw(n,e)?e.payload:{}}function INt(n){var e=n.activeTooltipItem,t=n.graphicalItem,i=n.itemData,r=ANt(t,e),s=RNt(t,e),o=i.filter(function(l,c){var u=sp(s,l),d=t.props[r].filter(function(m){var g=wNt(t,e);return g(m,e)}),h=t.props[r].indexOf(d[d.length-1]),f=c===h;return u&&f}),a=i.indexOf(o[o.length-1]);return a}var DL;function VC(n){"@babel/helpers - typeof";return VC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VC(n)}function eS(){return eS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},eS.apply(this,arguments)}function hpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hpe(Object(t),!0).forEach(function(i){nc(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NNt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fpe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,tOe(i.key),i)}}function LNt(n,e,t){return e&&fpe(n.prototype,e),t&&fpe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ONt(n,e,t){return e=jD(e),xNt(n,eOe()?Reflect.construct(e,t||[],jD(n).constructor):e.apply(n,t))}function xNt(n,e){if(e&&(VC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DNt(n)}function DNt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eOe=function(){return!!n})()}function jD(n){return jD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jD(n)}function PNt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Pz(n,e)}function Pz(n,e){return Pz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Pz(n,e)}function nc(n,e,t){return e=tOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tOe(n){var e=kNt(n,"string");return VC(e)=="symbol"?e:e+""}function kNt(n,e){if(VC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(VC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Ef=function(n){function e(t){var i;return NNt(this,e),i=ONt(this,e,[t]),nc(i,"pieRef",null),nc(i,"sectorRefs",[]),nc(i,"id",Ep("recharts-pie-")),nc(i,"handleAnimationEnd",function(){var r=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),ln(r)&&r()}),nc(i,"handleAnimationStart",function(){var r=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),ln(r)&&r()}),i.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},i}return PNt(e,n),LNt(e,[{key:"isActiveIndex",value:function(i){var r=this.props.activeIndex;return Array.isArray(r)?r.indexOf(i)!==-1:i===r}},{key:"hasActiveIndex",value:function(){var i=this.props.activeIndex;return Array.isArray(i)?i.length!==0:i||i===0}},{key:"renderLabels",value:function(i){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,c=s.valueKey,u=$t(this.props,!1),d=$t(o,!1),h=$t(a,!1),f=o&&o.offsetRadius||20,m=i.map(function(g,_){var v=(g.startAngle+g.endAngle)/2,S=pr(g.cx,g.cy,g.outerRadius+f,v),C=hr(hr(hr(hr({},u),g),{},{stroke:"none"},d),{},{index:_,textAnchor:e.getTextAnchor(S.x,g.cx)},S),y=hr(hr(hr(hr({},u),g),{},{fill:"none",stroke:g.fill},h),{},{index:_,points:[pr(g.cx,g.cy,g.outerRadius,v),S]}),b=l;return cn(l)&&cn(c)?b="value":cn(l)&&(b=c),Z.createElement(Gn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(_)},a&&e.renderLabelLineItem(a,y,"line"),e.renderLabelItem(o,C,Cr(g,b)))});return Z.createElement(Gn,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(i){var r=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return i.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&i.length!==1)return null;var d=r.isActiveIndex(u),h=l&&r.hasActiveIndex()?l:null,f=d?o:h,m=hr(hr({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return Z.createElement(Gn,eS({ref:function(_){_&&!r.sectorRefs.includes(_)&&r.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},rp(r.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),Z.createElement(zD,eS({option:f,isActive:d,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var i=this,r=this.props,s=r.sectors,o=r.isAnimationActive,a=r.animationBegin,l=r.animationDuration,c=r.animationEasing,u=r.animationId,d=this.state,h=d.prevSectors,f=d.prevIsAnimationActive;return Z.createElement(mc,{begin:a,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,_=[],v=s&&s[0],S=v.startAngle;return s.forEach(function(C,y){var b=h&&h[y],w=y>0?Il(C,"paddingAngle",0):0;if(b){var I=Dr(b.endAngle-b.startAngle,C.endAngle-C.startAngle),O=hr(hr({},C),{},{startAngle:S+w,endAngle:S+I(g)+w});_.push(O),S=O.endAngle}else{var x=C.endAngle,k=C.startAngle,P=Dr(0,x-k),M=P(g),W=hr(hr({},C),{},{startAngle:S+w,endAngle:S+M+w});_.push(W),S=W.endAngle}}),Z.createElement(Gn,null,i.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(i){var r=this;i.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++r.state.sectorToFocus%r.sectorRefs.length;r.sectorRefs[o].focus(),r.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--r.state.sectorToFocus<0?r.sectorRefs.length-1:r.state.sectorToFocus%r.sectorRefs.length;r.sectorRefs[a].focus(),r.setState({sectorToFocus:a});break}case"Escape":{r.sectorRefs[r.state.sectorToFocus].blur(),r.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var i=this.props,r=i.sectors,s=i.isAnimationActive,o=this.state.prevSectors;return s&&r&&r.length&&(!o||!sp(o,r))?this.renderSectorsWithAnimation():this.renderSectorsStatically(r)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var i=this,r=this.props,s=r.hide,o=r.sectors,a=r.className,l=r.label,c=r.cx,u=r.cy,d=r.innerRadius,h=r.outerRadius,f=r.isAnimationActive,m=this.state.isAnimationFinished;if(s||!o||!o.length||!rt(c)||!rt(u)||!rt(d)||!rt(h))return null;var g=On("recharts-pie",a);return Z.createElement(Gn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){i.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),lo.renderCallByParent(this.props,null,!1),(!f||m)&&au.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(i,r){return r.prevIsAnimationActive!==i.isAnimationActive?{prevIsAnimationActive:i.isAnimationActive,prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:[],isAnimationFinished:!0}:i.isAnimationActive&&i.animationId!==r.prevAnimationId?{prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:r.curSectors,isAnimationFinished:!0}:i.sectors!==r.curSectors?{curSectors:i.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(i,r){return i>r?"start":i<r?"end":"middle"}},{key:"renderLabelLineItem",value:function(i,r,s){if(Z.isValidElement(i))return Z.cloneElement(i,r);if(ln(i))return i(r);var o=On("recharts-pie-label-line",typeof i!="boolean"?i.className:"");return Z.createElement(Mg,eS({},r,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(i,r,s){if(Z.isValidElement(i))return Z.cloneElement(i,r);var o=s;if(ln(i)&&(o=i(r),Z.isValidElement(o)))return o;var a=On("recharts-pie-label-text",typeof i!="boolean"&&!ln(i)?i.className:"");return Z.createElement(U_,eS({},r,{alignmentBaseline:"middle",className:a}),o)}}])}(N.PureComponent);DL=Ef;nc(Ef,"displayName","Pie");nc(Ef,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});nc(Ef,"parseDeltaAngle",function(n,e){var t=ma(e-n),i=Math.min(Math.abs(e-n),360);return t*i});nc(Ef,"getRealPieData",function(n){var e=n.data,t=n.children,i=$t(n,!1),r=Ca(t,UA);return e&&e.length?e.map(function(s,o){return hr(hr(hr({payload:s},i),s),r&&r[o]&&r[o].props)}):r&&r.length?r.map(function(s){return hr(hr({},i),s.props)}):[]});nc(Ef,"parseCoordinateOfPie",function(n,e){var t=e.top,i=e.left,r=e.width,s=e.height,o=BLe(r,s),a=i+_a(n.cx,r,r/2),l=t+_a(n.cy,s,s/2),c=_a(n.innerRadius,o,0),u=_a(n.outerRadius,o,o*.8),d=n.maxRadius||Math.sqrt(r*r+s*s)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});nc(Ef,"getComposedData",function(n){var e=n.item,t=n.offset,i=e.type.defaultProps!==void 0?hr(hr({},e.type.defaultProps),e.props):e.props,r=DL.getRealPieData(i);if(!r||!r.length)return null;var s=i.cornerRadius,o=i.startAngle,a=i.endAngle,l=i.paddingAngle,c=i.dataKey,u=i.nameKey,d=i.valueKey,h=i.tooltipType,f=Math.abs(i.minAngle),m=DL.parseCoordinateOfPie(i,t),g=DL.parseDeltaAngle(o,a),_=Math.abs(g),v=c;cn(c)&&cn(d)?(ou(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):cn(c)&&(ou(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=d);var S=r.filter(function(O){return Cr(O,v,0)!==0}).length,C=(_>=360?S:S-1)*l,y=_-S*f-C,b=r.reduce(function(O,x){var k=Cr(x,v,0);return O+(rt(k)?k:0)},0),w;if(b>0){var I;w=r.map(function(O,x){var k=Cr(O,v,0),P=Cr(O,u,x),M=(rt(k)?k:0)/b,W;x?W=I.endAngle+ma(g)*l*(k!==0?1:0):W=o;var F=W+ma(g)*((k!==0?f:0)+M*y),H=(W+F)/2,V=(m.innerRadius+m.outerRadius)/2,Y=[{name:P,value:k,payload:O,dataKey:v,type:h}],$=pr(m.cx,m.cy,V,H);return I=hr(hr(hr({percent:M,cornerRadius:s,name:P,tooltipPayload:Y,midAngle:H,middleRadius:V,tooltipPosition:$},O),m),{},{value:Cr(O,v),startAngle:W,endAngle:F,payload:O,paddingAngle:ma(g)*l}),I})}return hr(hr({},m),{},{sectors:w,data:r})});var aW,gpe;function MNt(){if(gpe)return aW;gpe=1;var n=Math.ceil,e=Math.max;function t(i,r,s,o){for(var a=-1,l=e(n((r-i)/(s||1)),0),c=Array(l);l--;)c[o?l:++a]=i,i+=s;return c}return aW=t,aW}var lW,ppe;function FNt(){if(ppe)return lW;ppe=1;var n=MNt(),e=M2(),t=P0e();function i(r){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=t(s),o===void 0?(o=s,s=0):o=t(o),a=a===void 0?s<o?1:-1:t(a),n(s,o,a,r)}}return lW=i,lW}var cW,mpe;function BNt(){if(mpe)return cW;mpe=1;var n=FNt(),e=n();return cW=e,cW}var UNt=BNt();const YD=Si(UNt);function Mw(n){"@babel/helpers - typeof";return Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mw(n)}function _pe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Epe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_pe(Object(t),!0).forEach(function(i){nOe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_pe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function nOe(n,e,t){return e=HNt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HNt(n){var e=VNt(n,"string");return Mw(e)=="symbol"?e:e+""}function VNt(n,e){if(Mw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Mw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var WNt=["Webkit","Moz","O","ms"],$Nt=function(e,t){var i=e.replace(/(\w)/,function(s){return s.toUpperCase()}),r=WNt.reduce(function(s,o){return Epe(Epe({},s),{},nOe({},o+i,t))},{});return r[e]=t,r};function WC(n){"@babel/helpers - typeof";return WC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WC(n)}function KD(){return KD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},KD.apply(this,arguments)}function vpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uW(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vpe(Object(t),!0).forEach(function(i){cl(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function GNt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Spe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,rOe(i.key),i)}}function zNt(n,e,t){return e&&Spe(n.prototype,e),t&&Spe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function jNt(n,e,t){return e=qD(e),YNt(n,iOe()?Reflect.construct(e,t||[],qD(n).constructor):e.apply(n,t))}function YNt(n,e){if(e&&(WC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KNt(n)}function KNt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function iOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iOe=function(){return!!n})()}function qD(n){return qD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qD(n)}function qNt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&kz(n,e)}function kz(n,e){return kz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},kz(n,e)}function cl(n,e,t){return e=rOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rOe(n){var e=XNt(n,"string");return WC(e)=="symbol"?e:e+""}function XNt(n,e){if(WC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(WC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var QNt=function(e){var t=e.data,i=e.startIndex,r=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,c=T0().domain(YD(0,l)).range([s,s+o-a]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(i),endX:c(r),scale:c,scaleValues:u}},Cpe=function(e){return e.changedTouches&&!!e.changedTouches.length},$C=function(n){function e(t){var i;return GNt(this,e),i=jNt(this,e,[t]),cl(i,"handleDrag",function(r){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(r):i.state.isSlideMoving&&i.handleSlideDrag(r)}),cl(i,"handleTouchMove",function(r){r.changedTouches!=null&&r.changedTouches.length>0&&i.handleDrag(r.changedTouches[0])}),cl(i,"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var r=i.props,s=r.endIndex,o=r.onDragEnd,a=r.startIndex;o==null||o({endIndex:s,startIndex:a})}),i.detachDragEndListener()}),cl(i,"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),cl(i,"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),cl(i,"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),cl(i,"handleSlideDragStart",function(r){var s=Cpe(r)?r.changedTouches[0]:r;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(i,"startX"),endX:i.handleTravellerDragStart.bind(i,"endX")},i.state={},i}return qNt(e,n),zNt(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var r=i.startX,s=i.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,u=c.length-1,d=Math.min(r,s),h=Math.max(r,s),f=e.getIndexInRange(o,d),m=e.getIndexInRange(o,h);return{startIndex:f-f%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(i){var r=this.props,s=r.data,o=r.tickFormatter,a=r.dataKey,l=Cr(s[i],a,i);return ln(o)?o(l,i):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var r=this.state,s=r.slideMoveStartX,o=r.startX,a=r.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,f=l.endIndex,m=l.onChange,g=i.pageX-s;g>0?g=Math.min(g,c+u-d-a,c+u-d-o):g<0&&(g=Math.max(g,c-o,c-a));var _=this.getIndex({startX:o+g,endX:a+g});(_.startIndex!==h||_.endIndex!==f)&&m&&m(_),this.setState({startX:o+g,endX:a+g,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,r){var s=Cpe(r)?r.changedTouches[0]:r;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var r=this.state,s=r.brushMoveStartX,o=r.movingTravellerId,a=r.endX,l=r.startX,c=this.state[o],u=this.props,d=u.x,h=u.width,f=u.travellerWidth,m=u.onChange,g=u.gap,_=u.data,v={startX:this.state.startX,endX:this.state.endX},S=i.pageX-s;S>0?S=Math.min(S,d+h-f-c):S<0&&(S=Math.max(S,d-c)),v[o]=c+S;var C=this.getIndex(v),y=C.startIndex,b=C.endIndex,w=function(){var O=_.length-1;return o==="startX"&&(a>l?y%g===0:b%g===0)||a<l&&b===O||o==="endX"&&(a>l?b%g===0:y%g===0)||a>l&&b===O};this.setState(cl(cl({},o,c+S),"brushMoveStartX",i.pageX),function(){m&&w()&&m(C)})}},{key:"handleTravellerMoveKeyboard",value:function(i,r){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,u=this.state[r],d=a.indexOf(u);if(d!==-1){var h=d+i;if(!(h===-1||h>=a.length)){var f=a[h];r==="startX"&&f>=c||r==="endX"&&f<=l||this.setState(cl({},r,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,r=i.x,s=i.y,o=i.width,a=i.height,l=i.fill,c=i.stroke;return Z.createElement("rect",{stroke:c,fill:l,x:r,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var i=this.props,r=i.x,s=i.y,o=i.width,a=i.height,l=i.data,c=i.children,u=i.padding,d=N.Children.only(c);return d?Z.cloneElement(d,{x:r,y:s,width:o,height:a,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(i,r){var s,o,a=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,f=l.ariaLabel,m=l.data,g=l.startIndex,_=l.endIndex,v=Math.max(i,this.props.x),S=uW(uW({},$t(this.props,!1)),{},{x:v,y:c,width:u,height:d}),C=f||"Min value: ".concat((s=m[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=m[_])===null||o===void 0?void 0:o.name);return Z.createElement(Gn,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),a.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,r))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,S))}},{key:"renderSlide",value:function(i,r){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(i,r)+c,d=Math.max(Math.abs(r-i)-c,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:a})}},{key:"renderText",value:function(){var i=this.props,r=i.startIndex,s=i.endIndex,o=i.y,a=i.height,l=i.travellerWidth,c=i.stroke,u=this.state,d=u.startX,h=u.endX,f=5,m={pointerEvents:"none",fill:c};return Z.createElement(Gn,{className:"recharts-brush-texts"},Z.createElement(U_,KD({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:o+a/2},m),this.getTextOfTick(r)),Z.createElement(U_,KD({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+f,y:o+a/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,r=i.data,s=i.className,o=i.children,a=i.x,l=i.y,c=i.width,u=i.height,d=i.alwaysShowText,h=this.state,f=h.startX,m=h.endX,g=h.isTextActive,_=h.isSlideMoving,v=h.isTravellerMoving,S=h.isTravellerFocused;if(!r||!r.length||!rt(a)||!rt(l)||!rt(c)||!rt(u)||c<=0||u<=0)return null;var C=On("recharts-brush",s),y=Z.Children.count(o)===1,b=$Nt("userSelect","none");return Z.createElement(Gn,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(f,m),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(m,"endX"),(g||_||v||S||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var r=i.x,s=i.y,o=i.width,a=i.height,l=i.stroke,c=Math.floor(s+a/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:r,y:s,width:o,height:a,fill:l,stroke:"none"}),Z.createElement("line",{x1:r+1,y1:c,x2:r+o-1,y2:c,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:r+1,y1:c+2,x2:r+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,r){var s;return Z.isValidElement(i)?s=Z.cloneElement(i,r):ln(i)?s=i(r):s=e.renderDefaultTraveller(r),s}},{key:"getDerivedStateFromProps",value:function(i,r){var s=i.data,o=i.width,a=i.x,l=i.travellerWidth,c=i.updateId,u=i.startIndex,d=i.endIndex;if(s!==r.prevData||c!==r.prevUpdateId)return uW({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?QNt({data:s,width:o,x:a,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(r.scale&&(o!==r.prevWidth||a!==r.prevX||l!==r.prevTravellerWidth)){r.scale.range([a,a+o-l]);var h=r.scale.domain().map(function(f){return r.scale(f)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:r.scale(i.startIndex),endX:r.scale(i.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(i,r){for(var s=i.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);i[l]>r?a=l:o=l}return r>=i[a]?a:o}}])}(N.PureComponent);cl($C,"displayName","Brush");cl($C,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dW,ype;function ZNt(){if(ype)return dW;ype=1;var n=cK();function e(t,i){var r;return n(t,function(s,o,a){return r=i(s,o,a),!r}),!!r}return dW=e,dW}var hW,bpe;function JNt(){if(bpe)return hW;bpe=1;var n=v0e(),e=Nd(),t=ZNt(),i=Ja(),r=M2();function s(o,a,l){var c=i(o)?n:t;return l&&r(o,a,l)&&(a=void 0),c(o,e(a,3))}return hW=s,hW}var eLt=JNt();const tLt=Si(eLt);var gd=function(e,t){var i=e.alwaysShow,r=e.ifOverflow;return i&&(r="extendDomain"),r===t},fW,Tpe;function nLt(){if(Tpe)return fW;Tpe=1;var n=fYe(),e=m0e(),t=Nd();function i(r,s){var o={};return s=t(s,3),e(r,function(a,l,c){n(o,l,s(a,l,c))}),o}return fW=i,fW}var iLt=nLt();const rLt=Si(iLt);var gW,wpe;function sLt(){if(wpe)return gW;wpe=1;function n(e,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(!t(e[i],i,e))return!1;return!0}return gW=n,gW}var pW,Ape;function oLt(){if(Ape)return pW;Ape=1;var n=cK();function e(t,i){var r=!0;return n(t,function(s,o,a){return r=!!i(s,o,a),r}),r}return pW=e,pW}var mW,Rpe;function aLt(){if(Rpe)return mW;Rpe=1;var n=sLt(),e=oLt(),t=Nd(),i=Ja(),r=M2();function s(o,a,l){var c=i(o)?n:e;return l&&r(o,a,l)&&(a=void 0),c(o,t(a,3))}return mW=s,mW}var lLt=aLt();const sOe=Si(lLt);var cLt=["x","y"];function Fw(n){"@babel/helpers - typeof";return Fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fw(n)}function Mz(){return Mz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Mz.apply(this,arguments)}function Ipe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ipe(Object(t),!0).forEach(function(i){uLt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ipe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uLt(n,e,t){return e=dLt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dLt(n){var e=hLt(n,"string");return Fw(e)=="symbol"?e:e+""}function hLt(n,e){if(Fw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Fw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fLt(n,e){if(n==null)return{};var t=gLt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function gLt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function pLt(n,e){var t=n.x,i=n.y,r=fLt(n,cLt),s="".concat(t),o=parseInt(s,10),a="".concat(i),l=parseInt(a,10),c="".concat(e.height||r.height),u=parseInt(c,10),d="".concat(e.width||r.width),h=parseInt(d,10);return rT(rT(rT(rT(rT({},e),r),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function Npe(n){return Z.createElement(zD,Mz({shapeType:"rectangle",propTransformer:pLt,activeClassName:"recharts-active-bar"},n))}var mLt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(i,r){if(typeof e=="number")return e;var s=typeof i=="number";return s?e(i,r):(s||V_(),t)}},_Lt=["value","background"],oOe;function GC(n){"@babel/helpers - typeof";return GC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GC(n)}function ELt(n,e){if(n==null)return{};var t=vLt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function vLt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function XD(){return XD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XD.apply(this,arguments)}function Lpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Cs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lpe(Object(t),!0).forEach(function(i){wg(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function SLt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ope(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,lOe(i.key),i)}}function CLt(n,e,t){return e&&Ope(n.prototype,e),t&&Ope(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function yLt(n,e,t){return e=QD(e),bLt(n,aOe()?Reflect.construct(e,t||[],QD(n).constructor):e.apply(n,t))}function bLt(n,e){if(e&&(GC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TLt(n)}function TLt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function aOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aOe=function(){return!!n})()}function QD(n){return QD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},QD(n)}function wLt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Fz(n,e)}function Fz(n,e){return Fz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Fz(n,e)}function wg(n,e,t){return e=lOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lOe(n){var e=ALt(n,"string");return GC(e)=="symbol"?e:e+""}function ALt(n,e){if(GC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(GC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var _E=function(n){function e(){var t;SLt(this,e);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=yLt(this,e,[].concat(r)),wg(t,"state",{isAnimationFinished:!1}),wg(t,"id",Ep("recharts-bar-")),wg(t,"handleAnimationEnd",function(){var o=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),o&&o()}),wg(t,"handleAnimationStart",function(){var o=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),o&&o()}),t}return wLt(e,n),CLt(e,[{key:"renderRectanglesStatically",value:function(i){var r=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,u=$t(this.props,!1);return i&&i.map(function(d,h){var f=h===l,m=f?c:o,g=Cs(Cs(Cs({},u),d),{},{isActive:f,option:m,index:h,dataKey:a,onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd});return Z.createElement(Gn,XD({className:"recharts-bar-rectangle"},rp(r.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),Z.createElement(Npe,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,r=this.props,s=r.data,o=r.layout,a=r.isAnimationActive,l=r.animationBegin,c=r.animationDuration,u=r.animationEasing,d=r.animationId,h=this.state.prevData;return Z.createElement(mc,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,g=s.map(function(_,v){var S=h&&h[v];if(S){var C=Dr(S.x,_.x),y=Dr(S.y,_.y),b=Dr(S.width,_.width),w=Dr(S.height,_.height);return Cs(Cs({},_),{},{x:C(m),y:y(m),width:b(m),height:w(m)})}if(o==="horizontal"){var I=Dr(0,_.height),O=I(m);return Cs(Cs({},_),{},{y:_.y+_.height-O,height:O})}var x=Dr(0,_.width),k=x(m);return Cs(Cs({},_),{},{width:k})});return Z.createElement(Gn,null,i.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var i=this.props,r=i.data,s=i.isAnimationActive,o=this.state.prevData;return s&&r&&r.length&&(!o||!sp(o,r))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(r)}},{key:"renderBackground",value:function(){var i=this,r=this.props,s=r.data,o=r.dataKey,a=r.activeIndex,l=$t(this.props.background,!1);return s.map(function(c,u){c.value;var d=c.background,h=ELt(c,_Lt);if(!d)return null;var f=Cs(Cs(Cs(Cs(Cs({},h),{},{fill:"#eee"},d),l),rp(i.props,c,u)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return Z.createElement(Npe,XD({key:"background-bar-".concat(u),option:i.props.background,isActive:u===a},f))})}},{key:"renderErrorBar",value:function(i,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=Ca(u,Fy);if(!d)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,f=function(_,v){var S=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:S,errorVal:Cr(_,v)}},m={clipPath:i?"url(#clipPath-".concat(r,")"):null};return Z.createElement(Gn,m,d.map(function(g){return Z.cloneElement(g,{key:"error-bar-".concat(r,"-").concat(g.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var i=this.props,r=i.hide,s=i.data,o=i.className,a=i.xAxis,l=i.yAxis,c=i.left,u=i.top,d=i.width,h=i.height,f=i.isAnimationActive,m=i.background,g=i.id;if(r||!s||!s.length)return null;var _=this.state.isAnimationFinished,v=On("recharts-bar",o),S=a&&a.allowDataOverflow,C=l&&l.allowDataOverflow,y=S||C,b=cn(g)?this.id:g;return Z.createElement(Gn,{className:v},S||C?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(b)},Z.createElement("rect",{x:S?c:c-d/2,y:C?u:u-h/2,width:S?d:d*2,height:C?h:h*2}))):null,Z.createElement(Gn,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(b,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,b),(!f||_)&&au.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.animationId!==r.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:r.curData}:i.data!==r.curData?{curData:i.data}:null}}])}(N.PureComponent);oOe=_E;wg(_E,"displayName","Bar");wg(_E,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wg(_E,"getComposedData",function(n){var e=n.props,t=n.item,i=n.barPosition,r=n.bandSize,s=n.xAxis,o=n.yAxis,a=n.xAxisTicks,l=n.yAxisTicks,c=n.stackedData,u=n.dataStartIndex,d=n.displayedData,h=n.offset,f=awt(i,t);if(!f)return null;var m=e.layout,g=t.type.defaultProps,_=g!==void 0?Cs(Cs({},g),t.props):t.props,v=_.dataKey,S=_.children,C=_.minPointSize,y=m==="horizontal"?o:s,b=c?y.scale.domain():null,w=gwt({numericAxis:y}),I=Ca(S,UA),O=d.map(function(x,k){var P,M,W,F,H,V;c?P=lwt(c[u+k],b):(P=Cr(x,v),Array.isArray(P)||(P=[w,P]));var Y=mLt(C,oOe.defaultProps.minPointSize)(P[1],k);if(m==="horizontal"){var $,K=[o.scale(P[0]),o.scale(P[1])],re=K[0],G=K[1];M=uge({axis:s,ticks:a,bandSize:r,offset:f.offset,entry:x,index:k}),W=($=G??re)!==null&&$!==void 0?$:void 0,F=f.size;var J=re-G;if(H=Number.isNaN(J)?0:J,V={x:M,y:o.y,width:F,height:o.height},Math.abs(Y)>0&&Math.abs(H)<Math.abs(Y)){var z=ma(H||Y)*(Math.abs(Y)-Math.abs(H));W-=z,H+=z}}else{var j=[s.scale(P[0]),s.scale(P[1])],ne=j[0],le=j[1];if(M=ne,W=uge({axis:o,ticks:l,bandSize:r,offset:f.offset,entry:x,index:k}),F=le-ne,H=f.size,V={x:s.x,y:W,width:s.width,height:H},Math.abs(Y)>0&&Math.abs(F)<Math.abs(Y)){var q=ma(F||Y)*(Math.abs(Y)-Math.abs(F));F+=q}}return Cs(Cs(Cs({},x),{},{x:M,y:W,width:F,height:H,value:c?P:P[1],payload:x,background:V},I&&I[k]&&I[k].props),{},{tooltipPayload:[MLe(t,x)],tooltipPosition:{x:M+F/2,y:W+H/2}})});return Cs({data:O,layout:m},h)});function Bw(n){"@babel/helpers - typeof";return Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bw(n)}function RLt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xpe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,cOe(i.key),i)}}function ILt(n,e,t){return e&&xpe(n.prototype,e),t&&xpe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Dpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Wc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dpe(Object(t),!0).forEach(function(i){X2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function X2(n,e,t){return e=cOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cOe(n){var e=NLt(n,"string");return Bw(e)=="symbol"?e:e+""}function NLt(n,e){if(Bw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Bw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Q2=function(e,t,i,r,s){var o=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(t),d={left:i.left,leftMirror:i.left,right:o-i.right,rightMirror:o-i.right,top:i.top,topMirror:i.top,bottom:a-i.bottom,bottomMirror:a-i.bottom},h=!!hl(c,_E);return u.reduce(function(f,m){var g=t[m],_=g.orientation,v=g.domain,S=g.padding,C=S===void 0?{}:S,y=g.mirror,b=g.reversed,w="".concat(_).concat(y?"Mirror":""),I,O,x,k,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var M=v[1]-v[0],W=1/0,F=g.categoricalDomain.sort(XCt);if(F.forEach(function(j,ne){ne>0&&(W=Math.min((j||0)-(F[ne-1]||0),W))}),Number.isFinite(W)){var H=W/M,V=g.layout==="vertical"?i.height:i.width;if(g.padding==="gap"&&(I=H*V/2),g.padding==="no-gap"){var Y=_a(e.barCategoryGap,H*V),$=H*V/2;I=$-Y-($-Y)/V*Y}}}r==="xAxis"?O=[i.left+(C.left||0)+(I||0),i.left+i.width-(C.right||0)-(I||0)]:r==="yAxis"?O=l==="horizontal"?[i.top+i.height-(C.bottom||0),i.top+(C.top||0)]:[i.top+(C.top||0)+(I||0),i.top+i.height-(C.bottom||0)-(I||0)]:O=g.range,b&&(O=[O[1],O[0]]);var K=xLe(g,s,h),re=K.scale,G=K.realScaleType;re.domain(v).range(O),DLe(re);var J=PLe(re,Wc(Wc({},g),{},{realScaleType:G}));r==="xAxis"?(P=_==="top"&&!y||_==="bottom"&&y,x=i.left,k=d[w]-P*g.height):r==="yAxis"&&(P=_==="left"&&!y||_==="right"&&y,x=d[w]-P*g.width,k=i.top);var z=Wc(Wc(Wc({},g),J),{},{realScaleType:G,x,y:k,scale:re,width:r==="xAxis"?i.width:g.width,height:r==="yAxis"?i.height:g.height});return z.bandSize=PD(z,J),!g.hide&&r==="xAxis"?d[w]+=(P?-1:1)*z.height:g.hide||(d[w]+=(P?-1:1)*z.width),Wc(Wc({},f),{},X2({},m,z))},{})},uOe=function(e,t){var i=e.x,r=e.y,s=t.x,o=t.y;return{x:Math.min(i,s),y:Math.min(r,o),width:Math.abs(s-i),height:Math.abs(o-r)}},LLt=function(e){var t=e.x1,i=e.y1,r=e.x2,s=e.y2;return uOe({x:t,y:i},{x:r,y:s})},dOe=function(){function n(e){RLt(this,n),this.scale=e}return ILt(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.bandAware,s=i.position;if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}},{key:"isInRange",value:function(t){var i=this.range(),r=i[0],s=i[i.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}],[{key:"create",value:function(t){return new n(t)}}])}();X2(dOe,"EPS",1e-4);var bQ=function(e){var t=Object.keys(e).reduce(function(i,r){return Wc(Wc({},i),{},X2({},r,dOe.create(e[r])))},{});return Wc(Wc({},t),{},{apply:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return rLt(r,function(l,c){return t[c].apply(l,{bandAware:o,position:a})})},isInRange:function(r){return sOe(r,function(s,o){return t[o].isInRange(s)})}})};function OLt(n){return(n%180+180)%180}var xLt=function(e){var t=e.width,i=e.height,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=OLt(r),o=s*Math.PI/180,a=Math.atan(i/t),l=o>a&&o<Math.PI-a?i/Math.sin(o):t/Math.cos(o);return Math.abs(l)},_W,Ppe;function DLt(){if(Ppe)return _W;Ppe=1;var n=Nd(),e=uA(),t=EM();function i(r){return function(s,o,a){var l=Object(s);if(!e(s)){var c=n(o,3);s=t(s),o=function(d){return c(l[d],d,l)}}var u=r(s,o,a);return u>-1?l[c?s[u]:u]:void 0}}return _W=i,_W}var EW,kpe;function PLt(){if(kpe)return EW;kpe=1;var n=xNe(),e=Nd(),t=UKe(),i=Math.max;function r(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var c=a==null?0:t(a);return c<0&&(c=i(l+c,0)),n(s,e(o,3),c)}return EW=r,EW}var vW,Mpe;function kLt(){if(Mpe)return vW;Mpe=1;var n=DLt(),e=PLt(),t=n(e);return vW=t,vW}var MLt=kLt();const FLt=Si(MLt);var BLt=A0e();const ULt=Si(BLt);var HLt=ULt(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),TQ=N.createContext(void 0),wQ=N.createContext(void 0),hOe=N.createContext(void 0),fOe=N.createContext({}),gOe=N.createContext(void 0),pOe=N.createContext(0),mOe=N.createContext(0),Fpe=function(e){var t=e.state,i=t.xAxisMap,r=t.yAxisMap,s=t.offset,o=e.clipPathId,a=e.children,l=e.width,c=e.height,u=HLt(s);return Z.createElement(TQ.Provider,{value:i},Z.createElement(wQ.Provider,{value:r},Z.createElement(fOe.Provider,{value:s},Z.createElement(hOe.Provider,{value:u},Z.createElement(gOe.Provider,{value:o},Z.createElement(pOe.Provider,{value:c},Z.createElement(mOe.Provider,{value:l},a)))))))},VLt=function(){return N.useContext(gOe)},_Oe=function(e){var t=N.useContext(TQ);t==null&&V_();var i=t[e];return i==null&&V_(),i},WLt=function(){var e=N.useContext(TQ);return dg(e)},$Lt=function(){var e=N.useContext(wQ),t=FLt(e,function(i){return sOe(i.domain,Number.isFinite)});return t||dg(e)},EOe=function(e){var t=N.useContext(wQ);t==null&&V_();var i=t[e];return i==null&&V_(),i},GLt=function(){var e=N.useContext(hOe);return e},zLt=function(){return N.useContext(fOe)},AQ=function(){return N.useContext(mOe)},RQ=function(){return N.useContext(pOe)};function zC(n){"@babel/helpers - typeof";return zC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zC(n)}function jLt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function YLt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,SOe(i.key),i)}}function KLt(n,e,t){return e&&YLt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function qLt(n,e,t){return e=ZD(e),XLt(n,vOe()?Reflect.construct(e,t||[],ZD(n).constructor):e.apply(n,t))}function XLt(n,e){if(e&&(zC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QLt(n)}function QLt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vOe=function(){return!!n})()}function ZD(n){return ZD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ZD(n)}function ZLt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Bz(n,e)}function Bz(n,e){return Bz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Bz(n,e)}function Bpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Upe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bpe(Object(t),!0).forEach(function(i){IQ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Bpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function IQ(n,e,t){return e=SOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SOe(n){var e=JLt(n,"string");return zC(e)=="symbol"?e:e+""}function JLt(n,e){if(zC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(zC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function eOt(n,e){return rOt(n)||iOt(n,e)||nOt(n,e)||tOt()}function tOt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nOt(n,e){if(n){if(typeof n=="string")return Hpe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hpe(n,e)}}function Hpe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function iOt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function rOt(n){if(Array.isArray(n))return n}function Uz(){return Uz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Uz.apply(this,arguments)}var sOt=function(e,t){var i;return Z.isValidElement(e)?i=Z.cloneElement(e,t):ln(e)?i=e(t):i=Z.createElement("line",Uz({},t,{className:"recharts-reference-line-line"})),i},oOt=function(e,t,i,r,s,o,a,l,c){var u=s.x,d=s.y,h=s.width,f=s.height;if(i){var m=c.y,g=e.y.apply(m,{position:o});if(gd(c,"discard")&&!e.y.isInRange(g))return null;var _=[{x:u+h,y:g},{x:u,y:g}];return l==="left"?_.reverse():_}if(t){var v=c.x,S=e.x.apply(v,{position:o});if(gd(c,"discard")&&!e.x.isInRange(S))return null;var C=[{x:S,y:d+f},{x:S,y:d}];return a==="top"?C.reverse():C}if(r){var y=c.segment,b=y.map(function(w){return e.apply(w,{position:o})});return gd(c,"discard")&&tLt(b,function(w){return!e.isInRange(w)})?null:b}return null};function aOt(n){var e=n.x,t=n.y,i=n.segment,r=n.xAxisId,s=n.yAxisId,o=n.shape,a=n.className,l=n.alwaysShow,c=VLt(),u=_Oe(r),d=EOe(s),h=GLt();if(!c||!h)return null;ou(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=bQ({x:u.scale,y:d.scale}),m=Bs(e),g=Bs(t),_=i&&i.length===2,v=oOt(f,m,g,_,h,n.position,u.orientation,d.orientation,n);if(!v)return null;var S=eOt(v,2),C=S[0],y=C.x,b=C.y,w=S[1],I=w.x,O=w.y,x=gd(n,"hidden")?"url(#".concat(c,")"):void 0,k=Upe(Upe({clipPath:x},$t(n,!0)),{},{x1:y,y1:b,x2:I,y2:O});return Z.createElement(Gn,{className:On("recharts-reference-line",a)},sOt(o,k),lo.renderCallByParent(n,LLt({x1:y,y1:b,x2:I,y2:O})))}var NQ=function(n){function e(){return jLt(this,e),qLt(this,e,arguments)}return ZLt(e,n),KLt(e,[{key:"render",value:function(){return Z.createElement(aOt,this.props)}}])}(Z.Component);IQ(NQ,"displayName","ReferenceLine");IQ(NQ,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hz(){return Hz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hz.apply(this,arguments)}function jC(n){"@babel/helpers - typeof";return jC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jC(n)}function Vpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Wpe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vpe(Object(t),!0).forEach(function(i){Z2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lOt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cOt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,yOe(i.key),i)}}function uOt(n,e,t){return e&&cOt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function dOt(n,e,t){return e=JD(e),hOt(n,COe()?Reflect.construct(e,t||[],JD(n).constructor):e.apply(n,t))}function hOt(n,e){if(e&&(jC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fOt(n)}function fOt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function COe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(COe=function(){return!!n})()}function JD(n){return JD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},JD(n)}function gOt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Vz(n,e)}function Vz(n,e){return Vz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Vz(n,e)}function Z2(n,e,t){return e=yOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yOe(n){var e=pOt(n,"string");return jC(e)=="symbol"?e:e+""}function pOt(n,e){if(jC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(jC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var mOt=function(e){var t=e.x,i=e.y,r=e.xAxis,s=e.yAxis,o=bQ({x:r.scale,y:s.scale}),a=o.apply({x:t,y:i},{bandAware:!0});return gd(e,"discard")&&!o.isInRange(a)?null:a},J2=function(n){function e(){return lOt(this,e),dOt(this,e,arguments)}return gOt(e,n),uOt(e,[{key:"render",value:function(){var i=this.props,r=i.x,s=i.y,o=i.r,a=i.alwaysShow,l=i.clipPathId,c=Bs(r),u=Bs(s);if(ou(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=mOt(this.props);if(!d)return null;var h=d.x,f=d.y,m=this.props,g=m.shape,_=m.className,v=gd(this.props,"hidden")?"url(#".concat(l,")"):void 0,S=Wpe(Wpe({clipPath:v},$t(this.props,!0)),{},{cx:h,cy:f});return Z.createElement(Gn,{className:On("recharts-reference-dot",_)},e.renderDot(g,S),lo.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}(Z.Component);Z2(J2,"displayName","ReferenceDot");Z2(J2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Z2(J2,"renderDot",function(n,e){var t;return Z.isValidElement(n)?t=Z.cloneElement(n,e):ln(n)?t=n(e):t=Z.createElement(VA,Hz({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),t});function Wz(){return Wz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wz.apply(this,arguments)}function YC(n){"@babel/helpers - typeof";return YC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YC(n)}function $pe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gpe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$pe(Object(t),!0).forEach(function(i){eF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$pe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function _Ot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function EOt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,TOe(i.key),i)}}function vOt(n,e,t){return e&&EOt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function SOt(n,e,t){return e=eP(e),COt(n,bOe()?Reflect.construct(e,t||[],eP(n).constructor):e.apply(n,t))}function COt(n,e){if(e&&(YC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yOt(n)}function yOt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bOe=function(){return!!n})()}function eP(n){return eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eP(n)}function bOt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&$z(n,e)}function $z(n,e){return $z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},$z(n,e)}function eF(n,e,t){return e=TOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TOe(n){var e=TOt(n,"string");return YC(e)=="symbol"?e:e+""}function TOt(n,e){if(YC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(YC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var wOt=function(e,t,i,r,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,u=s.xAxis,d=s.yAxis;if(!u||!d)return null;var h=bQ({x:u.scale,y:d.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:i?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:t?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(c,{position:"end"}):h.y.rangeMax};return gd(s,"discard")&&(!h.isInRange(f)||!h.isInRange(m))?null:uOe(f,m)},tF=function(n){function e(){return _Ot(this,e),SOt(this,e,arguments)}return bOt(e,n),vOt(e,[{key:"render",value:function(){var i=this.props,r=i.x1,s=i.x2,o=i.y1,a=i.y2,l=i.className,c=i.alwaysShow,u=i.clipPathId;ou(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Bs(r),h=Bs(s),f=Bs(o),m=Bs(a),g=this.props.shape;if(!d&&!h&&!f&&!m&&!g)return null;var _=wOt(d,h,f,m,this.props);if(!_&&!g)return null;var v=gd(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Z.createElement(Gn,{className:On("recharts-reference-area",l)},e.renderRect(g,Gpe(Gpe({clipPath:v},$t(this.props,!0)),_)),lo.renderCallByParent(this.props,_))}}])}(Z.Component);eF(tF,"displayName","ReferenceArea");eF(tF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});eF(tF,"renderRect",function(n,e){var t;return Z.isValidElement(n)?t=Z.cloneElement(n,e):ln(n)?t=n(e):t=Z.createElement(yQ,Wz({},e,{className:"recharts-reference-area-rect"})),t});function wOe(n,e,t){if(e<1)return[];if(e===1&&t===void 0)return n;for(var i=[],r=0;r<n.length;r+=e)i.push(n[r]);return i}function AOt(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return xLt(i,t)}function ROt(n,e,t){var i=t==="width",r=n.x,s=n.y,o=n.width,a=n.height;return e===1?{start:i?r:s,end:i?r+o:s+a}:{start:i?r+o:s+a,end:i?r:s}}function tP(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var s=t();return n*(e-n*s/2-i)>=0&&n*(e+n*s/2-r)<=0}function IOt(n,e){return wOe(n,e+1)}function NOt(n,e,t,i,r){for(var s=(i||[]).slice(),o=e.start,a=e.end,l=0,c=1,u=o,d=function(){var m=i==null?void 0:i[l];if(m===void 0)return{v:wOe(i,c)};var g=l,_,v=function(){return _===void 0&&(_=t(m,g)),_},S=m.coordinate,C=l===0||tP(n,S,v,u,a);C||(l=0,u=o,c+=1),C&&(u=S+n*(v()/2+r),l+=c)},h;c<=s.length;)if(h=d(),h)return h.v;return[]}function Uw(n){"@babel/helpers - typeof";return Uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(n)}function zpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Wo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zpe(Object(t),!0).forEach(function(i){LOt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function LOt(n,e,t){return e=OOt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OOt(n){var e=xOt(n,"string");return Uw(e)=="symbol"?e:e+""}function xOt(n,e){if(Uw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Uw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function DOt(n,e,t,i,r){for(var s=(i||[]).slice(),o=s.length,a=e.start,l=e.end,c=function(h){var f=s[h],m,g=function(){return m===void 0&&(m=t(f,h)),m};if(h===o-1){var _=n*(f.coordinate+n*g()/2-l);s[h]=f=Wo(Wo({},f),{},{tickCoord:_>0?f.coordinate-_*n:f.coordinate})}else s[h]=f=Wo(Wo({},f),{},{tickCoord:f.coordinate});var v=tP(n,f.tickCoord,g,a,l);v&&(l=f.tickCoord-n*(g()/2+r),s[h]=Wo(Wo({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return s}function POt(n,e,t,i,r,s){var o=(i||[]).slice(),a=o.length,l=e.start,c=e.end;if(s){var u=i[a-1],d=t(u,a-1),h=n*(u.coordinate+n*d/2-c);o[a-1]=u=Wo(Wo({},u),{},{tickCoord:h>0?u.coordinate-h*n:u.coordinate});var f=tP(n,u.tickCoord,function(){return d},l,c);f&&(c=u.tickCoord-n*(d/2+r),o[a-1]=Wo(Wo({},u),{},{isShow:!0}))}for(var m=s?a-1:a,g=function(S){var C=o[S],y,b=function(){return y===void 0&&(y=t(C,S)),y};if(S===0){var w=n*(C.coordinate-n*b()/2-l);o[S]=C=Wo(Wo({},C),{},{tickCoord:w<0?C.coordinate-w*n:C.coordinate})}else o[S]=C=Wo(Wo({},C),{},{tickCoord:C.coordinate});var I=tP(n,C.tickCoord,b,l,c);I&&(l=C.tickCoord+n*(b()/2+r),o[S]=Wo(Wo({},C),{},{isShow:!0}))},_=0;_<m;_++)g(_);return o}function LQ(n,e,t){var i=n.tick,r=n.ticks,s=n.viewBox,o=n.minTickGap,a=n.orientation,l=n.interval,c=n.tickFormatter,u=n.unit,d=n.angle;if(!r||!r.length||!i)return[];if(rt(l)||mf.isSsr)return IOt(r,typeof l=="number"&&rt(l)?l:0);var h=[],f=a==="top"||a==="bottom"?"width":"height",m=u&&f==="width"?b0(u,{fontSize:e,letterSpacing:t}):{width:0,height:0},g=function(C,y){var b=ln(c)?c(C.value,y):C.value;return f==="width"?AOt(b0(b,{fontSize:e,letterSpacing:t}),m,d):b0(b,{fontSize:e,letterSpacing:t})[f]},_=r.length>=2?ma(r[1].coordinate-r[0].coordinate):1,v=ROt(s,_,f);return l==="equidistantPreserveStart"?NOt(_,v,g,r,o):(l==="preserveStart"||l==="preserveStartEnd"?h=POt(_,v,g,r,o,l==="preserveStartEnd"):h=DOt(_,v,g,r,o),h.filter(function(S){return S.isShow}))}var kOt=["viewBox"],MOt=["viewBox"],FOt=["ticks"];function KC(n){"@babel/helpers - typeof";return KC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KC(n)}function tS(){return tS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tS.apply(this,arguments)}function jpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function la(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jpe(Object(t),!0).forEach(function(i){OQ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function SW(n,e){if(n==null)return{};var t=BOt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function BOt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function UOt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ype(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ROe(i.key),i)}}function HOt(n,e,t){return e&&Ype(n.prototype,e),t&&Ype(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function VOt(n,e,t){return e=nP(e),WOt(n,AOe()?Reflect.construct(e,t||[],nP(n).constructor):e.apply(n,t))}function WOt(n,e){if(e&&(KC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ot(n)}function $Ot(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function AOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AOe=function(){return!!n})()}function nP(n){return nP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nP(n)}function GOt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Gz(n,e)}function Gz(n,e){return Gz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Gz(n,e)}function OQ(n,e,t){return e=ROe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ROe(n){var e=zOt(n,"string");return KC(e)=="symbol"?e:e+""}function zOt(n,e){if(KC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(KC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var By=function(n){function e(t){var i;return UOt(this,e),i=VOt(this,e,[t]),i.state={fontSize:"",letterSpacing:""},i}return GOt(e,n),HOt(e,[{key:"shouldComponentUpdate",value:function(i,r){var s=i.viewBox,o=SW(i,kOt),a=this.props,l=a.viewBox,c=SW(a,MOt);return!KS(s,l)||!KS(o,c)||!KS(r,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var r=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];r&&this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var r=this.props,s=r.x,o=r.y,a=r.width,l=r.height,c=r.orientation,u=r.tickSize,d=r.mirror,h=r.tickMargin,f,m,g,_,v,S,C=d?-1:1,y=i.tickSize||u,b=rt(i.tickCoord)?i.tickCoord:i.coordinate;switch(c){case"top":f=m=i.coordinate,_=o+ +!d*l,g=_-C*y,S=g-C*h,v=b;break;case"left":g=_=i.coordinate,m=s+ +!d*a,f=m-C*y,v=f-C*h,S=b;break;case"right":g=_=i.coordinate,m=s+ +d*a,f=m+C*y,v=f+C*h,S=b;break;default:f=m=i.coordinate,_=o+ +d*l,g=_+C*y,S=g+C*h,v=b;break}return{line:{x1:f,y1:g,x2:m,y2:_},tick:{x:v,y:S}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,r=i.orientation,s=i.mirror,o;switch(r){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,r=i.orientation,s=i.mirror,o="end";switch(r){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var i=this.props,r=i.x,s=i.y,o=i.width,a=i.height,l=i.orientation,c=i.mirror,u=i.axisLine,d=la(la(la({},$t(this.props,!1)),$t(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=la(la({},d),{},{x1:r,y1:s+h*a,x2:r+o,y2:s+h*a})}else{var f=+(l==="left"&&!c||l==="right"&&c);d=la(la({},d),{},{x1:r+f*o,y1:s,x2:r+f*o,y2:s+a})}return Z.createElement("line",tS({},d,{className:On("recharts-cartesian-axis-line",Il(u,"className"))}))}},{key:"renderTicks",value:function(i,r,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,u=a.tick,d=a.tickFormatter,h=a.unit,f=LQ(la(la({},this.props),{},{ticks:i}),r,s),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),_=$t(this.props,!1),v=$t(u,!1),S=la(la({},_),{},{fill:"none"},$t(l,!1)),C=f.map(function(y,b){var w=o.getTickLineCoord(y),I=w.line,O=w.tick,x=la(la(la(la({textAnchor:m,verticalAnchor:g},_),{},{stroke:"none",fill:c},v),O),{},{index:b,payload:y,visibleTicksCount:f.length,tickFormatter:d});return Z.createElement(Gn,tS({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},rp(o.props,y,b)),l&&Z.createElement("line",tS({},S,I,{className:On("recharts-cartesian-axis-tick-line",Il(l,"className"))})),u&&e.renderTickItem(u,x,"".concat(ln(d)?d(y.value,b):y.value).concat(h||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var i=this,r=this.props,s=r.axisLine,o=r.width,a=r.height,l=r.ticksGenerator,c=r.className,u=r.hide;if(u)return null;var d=this.props,h=d.ticks,f=SW(d,FOt),m=h;return ln(l)&&(m=h&&h.length>0?l(this.props):l(f)),o<=0||a<=0||!m||!m.length?null:Z.createElement(Gn,{className:On("recharts-cartesian-axis",c),ref:function(_){i.layerReference=_}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),lo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,r,s){var o;return Z.isValidElement(i)?o=Z.cloneElement(i,r):ln(i)?o=i(r):o=Z.createElement(U_,tS({},r,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(N.Component);OQ(By,"displayName","CartesianAxis");OQ(By,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jOt=["x1","y1","x2","y2","key"],YOt=["offset"];function W_(n){"@babel/helpers - typeof";return W_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W_(n)}function Kpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kpe(Object(t),!0).forEach(function(i){KOt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function KOt(n,e,t){return e=qOt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qOt(n){var e=XOt(n,"string");return W_(e)=="symbol"?e:e+""}function XOt(n,e){if(W_(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(W_(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gm.apply(this,arguments)}function qpe(n,e){if(n==null)return{};var t=QOt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function QOt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var ZOt=function(e){var t=e.fill;if(!t||t==="none")return null;var i=e.fillOpacity,r=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return Z.createElement("rect",{x:r,y:s,ry:l,width:o,height:a,stroke:"none",fill:t,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function IOe(n,e){var t;if(Z.isValidElement(n))t=Z.cloneElement(n,e);else if(ln(n))t=n(e);else{var i=e.x1,r=e.y1,s=e.x2,o=e.y2,a=e.key,l=qpe(e,jOt),c=$t(l,!1);c.offset;var u=qpe(c,YOt);t=Z.createElement("line",Gm({},u,{x1:i,y1:r,x2:s,y2:o,fill:"none",key:a}))}return t}function JOt(n){var e=n.x,t=n.width,i=n.horizontal,r=i===void 0?!0:i,s=n.horizontalPoints;if(!r||!s||!s.length)return null;var o=s.map(function(a,l){var c=jo(jo({},n),{},{x1:e,y1:a,x2:e+t,y2:a,key:"line-".concat(l),index:l});return IOe(r,c)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ext(n){var e=n.y,t=n.height,i=n.vertical,r=i===void 0?!0:i,s=n.verticalPoints;if(!r||!s||!s.length)return null;var o=s.map(function(a,l){var c=jo(jo({},n),{},{x1:a,y1:e,x2:a,y2:e+t,key:"line-".concat(l),index:l});return IOe(r,c)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function txt(n){var e=n.horizontalFill,t=n.fillOpacity,i=n.x,r=n.y,s=n.width,o=n.height,a=n.horizontalPoints,l=n.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=a.map(function(h){return Math.round(h+r-r)}).sort(function(h,f){return h-f});r!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var m=!u[f+1],g=m?r+o-h:u[f+1]-h;if(g<=0)return null;var _=f%e.length;return Z.createElement("rect",{key:"react-".concat(f),y:h,x:i,height:g,width:s,stroke:"none",fill:e[_],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function nxt(n){var e=n.vertical,t=e===void 0?!0:e,i=n.verticalFill,r=n.fillOpacity,s=n.x,o=n.y,a=n.width,l=n.height,c=n.verticalPoints;if(!t||!i||!i.length)return null;var u=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var m=!u[f+1],g=m?s+a-h:u[f+1]-h;if(g<=0)return null;var _=f%i.length;return Z.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:g,height:l,stroke:"none",fill:i[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ixt=function(e,t){var i=e.xAxis,r=e.width,s=e.height,o=e.offset;return OLe(LQ(jo(jo(jo({},By.defaultProps),i),{},{ticks:Fh(i,!0),viewBox:{x:0,y:0,width:r,height:s}})),o.left,o.left+o.width,t)},rxt=function(e,t){var i=e.yAxis,r=e.width,s=e.height,o=e.offset;return OLe(LQ(jo(jo(jo({},By.defaultProps),i),{},{ticks:Fh(i,!0),viewBox:{x:0,y:0,width:r,height:s}})),o.top,o.top+o.height,t)},Ev={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function OT(n){var e,t,i,r,s,o,a=AQ(),l=RQ(),c=zLt(),u=jo(jo({},n),{},{stroke:(e=n.stroke)!==null&&e!==void 0?e:Ev.stroke,fill:(t=n.fill)!==null&&t!==void 0?t:Ev.fill,horizontal:(i=n.horizontal)!==null&&i!==void 0?i:Ev.horizontal,horizontalFill:(r=n.horizontalFill)!==null&&r!==void 0?r:Ev.horizontalFill,vertical:(s=n.vertical)!==null&&s!==void 0?s:Ev.vertical,verticalFill:(o=n.verticalFill)!==null&&o!==void 0?o:Ev.verticalFill,x:rt(n.x)?n.x:c.left,y:rt(n.y)?n.y:c.top,width:rt(n.width)?n.width:c.width,height:rt(n.height)?n.height:c.height}),d=u.x,h=u.y,f=u.width,m=u.height,g=u.syncWithTicks,_=u.horizontalValues,v=u.verticalValues,S=WLt(),C=$Lt();if(!rt(f)||f<=0||!rt(m)||m<=0||!rt(d)||d!==+d||!rt(h)||h!==+h)return null;var y=u.verticalCoordinatesGenerator||ixt,b=u.horizontalCoordinatesGenerator||rxt,w=u.horizontalPoints,I=u.verticalPoints;if((!w||!w.length)&&ln(b)){var O=_&&_.length,x=b({yAxis:C?jo(jo({},C),{},{ticks:O?_:C.ticks}):void 0,width:a,height:l,offset:c},O?!0:g);ou(Array.isArray(x),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(W_(x),"]")),Array.isArray(x)&&(w=x)}if((!I||!I.length)&&ln(y)){var k=v&&v.length,P=y({xAxis:S?jo(jo({},S),{},{ticks:k?v:S.ticks}):void 0,width:a,height:l,offset:c},k?!0:g);ou(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(W_(P),"]")),Array.isArray(P)&&(I=P)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(ZOt,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Z.createElement(JOt,Gm({},u,{offset:c,horizontalPoints:w,xAxis:S,yAxis:C})),Z.createElement(ext,Gm({},u,{offset:c,verticalPoints:I,xAxis:S,yAxis:C})),Z.createElement(txt,Gm({},u,{horizontalPoints:w})),Z.createElement(nxt,Gm({},u,{verticalPoints:I})))}OT.displayName="CartesianGrid";var sxt=["type","layout","connectNulls","ref"],oxt=["key"];function qC(n){"@babel/helpers - typeof";return qC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qC(n)}function Xpe(n,e){if(n==null)return{};var t=axt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function axt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function N0(){return N0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},N0.apply(this,arguments)}function Qpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function al(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qpe(Object(t),!0).forEach(function(i){$c(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vv(n){return dxt(n)||uxt(n)||cxt(n)||lxt()}function lxt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cxt(n,e){if(n){if(typeof n=="string")return zz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zz(n,e)}}function uxt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function dxt(n){if(Array.isArray(n))return zz(n)}function zz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function hxt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Zpe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,LOe(i.key),i)}}function fxt(n,e,t){return e&&Zpe(n.prototype,e),t&&Zpe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function gxt(n,e,t){return e=iP(e),pxt(n,NOe()?Reflect.construct(e,t||[],iP(n).constructor):e.apply(n,t))}function pxt(n,e){if(e&&(qC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mxt(n)}function mxt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function NOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NOe=function(){return!!n})()}function iP(n){return iP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iP(n)}function _xt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jz(n,e)}function jz(n,e){return jz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},jz(n,e)}function $c(n,e,t){return e=LOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LOe(n){var e=Ext(n,"string");return qC(e)=="symbol"?e:e+""}function Ext(n,e){if(qC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(qC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var WA=function(n){function e(){var t;hxt(this,e);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=gxt(this,e,[].concat(r)),$c(t,"state",{isAnimationFinished:!0,totalLength:0}),$c(t,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),$c(t,"getStrokeDasharray",function(o,a,l){var c=l.reduce(function(v,S){return v+S});if(!c)return t.generateSimpleStrokeDasharray(a,o);for(var u=Math.floor(o/c),d=o%c,h=a-o,f=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>d){f=[].concat(vv(l.slice(0,m)),[d-g]);break}var _=f.length%2===0?[0,h]:[h];return[].concat(vv(e.repeat(l,u)),vv(f),_).map(function(v){return"".concat(v,"px")}).join(", ")}),$c(t,"id",Ep("recharts-line-")),$c(t,"pathRef",function(o){t.mainCurve=o}),$c(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),$c(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return _xt(e,n),fxt(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();i!==this.state.totalLength&&this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=Ca(u,Fy);if(!d)return null;var h=function(g,_){return{x:g.x,y:g.y,value:g.value,errorVal:Cr(g.payload,_)}},f={clipPath:i?"url(#clipPath-".concat(r,")"):null};return Z.createElement(Gn,f,d.map(function(m){return Z.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(i,r,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,u=a.dataKey,d=$t(this.props,!1),h=$t(l,!0),f=c.map(function(g,_){var v=al(al(al({key:"dot-".concat(_),r:3},d),h),{},{index:_,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return e.renderDotItem(l,v)}),m={clipPath:i?"url(#clipPath-".concat(r?"":"dots-").concat(s,")"):null};return Z.createElement(Gn,N0({className:"recharts-line-dots",key:"dots"},m),f)}},{key:"renderCurveStatically",value:function(i,r,s,o){var a=this.props,l=a.type,c=a.layout,u=a.connectNulls;a.ref;var d=Xpe(a,sxt),h=al(al(al({},$t(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:r?"url(#clipPath-".concat(s,")"):null,points:i},o),{},{type:l,layout:c,connectNulls:u});return Z.createElement(Mg,N0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,r){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,f=o.animationId,m=o.animateNewValues,g=o.width,_=o.height,v=this.state,S=v.prevPoints,C=v.totalLength;return Z.createElement(mc,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(S){var w=S.length/a.length,I=a.map(function(M,W){var F=Math.floor(W*w);if(S[F]){var H=S[F],V=Dr(H.x,M.x),Y=Dr(H.y,M.y);return al(al({},M),{},{x:V(b),y:Y(b)})}if(m){var $=Dr(g*2,M.x),K=Dr(_/2,M.y);return al(al({},M),{},{x:$(b),y:K(b)})}return al(al({},M),{},{x:M.x,y:M.y})});return s.renderCurveStatically(I,i,r)}var O=Dr(0,C),x=O(b),k;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});k=s.getStrokeDasharray(x,C,P)}else k=s.generateSimpleStrokeDasharray(C,x);return s.renderCurveStatically(a,i,r,{strokeDasharray:k})})}},{key:"renderCurve",value:function(i,r){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return a&&o&&o.length&&(!c&&u>0||!sp(c,o))?this.renderCurveWithAnimation(i,r):this.renderCurveStatically(o,i,r)}},{key:"render",value:function(){var i,r=this.props,s=r.hide,o=r.dot,a=r.points,l=r.className,c=r.xAxis,u=r.yAxis,d=r.top,h=r.left,f=r.width,m=r.height,g=r.isAnimationActive,_=r.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,S=a.length===1,C=On("recharts-line",l),y=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,w=y||b,I=cn(_)?this.id:_,O=(i=$t(o,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},x=O.r,k=x===void 0?3:x,P=O.strokeWidth,M=P===void 0?2:P,W=dNe(o)?o:{},F=W.clipDot,H=F===void 0?!0:F,V=k*2+M;return Z.createElement(Gn,{className:C},y||b?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(I)},Z.createElement("rect",{x:y?h:h-f/2,y:b?d:d-m/2,width:y?f:f*2,height:b?m:m*2})),!H&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(I)},Z.createElement("rect",{x:h-V/2,y:d-V/2,width:f+V,height:m+V}))):null,!S&&this.renderCurve(w,I),this.renderErrorBar(w,I),(S||o)&&this.renderDots(w,H,I),(!g||v)&&au.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.animationId!==r.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:r.curPoints}:i.points!==r.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,r){for(var s=i.length%2!==0?[].concat(vv(i),[0]):i,o=[],a=0;a<r;++a)o=[].concat(vv(o),vv(s));return o}},{key:"renderDotItem",value:function(i,r){var s;if(Z.isValidElement(i))s=Z.cloneElement(i,r);else if(ln(i))s=i(r);else{var o=r.key,a=Xpe(r,oxt),l=On("recharts-line-dot",typeof i!="boolean"?i.className:"");s=Z.createElement(VA,N0({key:o},a,{className:l}))}return s}}])}(N.PureComponent);$c(WA,"displayName","Line");$c(WA,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mf.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$c(WA,"getComposedData",function(n){var e=n.props,t=n.xAxis,i=n.yAxis,r=n.xAxisTicks,s=n.yAxisTicks,o=n.dataKey,a=n.bandSize,l=n.displayedData,c=n.offset,u=e.layout,d=l.map(function(h,f){var m=Cr(h,o);return u==="horizontal"?{x:FC({axis:t,ticks:r,bandSize:a,entry:h,index:f}),y:cn(m)?null:i.scale(m),value:m,payload:h}:{x:cn(m)?null:t.scale(m),y:FC({axis:i,ticks:s,bandSize:a,entry:h,index:f}),value:m,payload:h}});return al({points:d,layout:u},c)});var vxt=["layout","type","stroke","connectNulls","isRange","ref"],Sxt=["key"],OOe;function XC(n){"@babel/helpers - typeof";return XC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XC(n)}function xOe(n,e){if(n==null)return{};var t=Cxt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Cxt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function zm(){return zm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zm.apply(this,arguments)}function Jpe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Xf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jpe(Object(t),!0).forEach(function(i){sd(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jpe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function yxt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function eme(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,POe(i.key),i)}}function bxt(n,e,t){return e&&eme(n.prototype,e),t&&eme(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Txt(n,e,t){return e=rP(e),wxt(n,DOe()?Reflect.construct(e,t||[],rP(n).constructor):e.apply(n,t))}function wxt(n,e){if(e&&(XC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Axt(n)}function Axt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DOe=function(){return!!n})()}function rP(n){return rP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rP(n)}function Rxt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Yz(n,e)}function Yz(n,e){return Yz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Yz(n,e)}function sd(n,e,t){return e=POe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function POe(n){var e=Ixt(n,"string");return XC(e)=="symbol"?e:e+""}function Ixt(n,e){if(XC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(XC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var yp=function(n){function e(){var t;yxt(this,e);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=Txt(this,e,[].concat(r)),sd(t,"state",{isAnimationFinished:!0}),sd(t,"id",Ep("recharts-area-")),sd(t,"handleAnimationEnd",function(){var o=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),ln(o)&&o()}),sd(t,"handleAnimationStart",function(){var o=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),ln(o)&&o()}),t}return Rxt(e,n),bxt(e,[{key:"renderDots",value:function(i,r,s){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=$t(this.props,!1),f=$t(c,!0),m=u.map(function(_,v){var S=Xf(Xf(Xf({key:"dot-".concat(v),r:3},h),f),{},{index:v,cx:_.x,cy:_.y,dataKey:d,value:_.value,payload:_.payload,points:u});return e.renderDotItem(c,S)}),g={clipPath:i?"url(#clipPath-".concat(r?"":"dots-").concat(s,")"):null};return Z.createElement(Gn,zm({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(i){var r=this.props,s=r.baseLine,o=r.points,a=r.strokeWidth,l=o[0].x,c=o[o.length-1].x,u=i*Math.abs(l-c),d=Tg(o.map(function(h){return h.y||0}));return rt(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(Tg(s.map(function(h){return h.y||0})),d)),rt(d)?Z.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(i){var r=this.props,s=r.baseLine,o=r.points,a=r.strokeWidth,l=o[0].y,c=o[o.length-1].y,u=i*Math.abs(l-c),d=Tg(o.map(function(h){return h.x||0}));return rt(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(Tg(s.map(function(h){return h.x||0})),d)),rt(d)?Z.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(i){var r=this.props.layout;return r==="vertical"?this.renderVerticalRect(i):this.renderHorizontalRect(i)}},{key:"renderAreaStatically",value:function(i,r,s,o){var a=this.props,l=a.layout,c=a.type,u=a.stroke,d=a.connectNulls,h=a.isRange;a.ref;var f=xOe(a,vxt);return Z.createElement(Gn,{clipPath:s?"url(#clipPath-".concat(o,")"):null},Z.createElement(Mg,zm({},$t(f,!0),{points:i,connectNulls:d,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Z.createElement(Mg,zm({},$t(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})),u!=="none"&&h&&Z.createElement(Mg,zm({},$t(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})))}},{key:"renderAreaWithAnimation",value:function(i,r){var s=this,o=this.props,a=o.points,l=o.baseLine,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,f=o.animationId,m=this.state,g=m.prevPoints,_=m.prevBaseLine;return Z.createElement(mc,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var S=v.t;if(g){var C=g.length/a.length,y=a.map(function(O,x){var k=Math.floor(x*C);if(g[k]){var P=g[k],M=Dr(P.x,O.x),W=Dr(P.y,O.y);return Xf(Xf({},O),{},{x:M(S),y:W(S)})}return O}),b;if(rt(l)&&typeof l=="number"){var w=Dr(_,l);b=w(S)}else if(cn(l)||Dy(l)){var I=Dr(_,0);b=I(S)}else b=l.map(function(O,x){var k=Math.floor(x*C);if(_[k]){var P=_[k],M=Dr(P.x,O.x),W=Dr(P.y,O.y);return Xf(Xf({},O),{},{x:M(S),y:W(S)})}return O});return s.renderAreaStatically(y,b,i,r)}return Z.createElement(Gn,null,Z.createElement("defs",null,Z.createElement("clipPath",{id:"animationClipPath-".concat(r)},s.renderClipRect(S))),Z.createElement(Gn,{clipPath:"url(#animationClipPath-".concat(r,")")},s.renderAreaStatically(a,l,i,r)))})}},{key:"renderArea",value:function(i,r){var s=this.props,o=s.points,a=s.baseLine,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!u&&h>0||!sp(u,o)||!sp(d,a))?this.renderAreaWithAnimation(i,r):this.renderAreaStatically(o,a,i,r)}},{key:"render",value:function(){var i,r=this.props,s=r.hide,o=r.dot,a=r.points,l=r.className,c=r.top,u=r.left,d=r.xAxis,h=r.yAxis,f=r.width,m=r.height,g=r.isAnimationActive,_=r.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,S=a.length===1,C=On("recharts-area",l),y=d&&d.allowDataOverflow,b=h&&h.allowDataOverflow,w=y||b,I=cn(_)?this.id:_,O=(i=$t(o,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},x=O.r,k=x===void 0?3:x,P=O.strokeWidth,M=P===void 0?2:P,W=dNe(o)?o:{},F=W.clipDot,H=F===void 0?!0:F,V=k*2+M;return Z.createElement(Gn,{className:C},y||b?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(I)},Z.createElement("rect",{x:y?u:u-f/2,y:b?c:c-m/2,width:y?f:f*2,height:b?m:m*2})),!H&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(I)},Z.createElement("rect",{x:u-V/2,y:c-V/2,width:f+V,height:m+V}))):null,S?null:this.renderArea(w,I),(o||S)&&this.renderDots(w,H,I),(!g||v)&&au.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.animationId!==r.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,curBaseLine:i.baseLine,prevPoints:r.curPoints,prevBaseLine:r.curBaseLine}:i.points!==r.curPoints||i.baseLine!==r.curBaseLine?{curPoints:i.points,curBaseLine:i.baseLine}:null}}])}(N.PureComponent);OOe=yp;sd(yp,"displayName","Area");sd(yp,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!mf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});sd(yp,"getBaseValue",function(n,e,t,i){var r=n.layout,s=n.baseValue,o=e.props.baseValue,a=o??s;if(rt(a)&&typeof a=="number")return a;var l=r==="horizontal"?i:t,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]});sd(yp,"getComposedData",function(n){var e=n.props,t=n.item,i=n.xAxis,r=n.yAxis,s=n.xAxisTicks,o=n.yAxisTicks,a=n.bandSize,l=n.dataKey,c=n.stackedData,u=n.dataStartIndex,d=n.displayedData,h=n.offset,f=e.layout,m=c&&c.length,g=OOe.getBaseValue(e,t,i,r),_=f==="horizontal",v=!1,S=d.map(function(y,b){var w;m?w=c[u+b]:(w=Cr(y,l),Array.isArray(w)?v=!0:w=[g,w]);var I=w[1]==null||m&&Cr(y,l)==null;return _?{x:FC({axis:i,ticks:s,bandSize:a,entry:y,index:b}),y:I?null:r.scale(w[1]),value:w,payload:y}:{x:I?null:i.scale(w[1]),y:FC({axis:r,ticks:o,bandSize:a,entry:y,index:b}),value:w,payload:y}}),C;return m||v?C=S.map(function(y){var b=Array.isArray(y.value)?y.value[0]:null;return _?{x:y.x,y:b!=null&&y.y!=null?r.scale(b):null}:{x:b!=null?i.scale(b):null,y:y.y}}):C=_?r.scale(g):i.scale(g),Xf({points:S,baseLine:C,layout:f,isRange:v},h)});sd(yp,"renderDotItem",function(n,e){var t;if(Z.isValidElement(n))t=Z.cloneElement(n,e);else if(ln(n))t=n(e);else{var i=On("recharts-area-dot",typeof n!="boolean"?n.className:""),r=e.key,s=xOe(e,Sxt);t=Z.createElement(VA,zm({},s,{key:r,className:i}))}return t});function QC(n){"@babel/helpers - typeof";return QC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QC(n)}function Nxt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Lxt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,FOe(i.key),i)}}function Oxt(n,e,t){return e&&Lxt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function xxt(n,e,t){return e=sP(e),Dxt(n,kOe()?Reflect.construct(e,t||[],sP(n).constructor):e.apply(n,t))}function Dxt(n,e){if(e&&(QC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pxt(n)}function Pxt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function kOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kOe=function(){return!!n})()}function sP(n){return sP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sP(n)}function kxt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Kz(n,e)}function Kz(n,e){return Kz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Kz(n,e)}function MOe(n,e,t){return e=FOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FOe(n){var e=Mxt(n,"string");return QC(e)=="symbol"?e:e+""}function Mxt(n,e){if(QC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(QC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var nF=function(n){function e(){return Nxt(this,e),xxt(this,e,arguments)}return kxt(e,n),Oxt(e,[{key:"render",value:function(){return null}}])}(Z.Component);MOe(nF,"displayName","ZAxis");MOe(nF,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Fxt=["option","isActive"];function L0(){return L0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},L0.apply(this,arguments)}function Bxt(n,e){if(n==null)return{};var t=Uxt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Uxt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Hxt(n){var e=n.option,t=n.isActive,i=Bxt(n,Fxt);return typeof e=="string"?Z.createElement(zD,L0({option:Z.createElement(P2,L0({type:e},i)),isActive:t,shapeType:"symbols"},i)):Z.createElement(zD,L0({option:e,isActive:t,shapeType:"symbols"},i))}function ZC(n){"@babel/helpers - typeof";return ZC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZC(n)}function O0(){return O0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},O0.apply(this,arguments)}function tme(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Xl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tme(Object(t),!0).forEach(function(i){Ag(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tme(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Vxt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nme(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,UOe(i.key),i)}}function Wxt(n,e,t){return e&&nme(n.prototype,e),t&&nme(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function $xt(n,e,t){return e=oP(e),Gxt(n,BOe()?Reflect.construct(e,t||[],oP(n).constructor):e.apply(n,t))}function Gxt(n,e){if(e&&(ZC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zxt(n)}function zxt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function BOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BOe=function(){return!!n})()}function oP(n){return oP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oP(n)}function jxt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qz(n,e)}function qz(n,e){return qz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},qz(n,e)}function Ag(n,e,t){return e=UOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UOe(n){var e=Yxt(n,"string");return ZC(e)=="symbol"?e:e+""}function Yxt(n,e){if(ZC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(ZC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var $A=function(n){function e(){var t;Vxt(this,e);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=$xt(this,e,[].concat(r)),Ag(t,"state",{isAnimationFinished:!1}),Ag(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0})}),Ag(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1})}),Ag(t,"id",Ep("recharts-scatter-")),t}return jxt(e,n),Wxt(e,[{key:"renderSymbolsStatically",value:function(i){var r=this,s=this.props,o=s.shape,a=s.activeShape,l=s.activeIndex,c=$t(this.props,!1);return i.map(function(u,d){var h=l===d,f=h?a:o,m=Xl(Xl({},c),u);return Z.createElement(Gn,O0({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(d)},rp(r.props,u,d),{role:"img"}),Z.createElement(Hxt,O0({option:f,isActive:h,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var i=this,r=this.props,s=r.points,o=r.isAnimationActive,a=r.animationBegin,l=r.animationDuration,c=r.animationEasing,u=r.animationId,d=this.state.prevPoints;return Z.createElement(mc,{begin:a,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var f=h.t,m=s.map(function(g,_){var v=d&&d[_];if(v){var S=Dr(v.cx,g.cx),C=Dr(v.cy,g.cy),y=Dr(v.size,g.size);return Xl(Xl({},g),{},{cx:S(f),cy:C(f),size:y(f)})}var b=Dr(0,g.size);return Xl(Xl({},g),{},{size:b(f)})});return Z.createElement(Gn,null,i.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var i=this.props,r=i.points,s=i.isAnimationActive,o=this.state.prevPoints;return s&&r&&r.length&&(!o||!sp(o,r))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(r)}},{key:"renderErrorBar",value:function(){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var r=this.props,s=r.points,o=r.xAxis,a=r.yAxis,l=r.children,c=Ca(l,Fy);return c?c.map(function(u,d){var h=u.props,f=h.direction,m=h.dataKey;return Z.cloneElement(u,{key:"".concat(f,"-").concat(m,"-").concat(s[d]),data:s,xAxis:o,yAxis:a,layout:f==="x"?"vertical":"horizontal",dataPointFormatter:function(_,v){return{x:_.cx,y:_.cy,value:f==="x"?+_.node.x:+_.node.y,errorVal:Cr(_,v)}}})}):null}},{key:"renderLine",value:function(){var i=this.props,r=i.points,s=i.line,o=i.lineType,a=i.lineJointType,l=$t(this.props,!1),c=$t(s,!1),u,d;if(o==="joint")u=r.map(function(C){return{x:C.cx,y:C.cy}});else if(o==="fitting"){var h=qCt(r),f=h.xmin,m=h.xmax,g=h.a,_=h.b,v=function(y){return g*y+_};u=[{x:f,y:v(f)},{x:m,y:v(m)}]}var S=Xl(Xl(Xl({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return Z.isValidElement(s)?d=Z.cloneElement(s,S):ln(s)?d=s(S):d=Z.createElement(Mg,O0({},S,{type:a})),Z.createElement(Gn,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var i=this.props,r=i.hide,s=i.points,o=i.line,a=i.className,l=i.xAxis,c=i.yAxis,u=i.left,d=i.top,h=i.width,f=i.height,m=i.id,g=i.isAnimationActive;if(r||!s||!s.length)return null;var _=this.state.isAnimationFinished,v=On("recharts-scatter",a),S=l&&l.allowDataOverflow,C=c&&c.allowDataOverflow,y=S||C,b=cn(m)?this.id:m;return Z.createElement(Gn,{className:v,clipPath:y?"url(#clipPath-".concat(b,")"):null},S||C?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(b)},Z.createElement("rect",{x:S?u:u-h/2,y:C?d:d-f/2,width:S?h:h*2,height:C?f:f*2}))):null,o&&this.renderLine(),this.renderErrorBar(),Z.createElement(Gn,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!g||_)&&au.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.animationId!==r.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:r.curPoints}:i.points!==r.curPoints?{curPoints:i.points}:null}}])}(N.PureComponent);Ag($A,"displayName","Scatter");Ag($A,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!mf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ag($A,"getComposedData",function(n){var e=n.xAxis,t=n.yAxis,i=n.zAxis,r=n.item,s=n.displayedData,o=n.xAxisTicks,a=n.yAxisTicks,l=n.offset,c=r.props.tooltipType,u=Ca(r.props.children,UA),d=cn(e.dataKey)?r.props.dataKey:e.dataKey,h=cn(t.dataKey)?r.props.dataKey:t.dataKey,f=i&&i.dataKey,m=i?i.range:nF.defaultProps.range,g=m&&m[0],_=e.scale.bandwidth?e.scale.bandwidth():0,v=t.scale.bandwidth?t.scale.bandwidth():0,S=s.map(function(C,y){var b=Cr(C,d),w=Cr(C,h),I=!cn(f)&&Cr(C,f)||"-",O=[{name:cn(e.dataKey)?r.props.name:e.name||e.dataKey,unit:e.unit||"",value:b,payload:C,dataKey:d,type:c},{name:cn(t.dataKey)?r.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:C,dataKey:h,type:c}];I!=="-"&&O.push({name:i.name||i.dataKey,unit:i.unit||"",value:I,payload:C,dataKey:f,type:c});var x=FC({axis:e,ticks:o,bandSize:_,entry:C,index:y,dataKey:d}),k=FC({axis:t,ticks:a,bandSize:v,entry:C,index:y,dataKey:h}),P=I!=="-"?i.scale(I):g,M=Math.sqrt(Math.max(P,0)/Math.PI);return Xl(Xl({},C),{},{cx:x,cy:k,x:x-M,y:k-M,xAxis:e,yAxis:t,zAxis:i,width:2*M,height:2*M,size:P,node:{x:b,y:w,z:I},tooltipPayload:O,tooltipPosition:{x,y:k},payload:C},u&&u[y]&&u[y].props)});return Xl({points:S},l)});function JC(n){"@babel/helpers - typeof";return JC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JC(n)}function Kxt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qxt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,WOe(i.key),i)}}function Xxt(n,e,t){return e&&qxt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Qxt(n,e,t){return e=aP(e),Zxt(n,HOe()?Reflect.construct(e,t||[],aP(n).constructor):e.apply(n,t))}function Zxt(n,e){if(e&&(JC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jxt(n)}function Jxt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function HOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HOe=function(){return!!n})()}function aP(n){return aP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aP(n)}function eDt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Xz(n,e)}function Xz(n,e){return Xz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Xz(n,e)}function VOe(n,e,t){return e=WOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WOe(n){var e=tDt(n,"string");return JC(e)=="symbol"?e:e+""}function tDt(n,e){if(JC(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(JC(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Qz(){return Qz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qz.apply(this,arguments)}function nDt(n){var e=n.xAxisId,t=AQ(),i=RQ(),r=_Oe(e);return r==null?null:Z.createElement(By,Qz({},r,{className:On("recharts-".concat(r.axisType," ").concat(r.axisType),r.className),viewBox:{x:0,y:0,width:t,height:i},ticksGenerator:function(o){return Fh(o,!0)}}))}var od=function(n){function e(){return Kxt(this,e),Qxt(this,e,arguments)}return eDt(e,n),Xxt(e,[{key:"render",value:function(){return Z.createElement(nDt,this.props)}}])}(Z.Component);VOe(od,"displayName","XAxis");VOe(od,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ey(n){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(n)}function iDt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function rDt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,zOe(i.key),i)}}function sDt(n,e,t){return e&&rDt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function oDt(n,e,t){return e=lP(e),aDt(n,$Oe()?Reflect.construct(e,t||[],lP(n).constructor):e.apply(n,t))}function aDt(n,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lDt(n)}function lDt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $Oe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Oe=function(){return!!n})()}function lP(n){return lP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lP(n)}function cDt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Zz(n,e)}function Zz(n,e){return Zz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Zz(n,e)}function GOe(n,e,t){return e=zOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zOe(n){var e=uDt(n,"string");return ey(e)=="symbol"?e:e+""}function uDt(n,e){if(ey(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(ey(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Jz(){return Jz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jz.apply(this,arguments)}var dDt=function(e){var t=e.yAxisId,i=AQ(),r=RQ(),s=EOe(t);return s==null?null:Z.createElement(By,Jz({},s,{className:On("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:i,height:r},ticksGenerator:function(a){return Fh(a,!0)}}))},ad=function(n){function e(){return iDt(this,e),oDt(this,e,arguments)}return cDt(e,n),sDt(e,[{key:"render",value:function(){return Z.createElement(dDt,this.props)}}])}(Z.Component);GOe(ad,"displayName","YAxis");GOe(ad,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ime(n){return pDt(n)||gDt(n)||fDt(n)||hDt()}function hDt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fDt(n,e){if(n){if(typeof n=="string")return ej(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ej(n,e)}}function gDt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function pDt(n){if(Array.isArray(n))return ej(n)}function ej(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var tj=function(e,t,i,r,s){var o=Ca(e,NQ),a=Ca(e,J2),l=[].concat(ime(o),ime(a)),c=Ca(e,tF),u="".concat(r,"Id"),d=r[0],h=t;if(l.length&&(h=l.reduce(function(g,_){if(_.props[u]===i&&gd(_.props,"extendDomain")&&rt(_.props[d])){var v=_.props[d];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},h)),c.length){var f="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(g,_){if(_.props[u]===i&&gd(_.props,"extendDomain")&&rt(_.props[f])&&rt(_.props[m])){var v=_.props[f],S=_.props[m];return[Math.min(g[0],v,S),Math.max(g[1],v,S)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,_){return rt(_)?[Math.min(g[0],_),Math.max(g[1],_)]:g},h)),h},CW={exports:{}},rme;function mDt(){return rme||(rme=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new r(u,d||l,h),m=t?t+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,m=new Array(f);h<f;h++)m[h]=d[h].fn;return m},a.prototype.listenerCount=function(c){var u=t?t+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,h,f,m){var g=t?t+c:c;if(!this._events[g])return!1;var _=this._events[g],v=arguments.length,S,C;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),v){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,u),!0;case 3:return _.fn.call(_.context,u,d),!0;case 4:return _.fn.call(_.context,u,d,h),!0;case 5:return _.fn.call(_.context,u,d,h,f),!0;case 6:return _.fn.call(_.context,u,d,h,f,m),!0}for(C=1,S=new Array(v-1);C<v;C++)S[C-1]=arguments[C];_.fn.apply(_.context,S)}else{var y=_.length,b;for(C=0;C<y;C++)switch(_[C].once&&this.removeListener(c,_[C].fn,void 0,!0),v){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,u);break;case 3:_[C].fn.call(_[C].context,u,d);break;case 4:_[C].fn.call(_[C].context,u,d,h);break;default:if(!S)for(b=1,S=new Array(v-1);b<v;b++)S[b-1]=arguments[b];_[C].fn.apply(_[C].context,S)}}return!0},a.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,h){var f=t?t+c:c;if(!this._events[f])return this;if(!u)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===u&&(!h||m.once)&&(!d||m.context===d)&&o(this,f);else{for(var g=0,_=[],v=m.length;g<v;g++)(m[g].fn!==u||h&&!m[g].once||d&&m[g].context!==d)&&_.push(m[g]);_.length?this._events[f]=_.length===1?_[0]:_:o(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a}(CW)),CW.exports}var _Dt=mDt();const EDt=Si(_Dt);var yW=new EDt,bW="recharts.syncMouseEvents";function Hw(n){"@babel/helpers - typeof";return Hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hw(n)}function vDt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function SDt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,jOe(i.key),i)}}function CDt(n,e,t){return e&&SDt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function TW(n,e,t){return e=jOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jOe(n){var e=yDt(n,"string");return Hw(e)=="symbol"?e:e+""}function yDt(n,e){if(Hw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Hw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var bDt=function(){function n(){vDt(this,n),TW(this,"activeIndex",0),TW(this,"coordinateList",[]),TW(this,"layout","horizontal")}return CDt(n,[{key:"setDetails",value:function(t){var i,r=t.coordinateList,s=r===void 0?null:r,o=t.container,a=o===void 0?null:o,l=t.layout,c=l===void 0?null:l,u=t.offset,d=u===void 0?null:u,h=t.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(i=s??this.coordinateList)!==null&&i!==void 0?i:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,i;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var r=this.container.getBoundingClientRect(),s=r.x,o=r.y,a=r.height,l=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,u=((i=window)===null||i===void 0?void 0:i.scrollY)||0,d=s+l+c,h=o+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function TDt(n,e,t){if(t==="number"&&e===!0&&Array.isArray(n)){var i=n==null?void 0:n[0],r=n==null?void 0:n[1];if(i&&r&&rt(i)&&rt(r))return!0}return!1}function wDt(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function YOe(n){var e=n.cx,t=n.cy,i=n.radius,r=n.startAngle,s=n.endAngle,o=pr(e,t,i,r),a=pr(e,t,i,s);return{points:[o,a],cx:e,cy:t,radius:i,startAngle:r,endAngle:s}}function ADt(n,e,t){var i,r,s,o;if(n==="horizontal")i=e.x,s=i,r=t.top,o=t.top+t.height;else if(n==="vertical")r=e.y,o=r,i=t.left,s=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(n==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=pr(a,l,c,d),f=pr(a,l,u,d);i=h.x,r=h.y,s=f.x,o=f.y}else return YOe(e);return[{x:i,y:r},{x:s,y:o}]}function Vw(n){"@babel/helpers - typeof";return Vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vw(n)}function sme(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function FN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sme(Object(t),!0).forEach(function(i){RDt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sme(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function RDt(n,e,t){return e=IDt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IDt(n){var e=NDt(n,"string");return Vw(e)=="symbol"?e:e+""}function NDt(n,e){if(Vw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Vw(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function LDt(n){var e,t,i=n.element,r=n.tooltipEventType,s=n.isActive,o=n.activeCoordinate,a=n.activePayload,l=n.offset,c=n.activeTooltipIndex,u=n.tooltipAxisBandSize,d=n.layout,h=n.chartName,f=(e=i.props.cursor)!==null&&e!==void 0?e:(t=i.type.defaultProps)===null||t===void 0?void 0:t.cursor;if(!i||!f||!s||!o||h!=="ScatterChart"&&r!=="axis")return null;var m,g=Mg;if(h==="ScatterChart")m=o,g=wIt;else if(h==="BarChart")m=wDt(d,o,l,u),g=yQ;else if(d==="radial"){var _=YOe(o),v=_.cx,S=_.cy,C=_.radius,y=_.startAngle,b=_.endAngle;m={cx:v,cy:S,startAngle:y,endAngle:b,innerRadius:C,outerRadius:C},g=WLe}else m={points:ADt(d,o,l)},g=Mg;var w=FN(FN(FN(FN({stroke:"#ccc",pointerEvents:"none"},l),m),$t(f,!1)),{},{payload:a,payloadIndex:c,className:On("recharts-tooltip-cursor",f.className)});return N.isValidElement(f)?N.cloneElement(f,w):N.createElement(g,w)}var ODt=["item"],xDt=["children","className","width","height","style","compact","title","desc"];function ty(n){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(n)}function nS(){return nS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nS.apply(this,arguments)}function ome(n,e){return kDt(n)||PDt(n,e)||qOe(n,e)||DDt()}function DDt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PDt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function kDt(n){if(Array.isArray(n))return n}function ame(n,e){if(n==null)return{};var t=MDt(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function MDt(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function FDt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function BDt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,XOe(i.key),i)}}function UDt(n,e,t){return e&&BDt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function HDt(n,e,t){return e=cP(e),VDt(n,KOe()?Reflect.construct(e,t||[],cP(n).constructor):e.apply(n,t))}function VDt(n,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WDt(n)}function WDt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function KOe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KOe=function(){return!!n})()}function cP(n){return cP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cP(n)}function $Dt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&nj(n,e)}function nj(n,e){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},nj(n,e)}function ny(n){return jDt(n)||zDt(n)||qOe(n)||GDt()}function GDt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qOe(n,e){if(n){if(typeof n=="string")return ij(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ij(n,e)}}function zDt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function jDt(n){if(Array.isArray(n))return ij(n)}function ij(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function lme(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function He(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lme(Object(t),!0).forEach(function(i){dn(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lme(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dn(n,e,t){return e=XOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XOe(n){var e=YDt(n,"string");return ty(e)=="symbol"?e:e+""}function YDt(n,e){if(ty(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(ty(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var KDt={xAxis:["bottom","top"],yAxis:["left","right"]},qDt={width:"100%",height:"100%"},QOe={x:0,y:0};function BN(n){return n}var XDt=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},QDt=function(e,t,i,r){var s=t.find(function(u){return u&&u.index===i});if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=r.radius;return He(He(He({},r),pr(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=r.angle;return He(He(He({},r),pr(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return QOe},iF=function(e,t){var i=t.graphicalItems,r=t.dataStartIndex,s=t.dataEndIndex,o=(i??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(ny(a),ny(c)):a},[]);return o.length>0?o:e&&e.length&&rt(r)&&rt(s)?e.slice(r,s+1):[]};function ZOe(n){return n==="number"?[0,"auto"]:void 0}var rj=function(e,t,i,r){var s=e.graphicalItems,o=e.tooltipAxis,a=iF(t,e);return i<0||!s||!s.length||i>=a.length?null:s.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:t;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=i&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?a:d;h=mD(f,o.dataKey,r)}else h=d&&d[i]||a[i];return h?[].concat(ny(l),[MLe(c,h)]):l},[])},cme=function(e,t,i,r){var s=r||{x:e.chartX,y:e.chartY},o=XDt(s,i),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=twt(o,a,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=rj(e,t,u,d),f=QDt(i,a,u,s);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},ZDt=function(e,t){var i=t.axes,r=t.graphicalItems,s=t.axisType,o=t.axisIdKey,a=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,f=LLe(u,s);return i.reduce(function(m,g){var _,v=g.type.defaultProps!==void 0?He(He({},g.type.defaultProps),g.props):g.props,S=v.type,C=v.dataKey,y=v.allowDataOverflow,b=v.allowDuplicatedCategory,w=v.scale,I=v.ticks,O=v.includeHidden,x=v[o];if(m[x])return m;var k=iF(e.data,{graphicalItems:r.filter(function(J){var z,j=o in J.props?J.props[o]:(z=J.type.defaultProps)===null||z===void 0?void 0:z[o];return j===x}),dataStartIndex:l,dataEndIndex:c}),P=k.length,M,W,F;TDt(v.domain,y,S)&&(M=pz(v.domain,null,y),f&&(S==="number"||w!=="auto")&&(F=w0(k,C,"category")));var H=ZOe(S);if(!M||M.length===0){var V,Y=(V=v.domain)!==null&&V!==void 0?V:H;if(C){if(M=w0(k,C,S),S==="category"&&f){var $=KCt(M);b&&$?(W=M,M=YD(0,P)):b||(M=fge(Y,M,g).reduce(function(J,z){return J.indexOf(z)>=0?J:[].concat(ny(J),[z])},[]))}else if(S==="category")b?M=M.filter(function(J){return J!==""&&!cn(J)}):M=fge(Y,M,g).reduce(function(J,z){return J.indexOf(z)>=0||z===""||cn(z)?J:[].concat(ny(J),[z])},[]);else if(S==="number"){var K=owt(k,r.filter(function(J){var z,j,ne=o in J.props?J.props[o]:(z=J.type.defaultProps)===null||z===void 0?void 0:z[o],le="hide"in J.props?J.props.hide:(j=J.type.defaultProps)===null||j===void 0?void 0:j.hide;return ne===x&&(O||!le)}),C,s,u);K&&(M=K)}f&&(S==="number"||w!=="auto")&&(F=w0(k,C,"category"))}else f?M=YD(0,P):a&&a[x]&&a[x].hasStack&&S==="number"?M=h==="expand"?[0,1]:kLe(a[x].stackGroups,l,c):M=NLe(k,r.filter(function(J){var z=o in J.props?J.props[o]:J.type.defaultProps[o],j="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return z===x&&(O||!j)}),S,u,!0);if(S==="number")M=tj(d,M,x,s,I),Y&&(M=pz(Y,M,y));else if(S==="category"&&Y){var re=Y,G=M.every(function(J){return re.indexOf(J)>=0});G&&(M=re)}}return He(He({},m),{},dn({},x,He(He({},v),{},{axisType:s,domain:M,categoricalDomain:F,duplicateDomain:W,originalDomain:(_=v.domain)!==null&&_!==void 0?_:H,isCategorical:f,layout:u})))},{})},JDt=function(e,t){var i=t.graphicalItems,r=t.Axis,s=t.axisType,o=t.axisIdKey,a=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.layout,d=e.children,h=iF(e.data,{graphicalItems:i,dataStartIndex:l,dataEndIndex:c}),f=h.length,m=LLe(u,s),g=-1;return i.reduce(function(_,v){var S=v.type.defaultProps!==void 0?He(He({},v.type.defaultProps),v.props):v.props,C=S[o],y=ZOe("number");if(!_[C]){g++;var b;return m?b=YD(0,f):a&&a[C]&&a[C].hasStack?(b=kLe(a[C].stackGroups,l,c),b=tj(d,b,C,s)):(b=pz(y,NLe(h,i.filter(function(w){var I,O,x=o in w.props?w.props[o]:(I=w.type.defaultProps)===null||I===void 0?void 0:I[o],k="hide"in w.props?w.props.hide:(O=w.type.defaultProps)===null||O===void 0?void 0:O.hide;return x===C&&!k}),"number",u),r.defaultProps.allowDataOverflow),b=tj(d,b,C,s)),He(He({},_),{},dn({},C,He(He({axisType:s},r.defaultProps),{},{hide:!0,orientation:Il(KDt,"".concat(s,".").concat(g%2),null),domain:b,originalDomain:y,isCategorical:m,layout:u})))}return _},{})},ePt=function(e,t){var i=t.axisType,r=i===void 0?"xAxis":i,s=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.children,d="".concat(r,"Id"),h=Ca(u,s),f={};return h&&h.length?f=ZDt(e,{axes:h,graphicalItems:o,axisType:r,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(f=JDt(e,{Axis:s,graphicalItems:o,axisType:r,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),f},tPt=function(e){var t=dg(e),i=Fh(t,!1,!0);return{tooltipTicks:i,orderedTooltipTicks:oQ(i,function(r){return r.coordinate}),tooltipAxis:t,tooltipAxisBandSize:PD(t,i)}},ume=function(e){var t=e.children,i=e.defaultShowTooltip,r=hl(t,$C),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(s=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!i}},nPt=function(e){return!e||!e.length?!1:e.some(function(t){var i=Kh(t&&t.type);return i&&i.indexOf("Bar")>=0})},dme=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},iPt=function(e,t){var i=e.props,r=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,c=i.width,u=i.height,d=i.children,h=i.margin||{},f=hl(d,$C),m=hl(d,Qc),g=Object.keys(l).reduce(function(b,w){var I=l[w],O=I.orientation;return!I.mirror&&!I.hide?He(He({},b),{},dn({},O,b[O]+I.width)):b},{left:h.left||0,right:h.right||0}),_=Object.keys(o).reduce(function(b,w){var I=o[w],O=I.orientation;return!I.mirror&&!I.hide?He(He({},b),{},dn({},O,Il(b,"".concat(O))+I.height)):b},{top:h.top||0,bottom:h.bottom||0}),v=He(He({},_),g),S=v.bottom;f&&(v.bottom+=f.props.height||$C.defaultProps.height),m&&t&&(v=rwt(v,r,i,t));var C=c-v.left-v.right,y=u-v.top-v.bottom;return He(He({brushBottom:S},v),{},{width:Math.max(C,0),height:Math.max(y,0)})},rPt=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},GA=function(e){var t=e.chartName,i=e.GraphicalChild,r=e.defaultTooltipEventType,s=r===void 0?"axis":r,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(v,S){var C=S.graphicalItems,y=S.stackGroups,b=S.offset,w=S.updateId,I=S.dataStartIndex,O=S.dataEndIndex,x=v.barSize,k=v.layout,P=v.barGap,M=v.barCategoryGap,W=v.maxBarSize,F=dme(k),H=F.numericAxisName,V=F.cateAxisName,Y=nPt(C),$=[];return C.forEach(function(K,re){var G=iF(v.data,{graphicalItems:[K],dataStartIndex:I,dataEndIndex:O}),J=K.type.defaultProps!==void 0?He(He({},K.type.defaultProps),K.props):K.props,z=J.dataKey,j=J.maxBarSize,ne=J["".concat(H,"Id")],le=J["".concat(V,"Id")],q={},he=l.reduce(function(_t,ae){var Se=S["".concat(ae.axisType,"Map")],De=J["".concat(ae.axisType,"Id")];Se&&Se[De]||ae.axisType==="zAxis"||V_();var je=Se[De];return He(He({},_t),{},dn(dn({},ae.axisType,je),"".concat(ae.axisType,"Ticks"),Fh(je)))},q),ue=he[V],pe=he["".concat(V,"Ticks")],Ae=y&&y[ne]&&y[ne].hasStack&&pwt(K,y[ne].stackGroups),me=Kh(K.type).indexOf("Bar")>=0,Te=PD(ue,pe),Oe=[],ft=Y&&nwt({barSize:x,stackGroups:y,totalSize:rPt(he,V)});if(me){var kt,Vt,yt=cn(j)?W:j,vt=(kt=(Vt=PD(ue,pe,!0))!==null&&Vt!==void 0?Vt:yt)!==null&&kt!==void 0?kt:0;Oe=iwt({barGap:P,barCategoryGap:M,bandSize:vt!==Te?vt:Te,sizeList:ft[le],maxBarSize:yt}),vt!==Te&&(Oe=Oe.map(function(_t){return He(He({},_t),{},{position:He(He({},_t.position),{},{offset:_t.position.offset-vt/2})})}))}var Yt=K&&K.type&&K.type.getComposedData;Yt&&$.push({props:He(He({},Yt(He(He({},he),{},{displayedData:G,props:v,dataKey:z,item:K,bandSize:Te,barPosition:Oe,offset:b,stackedData:Ae,layout:k,dataStartIndex:I,dataEndIndex:O}))),{},dn(dn(dn({key:K.key||"item-".concat(re)},H,he[H]),V,he[V]),"animationId",w)),childIndex:ayt(K,v.children),item:K})}),$},f=function(v,S){var C=v.props,y=v.dataStartIndex,b=v.dataEndIndex,w=v.updateId;if(!Phe({props:C}))return null;var I=C.children,O=C.layout,x=C.stackOffset,k=C.data,P=C.reverseStackOrder,M=dme(O),W=M.numericAxisName,F=M.cateAxisName,H=Ca(I,i),V=fwt(k,H,"".concat(W,"Id"),"".concat(F,"Id"),x,P),Y=l.reduce(function(J,z){var j="".concat(z.axisType,"Map");return He(He({},J),{},dn({},j,ePt(C,He(He({},z),{},{graphicalItems:H,stackGroups:z.axisType===W&&V,dataStartIndex:y,dataEndIndex:b}))))},{}),$=iPt(He(He({},Y),{},{props:C,graphicalItems:H}),S==null?void 0:S.legendBBox);Object.keys(Y).forEach(function(J){Y[J]=u(C,Y[J],$,J.replace("Map",""),t)});var K=Y["".concat(F,"Map")],re=tPt(K),G=h(C,He(He({},Y),{},{dataStartIndex:y,dataEndIndex:b,updateId:w,graphicalItems:H,stackGroups:V,offset:$}));return He(He({formattedGraphicalItems:G,graphicalItems:H,offset:$,stackGroups:V},re),Y)},m=function(_){function v(S){var C,y,b;return FDt(this,v),b=HDt(this,v,[S]),dn(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),dn(b,"accessibilityManager",new bDt),dn(b,"handleLegendBBoxUpdate",function(w){if(w){var I=b.state,O=I.dataStartIndex,x=I.dataEndIndex,k=I.updateId;b.setState(He({legendBBox:w},f({props:b.props,dataStartIndex:O,dataEndIndex:x,updateId:k},He(He({},b.state),{},{legendBBox:w}))))}}),dn(b,"handleReceiveSyncEvent",function(w,I,O){if(b.props.syncId===w){if(O===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(I)}}),dn(b,"handleBrushChange",function(w){var I=w.startIndex,O=w.endIndex;if(I!==b.state.dataStartIndex||O!==b.state.dataEndIndex){var x=b.state.updateId;b.setState(function(){return He({dataStartIndex:I,dataEndIndex:O},f({props:b.props,dataStartIndex:I,dataEndIndex:O,updateId:x},b.state))}),b.triggerSyncEvent({dataStartIndex:I,dataEndIndex:O})}}),dn(b,"handleMouseEnter",function(w){var I=b.getMouseInfo(w);if(I){var O=He(He({},I),{},{isTooltipActive:!0});b.setState(O),b.triggerSyncEvent(O);var x=b.props.onMouseEnter;ln(x)&&x(O,w)}}),dn(b,"triggeredAfterMouseMove",function(w){var I=b.getMouseInfo(w),O=I?He(He({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(O),b.triggerSyncEvent(O);var x=b.props.onMouseMove;ln(x)&&x(O,w)}),dn(b,"handleItemMouseEnter",function(w){b.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),dn(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),dn(b,"handleMouseMove",function(w){w.persist(),b.throttleTriggeredAfterMouseMove(w)}),dn(b,"handleMouseLeave",function(w){b.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};b.setState(I),b.triggerSyncEvent(I);var O=b.props.onMouseLeave;ln(O)&&O(I,w)}),dn(b,"handleOuterEvent",function(w){var I=oyt(w),O=Il(b.props,"".concat(I));if(I&&ln(O)){var x,k;/.*touch.*/i.test(I)?k=b.getMouseInfo(w.changedTouches[0]):k=b.getMouseInfo(w),O((x=k)!==null&&x!==void 0?x:{},w)}}),dn(b,"handleClick",function(w){var I=b.getMouseInfo(w);if(I){var O=He(He({},I),{},{isTooltipActive:!0});b.setState(O),b.triggerSyncEvent(O);var x=b.props.onClick;ln(x)&&x(O,w)}}),dn(b,"handleMouseDown",function(w){var I=b.props.onMouseDown;if(ln(I)){var O=b.getMouseInfo(w);I(O,w)}}),dn(b,"handleMouseUp",function(w){var I=b.props.onMouseUp;if(ln(I)){var O=b.getMouseInfo(w);I(O,w)}}),dn(b,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),dn(b,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&b.handleMouseDown(w.changedTouches[0])}),dn(b,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&b.handleMouseUp(w.changedTouches[0])}),dn(b,"handleDoubleClick",function(w){var I=b.props.onDoubleClick;if(ln(I)){var O=b.getMouseInfo(w);I(O,w)}}),dn(b,"handleContextMenu",function(w){var I=b.props.onContextMenu;if(ln(I)){var O=b.getMouseInfo(w);I(O,w)}}),dn(b,"triggerSyncEvent",function(w){b.props.syncId!==void 0&&yW.emit(bW,b.props.syncId,w,b.eventEmitterSymbol)}),dn(b,"applySyncEvent",function(w){var I=b.props,O=I.layout,x=I.syncMethod,k=b.state.updateId,P=w.dataStartIndex,M=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)b.setState(He({dataStartIndex:P,dataEndIndex:M},f({props:b.props,dataStartIndex:P,dataEndIndex:M,updateId:k},b.state)));else if(w.activeTooltipIndex!==void 0){var W=w.chartX,F=w.chartY,H=w.activeTooltipIndex,V=b.state,Y=V.offset,$=V.tooltipTicks;if(!Y)return;if(typeof x=="function")H=x($,w);else if(x==="value"){H=-1;for(var K=0;K<$.length;K++)if($[K].value===w.activeLabel){H=K;break}}var re=He(He({},Y),{},{x:Y.left,y:Y.top}),G=Math.min(W,re.x+re.width),J=Math.min(F,re.y+re.height),z=$[H]&&$[H].value,j=rj(b.state,b.props.data,H),ne=$[H]?{x:O==="horizontal"?$[H].coordinate:G,y:O==="horizontal"?J:$[H].coordinate}:QOe;b.setState(He(He({},w),{},{activeLabel:z,activeCoordinate:ne,activePayload:j,activeTooltipIndex:H}))}else b.setState(w)}),dn(b,"renderCursor",function(w){var I,O=b.state,x=O.isTooltipActive,k=O.activeCoordinate,P=O.activePayload,M=O.offset,W=O.activeTooltipIndex,F=O.tooltipAxisBandSize,H=b.getTooltipEventType(),V=(I=w.props.active)!==null&&I!==void 0?I:x,Y=b.props.layout,$=w.key||"_recharts-cursor";return Z.createElement(LDt,{key:$,activeCoordinate:k,activePayload:P,activeTooltipIndex:W,chartName:t,element:w,isActive:V,layout:Y,offset:M,tooltipAxisBandSize:F,tooltipEventType:H})}),dn(b,"renderPolarAxis",function(w,I,O){var x=Il(w,"type.axisType"),k=Il(b.state,"".concat(x,"Map")),P=w.type.defaultProps,M=P!==void 0?He(He({},P),w.props):w.props,W=k&&k[M["".concat(x,"Id")]];return N.cloneElement(w,He(He({},W),{},{className:On(x,W.className),key:w.key||"".concat(I,"-").concat(O),ticks:Fh(W,!0)}))}),dn(b,"renderPolarGrid",function(w){var I=w.props,O=I.radialLines,x=I.polarAngles,k=I.polarRadius,P=b.state,M=P.radiusAxisMap,W=P.angleAxisMap,F=dg(M),H=dg(W),V=H.cx,Y=H.cy,$=H.innerRadius,K=H.outerRadius;return N.cloneElement(w,{polarAngles:Array.isArray(x)?x:Fh(H,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(k)?k:Fh(F,!0).map(function(re){return re.coordinate}),cx:V,cy:Y,innerRadius:$,outerRadius:K,key:w.key||"polar-grid",radialLines:O})}),dn(b,"renderLegend",function(){var w=b.state.formattedGraphicalItems,I=b.props,O=I.children,x=I.width,k=I.height,P=b.props.margin||{},M=x-(P.left||0)-(P.right||0),W=RLe({children:O,formattedGraphicalItems:w,legendWidth:M,legendContent:c});if(!W)return null;var F=W.item,H=ame(W,ODt);return N.cloneElement(F,He(He({},H),{},{chartWidth:x,chartHeight:k,margin:P,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),dn(b,"renderTooltip",function(){var w,I=b.props,O=I.children,x=I.accessibilityLayer,k=hl(O,Ha);if(!k)return null;var P=b.state,M=P.isTooltipActive,W=P.activeCoordinate,F=P.activePayload,H=P.activeLabel,V=P.offset,Y=(w=k.props.active)!==null&&w!==void 0?w:M;return N.cloneElement(k,{viewBox:He(He({},V),{},{x:V.left,y:V.top}),active:Y,label:H,payload:Y?F:[],coordinate:W,accessibilityLayer:x})}),dn(b,"renderBrush",function(w){var I=b.props,O=I.margin,x=I.data,k=b.state,P=k.offset,M=k.dataStartIndex,W=k.dataEndIndex,F=k.updateId;return N.cloneElement(w,{key:w.key||"_recharts-brush",onChange:DN(b.handleBrushChange,w.props.onChange),data:x,x:rt(w.props.x)?w.props.x:P.left,y:rt(w.props.y)?w.props.y:P.top+P.height+P.brushBottom-(O.bottom||0),width:rt(w.props.width)?w.props.width:P.width,startIndex:M,endIndex:W,updateId:"brush-".concat(F)})}),dn(b,"renderReferenceElement",function(w,I,O){if(!w)return null;var x=b,k=x.clipPathId,P=b.state,M=P.xAxisMap,W=P.yAxisMap,F=P.offset,H=w.type.defaultProps||{},V=w.props,Y=V.xAxisId,$=Y===void 0?H.xAxisId:Y,K=V.yAxisId,re=K===void 0?H.yAxisId:K;return N.cloneElement(w,{key:w.key||"".concat(I,"-").concat(O),xAxis:M[$],yAxis:W[re],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:k})}),dn(b,"renderActivePoints",function(w){var I=w.item,O=w.activePoint,x=w.basePoint,k=w.childIndex,P=w.isRange,M=[],W=I.props.key,F=I.item.type.defaultProps!==void 0?He(He({},I.item.type.defaultProps),I.item.props):I.item.props,H=F.activeDot,V=F.dataKey,Y=He(He({index:k,dataKey:V,cx:O.x,cy:O.y,r:4,fill:CQ(I.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},$t(H,!1)),_D(H));return M.push(v.renderActiveDot(H,Y,"".concat(W,"-activePoint-").concat(k))),x?M.push(v.renderActiveDot(H,He(He({},Y),{},{cx:x.x,cy:x.y}),"".concat(W,"-basePoint-").concat(k))):P&&M.push(null),M}),dn(b,"renderGraphicChild",function(w,I,O){var x=b.filterFormatItem(w,I,O);if(!x)return null;var k=b.getTooltipEventType(),P=b.state,M=P.isTooltipActive,W=P.tooltipAxis,F=P.activeTooltipIndex,H=P.activeLabel,V=b.props.children,Y=hl(V,Ha),$=x.props,K=$.points,re=$.isRange,G=$.baseLine,J=x.item.type.defaultProps!==void 0?He(He({},x.item.type.defaultProps),x.item.props):x.item.props,z=J.activeDot,j=J.hide,ne=J.activeBar,le=J.activeShape,q=!!(!j&&M&&Y&&(z||ne||le)),he={};k!=="axis"&&Y&&Y.props.trigger==="click"?he={onClick:DN(b.handleItemMouseEnter,w.props.onClick)}:k!=="axis"&&(he={onMouseLeave:DN(b.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:DN(b.handleItemMouseEnter,w.props.onMouseEnter)});var ue=N.cloneElement(w,He(He({},x.props),he));function pe(ae){return typeof W.dataKey=="function"?W.dataKey(ae.payload):null}if(q)if(F>=0){var Ae,me;if(W.dataKey&&!W.allowDuplicatedCategory){var Te=typeof W.dataKey=="function"?pe:"payload.".concat(W.dataKey.toString());Ae=mD(K,Te,H),me=re&&G&&mD(G,Te,H)}else Ae=K==null?void 0:K[F],me=re&&G&&G[F];if(le||ne){var Oe=w.props.activeIndex!==void 0?w.props.activeIndex:F;return[N.cloneElement(w,He(He(He({},x.props),he),{},{activeIndex:Oe})),null,null]}if(!cn(Ae))return[ue].concat(ny(b.renderActivePoints({item:x,activePoint:Ae,basePoint:me,childIndex:F,isRange:re})))}else{var ft,kt=(ft=b.getItemByXY(b.state.activeCoordinate))!==null&&ft!==void 0?ft:{graphicalItem:ue},Vt=kt.graphicalItem,yt=Vt.item,vt=yt===void 0?w:yt,Yt=Vt.childIndex,_t=He(He(He({},x.props),he),{},{activeIndex:Yt});return[N.cloneElement(vt,_t),null,null]}return re?[ue,null,null]:[ue,null]}),dn(b,"renderCustomized",function(w,I,O){return N.cloneElement(w,He(He({key:"recharts-customized-".concat(O)},b.props),b.state))}),dn(b,"renderMap",{CartesianGrid:{handler:BN,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:BN},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:BN},YAxis:{handler:BN},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((C=S.id)!==null&&C!==void 0?C:Ep("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=VNe(b.triggeredAfterMouseMove,(y=S.throttleDelay)!==null&&y!==void 0?y:1e3/60),b.state={},b}return $Dt(v,_),UDt(v,[{key:"componentDidMount",value:function(){var C,y;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,y=C.children,b=C.data,w=C.height,I=C.layout,O=hl(y,Ha);if(O){var x=O.props.defaultIndex;if(!(typeof x!="number"||x<0||x>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[x]&&this.state.tooltipTicks[x].value,P=rj(this.state,b,x,k),M=this.state.tooltipTicks[x].coordinate,W=(this.state.offset.top+w)/2,F=I==="horizontal",H=F?{x:M,y:W}:{y:M,x:W},V=this.state.formattedGraphicalItems.find(function($){var K=$.item;return K.type.name==="Scatter"});V&&(H=He(He({},H),V.props.points[x].tooltipPosition),P=V.props.points[x].tooltipPayload);var Y={activeTooltipIndex:x,isTooltipActive:!0,activeLabel:k,activePayload:P,activeCoordinate:H};this.setState(Y),this.renderCursor(O),this.accessibilityManager.setIndex(x)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,y){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==y.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var b,w;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(C){VG([hl(C.children,Ha)],[hl(this.props.children,Ha)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=hl(this.props.children,Ha);if(C&&typeof C.props.shared=="boolean"){var y=C.props.shared?"axis":"item";return a.indexOf(y)>=0?y:s}return s}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var y=this.container,b=y.getBoundingClientRect(),w=GTt(b),I={chartX:Math.round(C.pageX-w.left),chartY:Math.round(C.pageY-w.top)},O=b.width/y.offsetWidth||1,x=this.inRange(I.chartX,I.chartY,O);if(!x)return null;var k=this.state,P=k.xAxisMap,M=k.yAxisMap,W=this.getTooltipEventType(),F=cme(this.state,this.props.data,this.props.layout,x);if(W!=="axis"&&P&&M){var H=dg(P).scale,V=dg(M).scale,Y=H&&H.invert?H.invert(I.chartX):null,$=V&&V.invert?V.invert(I.chartY):null;return He(He({},I),{},{xValue:Y,yValue:$},F)}return F?He(He({},I),F):null}},{key:"inRange",value:function(C,y){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,I=C/b,O=y/b;if(w==="horizontal"||w==="vertical"){var x=this.state.offset,k=I>=x.left&&I<=x.left+x.width&&O>=x.top&&O<=x.top+x.height;return k?{x:I,y:O}:null}var P=this.state,M=P.angleAxisMap,W=P.radiusAxisMap;if(M&&W){var F=dg(M);return mge({x:I,y:O},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,y=this.getTooltipEventType(),b=hl(C,Ha),w={};b&&y==="axis"&&(b.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=_D(this.props,this.handleOuterEvent);return He(He({},I),w)}},{key:"addListener",value:function(){yW.on(bW,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){yW.removeListener(bW,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,y,b){for(var w=this.state.formattedGraphicalItems,I=0,O=w.length;I<O;I++){var x=w[I];if(x.item===C||x.props.key===C.key||y===Kh(x.item.type)&&b===x.childIndex)return x}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,y=this.state.offset,b=y.left,w=y.top,I=y.height,O=y.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:C},Z.createElement("rect",{x:b,y:w,height:I,width:O})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(y,b){var w=ome(b,2),I=w[0],O=w[1];return He(He({},y),{},dn({},I,O.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(y,b){var w=ome(b,2),I=w[0],O=w[1];return He(He({},y),{},dn({},I,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var y;return(y=this.state.xAxisMap)===null||y===void 0||(y=y[C])===null||y===void 0?void 0:y.scale}},{key:"getYScaleByAxisId",value:function(C){var y;return(y=this.state.yAxisMap)===null||y===void 0||(y=y[C])===null||y===void 0?void 0:y.scale}},{key:"getItemByXY",value:function(C){var y=this.state,b=y.formattedGraphicalItems,w=y.activeItem;if(b&&b.length)for(var I=0,O=b.length;I<O;I++){var x=b[I],k=x.props,P=x.item,M=P.type.defaultProps!==void 0?He(He({},P.type.defaultProps),P.props):P.props,W=Kh(P.type);if(W==="Bar"){var F=(k.data||[]).find(function($){return sIt(C,$)});if(F)return{graphicalItem:x,payload:F}}else if(W==="RadialBar"){var H=(k.data||[]).find(function($){return mge(C,$)});if(H)return{graphicalItem:x,payload:H}}else if(K2(x,w)||q2(x,w)||kw(x,w)){var V=INt({graphicalItem:x,activeTooltipItem:w,itemData:M.data}),Y=M.activeIndex===void 0?V:M.activeIndex;return{graphicalItem:He(He({},x),{},{childIndex:Y}),payload:kw(x,w)?M.data[V]:x.props.data[V]}}}return null}},{key:"render",value:function(){var C=this;if(!Phe(this))return null;var y=this.props,b=y.children,w=y.className,I=y.width,O=y.height,x=y.style,k=y.compact,P=y.title,M=y.desc,W=ame(y,xDt),F=$t(W,!1);if(k)return Z.createElement(Fpe,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement($G,nS({},F,{width:I,height:O,title:P,desc:M}),this.renderClipPath(),Mhe(b,this.renderMap)));if(this.props.accessibilityLayer){var H,V;F.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,F.role=(V=this.props.role)!==null&&V!==void 0?V:"application",F.onKeyDown=function($){C.accessibilityManager.keyboardEvent($)},F.onFocus=function(){C.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return Z.createElement(Fpe,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",nS({className:On("recharts-wrapper",w),style:He({position:"relative",cursor:"default",width:I,height:O},x)},Y,{ref:function(K){C.container=K}}),Z.createElement($G,nS({},F,{width:I,height:O,title:P,desc:M,style:qDt}),this.renderClipPath(),Mhe(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);dn(m,"displayName",t),dn(m,"defaultProps",He({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),dn(m,"getDerivedStateFromProps",function(_,v){var S=_.dataKey,C=_.data,y=_.children,b=_.width,w=_.height,I=_.layout,O=_.stackOffset,x=_.margin,k=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var M=ume(_);return He(He(He({},M),{},{updateId:0},f(He(He({props:_},M),{},{updateId:0}),v)),{},{prevDataKey:S,prevData:C,prevWidth:b,prevHeight:w,prevLayout:I,prevStackOffset:O,prevMargin:x,prevChildren:y})}if(S!==v.prevDataKey||C!==v.prevData||b!==v.prevWidth||w!==v.prevHeight||I!==v.prevLayout||O!==v.prevStackOffset||!KS(x,v.prevMargin)){var W=ume(_),F={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},H=He(He({},cme(v,C,I)),{},{updateId:v.updateId+1}),V=He(He(He({},W),F),H);return He(He(He({},V),f(He({props:_},V),v)),{},{prevDataKey:S,prevData:C,prevWidth:b,prevHeight:w,prevLayout:I,prevStackOffset:O,prevMargin:x,prevChildren:y})}if(!VG(y,v.prevChildren)){var Y,$,K,re,G=hl(y,$C),J=G&&(Y=($=G.props)===null||$===void 0?void 0:$.startIndex)!==null&&Y!==void 0?Y:k,z=G&&(K=(re=G.props)===null||re===void 0?void 0:re.endIndex)!==null&&K!==void 0?K:P,j=J!==k||z!==P,ne=!cn(C),le=ne&&!j?v.updateId:v.updateId+1;return He(He({updateId:le},f(He(He({props:_},v),{},{updateId:le,dataStartIndex:J,dataEndIndex:z}),v)),{},{prevChildren:y,dataStartIndex:J,dataEndIndex:z})}return null}),dn(m,"renderActiveDot",function(_,v,S){var C;return N.isValidElement(_)?C=N.cloneElement(_,v):ln(_)?C=_(v):C=Z.createElement(VA,v),Z.createElement(Gn,{className:"recharts-active-dot",key:S},C)});var g=N.forwardRef(function(v,S){return Z.createElement(m,nS({},v,{ref:S}))});return g.displayName=m.displayName,g},sPt=GA({chartName:"LineChart",GraphicalChild:WA,axisComponents:[{axisType:"xAxis",AxisComp:od},{axisType:"yAxis",AxisComp:ad}],formatAxisMap:Q2}),oPt=GA({chartName:"BarChart",GraphicalChild:_E,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:od},{axisType:"yAxis",AxisComp:ad}],formatAxisMap:Q2}),aPt=GA({chartName:"PieChart",GraphicalChild:Ef,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Y2},{axisType:"radiusAxis",AxisComp:z2}],formatAxisMap:wwt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),lPt=GA({chartName:"ScatterChart",GraphicalChild:$A,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:od},{axisType:"yAxis",AxisComp:ad},{axisType:"zAxis",AxisComp:nF}],formatAxisMap:Q2}),cPt=GA({chartName:"AreaChart",GraphicalChild:yp,axisComponents:[{axisType:"xAxis",AxisComp:od},{axisType:"yAxis",AxisComp:ad}],formatAxisMap:Q2});function uPt(n,e,t,i){if(!e||!i||i==="none"||t.length===0)return n;const r={};return n.forEach(o=>{const a=o[e],l=String(a);r[l]||(r[l]={groupValue:a,metrics:{},count:0},t.forEach(c=>r[l].metrics[c]=[])),r[l].count++,t.forEach(c=>{const u=o[c];let d=NaN;typeof u=="number"?d=u:typeof u=="string"&&(d=parseFloat(u)),isNaN(d)||r[l].metrics[c].push(d)})}),Object.values(r).map(o=>{const a={[e]:o.groupValue};return t.forEach(l=>{const c=o.metrics[l];if(c.length===0&&i==="sum"){a[l]=null;return}switch(i){case"sum":a[l]=c.reduce((u,d)=>u+d,0);break;case"average":a[l]=c.reduce((u,d)=>u+d,0)/c.length;break;case"count":a[l]=c.length;break;case"min":a[l]=Math.min(...c);break;case"max":a[l]=Math.max(...c);break;default:a[l]=null}}),a})}const dPt=({percent:n})=>n<.02?null:`${(n*100).toFixed(0)}%`,sT=({active:n,payload:e,label:t,xAxisLabel:i})=>n&&e&&e.length?R.jsxs("div",{className:"bg-background border rounded-md shadow-sm p-2 text-sm",children:[R.jsx("p",{className:"label font-semibold mb-1",children:`${i||"X"}: ${t}`}),e.map((r,s)=>R.jsx("div",{style:{color:r.color},children:`${r.name}: ${r.value}`},`item-${s}`))]}):null,ka=["#8884d8","#82ca9d","#ffc658","#ff7f50","#8dd1e1","#a4de6c","#d0ed57","#ffc0cb"];function hme(n){return typeof n=="number"&&isFinite(n)}function hPt({data:n,chartType:e}){const t=In(S=>S.chartConfig),{xAxis:i,yAxes:r=[],aggregation:s,groupBy:o,labelKey:a,valueKey:l}=t;if(!n||n.length===0)return R.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No data available for visualization."});if(!e)return R.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Select a chart type."});let c=null;const u=["bar","line","area"].includes(e),d=e==="pie",h=e==="scatter";u&&(!i||r.length===0)&&(c="Please select X-Axis and at least one Y-Axis."),d&&(!a||!l)&&(c="Please select Label and Value columns for Pie Chart."),h&&(!i||r.length===0)&&(c="Please select X-Axis and at least one Y-Axis for Scatter Plot.");let f=!!(s&&s!=="none"),m=!1,g=[];if(!c&&f&&(d&&l?n.length>0&&hme(n[0][l])?(m=!0,g=[l]):(c=`Cannot aggregate non-numeric Value column ('${l}') for Pie Chart.`,f=!1):!d&&r.length>0&&(r.every(C=>n.length>0&&hme(n[0][C]))?(m=!0,g=r):(c="Cannot aggregate non-numeric Y-Axis column(s).",f=!1))),c)return R.jsx("div",{className:"p-4 text-center text-muted-foreground h-full flex items-center justify-center",children:c});const _=f&&m?uPt(n,d?a:o,g,s):n;if(!_||_.length===0)return R.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No data remaining after processing."});const v=()=>{let S;switch(e){case"bar":return R.jsxs(oPt,{data:_,children:[R.jsx(OT,{strokeDasharray:"3 3"}),R.jsx(od,{dataKey:i}),R.jsx(ad,{yAxisId:"left",orientation:"left",stroke:ka[0]}),R.jsx(Ha,{content:R.jsx(sT,{xAxisLabel:i||"X"})}),R.jsx(Qc,{}),r.map((C,y)=>R.jsx(_E,{yAxisId:"left",dataKey:C,fill:ka[y%ka.length]},C))]});case"line":return R.jsxs(sPt,{data:_,children:[R.jsx(OT,{strokeDasharray:"3 3"}),R.jsx(od,{dataKey:i}),R.jsx(ad,{yAxisId:"left",orientation:"left",stroke:ka[0]}),R.jsx(Ha,{content:R.jsx(sT,{xAxisLabel:i||"X"})}),R.jsx(Qc,{}),r.map((C,y)=>R.jsx(WA,{yAxisId:"left",type:"monotone",dataKey:C,stroke:ka[y%ka.length],activeDot:{r:8}},C))]});case"area":return R.jsxs(cPt,{data:_,children:[R.jsx(OT,{strokeDasharray:"3 3"}),R.jsx(od,{dataKey:i}),R.jsx(ad,{yAxisId:"left",orientation:"left",stroke:ka[0]}),R.jsx(Ha,{content:R.jsx(sT,{xAxisLabel:i||"X"})}),R.jsx(Qc,{}),r.map((C,y)=>R.jsx(yp,{yAxisId:"left",type:"monotone",dataKey:C,stroke:ka[y%ka.length],fill:ka[y%ka.length],fillOpacity:.6},C))]});case"pie":return R.jsxs(aPt,{children:[R.jsx(Ef,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:dPt,outerRadius:"80%",fill:"#8884d8",dataKey:l,nameKey:a,children:_.map((C,y)=>R.jsx(UA,{fill:ka[y%ka.length]},`cell-${y}`))}),R.jsx(Ha,{content:R.jsx(sT,{xAxisLabel:a||"Label"})}),R.jsx(Qc,{})]});case"scatter":return S=r[0],S?R.jsxs(lPt,{margin:{top:20,right:20,bottom:20,left:20},children:[R.jsx(OT,{}),R.jsx(od,{type:"number",dataKey:i,name:i}),R.jsx(ad,{type:"number",dataKey:S,name:S}),R.jsx(Ha,{cursor:{strokeDasharray:"3 3"},content:R.jsx(sT,{xAxisLabel:i||"X"})}),R.jsx(Qc,{}),R.jsx($A,{name:"Data Points",data:_,fill:ka[0]})]}):R.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Please select a Y-Axis for Scatter Plot."});default:return R.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Invalid chart type or configuration."})}};return R.jsx(FTt,{width:"100%",height:"100%",children:v()})}function xT({...n}){return R.jsx(YCe,{"data-slot":"select",...n})}function DT({...n}){return R.jsx(KCe,{"data-slot":"select-value",...n})}function PT({className:n,size:e="default",children:t,...i}){return R.jsxs(gY,{"data-slot":"select-trigger","data-size":e,className:si("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,R.jsx(qCe,{asChild:!0,children:R.jsx(N2,{className:"size-4 opacity-50"})})]})}function kT({className:n,children:e,position:t="popper",...i}){return R.jsx(XCe,{children:R.jsxs(pY,{"data-slot":"select-content",className:si("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[R.jsx(fPt,{}),R.jsx(QCe,{className:si("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),R.jsx(gPt,{})]})})}function MT({className:n,children:e,...t}){return R.jsxs(mY,{"data-slot":"select-item",className:si("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[R.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:R.jsx(eye,{children:R.jsx(ZX,{className:"size-4"})})}),R.jsx(JCe,{children:e})]})}function fPt({className:n,...e}){return R.jsx(_Y,{"data-slot":"select-scroll-up-button",className:si("flex cursor-default items-center justify-center py-1",n),...e,children:R.jsx(YSt,{className:"size-4"})})}function gPt({className:n,...e}){return R.jsx(EY,{"data-slot":"select-scroll-down-button",className:si("flex cursor-default items-center justify-center py-1",n),...e,children:R.jsx(N2,{className:"size-4"})})}function pPt({availableTypes:n,selectedType:e,onTypeChange:t}){if(!n||n.length===0)return null;const i=r=>r.charAt(0).toUpperCase()+r.slice(1);return R.jsxs(xT,{value:e||"",onValueChange:r=>t(r),children:[R.jsx(PT,{className:"w-[180px] h-8 text-xs",children:R.jsx(DT,{placeholder:"Select chart type"})}),R.jsx(kT,{children:n.map(r=>R.jsx(MT,{value:r,className:"text-xs",children:i(r)},r))})]})}function qu({className:n,...e}){return R.jsx(rY,{"data-slot":"label",className:si("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function mPt({className:n,...e}){return R.jsx(Oj,{"data-slot":"checkbox",className:si("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:R.jsx(EEe,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:R.jsx(ZX,{className:"size-3.5"})})})}const _Pt=["none","sum","average","count","min","max"],EPt=["bar","line","pie","area","scatter"];function vPt(){var d;const n=TM(),e=In(h=>h.chartConfig),t=In(h=>h.setChartConfig),i=In(h=>h.selectedChartType),r=In(h=>h.setSelectedChartType),s=Z.useMemo(()=>{var f;const h=(f=n==null?void 0:n.result)==null?void 0:f.result;return h&&h.length>0?Object.keys(h[0]):[]},[(d=n==null?void 0:n.result)==null?void 0:d.result]);Z.useEffect(()=>{console.log("Current yAxes in ChartConfigPanel:",e.yAxes)},[e.yAxes]);const o=h=>{t({...e,xAxis:h})},a=(h,f)=>{const m=e.yAxes||[];let g;f?g=[...m,h]:g=m.filter(_=>_!==h),t({...e,yAxes:g,yAxis:g[0]||null})},l=h=>{const f=h!=="none"?e.xAxis:null;t({...e,aggregation:h==="none"?null:h,groupBy:f})},c=h=>{t({...e,labelKey:h})},u=h=>{t({...e,valueKey:h})};return s.length===0?R.jsxs("div",{className:"p-2 space-y-2 border-l w-64 flex-shrink-0",children:[R.jsx("h4",{className:"text-sm font-bold mb-2",children:"Chart Configuration"}),R.jsx("p",{className:"text-xs text-muted-foreground",children:"No data to configure."})]}):R.jsxs("div",{className:"p-2 space-y-2 border-l w-64 flex-shrink-0 overflow-y-auto",children:[R.jsx("h4",{className:"text-sm font-bold mb-2",children:"Chart Configuration"}),R.jsxs("div",{className:"space-y-1",children:[R.jsx(qu,{htmlFor:"chart-type-select",children:"Chart Type"}),R.jsx(pPt,{availableTypes:EPt,selectedType:i,onTypeChange:r})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx(qu,{htmlFor:"x-axis-select",children:"X-Axis"}),R.jsxs(xT,{value:e.xAxis??"",onValueChange:o,children:[R.jsx(PT,{id:"x-axis-select",children:R.jsx(DT,{placeholder:"Select X Axis"})}),R.jsx(kT,{children:s.map(h=>R.jsx(MT,{value:h,children:h},`x-${h}`))})]})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx(qu,{children:"Y-Axis / Metrics"}),R.jsx("div",{className:"space-y-1 pl-2 max-h-60 overflow-y-auto",children:s.map(h=>{var f;return R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx(mPt,{id:`y-checkbox-${h}`,checked:(f=e.yAxes)==null?void 0:f.includes(h),onCheckedChange:m=>a(h,m)}),R.jsx(qu,{htmlFor:`y-checkbox-${h}`,className:"text-sm font-normal",children:h})]},`y-${h}`)})})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx(qu,{htmlFor:"aggregation-select",children:"Aggregation"}),R.jsxs(xT,{value:e.aggregation??"none",onValueChange:l,children:[R.jsx(PT,{id:"aggregation-select",children:R.jsx(DT,{placeholder:"Select Aggregation"})}),R.jsx(kT,{children:_Pt.map(h=>R.jsx(MT,{value:h,children:h},`agg-${h}`))})]})]}),i==="pie"&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"space-y-1",children:[R.jsx(qu,{htmlFor:"label-key-select",children:"Label Column (Pie)"}),R.jsxs(xT,{value:e.labelKey??"",onValueChange:c,children:[R.jsx(PT,{id:"label-key-select",children:R.jsx(DT,{placeholder:"Select Label Column"})}),R.jsx(kT,{children:s.map(h=>R.jsx(MT,{value:h,children:h},`label-${h}`))})]})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx(qu,{htmlFor:"value-key-select",children:"Value Column (Pie)"}),R.jsxs(xT,{value:e.valueKey??"",onValueChange:u,children:[R.jsx(PT,{id:"value-key-select",children:R.jsx(DT,{placeholder:"Select Value Column"})}),R.jsx(kT,{children:s.map(h=>R.jsx(MT,{value:h,children:h},`value-${h}`))})]})]})]})]})}function JOe({className:n,...e}){return R.jsx(Uye,{"data-slot":"tabs",className:si("flex flex-col gap-2",n),...e})}function exe({className:n,...e}){return R.jsx(TY,{"data-slot":"tabs-list",className:si("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function PL({className:n,...e}){return R.jsx(wY,{"data-slot":"tabs-trigger",className:si("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function wW({className:n,...e}){return R.jsx(AY,{"data-slot":"tabs-content",className:si("flex-1 outline-none",n),...e})}function SPt(n,e){return N.useReducer((t,i)=>e[t][i]??t,n)}var xQ="ScrollArea",[txe,gUt]=us(xQ),[CPt,Sc]=txe(xQ),nxe=N.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:i="hover",dir:r,scrollHideDelay:s=600,...o}=n,[a,l]=N.useState(null),[c,u]=N.useState(null),[d,h]=N.useState(null),[f,m]=N.useState(null),[g,_]=N.useState(null),[v,S]=N.useState(0),[C,y]=N.useState(0),[b,w]=N.useState(!1),[I,O]=N.useState(!1),x=tn(e,P=>l(P)),k=af(r);return R.jsx(CPt,{scope:t,type:i,dir:k,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:m,scrollbarXEnabled:b,onScrollbarXEnabledChange:w,scrollbarY:g,onScrollbarYChange:_,scrollbarYEnabled:I,onScrollbarYEnabledChange:O,onCornerWidthChange:S,onCornerHeightChange:y,children:R.jsx(pt.div,{dir:k,...o,ref:x,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":C+"px",...n.style}})})});nxe.displayName=xQ;var ixe="ScrollAreaViewport",rxe=N.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:i,nonce:r,...s}=n,o=Sc(ixe,t),a=N.useRef(null),l=tn(e,a,o.onViewportChange);return R.jsxs(R.Fragment,{children:[R.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),R.jsx(pt.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style},children:R.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});rxe.displayName=ixe;var kd="ScrollAreaScrollbar",sxe=N.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=Sc(kd,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=r,a=n.orientation==="horizontal";return N.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),r.type==="hover"?R.jsx(yPt,{...i,ref:e,forceMount:t}):r.type==="scroll"?R.jsx(bPt,{...i,ref:e,forceMount:t}):r.type==="auto"?R.jsx(oxe,{...i,ref:e,forceMount:t}):r.type==="always"?R.jsx(DQ,{...i,ref:e}):null});sxe.displayName=kd;var yPt=N.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=Sc(kd,n.__scopeScrollArea),[s,o]=N.useState(!1);return N.useEffect(()=>{const a=r.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),R.jsx(ds,{present:t||s,children:R.jsx(oxe,{"data-state":s?"visible":"hidden",...i,ref:e})})}),bPt=N.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=Sc(kd,n.__scopeScrollArea),s=n.orientation==="horizontal",o=sF(()=>l("SCROLL_END"),100),[a,l]=SPt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,r.scrollHideDelay,l]),N.useEffect(()=>{const c=r.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(l("SCROLL"),o()),d=f};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[r.viewport,s,l,o]),R.jsx(ds,{present:t||a!=="hidden",children:R.jsx(DQ,{"data-state":a==="hidden"?"hidden":"visible",...i,ref:e,onPointerEnter:qe(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:qe(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),oxe=N.forwardRef((n,e)=>{const t=Sc(kd,n.__scopeScrollArea),{forceMount:i,...r}=n,[s,o]=N.useState(!1),a=n.orientation==="horizontal",l=sF(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;o(a?c:u)}},10);return iy(t.viewport,l),iy(t.content,l),R.jsx(ds,{present:i||s,children:R.jsx(DQ,{"data-state":s?"visible":"hidden",...r,ref:e})})}),DQ=N.forwardRef((n,e)=>{const{orientation:t="vertical",...i}=n,r=Sc(kd,n.__scopeScrollArea),s=N.useRef(null),o=N.useRef(0),[a,l]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=dxe(a.viewport,a.content),u={...i,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,f){return NPt(h,o.current,a,f)}return t==="horizontal"?R.jsx(TPt,{...u,ref:e,onThumbPositionChange:()=>{if(r.viewport&&s.current){const h=r.viewport.scrollLeft,f=fme(h,a,r.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{r.viewport&&(r.viewport.scrollLeft=h)},onDragScroll:h=>{r.viewport&&(r.viewport.scrollLeft=d(h,r.dir))}}):t==="vertical"?R.jsx(wPt,{...u,ref:e,onThumbPositionChange:()=>{if(r.viewport&&s.current){const h=r.viewport.scrollTop,f=fme(h,a);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{r.viewport&&(r.viewport.scrollTop=h)},onDragScroll:h=>{r.viewport&&(r.viewport.scrollTop=d(h))}}):null}),TPt=N.forwardRef((n,e)=>{const{sizes:t,onSizesChange:i,...r}=n,s=Sc(kd,n.__scopeScrollArea),[o,a]=N.useState(),l=N.useRef(null),c=tn(e,l,s.onScrollbarXChange);return N.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),R.jsx(lxe,{"data-orientation":"horizontal",...r,ref:c,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":rF(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.x),onDragScroll:u=>n.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;n.onWheelScroll(h),fxe(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:dP(o.paddingLeft),paddingEnd:dP(o.paddingRight)}})}})}),wPt=N.forwardRef((n,e)=>{const{sizes:t,onSizesChange:i,...r}=n,s=Sc(kd,n.__scopeScrollArea),[o,a]=N.useState(),l=N.useRef(null),c=tn(e,l,s.onScrollbarYChange);return N.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),R.jsx(lxe,{"data-orientation":"vertical",...r,ref:c,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":rF(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.y),onDragScroll:u=>n.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;n.onWheelScroll(h),fxe(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:dP(o.paddingTop),paddingEnd:dP(o.paddingBottom)}})}})}),[APt,axe]=txe(kd),lxe=N.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:i,hasThumb:r,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=n,f=Sc(kd,t),[m,g]=N.useState(null),_=tn(e,x=>g(x)),v=N.useRef(null),S=N.useRef(""),C=f.viewport,y=i.content-i.viewport,b=ss(u),w=ss(l),I=sF(d,10);function O(x){if(v.current){const k=x.clientX-v.current.left,P=x.clientY-v.current.top;c({x:k,y:P})}}return N.useEffect(()=>{const x=k=>{const P=k.target;(m==null?void 0:m.contains(P))&&b(k,y)};return document.addEventListener("wheel",x,{passive:!1}),()=>document.removeEventListener("wheel",x,{passive:!1})},[C,m,y,b]),N.useEffect(w,[i,w]),iy(m,I),iy(f.content,I),R.jsx(APt,{scope:t,scrollbar:m,hasThumb:r,onThumbChange:ss(s),onThumbPointerUp:ss(o),onThumbPositionChange:w,onThumbPointerDown:ss(a),children:R.jsx(pt.div,{...h,ref:_,style:{position:"absolute",...h.style},onPointerDown:qe(n.onPointerDown,x=>{x.button===0&&(x.target.setPointerCapture(x.pointerId),v.current=m.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),O(x))}),onPointerMove:qe(n.onPointerMove,O),onPointerUp:qe(n.onPointerUp,x=>{const k=x.target;k.hasPointerCapture(x.pointerId)&&k.releasePointerCapture(x.pointerId),document.body.style.webkitUserSelect=S.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null})})})}),uP="ScrollAreaThumb",cxe=N.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=axe(uP,n.__scopeScrollArea);return R.jsx(ds,{present:t||r.hasThumb,children:R.jsx(RPt,{ref:e,...i})})}),RPt=N.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:i,...r}=n,s=Sc(uP,t),o=axe(uP,t),{onThumbPositionChange:a}=o,l=tn(e,d=>o.onThumbChange(d)),c=N.useRef(void 0),u=sF(()=>{c.current&&(c.current(),c.current=void 0)},100);return N.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(u(),!c.current){const f=LPt(d,a);c.current=f,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,u,a]),R.jsx(pt.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:qe(n.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),m=d.clientX-f.left,g=d.clientY-f.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:qe(n.onPointerUp,o.onThumbPointerUp)})});cxe.displayName=uP;var PQ="ScrollAreaCorner",uxe=N.forwardRef((n,e)=>{const t=Sc(PQ,n.__scopeScrollArea),i=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&i?R.jsx(IPt,{...n,ref:e}):null});uxe.displayName=PQ;var IPt=N.forwardRef((n,e)=>{const{__scopeScrollArea:t,...i}=n,r=Sc(PQ,t),[s,o]=N.useState(0),[a,l]=N.useState(0),c=!!(s&&a);return iy(r.scrollbarX,()=>{var d;const u=((d=r.scrollbarX)==null?void 0:d.offsetHeight)||0;r.onCornerHeightChange(u),l(u)}),iy(r.scrollbarY,()=>{var d;const u=((d=r.scrollbarY)==null?void 0:d.offsetWidth)||0;r.onCornerWidthChange(u),o(u)}),c?R.jsx(pt.div,{...i,ref:e,style:{width:s,height:a,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function dP(n){return n?parseInt(n,10):0}function dxe(n,e){const t=n/e;return isNaN(t)?0:t}function rF(n){const e=dxe(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,i=(n.scrollbar.size-t)*e;return Math.max(i,18)}function NPt(n,e,t,i="ltr"){const r=rF(t),s=r/2,o=e||s,a=r-o,l=t.scrollbar.paddingStart+o,c=t.scrollbar.size-t.scrollbar.paddingEnd-a,u=t.content-t.viewport,d=i==="ltr"?[0,u]:[u*-1,0];return hxe([l,c],d)(n)}function fme(n,e,t="ltr"){const i=rF(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-r,o=e.content-e.viewport,a=s-i,l=t==="ltr"?[0,o]:[o*-1,0],c=J0(n,l);return hxe([0,o],[0,a])(c)}function hxe(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(n[1]-n[0]);return e[0]+i*(t-n[0])}}function fxe(n,e){return n>0&&n<e}var LPt=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},i=0;return function r(){const s={left:n.scrollLeft,top:n.scrollTop},o=t.left!==s.left,a=t.top!==s.top;(o||a)&&e(),t=s,i=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(i)};function sF(n,e){const t=ss(n),i=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(i.current),[]),N.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(t,e)},[t,e])}function iy(n,e){const t=ss(e);Hs(()=>{let i=0;if(n){const r=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(t)});return r.observe(n),()=>{window.cancelAnimationFrame(i),r.unobserve(n)}}},[n,t])}var OPt=nxe,xPt=rxe,DPt=uxe;function gxe({className:n,children:e,...t}){return R.jsxs(OPt,{"data-slot":"scroll-area",className:si("relative",n),...t,children:[R.jsx(xPt,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),R.jsx(PPt,{}),R.jsx(DPt,{})]})}function PPt({className:n,orientation:e="vertical",...t}){return R.jsx(sxe,{"data-slot":"scroll-area-scrollbar",orientation:e,className:si("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",n),...t,children:R.jsx(cxe,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function kPt({planData:n}){if(!n)return R.jsx("div",{className:"p-4 text-muted-foreground",children:"No query plan available."});const e=JSON.stringify(n,null,2);return R.jsx(gxe,{className:"h-full w-full p-2",children:R.jsx("pre",{className:"text-xs whitespace-pre-wrap break-words",children:e})})}const MPt=n=>!n||n.length===0?[]:Object.keys(n[0]).map(t=>({accessorKey:t,header:({column:i})=>R.jsxs(Ko,{variant:"ghost",onClick:()=>i.toggleSorting(i.getIsSorted()==="asc"),children:[t,R.jsx(VSt,{className:"ml-2 w-4 h-4"})]}),cell:({row:i})=>{const r=i.getValue(t);return R.jsx("div",{className:"text-sm",children:typeof r=="object"&&r!==null?JSON.stringify(r):String(r??"NULL")})}}));function FPt(){var S,C,y;const n=TM(),e=In(b=>b.selectedChartType),[t,i]=Z.useState("results"),r=Z.useMemo(()=>{var w;const b=(w=n==null?void 0:n.result)==null?void 0:w.result;return b?MPt(b):[]},[(S=n==null?void 0:n.result)==null?void 0:S.result]),s=Z.useMemo(()=>{var b;return((b=n==null?void 0:n.result)==null?void 0:b.result)||[]},[(C=n==null?void 0:n.result)==null?void 0:C.result]),o=(y=n==null?void 0:n.result)==null?void 0:y.plan;if(!n)return R.jsx("div",{className:"p-4 text-muted-foreground",children:"No active tab selected."});const{result:a,error:l,isRunning:c}=n,u=s.length,d=a==null?void 0:a.executionTime,h=s.length>0,f=!!o,m=()=>h?R.jsx(xCt,{columns:r,data:s}):R.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[a!=null&&a.message?a.message:"Query executed successfully, but returned no rows.",typeof d=="number"&&R.jsxs("p",{className:"mt-1 text-xs",children:["Execution Time: ",d.toFixed(3),"s"]})]}),g=()=>h?R.jsxs("div",{className:"flex overflow-hidden flex-row w-full h-full",children:[R.jsx(vPt,{}),R.jsxs("div",{className:"flex-grow h-full border-l",children:[" ",R.jsx(hPt,{data:s,chartType:e})]})]}):R.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No data available for visualization."}),_=()=>R.jsx(kPt,{planData:o}),v=()=>c?R.jsx("div",{className:"p-4 text-center",children:"Running query..."}):l?R.jsxs("div",{className:"p-4 text-center text-destructive",children:["Error: ",l]}):a?R.jsxs(JOe,{value:t,onValueChange:i,className:"flex flex-col h-full",children:[R.jsxs(exe,{className:"mb-1",children:[R.jsx(PL,{value:"results",children:"Results"}),R.jsx(PL,{value:"chart",disabled:!h,children:"Chart"}),R.jsx(PL,{value:"plan",disabled:!f,children:"Explain Plan"})]}),R.jsxs(wW,{value:"results",className:"overflow-auto flex-grow",children:[m()," "]}),R.jsx(wW,{value:"chart",className:"flex overflow-auto flex-col flex-grow",children:g()}),R.jsx(wW,{value:"plan",className:"overflow-auto flex-grow",children:_()})]}):R.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Run a query to see results here."});return R.jsxs("div",{className:"flex flex-col p-2 h-full",children:[R.jsx("div",{className:"flex flex-shrink-0 justify-between items-center mb-2 space-x-4",children:R.jsx("div",{className:"flex flex-shrink-0 items-center space-x-4",children:a&&!l&&R.jsxs("span",{className:"text-sm text-muted-foreground",children:[u," ",u===1?"row":"rows",typeof d=="number"&&` in ${d.toFixed(3)}s`]})})}),R.jsx("div",{className:"overflow-auto flex-grow",children:v()})]})}const oF=N.createContext(null);oF.displayName="PanelGroupContext";const jr={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},kQ=10,s_=N.useLayoutEffect,gme=ak.useId,BPt=typeof gme=="function"?gme:()=>null;let UPt=0;function MQ(n=null){const e=BPt(),t=N.useRef(n||e||null);return t.current===null&&(t.current=""+UPt++),n??t.current}function pxe({children:n,className:e="",collapsedSize:t,collapsible:i,defaultSize:r,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:c,onExpand:u,onResize:d,order:h,style:f,tagName:m="div",...g}){const _=N.useContext(oF);if(_===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:S,getPanelSize:C,getPanelStyle:y,groupId:b,isPanelCollapsed:w,reevaluatePanelConstraints:I,registerPanel:O,resizePanel:x,unregisterPanel:k}=_,P=MQ(o),M=N.useRef({callbacks:{onCollapse:c,onExpand:u,onResize:d},constraints:{collapsedSize:t,collapsible:i,defaultSize:r,maxSize:a,minSize:l},id:P,idIsFromProps:o!==void 0,order:h});N.useRef({didLogMissingDefaultSizeWarning:!1}),s_(()=>{const{callbacks:F,constraints:H}=M.current,V={...H};M.current.id=P,M.current.idIsFromProps=o!==void 0,M.current.order=h,F.onCollapse=c,F.onExpand=u,F.onResize=d,H.collapsedSize=t,H.collapsible=i,H.defaultSize=r,H.maxSize=a,H.minSize=l,(V.collapsedSize!==H.collapsedSize||V.collapsible!==H.collapsible||V.maxSize!==H.maxSize||V.minSize!==H.minSize)&&I(M.current,V)}),s_(()=>{const F=M.current;return O(F),()=>{k(F)}},[h,P,O,k]),N.useImperativeHandle(s,()=>({collapse:()=>{v(M.current)},expand:F=>{S(M.current,F)},getId(){return P},getSize(){return C(M.current)},isCollapsed(){return w(M.current)},isExpanded(){return!w(M.current)},resize:F=>{x(M.current,F)}}),[v,S,C,w,P,x]);const W=y(M.current,r);return N.createElement(m,{...g,children:n,className:e,id:P,style:{...W,...f},[jr.groupId]:b,[jr.panel]:"",[jr.panelCollapsible]:i||void 0,[jr.panelId]:P,[jr.panelSize]:parseFloat(""+W.flexGrow).toFixed(1)})}const mxe=N.forwardRef((n,e)=>N.createElement(pxe,{...n,forwardedRef:e}));pxe.displayName="Panel";mxe.displayName="forwardRef(Panel)";let sj=null,kL=-1,hg=null;function HPt(n,e){if(e){const t=(e&Cxe)!==0,i=(e&yxe)!==0,r=(e&bxe)!==0,s=(e&Txe)!==0;if(t)return r?"se-resize":s?"ne-resize":"e-resize";if(i)return r?"sw-resize":s?"nw-resize":"w-resize";if(r)return"s-resize";if(s)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function VPt(){hg!==null&&(document.head.removeChild(hg),sj=null,hg=null,kL=-1)}function AW(n,e){var t,i;const r=HPt(n,e);if(sj!==r){if(sj=r,hg===null&&(hg=document.createElement("style"),document.head.appendChild(hg)),kL>=0){var s;(s=hg.sheet)===null||s===void 0||s.removeRule(kL)}kL=(t=(i=hg.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${r} !important;}`))!==null&&t!==void 0?t:-1}}function _xe(n){return n.type==="keydown"}function Exe(n){return n.type.startsWith("pointer")}function vxe(n){return n.type.startsWith("mouse")}function aF(n){if(Exe(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if(vxe(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function WPt(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function $Pt(n,e,t){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y}function GPt(n,e){if(n===e)throw new Error("Cannot compare node with itself");const t={a:_me(n),b:_me(e)};let i;for(;t.a.at(-1)===t.b.at(-1);)n=t.a.pop(),e=t.b.pop(),i=n;ei(i,"Stacking order can only be calculated for elements with a common ancestor");const r={a:mme(pme(t.a)),b:mme(pme(t.b))};if(r.a===r.b){const s=i.childNodes,o={a:t.a.at(-1),b:t.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(r.a-r.b)}const zPt=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function jPt(n){var e;const t=getComputedStyle((e=Sxe(n))!==null&&e!==void 0?e:n).display;return t==="flex"||t==="inline-flex"}function YPt(n){const e=getComputedStyle(n);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||jPt(n))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||zPt.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function pme(n){let e=n.length;for(;e--;){const t=n[e];if(ei(t,"Missing node"),YPt(t))return t}return null}function mme(n){return n&&Number(getComputedStyle(n).zIndex)||0}function _me(n){const e=[];for(;n;)e.push(n),n=Sxe(n);return e}function Sxe(n){const{parentNode:e}=n;return e&&e instanceof ShadowRoot?e.host:e}const Cxe=1,yxe=2,bxe=4,Txe=8,KPt=WPt()==="coarse";let lu=[],XS=!1,fg=new Map,lF=new Map;const Ww=new Set;function qPt(n,e,t,i,r){var s;const{ownerDocument:o}=e,a={direction:t,element:e,hitAreaMargins:i,setResizeHandlerState:r},l=(s=fg.get(o))!==null&&s!==void 0?s:0;return fg.set(o,l+1),Ww.add(a),hP(),function(){var u;lF.delete(n),Ww.delete(a);const d=(u=fg.get(o))!==null&&u!==void 0?u:1;if(fg.set(o,d-1),hP(),d===1&&fg.delete(o),lu.includes(a)){const h=lu.indexOf(a);h>=0&&lu.splice(h,1),BQ(),r("up",!0,null)}}}function XPt(n){const{target:e}=n,{x:t,y:i}=aF(n);XS=!0,FQ({target:e,x:t,y:i}),hP(),lu.length>0&&(fP("down",n),n.preventDefault(),wxe(e)||n.stopImmediatePropagation())}function RW(n){const{x:e,y:t}=aF(n);if(XS&&n.buttons===0&&(XS=!1,fP("up",n)),!XS){const{target:i}=n;FQ({target:i,x:e,y:t})}fP("move",n),BQ(),lu.length>0&&n.preventDefault()}function IW(n){const{target:e}=n,{x:t,y:i}=aF(n);lF.clear(),XS=!1,lu.length>0&&(n.preventDefault(),wxe(e)||n.stopImmediatePropagation()),fP("up",n),FQ({target:e,x:t,y:i}),BQ(),hP()}function wxe(n){let e=n;for(;e;){if(e.hasAttribute(jr.resizeHandle))return!0;e=e.parentElement}return!1}function FQ({target:n,x:e,y:t}){lu.splice(0);let i=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(i=n),Ww.forEach(r=>{const{element:s,hitAreaMargins:o}=r,a=s.getBoundingClientRect(),{bottom:l,left:c,right:u,top:d}=a,h=KPt?o.coarse:o.fine;if(e>=c-h&&e<=u+h&&t>=d-h&&t<=l+h){if(i!==null&&document.contains(i)&&s!==i&&!s.contains(i)&&!i.contains(s)&&GPt(i,s)>0){let m=i,g=!1;for(;m&&!m.contains(s);){if($Pt(m.getBoundingClientRect(),a)){g=!0;break}m=m.parentElement}if(g)return}lu.push(r)}})}function NW(n,e){lF.set(n,e)}function BQ(){let n=!1,e=!1;lu.forEach(i=>{const{direction:r}=i;r==="horizontal"?n=!0:e=!0});let t=0;lF.forEach(i=>{t|=i}),n&&e?AW("intersection",t):n?AW("horizontal",t):e?AW("vertical",t):VPt()}let LW=new AbortController;function hP(){LW.abort(),LW=new AbortController;const n={capture:!0,signal:LW.signal};Ww.size&&(XS?(lu.length>0&&fg.forEach((e,t)=>{const{body:i}=t;e>0&&(i.addEventListener("contextmenu",IW,n),i.addEventListener("pointerleave",RW,n),i.addEventListener("pointermove",RW,n))}),fg.forEach((e,t)=>{const{body:i}=t;i.addEventListener("pointerup",IW,n),i.addEventListener("pointercancel",IW,n)})):fg.forEach((e,t)=>{const{body:i}=t;e>0&&(i.addEventListener("pointerdown",XPt,n),i.addEventListener("pointermove",RW,n))}))}function fP(n,e){Ww.forEach(t=>{const{setResizeHandlerState:i}=t,r=lu.includes(t);i(n,r,e)})}function QPt(){const[n,e]=N.useState(0);return N.useCallback(()=>e(t=>t+1),[])}function ei(n,e){if(!n)throw console.error(e),Error(e)}function $_(n,e,t=kQ){return n.toFixed(t)===e.toFixed(t)?0:n>e?1:-1}function Nh(n,e,t=kQ){return $_(n,e,t)===0}function fl(n,e,t){return $_(n,e,t)===0}function ZPt(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],s=e[i];if(!fl(r,s,t))return!1}return!0}function iS({panelConstraints:n,panelIndex:e,size:t}){const i=n[e];ei(i!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:r=0,collapsible:s,maxSize:o=100,minSize:a=0}=i;if($_(t,a)<0)if(s){const l=(r+a)/2;$_(t,l)<0?t=r:t=a}else t=a;return t=Math.min(o,t),t=parseFloat(t.toFixed(kQ)),t}function FT({delta:n,initialLayout:e,panelConstraints:t,pivotIndices:i,prevLayout:r,trigger:s}){if(fl(n,0))return e;const o=[...e],[a,l]=i;ei(a!=null,"Invalid first pivot index"),ei(l!=null,"Invalid second pivot index");let c=0;if(s==="keyboard"){{const d=n<0?l:a,h=t[d];ei(h,`Panel constraints not found for index ${d}`);const{collapsedSize:f=0,collapsible:m,minSize:g=0}=h;if(m){const _=e[d];if(ei(_!=null,`Previous layout not found for panel index ${d}`),fl(_,f)){const v=g-_;$_(v,Math.abs(n))>0&&(n=n<0?0-v:v)}}}{const d=n<0?a:l,h=t[d];ei(h,`No panel constraints found for index ${d}`);const{collapsedSize:f=0,collapsible:m,minSize:g=0}=h;if(m){const _=e[d];if(ei(_!=null,`Previous layout not found for panel index ${d}`),fl(_,g)){const v=_-f;$_(v,Math.abs(n))>0&&(n=n<0?0-v:v)}}}}{const d=n<0?1:-1;let h=n<0?l:a,f=0;for(;;){const g=e[h];ei(g!=null,`Previous layout not found for panel index ${h}`);const v=iS({panelConstraints:t,panelIndex:h,size:100})-g;if(f+=v,h+=d,h<0||h>=t.length)break}const m=Math.min(Math.abs(n),Math.abs(f));n=n<0?0-m:m}{let h=n<0?a:l;for(;h>=0&&h<t.length;){const f=Math.abs(n)-Math.abs(c),m=e[h];ei(m!=null,`Previous layout not found for panel index ${h}`);const g=m-f,_=iS({panelConstraints:t,panelIndex:h,size:g});if(!fl(m,_)&&(c+=m-_,o[h]=_,c.toPrecision(3).localeCompare(Math.abs(n).toPrecision(3),void 0,{numeric:!0})>=0))break;n<0?h--:h++}}if(ZPt(r,o))return r;{const d=n<0?l:a,h=e[d];ei(h!=null,`Previous layout not found for panel index ${d}`);const f=h+c,m=iS({panelConstraints:t,panelIndex:d,size:f});if(o[d]=m,!fl(m,f)){let g=f-m,v=n<0?l:a;for(;v>=0&&v<t.length;){const S=o[v];ei(S!=null,`Previous layout not found for panel index ${v}`);const C=S+g,y=iS({panelConstraints:t,panelIndex:v,size:C});if(fl(S,y)||(g-=y-S,o[v]=y),fl(g,0))break;n>0?v--:v++}}}const u=o.reduce((d,h)=>h+d,0);return fl(u,100)?o:r}function JPt({layout:n,panelsArray:e,pivotIndices:t}){let i=0,r=100,s=0,o=0;const a=t[0];ei(a!=null,"No pivot index found"),e.forEach((d,h)=>{const{constraints:f}=d,{maxSize:m=100,minSize:g=0}=f;h===a?(i=g,r=m):(s+=g,o+=m)});const l=Math.min(r,100-s),c=Math.max(i,100-o),u=n[a];return{valueMax:l,valueMin:c,valueNow:u}}function $w(n,e=document){return Array.from(e.querySelectorAll(`[${jr.resizeHandleId}][data-panel-group-id="${n}"]`))}function Axe(n,e,t=document){const r=$w(n,t).findIndex(s=>s.getAttribute(jr.resizeHandleId)===e);return r??null}function Rxe(n,e,t){const i=Axe(n,e,t);return i!=null?[i,i+1]:[-1,-1]}function Ixe(n,e=document){var t;if(e instanceof HTMLElement&&(e==null||(t=e.dataset)===null||t===void 0?void 0:t.panelGroupId)==n)return e;const i=e.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return i||null}function cF(n,e=document){const t=e.querySelector(`[${jr.resizeHandleId}="${n}"]`);return t||null}function ekt(n,e,t,i=document){var r,s,o,a;const l=cF(e,i),c=$w(n,i),u=l?c.indexOf(l):-1,d=(r=(s=t[u])===null||s===void 0?void 0:s.id)!==null&&r!==void 0?r:null,h=(o=(a=t[u+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[d,h]}function tkt({committedValuesRef:n,eagerValuesRef:e,groupId:t,layout:i,panelDataArray:r,panelGroupElement:s,setLayout:o}){N.useRef({didWarnAboutMissingResizeHandle:!1}),s_(()=>{if(!s)return;const a=$w(t,s);for(let l=0;l<r.length-1;l++){const{valueMax:c,valueMin:u,valueNow:d}=JPt({layout:i,panelsArray:r,pivotIndices:[l,l+1]}),h=a[l];if(h!=null){const f=r[l];ei(f,`No panel data found for index "${l}"`),h.setAttribute("aria-controls",f.id),h.setAttribute("aria-valuemax",""+Math.round(c)),h.setAttribute("aria-valuemin",""+Math.round(u)),h.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[t,i,r,s]),N.useEffect(()=>{if(!s)return;const a=e.current;ei(a,"Eager values not found");const{panelDataArray:l}=a,c=Ixe(t,s);ei(c!=null,`No group found for id "${t}"`);const u=$w(t,s);ei(u,`No resize handles found for group id "${t}"`);const d=u.map(h=>{const f=h.getAttribute(jr.resizeHandleId);ei(f,"Resize handle element has no handle id attribute");const[m,g]=ekt(t,f,l,s);if(m==null||g==null)return()=>{};const _=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const S=l.findIndex(C=>C.id===m);if(S>=0){const C=l[S];ei(C,`No panel data found for index ${S}`);const y=i[S],{collapsedSize:b=0,collapsible:w,minSize:I=0}=C.constraints;if(y!=null&&w){const O=FT({delta:fl(y,b)?I-b:b-y,initialLayout:i,panelConstraints:l.map(x=>x.constraints),pivotIndices:Rxe(t,f,s),prevLayout:i,trigger:"keyboard"});i!==O&&o(O)}}break}}};return h.addEventListener("keydown",_),()=>{h.removeEventListener("keydown",_)}});return()=>{d.forEach(h=>h())}},[s,n,e,t,i,r,o])}function Eme(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Nxe(n,e){const t=n==="horizontal",{x:i,y:r}=aF(e);return t?i:r}function nkt(n,e,t,i,r){const s=t==="horizontal",o=cF(e,r);ei(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute(jr.groupId);ei(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=i;const c=Nxe(t,n),u=Ixe(a,r);ei(u,`No group element found for id "${a}"`);const d=u.getBoundingClientRect(),h=s?d.width:d.height;return(c-l)/h*100}function ikt(n,e,t,i,r,s){if(_xe(n)){const o=t==="horizontal";let a=0;n.shiftKey?a=100:r!=null?a=r:a=10;let l=0;switch(n.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return i==null?0:nkt(n,e,t,i,s)}function rkt({panelDataArray:n}){const e=Array(n.length),t=n.map(s=>s.constraints);let i=0,r=100;for(let s=0;s<n.length;s++){const o=t[s];ei(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(i++,e[s]=a,r-=a)}for(let s=0;s<n.length;s++){const o=t[s];ei(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=n.length-i,c=r/l;i++,e[s]=c,r-=c}return e}function Sv(n,e,t){e.forEach((i,r)=>{const s=n[r];ei(s,`Panel data not found for index ${r}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:c=0,collapsible:u}=a,d=t[l];if(d==null||i!==d){t[l]=i;const{onCollapse:h,onExpand:f,onResize:m}=o;m&&m(i,d),u&&(h||f)&&(f&&(d==null||Nh(d,c))&&!Nh(i,c)&&f(),h&&(d==null||!Nh(d,c))&&Nh(i,c)&&h())}})}function UN(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function skt({defaultSize:n,dragState:e,layout:t,panelData:i,panelIndex:r,precision:s=3}){const o=t[r];let a;return o==null?a=n!=null?n.toPrecision(s):"1":i.length===1?a="1":a=o.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function okt(n,e=10){let t=null;return(...r)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...r)},e)}}function vme(n){try{if(typeof localStorage<"u")n.getItem=e=>localStorage.getItem(e),n.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),n.getItem=()=>null,n.setItem=()=>{}}}function Lxe(n){return`react-resizable-panels:${n}`}function Oxe(n){return n.map(e=>{const{constraints:t,id:i,idIsFromProps:r,order:s}=e;return r?i:s?`${s}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function xxe(n,e){try{const t=Lxe(n),i=e.getItem(t);if(i){const r=JSON.parse(i);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function akt(n,e,t){var i,r;const s=(i=xxe(n,t))!==null&&i!==void 0?i:{},o=Oxe(e);return(r=s[o])!==null&&r!==void 0?r:null}function lkt(n,e,t,i,r){var s;const o=Lxe(n),a=Oxe(e),l=(s=xxe(n,r))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(t.entries()),layout:i};try{r.setItem(o,JSON.stringify(l))}catch(c){console.error(c)}}function Sme({layout:n,panelConstraints:e}){const t=[...n],i=t.reduce((s,o)=>s+o,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(s=>`${s}%`).join(", ")}`);if(!fl(i,100)&&t.length>0)for(let s=0;s<e.length;s++){const o=t[s];ei(o!=null,`No layout data found for index ${s}`);const a=100/i*o;t[s]=a}let r=0;for(let s=0;s<e.length;s++){const o=t[s];ei(o!=null,`No layout data found for index ${s}`);const a=iS({panelConstraints:e,panelIndex:s,size:o});o!=a&&(r+=o-a,t[s]=a)}if(!fl(r,0))for(let s=0;s<e.length;s++){const o=t[s];ei(o!=null,`No layout data found for index ${s}`);const a=o+r,l=iS({panelConstraints:e,panelIndex:s,size:a});if(o!==l&&(r-=l-o,t[s]=l,fl(r,0)))break}return t}const ckt=100,BT={getItem:n=>(vme(BT),BT.getItem(n)),setItem:(n,e)=>{vme(BT),BT.setItem(n,e)}},Cme={};function Dxe({autoSaveId:n=null,children:e,className:t="",direction:i,forwardedRef:r,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=BT,style:c,tagName:u="div",...d}){const h=MQ(s),f=N.useRef(null),[m,g]=N.useState(null),[_,v]=N.useState([]),S=QPt(),C=N.useRef({}),y=N.useRef(new Map),b=N.useRef(0),w=N.useRef({autoSaveId:n,direction:i,dragState:m,id:h,keyboardResizeBy:a,onLayout:o,storage:l}),I=N.useRef({layout:_,panelDataArray:[],panelDataArrayChanged:!1});N.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),N.useImperativeHandle(r,()=>({getId:()=>w.current.id,getLayout:()=>{const{layout:z}=I.current;return z},setLayout:z=>{const{onLayout:j}=w.current,{layout:ne,panelDataArray:le}=I.current,q=Sme({layout:z,panelConstraints:le.map(he=>he.constraints)});Eme(ne,q)||(v(q),I.current.layout=q,j&&j(q),Sv(le,q,C.current))}}),[]),s_(()=>{w.current.autoSaveId=n,w.current.direction=i,w.current.dragState=m,w.current.id=h,w.current.onLayout=o,w.current.storage=l}),tkt({committedValuesRef:w,eagerValuesRef:I,groupId:h,layout:_,panelDataArray:I.current.panelDataArray,setLayout:v,panelGroupElement:f.current}),N.useEffect(()=>{const{panelDataArray:z}=I.current;if(n){if(_.length===0||_.length!==z.length)return;let j=Cme[n];j==null&&(j=okt(lkt,ckt),Cme[n]=j);const ne=[...z],le=new Map(y.current);j(n,ne,le,_,l)}},[n,_,l]),N.useEffect(()=>{});const O=N.useCallback(z=>{const{onLayout:j}=w.current,{layout:ne,panelDataArray:le}=I.current;if(z.constraints.collapsible){const q=le.map(Ae=>Ae.constraints),{collapsedSize:he=0,panelSize:ue,pivotIndices:pe}=em(le,z,ne);if(ei(ue!=null,`Panel size not found for panel "${z.id}"`),!Nh(ue,he)){y.current.set(z.id,ue);const me=Rv(le,z)===le.length-1?ue-he:he-ue,Te=FT({delta:me,initialLayout:ne,panelConstraints:q,pivotIndices:pe,prevLayout:ne,trigger:"imperative-api"});UN(ne,Te)||(v(Te),I.current.layout=Te,j&&j(Te),Sv(le,Te,C.current))}}},[]),x=N.useCallback((z,j)=>{const{onLayout:ne}=w.current,{layout:le,panelDataArray:q}=I.current;if(z.constraints.collapsible){const he=q.map(Oe=>Oe.constraints),{collapsedSize:ue=0,panelSize:pe=0,minSize:Ae=0,pivotIndices:me}=em(q,z,le),Te=j??Ae;if(Nh(pe,ue)){const Oe=y.current.get(z.id),ft=Oe!=null&&Oe>=Te?Oe:Te,Vt=Rv(q,z)===q.length-1?pe-ft:ft-pe,yt=FT({delta:Vt,initialLayout:le,panelConstraints:he,pivotIndices:me,prevLayout:le,trigger:"imperative-api"});UN(le,yt)||(v(yt),I.current.layout=yt,ne&&ne(yt),Sv(q,yt,C.current))}}},[]),k=N.useCallback(z=>{const{layout:j,panelDataArray:ne}=I.current,{panelSize:le}=em(ne,z,j);return ei(le!=null,`Panel size not found for panel "${z.id}"`),le},[]),P=N.useCallback((z,j)=>{const{panelDataArray:ne}=I.current,le=Rv(ne,z);return skt({defaultSize:j,dragState:m,layout:_,panelData:ne,panelIndex:le})},[m,_]),M=N.useCallback(z=>{const{layout:j,panelDataArray:ne}=I.current,{collapsedSize:le=0,collapsible:q,panelSize:he}=em(ne,z,j);return ei(he!=null,`Panel size not found for panel "${z.id}"`),q===!0&&Nh(he,le)},[]),W=N.useCallback(z=>{const{layout:j,panelDataArray:ne}=I.current,{collapsedSize:le=0,collapsible:q,panelSize:he}=em(ne,z,j);return ei(he!=null,`Panel size not found for panel "${z.id}"`),!q||$_(he,le)>0},[]),F=N.useCallback(z=>{const{panelDataArray:j}=I.current;j.push(z),j.sort((ne,le)=>{const q=ne.order,he=le.order;return q==null&&he==null?0:q==null?-1:he==null?1:q-he}),I.current.panelDataArrayChanged=!0,S()},[S]);s_(()=>{if(I.current.panelDataArrayChanged){I.current.panelDataArrayChanged=!1;const{autoSaveId:z,onLayout:j,storage:ne}=w.current,{layout:le,panelDataArray:q}=I.current;let he=null;if(z){const pe=akt(z,q,ne);pe&&(y.current=new Map(Object.entries(pe.expandToSizes)),he=pe.layout)}he==null&&(he=rkt({panelDataArray:q}));const ue=Sme({layout:he,panelConstraints:q.map(pe=>pe.constraints)});Eme(le,ue)||(v(ue),I.current.layout=ue,j&&j(ue),Sv(q,ue,C.current))}}),s_(()=>{const z=I.current;return()=>{z.layout=[]}},[]);const H=N.useCallback(z=>{let j=!1;const ne=f.current;return ne&&window.getComputedStyle(ne,null).getPropertyValue("direction")==="rtl"&&(j=!0),function(q){q.preventDefault();const he=f.current;if(!he)return()=>null;const{direction:ue,dragState:pe,id:Ae,keyboardResizeBy:me,onLayout:Te}=w.current,{layout:Oe,panelDataArray:ft}=I.current,{initialLayout:kt}=pe??{},Vt=Rxe(Ae,z,he);let yt=ikt(q,z,ue,pe,me,he);const vt=ue==="horizontal";vt&&j&&(yt=-yt);const Yt=ft.map(Se=>Se.constraints),_t=FT({delta:yt,initialLayout:kt??Oe,panelConstraints:Yt,pivotIndices:Vt,prevLayout:Oe,trigger:_xe(q)?"keyboard":"mouse-or-touch"}),ae=!UN(Oe,_t);(Exe(q)||vxe(q))&&b.current!=yt&&(b.current=yt,!ae&&yt!==0?vt?NW(z,yt<0?Cxe:yxe):NW(z,yt<0?bxe:Txe):NW(z,0)),ae&&(v(_t),I.current.layout=_t,Te&&Te(_t),Sv(ft,_t,C.current))}},[]),V=N.useCallback((z,j)=>{const{onLayout:ne}=w.current,{layout:le,panelDataArray:q}=I.current,he=q.map(Oe=>Oe.constraints),{panelSize:ue,pivotIndices:pe}=em(q,z,le);ei(ue!=null,`Panel size not found for panel "${z.id}"`);const me=Rv(q,z)===q.length-1?ue-j:j-ue,Te=FT({delta:me,initialLayout:le,panelConstraints:he,pivotIndices:pe,prevLayout:le,trigger:"imperative-api"});UN(le,Te)||(v(Te),I.current.layout=Te,ne&&ne(Te),Sv(q,Te,C.current))},[]),Y=N.useCallback((z,j)=>{const{layout:ne,panelDataArray:le}=I.current,{collapsedSize:q=0,collapsible:he}=j,{collapsedSize:ue=0,collapsible:pe,maxSize:Ae=100,minSize:me=0}=z.constraints,{panelSize:Te}=em(le,z,ne);Te!=null&&(he&&pe&&Nh(Te,q)?Nh(q,ue)||V(z,ue):Te<me?V(z,me):Te>Ae&&V(z,Ae))},[V]),$=N.useCallback((z,j)=>{const{direction:ne}=w.current,{layout:le}=I.current;if(!f.current)return;const q=cF(z,f.current);ei(q,`Drag handle element not found for id "${z}"`);const he=Nxe(ne,j);g({dragHandleId:z,dragHandleRect:q.getBoundingClientRect(),initialCursorPosition:he,initialLayout:le})},[]),K=N.useCallback(()=>{g(null)},[]),re=N.useCallback(z=>{const{panelDataArray:j}=I.current,ne=Rv(j,z);ne>=0&&(j.splice(ne,1),delete C.current[z.id],I.current.panelDataArrayChanged=!0,S())},[S]),G=N.useMemo(()=>({collapsePanel:O,direction:i,dragState:m,expandPanel:x,getPanelSize:k,getPanelStyle:P,groupId:h,isPanelCollapsed:M,isPanelExpanded:W,reevaluatePanelConstraints:Y,registerPanel:F,registerResizeHandle:H,resizePanel:V,startDragging:$,stopDragging:K,unregisterPanel:re,panelGroupElement:f.current}),[O,m,i,x,k,P,h,M,W,Y,F,H,V,$,K,re]),J={display:"flex",flexDirection:i==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return N.createElement(oF.Provider,{value:G},N.createElement(u,{...d,children:e,className:t,id:s,ref:f,style:{...J,...c},[jr.group]:"",[jr.groupDirection]:i,[jr.groupId]:h}))}const Pxe=N.forwardRef((n,e)=>N.createElement(Dxe,{...n,forwardedRef:e}));Dxe.displayName="PanelGroup";Pxe.displayName="forwardRef(PanelGroup)";function Rv(n,e){return n.findIndex(t=>t===e||t.id===e.id)}function em(n,e,t){const i=Rv(n,e),s=i===n.length-1?[i-1,i]:[i,i+1],o=t[i];return{...e.constraints,panelSize:o,pivotIndices:s}}function ukt({disabled:n,handleId:e,resizeHandler:t,panelGroupElement:i}){N.useEffect(()=>{if(n||t==null||i==null)return;const r=cF(e,i);if(r==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),t(o);break}case"F6":{o.preventDefault();const a=r.getAttribute(jr.groupId);ei(a,`No group element found for id "${a}"`);const l=$w(a,i),c=Axe(a,e,i);ei(c!==null,`No resize element found for id "${e}"`);const u=o.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[u].focus();break}}};return r.addEventListener("keydown",s),()=>{r.removeEventListener("keydown",s)}},[i,n,e,t])}function kxe({children:n=null,className:e="",disabled:t=!1,hitAreaMargins:i,id:r,onBlur:s,onClick:o,onDragging:a,onFocus:l,onPointerDown:c,onPointerUp:u,style:d={},tabIndex:h=0,tagName:f="div",...m}){var g,_;const v=N.useRef(null),S=N.useRef({onClick:o,onDragging:a,onPointerDown:c,onPointerUp:u});N.useEffect(()=>{S.current.onClick=o,S.current.onDragging=a,S.current.onPointerDown=c,S.current.onPointerUp=u});const C=N.useContext(oF);if(C===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:y,groupId:b,registerResizeHandle:w,startDragging:I,stopDragging:O,panelGroupElement:x}=C,k=MQ(r),[P,M]=N.useState("inactive"),[W,F]=N.useState(!1),[H,V]=N.useState(null),Y=N.useRef({state:P});s_(()=>{Y.current.state=P}),N.useEffect(()=>{if(t)V(null);else{const G=w(k);V(()=>G)}},[t,k,w]);const $=(g=i==null?void 0:i.coarse)!==null&&g!==void 0?g:15,K=(_=i==null?void 0:i.fine)!==null&&_!==void 0?_:5;N.useEffect(()=>{if(t||H==null)return;const G=v.current;ei(G,"Element ref not attached");let J=!1;return qPt(k,G,y,{coarse:$,fine:K},(j,ne,le)=>{if(!ne){M("inactive");return}switch(j){case"down":{M("drag"),J=!1,ei(le,'Expected event to be defined for "down" action'),I(k,le);const{onDragging:q,onPointerDown:he}=S.current;q==null||q(!0),he==null||he();break}case"move":{const{state:q}=Y.current;J=!0,q!=="drag"&&M("hover"),ei(le,'Expected event to be defined for "move" action'),H(le);break}case"up":{M("hover"),O();const{onClick:q,onDragging:he,onPointerUp:ue}=S.current;he==null||he(!1),ue==null||ue(),J||q==null||q();break}}})},[$,y,t,K,w,k,H,I,O]),ukt({disabled:t,handleId:k,resizeHandler:H,panelGroupElement:x});const re={touchAction:"none",userSelect:"none"};return N.createElement(f,{...m,children:n,className:e,id:r,onBlur:()=>{F(!1),s==null||s()},onFocus:()=>{F(!0),l==null||l()},ref:v,role:"separator",style:{...re,...d},tabIndex:h,[jr.groupDirection]:y,[jr.groupId]:b,[jr.resizeHandle]:"",[jr.resizeHandleActive]:P==="drag"?"pointer":W?"keyboard":void 0,[jr.resizeHandleEnabled]:!t,[jr.resizeHandleId]:k,[jr.resizeHandleState]:P})}kxe.displayName="PanelResizeHandle";function yme({className:n,...e}){return R.jsx(Pxe,{"data-slot":"resizable-panel-group",className:si("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),...e})}function oT({...n}){return R.jsx(mxe,{"data-slot":"resizable-panel",...n})}function OW({withHandle:n,className:e,...t}){return R.jsx(kxe,{"data-slot":"resizable-handle",className:si("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...t,children:n&&R.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:R.jsx(JSt,{className:"size-2.5"})})})}const dkt="toolbox",aT="catalog",xW="horizontalLayout",DW="editorVerticalLayout";function hkt({toolbox:n=R.jsx("div",{className:"p-2 h-full bg-muted/40",children:"Toolbox Placeholder"}),catalog:e,editor:t,results:i}){const r=In(f=>f.layoutSizes),s=In(f=>f.setLayoutSizes),o=In(f=>f.collapsedPanels),a=In(f=>f.togglePanelCollapse),l=o[aT]??!1,c=f=>{s(xW,f)},u=f=>{s(DW,f)},d=r[xW],h=r[DW];return R.jsxs(yme,{direction:"horizontal",className:"min-h-screen w-full rounded-lg border",onLayout:c,id:xW,children:[R.jsx(oT,{defaultSize:3,minSize:3,maxSize:3,collapsible:!1,className:"p-1",id:dkt,order:1,children:n}),R.jsx(OW,{withHandle:!0}),R.jsx(oT,{defaultSize:d?d[1]:25,minSize:15,maxSize:40,collapsible:!0,collapsedSize:3,onCollapse:()=>{l||a(aT)},onExpand:()=>{l&&a(aT)},className:`transition-all duration-300 ease-in-out ${l?"min-w-[40px]":""}`,id:aT,order:2,children:R.jsx("div",{className:"flex h-full items-start p-1",children:l?R.jsx(Ko,{variant:"ghost",size:"icon",onClick:()=>a(aT),children:R.jsx(cCt,{className:"h-4 w-4"})}):R.jsx("div",{className:"flex-grow",children:e})})}),R.jsx(OW,{withHandle:!0}),R.jsx(oT,{defaultSize:d?d[2]:60,minSize:30,order:3,children:R.jsxs(yme,{direction:"vertical",onLayout:u,id:DW,children:[R.jsx(oT,{defaultSize:h?h[0]:60,minSize:20,children:t}),R.jsx(OW,{withHandle:!0}),R.jsx(oT,{defaultSize:h?h[1]:40,minSize:20,children:i})]})})]})}function fkt({onSearchChange:n,placeholder:e="Search...",onRefresh:t,isLoading:i}){const[r,s]=N.useState(""),o=N.useRef(Gte(l=>{n(l)},300));N.useEffect(()=>{o.current=Gte(l=>{n(l)},300)},[n]),N.useEffect(()=>(o.current(r),()=>{o.current.cancel()}),[r]);const a=l=>{s(l.target.value)};return R.jsxs("div",{className:"p-2 flex items-center space-x-2 border-b",children:[R.jsx(BA,{type:"search",placeholder:e,value:r,onChange:a,className:"flex-grow"}),R.jsx(Ko,{variant:"outline",size:"icon",onClick:t,disabled:i,title:"Refresh Schema",children:R.jsx(pCt,{className:`h-4 w-4 ${i?"animate-spin":""}`})})]})}function UQ({delayDuration:n=0,...e}){return R.jsx(y9e,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function gkt({...n}){return R.jsx(UQ,{children:R.jsx(b9e,{"data-slot":"tooltip",...n})})}function pkt({...n}){return R.jsx(T9e,{"data-slot":"tooltip-trigger",...n})}function mkt({className:n,sideOffset:e=0,children:t,...i}){return R.jsx(Nbe,{children:R.jsxs(xY,{"data-slot":"tooltip-content",sideOffset:e,className:si("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...i,children:[t,R.jsx(w9e,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const _kt=(n,e)=>n.map(t=>{const i={id:`db-${t.name}`,name:t.name,type:"database",data:{type:"database",name:t.name,db_type:t.db_type},children:[]};return e===t.name&&(i.children=t.tables.map(r=>{const s={id:`table-${t.name}-${r.table_name}`,name:r.table_name,type:"table",data:{type:"table",name:r.table_name},children:[]};return r.columns&&(s.children=r.columns.map(o=>({id:`col-${t.name}-${r.table_name}-${o.name}`,name:o.name,type:"column",data:{type:"column",name:o.name,data_type:o.data_type,is_pk:o.is_pk,fk_table:o.fk_table}}))),s})),i}),Ekt=(n,e)=>{const t=e.toLowerCase(),i=s=>{const o=s.name.toLowerCase().includes(t);let a=!1;return s.children&&(a=s.children.reduce((l,c)=>i(c)||l,!1)),s.matchesFilter=o||a,s.matchesFilter};n.forEach(i);const r=s=>{if(!s.matchesFilter)return null;let o=[];return s.children&&(o=s.children.map(r).filter(a=>a!==null)),{...s,children:o.length>0?o:void 0}};return n.map(r).filter(s=>s!==null)},Mxe=Z.memo(({node:n,level:e,selectedDatabase:t,isExpanded:i,onToggleExpand:r})=>{var v,S;const s=In(C=>C.setSelectedDatabase),o=n.children&&n.children.length>0,a=n.type==="database"&&t===n.name,l=Z.useRef(null),c=C=>{C.stopPropagation(),r(n.id)},u=C=>{C.stopPropagation(),n.type==="database"?(s(n.name),o&&r(n.id)):n.type==="table"?o&&r(n.id):n.type==="column"&&console.log("Column clicked:",n.data)};let d=qSt;n.type==="database"&&(d=cNe),n.type==="table"&&(d=CCt);const f=((v=n.data)==null?void 0:v.type)==="column"?n.data:null,m=e*16,g=n.type==="database"||n.type==="table",_=l;return R.jsxs("div",{children:[R.jsxs("div",{className:`flex items-center space-x-1 p-2 rounded hover:bg-muted ${a?"bg-muted":""}`,style:{paddingLeft:`${m}px`},children:[g?R.jsx("span",{onClick:c,className:"w-4 h-4 flex items-center justify-center cursor-pointer mr-1",children:o?i?R.jsx(N2,{size:14}):R.jsx(zSt,{size:14}):R.jsx("span",{className:"w-4"})}):R.jsx("span",{className:"w-4 mr-1"}),R.jsx(d,{size:14,className:"flex-shrink-0 text-muted-foreground mr-1.5"}),n.type==="column"?R.jsxs("span",{ref:_,className:"text truncate flex-grow cursor-default",onClick:u,children:[n.name,R.jsxs("span",{className:"inline-flex items-center ml-1.5 space-x-1",children:[f&&f.type==="column"&&f.is_pk&&R.jsx(iCt,{size:12,className:"flex-shrink-0 text-yellow-500"}),f&&f.type==="column"&&f.fk_table&&R.jsx(sCt,{size:12,className:"flex-shrink-0 text-blue-500"})]})]}):R.jsx("span",{ref:_,className:`text truncate flex-grow ${g?"cursor-pointer":"cursor-default"}`,onClick:u,children:n.name})]}),i&&o&&R.jsx("div",{className:"ml-0",children:(S=n.children)==null?void 0:S.map(C=>R.jsx(Mxe,{node:C,level:e+1,selectedDatabase:t,isExpanded:i,onToggleExpand:r},C.id))})]})});function vkt({filterTerm:n}){const e=In(u=>u.selectedDatabase),t=In(u=>u.fullSchemaData),i=In(u=>u.isFetchingFullSchema),r=In(u=>u.fullSchemaError),[s,o]=Z.useState(new Set),a=u=>{o(d=>{const h=new Set(d);return h.has(u)?h.delete(u):h.add(u),h})},l=Z.useMemo(()=>{const u=(t==null?void 0:t.databases)||[];return _kt(u,e)},[t,e]),c=Z.useMemo(()=>{const u=Ekt(l,n);if(n){const d=new Set,h=f=>{f.forEach(m=>{m.matchesFilter&&(d.add(m.id),m.children&&h(m.children))})};h(u),o(d)}return u},[l,n]);return i&&!t?R.jsx("div",{className:"p-4 text-muted-foreground",children:"Loading schema..."}):r?R.jsxs("div",{className:"p-4 text-destructive",children:["Error loading schema: ",r]}):c.length===0&&!n?R.jsx("div",{className:"p-4 text-muted-foreground",children:"No databases found."}):c.length===0&&n?R.jsxs("div",{className:"p-4 text-muted-foreground",children:['No matching items found for "',n,'".']}):R.jsx(UQ,{delayDuration:300,children:R.jsx("div",{className:"p-1",children:c.map(u=>R.jsx(Mxe,{node:u,level:0,selectedDatabase:e,isExpanded:s.has(u.id),onToggleExpand:a},u.id))})})}function Skt(){const[n,e]=Z.useState(""),t=In(s=>s.isFetchingFullSchema),i=In(s=>s.fetchFullSchema),r=s=>{console.log("Search term:",s),e(s)};return R.jsxs("div",{className:"h-full flex flex-col bg-background p-1",children:[R.jsx("div",{className:"flex-shrink-0 mb-1",children:R.jsx(fkt,{onSearchChange:r,placeholder:"Search databases, tables...",onRefresh:i,isLoading:t})}),R.jsx("div",{className:"flex-grow overflow-y-auto border rounded-sm",children:R.jsx(vkt,{filterTerm:n})})]})}const Be=n=>n.flatMap(Ckt),Ckt=n=>ML(bkt(n)).map(ykt),ykt=n=>n.replace(/ +/g," ").trim(),bkt=n=>({type:"mandatory_block",items:HQ(n,0)[0]}),HQ=(n,e,t)=>{const i=[];for(;n[e];){const[r,s]=Tkt(n,e);if(i.push(r),e=s,n[e]==="|")e++;else if(n[e]==="}"||n[e]==="]"){if(t!==n[e])throw new Error(`Unbalanced parenthesis in: ${n}`);return e++,[i,e]}else if(e===n.length){if(t)throw new Error(`Unbalanced parenthesis in: ${n}`);return[i,e]}else throw new Error(`Unexpected "${n[e]}"`)}return[i,e]},Tkt=(n,e)=>{const t=[];for(;;){const[i,r]=wkt(n,e);if(i)t.push(i),e=r;else break}return t.length===1?[t[0],e]:[{type:"concatenation",items:t},e]},wkt=(n,e)=>{if(n[e]==="{")return Akt(n,e+1);if(n[e]==="[")return Rkt(n,e+1);{let t="";for(;n[e]&&/[A-Za-z0-9_ ]/.test(n[e]);)t+=n[e],e++;return[t,e]}},Akt=(n,e)=>{const[t,i]=HQ(n,e,"}");return[{type:"mandatory_block",items:t},i]},Rkt=(n,e)=>{const[t,i]=HQ(n,e,"]");return[{type:"optional_block",items:t},i]},ML=n=>{if(typeof n=="string")return[n];if(n.type==="concatenation")return n.items.map(ML).reduce(Ikt,[""]);if(n.type==="mandatory_block")return n.items.flatMap(ML);if(n.type==="optional_block")return["",...n.items.flatMap(ML)];throw new Error(`Unknown node type: ${n}`)},Ikt=(n,e)=>{const t=[];for(const i of n)for(const r of e)t.push(i+r);return t};var Ge;(function(n){n.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",n.IDENTIFIER="IDENTIFIER",n.STRING="STRING",n.VARIABLE="VARIABLE",n.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",n.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",n.RESERVED_KEYWORD="RESERVED_KEYWORD",n.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",n.RESERVED_PHRASE="RESERVED_PHRASE",n.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",n.RESERVED_CLAUSE="RESERVED_CLAUSE",n.RESERVED_SELECT="RESERVED_SELECT",n.RESERVED_JOIN="RESERVED_JOIN",n.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",n.ARRAY_KEYWORD="ARRAY_KEYWORD",n.CASE="CASE",n.END="END",n.WHEN="WHEN",n.ELSE="ELSE",n.THEN="THEN",n.LIMIT="LIMIT",n.BETWEEN="BETWEEN",n.AND="AND",n.OR="OR",n.XOR="XOR",n.OPERATOR="OPERATOR",n.COMMA="COMMA",n.ASTERISK="ASTERISK",n.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",n.OPEN_PAREN="OPEN_PAREN",n.CLOSE_PAREN="CLOSE_PAREN",n.LINE_COMMENT="LINE_COMMENT",n.BLOCK_COMMENT="BLOCK_COMMENT",n.DISABLE_COMMENT="DISABLE_COMMENT",n.NUMBER="NUMBER",n.NAMED_PARAMETER="NAMED_PARAMETER",n.QUOTED_PARAMETER="QUOTED_PARAMETER",n.NUMBERED_PARAMETER="NUMBERED_PARAMETER",n.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",n.CUSTOM_PARAMETER="CUSTOM_PARAMETER",n.DELIMITER="DELIMITER",n.EOF="EOF"})(Ge=Ge||(Ge={}));const Fxe=n=>({type:Ge.EOF,raw:"EOF",text:"EOF",start:n}),ry=Fxe(1/0),Cv=n=>e=>e.type===n.type&&e.text===n.text,G_={ARRAY:Cv({text:"ARRAY",type:Ge.RESERVED_DATA_TYPE}),BY:Cv({text:"BY",type:Ge.RESERVED_KEYWORD}),SET:Cv({text:"SET",type:Ge.RESERVED_CLAUSE}),STRUCT:Cv({text:"STRUCT",type:Ge.RESERVED_DATA_TYPE}),WINDOW:Cv({text:"WINDOW",type:Ge.RESERVED_CLAUSE}),VALUES:Cv({text:"VALUES",type:Ge.RESERVED_CLAUSE})},Bxe=n=>n===Ge.RESERVED_DATA_TYPE||n===Ge.RESERVED_KEYWORD||n===Ge.RESERVED_FUNCTION_NAME||n===Ge.RESERVED_PHRASE||n===Ge.RESERVED_CLAUSE||n===Ge.RESERVED_SELECT||n===Ge.RESERVED_SET_OPERATION||n===Ge.RESERVED_JOIN||n===Ge.ARRAY_KEYWORD||n===Ge.CASE||n===Ge.END||n===Ge.WHEN||n===Ge.ELSE||n===Ge.THEN||n===Ge.LIMIT||n===Ge.BETWEEN||n===Ge.AND||n===Ge.OR||n===Ge.XOR,Nkt=n=>n===Ge.AND||n===Ge.OR||n===Ge.XOR,Lkt=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"],Okt=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],xkt=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"],Dkt=Be(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),Pkt=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),bme=Be(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),PW=Be(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),kkt=Be(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),Mkt=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),Fkt=Be(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),Bkt={name:"bigquery",tokenizerOptions:{reservedSelect:Dkt,reservedClauses:[...Pkt,...PW,...bme],reservedSetOperations:kkt,reservedJoins:Mkt,reservedPhrases:Fkt,reservedKeywords:Okt,reservedDataTypes:xkt,reservedFunctionNames:Lkt,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:Ukt},formatOptions:{onelineClauses:[...bme,...PW],tabularOnelineClauses:PW}};function Ukt(n){return Hkt(Vkt(n))}function Hkt(n){let e=ry;return n.map(t=>t.text==="OFFSET"&&e.text==="["?(e=t,Object.assign(Object.assign({},t),{type:Ge.RESERVED_FUNCTION_NAME})):(e=t,t))}function Vkt(n){var e;const t=[];for(let i=0;i<n.length;i++){const r=n[i];if((G_.ARRAY(r)||G_.STRUCT(r))&&((e=n[i+1])===null||e===void 0?void 0:e.text)==="<"){const s=Wkt(n,i+1),o=n.slice(i,s+1);t.push({type:Ge.IDENTIFIER,raw:o.map(Tme("raw")).join(""),text:o.map(Tme("text")).join(""),start:r.start}),i=s}else t.push(r)}return t}const Tme=n=>e=>e.type===Ge.IDENTIFIER||e.type===Ge.COMMA?e[n]+" ":e[n];function Wkt(n,e){let t=0;for(let i=e;i<n.length;i++){const r=n[i];if(r.text==="<"?t++:r.text===">"?t--:r.text===">>"&&(t-=2),t===0)return i}return n.length-1}const $kt=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"],Gkt=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],zkt=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"],jkt=Be(["SELECT [ALL | DISTINCT]"]),Ykt=Be(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),wme=Be(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),kW=Be(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),Kkt=Be(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),qkt=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),Xkt=Be(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),Qkt={name:"db2",tokenizerOptions:{reservedSelect:jkt,reservedClauses:[...Ykt,...wme,...kW],reservedSetOperations:Kkt,reservedJoins:qkt,reservedPhrases:Xkt,reservedKeywords:Gkt,reservedDataTypes:zkt,reservedFunctionNames:$kt,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","=",">","<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...wme,...kW],tabularOnelineClauses:kW}},Zkt=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"],Jkt=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],eMt=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"],tMt=Be(["SELECT [ALL | DISTINCT]"]),nMt=Be(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),Ame=Be(["CREATE [OR REPLACE] TABLE"]),MW=Be(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),iMt=Be(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),rMt=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),sMt=Be(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),oMt={name:"db2i",tokenizerOptions:{reservedSelect:tMt,reservedClauses:[...nMt,...Ame,...MW],reservedSetOperations:iMt,reservedJoins:rMt,reservedPhrases:sMt,reservedKeywords:Jkt,reservedDataTypes:eMt,reservedFunctionNames:Zkt,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","=",">","<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...Ame,...MW],tabularOnelineClauses:MW}},aMt=["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","NULL","RANK","ROW_NUMBER"],lMt=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],cMt=["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"],uMt=Be(["SELECT [ALL | DISTINCT]"]),dMt=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),Rme=Be(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),FW=Be(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),hMt=Be(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),fMt=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),gMt=Be(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM","TIMESTAMP WITH TIME ZONE"]),pMt={name:"duckdb",tokenizerOptions:{reservedSelect:uMt,reservedClauses:[...dMt,...Rme,...FW],reservedSetOperations:hMt,reservedJoins:fMt,reservedPhrases:gMt,supportsXor:!0,reservedKeywords:lMt,reservedDataTypes:cMt,reservedFunctionNames:aMt,nestedBlockComments:!0,extraParens:["[]","{}"],stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Rme,...FW],tabularOnelineClauses:FW}},mMt=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"],_Mt=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],EMt=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"],vMt=Be(["SELECT [ALL | DISTINCT]"]),SMt=Be(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),Ime=Be(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),BW=Be(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),CMt=Be(["UNION [ALL | DISTINCT]"]),yMt=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),bMt=Be(["{ROWS | RANGE} BETWEEN"]),TMt={name:"hive",tokenizerOptions:{reservedSelect:vMt,reservedClauses:[...SMt,...Ime,...BW],reservedSetOperations:CMt,reservedJoins:yMt,reservedPhrases:bMt,reservedKeywords:_Mt,reservedDataTypes:EMt,reservedFunctionNames:mMt,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...Ime,...BW],tabularOnelineClauses:BW}};function uF(n){return n.map((e,t)=>{const i=n[t+1]||ry;if(G_.SET(e)&&i.text==="(")return Object.assign(Object.assign({},e),{type:Ge.RESERVED_FUNCTION_NAME});const r=n[t-1]||ry;return G_.VALUES(e)&&r.text==="="?Object.assign(Object.assign({},e),{type:Ge.RESERVED_FUNCTION_NAME}):e})}const wMt=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],AMt=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],RMt=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"],IMt=Be(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),NMt=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),Nme=Be(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),UW=Be(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),LMt=Be(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),OMt=Be(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),xMt=Be(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),DMt={name:"mariadb",tokenizerOptions:{reservedSelect:IMt,reservedClauses:[...NMt,...Nme,...UW],reservedSetOperations:LMt,reservedJoins:OMt,reservedPhrases:xMt,supportsXor:!0,reservedKeywords:wMt,reservedDataTypes:AMt,reservedFunctionNames:RMt,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:uF},formatOptions:{onelineClauses:[...Nme,...UW],tabularOnelineClauses:UW}},PMt=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],kMt=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],MMt=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],FMt=Be(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),BMt=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),Lme=Be(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),HW=Be(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),UMt=Be(["UNION [ALL | DISTINCT]"]),HMt=Be(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),VMt=Be(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),WMt={name:"mysql",tokenizerOptions:{reservedSelect:FMt,reservedClauses:[...BMt,...Lme,...HW],reservedSetOperations:UMt,reservedJoins:HMt,reservedPhrases:VMt,supportsXor:!0,reservedKeywords:PMt,reservedDataTypes:kMt,reservedFunctionNames:MMt,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:uF},formatOptions:{onelineClauses:[...Lme,...HW],tabularOnelineClauses:HW}},$Mt=["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],GMt=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],zMt=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],jMt=Be(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),YMt=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),Ome=Be(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),VW=Be(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),KMt=Be(["UNION [ALL | DISTINCT]"]),qMt=Be(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),XMt=Be(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),QMt={name:"tidb",tokenizerOptions:{reservedSelect:jMt,reservedClauses:[...YMt,...Ome,...VW],reservedSetOperations:KMt,reservedJoins:qMt,reservedPhrases:XMt,supportsXor:!0,reservedKeywords:$Mt,reservedDataTypes:GMt,reservedFunctionNames:zMt,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:uF},formatOptions:{onelineClauses:[...Ome,...VW],tabularOnelineClauses:VW}},ZMt=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"],JMt=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],e2t=[],t2t=Be(["SELECT [ALL | DISTINCT]"]),n2t=Be(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),xme=Be(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),i2t=Be(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),r2t=Be(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),s2t=Be(["{ROWS | RANGE | GROUPS} BETWEEN"]),o2t={name:"n1ql",tokenizerOptions:{reservedSelect:t2t,reservedClauses:[...n2t,...xme],reservedSetOperations:i2t,reservedJoins:r2t,reservedPhrases:s2t,supportsXor:!0,reservedKeywords:JMt,reservedDataTypes:e2t,reservedFunctionNames:ZMt,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:xme}},a2t=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],l2t=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"],c2t=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"],u2t=Be(["SELECT [ALL | DISTINCT | UNIQUE]"]),d2t=Be(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),Dme=Be(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),WW=Be(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),h2t=Be(["UNION [ALL]","MINUS","INTERSECT"]),f2t=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),g2t=Be(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),p2t={name:"plsql",tokenizerOptions:{reservedSelect:u2t,reservedClauses:[...d2t,...Dme,...WW],reservedSetOperations:h2t,reservedJoins:f2t,reservedPhrases:g2t,supportsXor:!0,reservedKeywords:a2t,reservedDataTypes:l2t,reservedFunctionNames:c2t,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:m2t},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...Dme,...WW],tabularOnelineClauses:WW}};function m2t(n){let e=ry;return n.map(t=>G_.SET(t)&&G_.BY(e)?Object.assign(Object.assign({},t),{type:Ge.RESERVED_KEYWORD}):(Bxe(t.type)&&(e=t),t))}const _2t=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","UUID","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"],E2t=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],v2t=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","VARCHAR","XML","ZONE"],S2t=Be(["SELECT [ALL | DISTINCT]"]),C2t=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),Pme=Be(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),$W=Be(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),y2t=Be(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),b2t=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),T2t=Be(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),w2t={name:"postgresql",tokenizerOptions:{reservedSelect:S2t,reservedClauses:[...C2t,...Pme,...$W],reservedSetOperations:y2t,reservedJoins:b2t,reservedPhrases:T2t,reservedKeywords:E2t,reservedDataTypes:v2t,reservedFunctionNames:_2t,nestedBlockComments:!0,extraParens:["[]"],stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...Pme,...$W],tabularOnelineClauses:$W}},A2t=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"],R2t=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],I2t=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"],N2t=Be(["SELECT [ALL | DISTINCT]"]),L2t=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),kme=Be(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),GW=Be(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),O2t=Be(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),x2t=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),D2t=Be(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),P2t={name:"redshift",tokenizerOptions:{reservedSelect:N2t,reservedClauses:[...L2t,...kme,...GW],reservedSetOperations:O2t,reservedJoins:x2t,reservedPhrases:D2t,reservedKeywords:R2t,reservedDataTypes:I2t,reservedFunctionNames:A2t,stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...kme,...GW],tabularOnelineClauses:GW}},k2t=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],M2t=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"],F2t=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"],B2t=Be(["SELECT [ALL | DISTINCT]"]),U2t=Be(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),Mme=Be(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),zW=Be(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),H2t=Be(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),V2t=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),W2t=Be(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),$2t={name:"spark",tokenizerOptions:{reservedSelect:B2t,reservedClauses:[...U2t,...Mme,...zW],reservedSetOperations:H2t,reservedJoins:V2t,reservedPhrases:W2t,supportsXor:!0,reservedKeywords:k2t,reservedDataTypes:M2t,reservedFunctionNames:F2t,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:G2t},formatOptions:{onelineClauses:[...Mme,...zW],tabularOnelineClauses:zW}};function G2t(n){return n.map((e,t)=>{const i=n[t-1]||ry,r=n[t+1]||ry;return G_.WINDOW(e)&&r.type===Ge.OPEN_PAREN?Object.assign(Object.assign({},e),{type:Ge.RESERVED_FUNCTION_NAME}):e.text==="ITEMS"&&e.type===Ge.RESERVED_KEYWORD&&!(i.text==="COLLECTION"&&r.text==="TERMINATED")?Object.assign(Object.assign({},e),{type:Ge.IDENTIFIER,text:e.raw}):e})}const z2t=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"],j2t=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],Y2t=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"],K2t=Be(["SELECT [ALL | DISTINCT]"]),q2t=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET"]),Fme=Be(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),jW=Be(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),X2t=Be(["UNION [ALL]","EXCEPT","INTERSECT"]),Q2t=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Z2t=Be(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),J2t={name:"sqlite",tokenizerOptions:{reservedSelect:K2t,reservedClauses:[...q2t,...Fme,...jW],reservedSetOperations:X2t,reservedJoins:Q2t,reservedPhrases:Z2t,reservedKeywords:j2t,reservedDataTypes:Y2t,reservedFunctionNames:z2t,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...Fme,...jW],tabularOnelineClauses:jW}},eFt=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"],tFt=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],nFt=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],iFt=Be(["SELECT [ALL | DISTINCT]"]),rFt=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),Bme=Be(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),YW=Be(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),sFt=Be(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),oFt=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),aFt=Be(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),lFt={name:"sql",tokenizerOptions:{reservedSelect:iFt,reservedClauses:[...rFt,...Bme,...YW],reservedSetOperations:sFt,reservedJoins:oFt,reservedPhrases:aFt,reservedKeywords:tFt,reservedDataTypes:nFt,reservedFunctionNames:eFt,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...Bme,...YW],tabularOnelineClauses:YW}},cFt=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"],uFt=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],dFt=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"],hFt=Be(["SELECT [ALL | DISTINCT]"]),fFt=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),Ume=Be(["CREATE TABLE [IF NOT EXISTS]"]),KW=Be(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),gFt=Be(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),pFt=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),mFt=Be(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),_Ft={name:"trino",tokenizerOptions:{reservedSelect:hFt,reservedClauses:[...fFt,...Ume,...KW],reservedSetOperations:gFt,reservedJoins:pFt,reservedPhrases:mFt,reservedKeywords:uFt,reservedDataTypes:dFt,reservedFunctionNames:cFt,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...Ume,...KW],tabularOnelineClauses:KW}},EFt=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"],vFt=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],SFt=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],CFt=Be(["SELECT [ALL | DISTINCT]"]),yFt=Be(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET","CREATE [OR ALTER] {PROC | PROCEDURE}"]),Hme=Be(["CREATE TABLE"]),qW=Be(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLLATE","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","FUNCTION","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION FUNCTION","PARTITION SCHEME","PROCEDURE","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),bFt=Be(["UNION [ALL]","EXCEPT","INTERSECT"]),TFt=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),wFt=Be(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),AFt={name:"transactsql",tokenizerOptions:{reservedSelect:CFt,reservedClauses:[...yFt,...Hme,...qW],reservedSetOperations:bFt,reservedJoins:TFt,reservedPhrases:wFt,reservedKeywords:vFt,reservedDataTypes:SFt,reservedFunctionNames:EFt,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]}],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Hme,...qW],tabularOnelineClauses:qW}},RFt=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],IFt=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"],NFt=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"],LFt=Be(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),OFt=Be(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),Vme=Be(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),XW=Be(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),xFt=Be(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),DFt=Be(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),PFt=Be(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),kFt={name:"singlestoredb",tokenizerOptions:{reservedSelect:LFt,reservedClauses:[...OFt,...Vme,...XW],reservedSetOperations:xFt,reservedJoins:DFt,reservedPhrases:PFt,reservedKeywords:RFt,reservedDataTypes:IFt,reservedFunctionNames:NFt,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:uF},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...Vme,...XW],tabularOnelineClauses:XW}},MFt=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER  Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"],FFt=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],BFt=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"],UFt=Be(["SELECT [ALL | DISTINCT]"]),HFt=Be(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),Wme=Be(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),QW=Be(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),VFt=Be(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),WFt=Be(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),$Ft=Be(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),GFt={name:"snowflake",tokenizerOptions:{reservedSelect:UFt,reservedClauses:[...HFt,...Wme,...QW],reservedSetOperations:VFt,reservedJoins:WFt,reservedPhrases:$Ft,reservedKeywords:FFt,reservedDataTypes:BFt,reservedFunctionNames:MFt,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Wme,...QW],tabularOnelineClauses:QW}},zFt=Object.freeze(Object.defineProperty({__proto__:null,bigquery:Bkt,db2:Qkt,db2i:oMt,duckdb:pMt,hive:TMt,mariadb:DMt,mysql:WMt,n1ql:o2t,plsql:p2t,postgresql:w2t,redshift:P2t,singlestoredb:kFt,snowflake:GFt,spark:$2t,sql:lFt,sqlite:J2t,tidb:QMt,transactsql:AFt,trino:_Ft},Symbol.toStringTag,{value:"Module"})),x0=n=>n[n.length-1],Uxe=n=>n.sort((e,t)=>t.length-e.length||e.localeCompare(t)),FL=n=>n.replace(/\s+/gu," "),ZW=n=>/\n/.test(n),cu=n=>n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),$me=/\s+/uy,EE=n=>new RegExp(`(?:${n})`,"uy"),jFt=n=>n.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),YFt=n=>n+"(?:-"+n+")*",KFt=({prefixes:n,requirePrefix:e})=>`(?:${n.map(jFt).join("|")}${e?"":"|"})`,qFt=n=>new RegExp(`(?:${n.map(cu).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),Gme=(n,e=[])=>{const t=n==="open"?0:1,i=["()",...e].map(r=>r[t]);return EE(i.map(cu).join("|"))},zme=n=>EE(`${Uxe(n).map(cu).join("|")}`),XFt=({rest:n,dashes:e})=>n||e?`(?![${n||""}${e?"-":""}])`:"",Gf=(n,e={})=>{if(n.length===0)return/^\b$/u;const t=XFt(e),i=Uxe(n).map(cu).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${i})${t}\\b`,"iuy")},JW=(n,e)=>{if(!n.length)return;const t=n.map(cu).join("|");return EE(`(?:${t})(?:${e})`)},QFt=()=>{const n={"<":">","[":"]","(":")","{":"}"},e="{left}(?:(?!{right}').)*?{right}",t=Object.entries(n).map(([o,a])=>e.replace(/{left}/g,cu(o)).replace(/{right}/g,cu(a))),i=cu(Object.keys(n).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${i}])(?:(?!\k<tag>').)*?\k<tag>`}|${t.join("|")})'`},jme={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":QFt()},Hxe=n=>typeof n=="string"?jme[n]:"regex"in n?n.regex:KFt(n)+jme[n.quote],ZFt=n=>EE(n.map(e=>"regex"in e?e.regex:Hxe(e)).join("|")),Vxe=n=>n.map(Hxe).join("|"),Yme=n=>EE(Vxe(n)),JFt=(n={})=>EE(Wxe(n)),Wxe=({first:n,rest:e,dashes:t,allowFirstCharNumber:i}={})=>{const r="\\p{Alphabetic}\\p{Mark}_",s="\\p{Decimal_Number}",o=cu(n??""),a=cu(e??""),l=i?`[${r}${s}${o}][${r}${s}${a}]*`:`[${r}${o}][${r}${s}${a}]*`;return t?YFt(l):l};function $xe(n,e){const t=n.slice(0,e).split(/\n/);return{line:t.length,col:t[t.length-1].length+1}}class eBt{constructor(e,t){this.rules=e,this.dialectName=t,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;const t=[];let i;for(;this.index<this.input.length;){const r=this.getWhitespace();if(this.index<this.input.length){if(i=this.getNextToken(),!i)throw this.createParseError();t.push(Object.assign(Object.assign({},i),{precedingWhitespace:r}))}}return t}createParseError(){const e=this.input.slice(this.index,this.index+10),{line:t,col:i}=$xe(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${t} column ${i}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){$me.lastIndex=this.index;const e=$me.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(const e of this.rules){const t=this.match(e);if(t)return t}}match(e){e.regex.lastIndex=this.index;const t=e.regex.exec(this.input);if(t){const i=t[0],r={type:e.type,raw:i,text:e.text?e.text(i):i,start:this.index};return e.key&&(r.key=e.key(i)),this.index+=i.length,r}}}const Kme=/\/\*/uy,tBt=/[\s\S]/uy,nBt=/\*\//uy;class iBt{constructor(){this.lastIndex=0}exec(e){let t="",i,r=0;if(i=this.matchSection(Kme,e))t+=i,r++;else return null;for(;r>0;)if(i=this.matchSection(Kme,e))t+=i,r++;else if(i=this.matchSection(nBt,e))t+=i,r--;else if(i=this.matchSection(tBt,e))t+=i;else return null;return[t]}matchSection(e,t){e.lastIndex=this.lastIndex;const i=e.exec(t);return i&&(this.lastIndex+=i[0].length),i?i[0]:null}}class rBt{constructor(e,t){this.cfg=e,this.dialectName=t,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,t){const i=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,t),...this.rulesAfterParams],r=new eBt(i,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(r):r}buildRulesBeforeParams(e){var t,i;return this.validRules([{type:Ge.BLOCK_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:Ge.BLOCK_COMMENT,regex:e.nestedBlockComments?new iBt:/(\/\*[^]*?\*\/)/uy},{type:Ge.LINE_COMMENT,regex:qFt((t=e.lineCommentTypes)!==null&&t!==void 0?t:["--"])},{type:Ge.QUOTED_IDENTIFIER,regex:Yme(e.identTypes)},{type:Ge.NUMBER,regex:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:Ge.RESERVED_PHRASE,regex:Gf((i=e.reservedPhrases)!==null&&i!==void 0?i:[],e.identChars),text:Js},{type:Ge.CASE,regex:/CASE\b/iuy,text:Js},{type:Ge.END,regex:/END\b/iuy,text:Js},{type:Ge.BETWEEN,regex:/BETWEEN\b/iuy,text:Js},{type:Ge.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:Js},{type:Ge.RESERVED_CLAUSE,regex:Gf(e.reservedClauses,e.identChars),text:Js},{type:Ge.RESERVED_SELECT,regex:Gf(e.reservedSelect,e.identChars),text:Js},{type:Ge.RESERVED_SET_OPERATION,regex:Gf(e.reservedSetOperations,e.identChars),text:Js},{type:Ge.WHEN,regex:/WHEN\b/iuy,text:Js},{type:Ge.ELSE,regex:/ELSE\b/iuy,text:Js},{type:Ge.THEN,regex:/THEN\b/iuy,text:Js},{type:Ge.RESERVED_JOIN,regex:Gf(e.reservedJoins,e.identChars),text:Js},{type:Ge.AND,regex:/AND\b/iuy,text:Js},{type:Ge.OR,regex:/OR\b/iuy,text:Js},{type:Ge.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:Js},...e.operatorKeyword?[{type:Ge.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:Ge.RESERVED_FUNCTION_NAME,regex:Gf(e.reservedFunctionNames,e.identChars),text:Js},{type:Ge.RESERVED_DATA_TYPE,regex:Gf(e.reservedDataTypes,e.identChars),text:Js},{type:Ge.RESERVED_KEYWORD,regex:Gf(e.reservedKeywords,e.identChars),text:Js}])}buildRulesAfterParams(e){var t,i;return this.validRules([{type:Ge.VARIABLE,regex:e.variableTypes?ZFt(e.variableTypes):void 0},{type:Ge.STRING,regex:Yme(e.stringTypes)},{type:Ge.IDENTIFIER,regex:JFt(e.identChars)},{type:Ge.DELIMITER,regex:/[;]/uy},{type:Ge.COMMA,regex:/[,]/y},{type:Ge.OPEN_PAREN,regex:Gme("open",e.extraParens)},{type:Ge.CLOSE_PAREN,regex:Gme("close",e.extraParens)},{type:Ge.OPERATOR,regex:zme(["+","-","/",">","<","=","<>","<=",">=","!=",...(t=e.operators)!==null&&t!==void 0?t:[]])},{type:Ge.ASTERISK,regex:/[*]/uy},{type:Ge.PROPERTY_ACCESS_OPERATOR,regex:zme([".",...(i=e.propertyAccessOperators)!==null&&i!==void 0?i:[]])}])}buildParamRules(e,t){var i,r,s,o,a;const l={named:(t==null?void 0:t.named)||((i=e.paramTypes)===null||i===void 0?void 0:i.named)||[],quoted:(t==null?void 0:t.quoted)||((r=e.paramTypes)===null||r===void 0?void 0:r.quoted)||[],numbered:(t==null?void 0:t.numbered)||((s=e.paramTypes)===null||s===void 0?void 0:s.numbered)||[],positional:typeof(t==null?void 0:t.positional)=="boolean"?t.positional:(o=e.paramTypes)===null||o===void 0?void 0:o.positional,custom:(t==null?void 0:t.custom)||((a=e.paramTypes)===null||a===void 0?void 0:a.custom)||[]};return this.validRules([{type:Ge.NAMED_PARAMETER,regex:JW(l.named,Wxe(e.paramChars||e.identChars)),key:c=>c.slice(1)},{type:Ge.QUOTED_PARAMETER,regex:JW(l.quoted,Vxe(e.identTypes)),key:c=>(({tokenKey:u,quoteChar:d})=>u.replace(new RegExp(cu("\\"+d),"gu"),d))({tokenKey:c.slice(2,-1),quoteChar:c.slice(-1)})},{type:Ge.NUMBERED_PARAMETER,regex:JW(l.numbered,"[0-9]+"),key:c=>c.slice(1)},{type:Ge.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(c=>{var u;return{type:Ge.CUSTOM_PARAMETER,regex:EE(c.regex),key:(u=c.key)!==null&&u!==void 0?u:d=>d}})])}validRules(e){return e.filter(t=>!!t.regex)}}const Js=n=>FL(n.toUpperCase()),qme=new Map,sBt=n=>{let e=qme.get(n);return e||(e=oBt(n),qme.set(n,e)),e},oBt=n=>({tokenizer:new rBt(n.tokenizerOptions,n.name),formatOptions:aBt(n.formatOptions)}),aBt=n=>{var e;return{alwaysDenseOperators:n.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(n.onelineClauses.map(t=>[t,!0])),tabularOnelineClauses:Object.fromEntries(((e=n.tabularOnelineClauses)!==null&&e!==void 0?e:n.onelineClauses).map(t=>[t,!0]))}};function lBt(n){return n.indentStyle==="tabularLeft"||n.indentStyle==="tabularRight"?" ".repeat(10):n.useTabs?"	":" ".repeat(n.tabWidth)}function yv(n){return n.indentStyle==="tabularLeft"||n.indentStyle==="tabularRight"}class cBt{constructor(e){this.params=e,this.index=0}get({key:e,text:t}){return this.params?e?this.params[e]:this.params[this.index++]:t}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}}var BL={exports:{}},uBt=BL.exports,Xme;function dBt(){return Xme||(Xme=1,function(n){(function(e,t){n.exports?n.exports=t():e.nearley=t()})(uBt,function(){function e(c,u,d){return this.id=++e.highestId,this.name=c,this.symbols=u,this.postprocess=d,this}e.highestId=0,e.prototype.toString=function(c){var u=typeof c>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,c).map(l).join(" ")+"  "+this.symbols.slice(c).map(l).join(" ");return this.name+"  "+u};function t(c,u,d,h){this.rule=c,this.dot=u,this.reference=d,this.data=[],this.wantedBy=h,this.isComplete=this.dot===c.symbols.length}t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(c){var u=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return u.left=this,u.right=c,u.isComplete&&(u.data=u.build(),u.right=void 0),u},t.prototype.build=function(){var c=[],u=this;do c.push(u.right.data),u=u.left;while(u.left);return c.reverse(),c},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))};function i(c,u){this.grammar=c,this.index=u,this.states=[],this.wants={},this.scannable=[],this.completed={}}i.prototype.process=function(c){for(var u=this.states,d=this.wants,h=this.completed,f=0;f<u.length;f++){var m=u[f];if(m.isComplete){if(m.finish(),m.data!==o.fail){for(var g=m.wantedBy,_=g.length;_--;){var v=g[_];this.complete(v,m)}if(m.reference===this.index){var S=m.rule.name;(this.completed[S]=this.completed[S]||[]).push(m)}}}else{var S=m.rule.symbols[m.dot];if(typeof S!="string"){this.scannable.push(m);continue}if(d[S]){if(d[S].push(m),h.hasOwnProperty(S))for(var C=h[S],_=0;_<C.length;_++){var y=C[_];this.complete(m,y)}}else d[S]=[m],this.predict(S)}}},i.prototype.predict=function(c){for(var u=this.grammar.byName[c]||[],d=0;d<u.length;d++){var h=u[d],f=this.wants[c],m=new t(h,0,this.index,f);this.states.push(m)}},i.prototype.complete=function(c,u){var d=c.nextState(u);this.states.push(d)};function r(c,u){this.rules=c,this.start=u||this.rules[0].name;var d=this.byName={};this.rules.forEach(function(h){d.hasOwnProperty(h.name)||(d[h.name]=[]),d[h.name].push(h)})}r.fromCompiled=function(h,u){var d=h.Lexer;h.ParserStart&&(u=h.ParserStart,h=h.ParserRules);var h=h.map(function(m){return new e(m.name,m.symbols,m.postprocess)}),f=new r(h,u);return f.lexer=d,f};function s(){this.reset("")}s.prototype.reset=function(c,u){this.buffer=c,this.index=0,this.line=u?u.line:1,this.lastLineBreak=u?-u.col:0},s.prototype.next=function(){if(this.index<this.buffer.length){var c=this.buffer[this.index++];return c===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:c}}},s.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},s.prototype.formatError=function(c,u){var d=this.buffer;if(typeof d=="string"){var h=d.split(`
`).slice(Math.max(0,this.line-5),this.line),f=d.indexOf(`
`,this.index);f===-1&&(f=d.length);var m=this.index-this.lastLineBreak,g=String(this.line).length;return u+=" at line "+this.line+" col "+m+`:

`,u+=h.map(function(v,S){return _(this.line-h.length+S+1,g)+" "+v},this).join(`
`),u+=`
`+_("",g+m)+`^
`,u}else return u+" at index "+(this.index-1);function _(v,S){var C=String(v);return Array(S-C.length+1).join(" ")+C}};function o(c,u,d){if(c instanceof r)var h=c,d=u;else var h=r.fromCompiled(c,u);this.grammar=h,this.options={keepHistory:!1,lexer:h.lexer||new s};for(var f in d||{})this.options[f]=d[f];this.lexer=this.options.lexer,this.lexerState=void 0;var m=new i(h,0);this.table=[m],m.wants[h.start]=[],m.predict(h.start),m.process(),this.current=0}o.fail={},o.prototype.feed=function(c){var u=this.lexer;u.reset(c,this.lexerState);for(var d;;){try{if(d=u.next(),!d)break}catch(I){var g=new i(this.grammar,this.current+1);this.table.push(g);var h=new Error(this.reportLexerError(I));throw h.offset=this.current,h.token=I.token,h}var f=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var m=this.current+1,g=new i(this.grammar,m);this.table.push(g);for(var _=d.text!==void 0?d.text:d.value,v=u.constructor===s?d.value:d,S=f.scannable,C=S.length;C--;){var y=S[C],b=y.rule.symbols[y.dot];if(b.test?b.test(v):b.type?b.type===d.type:b.literal===_){var w=y.nextState({data:v,token:d,isToken:!0,reference:m-1});g.states.push(w)}}if(g.process(),g.states.length===0){var h=new Error(this.reportError(d));throw h.offset=this.current,h.token=d,h}this.options.keepHistory&&(f.lexerState=u.save()),this.current++}return f&&(this.lexerState=u.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(c){var u,d,h=c.token;return h?(u="input "+JSON.stringify(h.text[0])+" (lexer error)",d=this.lexer.formatError(h,"Syntax error")):(u="input (lexer error)",d=c.message),this.reportErrorCommon(d,u)},o.prototype.reportError=function(c){var u=(c.type?c.type+" token: ":"")+JSON.stringify(c.value!==void 0?c.value:c),d=this.lexer.formatError(c,"Syntax error");return this.reportErrorCommon(d,u)},o.prototype.reportErrorCommon=function(c,u){var d=[];d.push(c);var h=this.table.length-2,f=this.table[h],m=f.states.filter(function(_){var v=_.rule.symbols[_.dot];return v&&typeof v!="string"});if(m.length===0)d.push("Unexpected "+u+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(f.states,d);else{d.push("Unexpected "+u+`. Instead, I was expecting to see one of the following:
`);var g=m.map(function(_){return this.buildFirstStateStack(_,[])||[_]},this);g.forEach(function(_){var v=_[0],S=v.rule.symbols[v.dot],C=this.getSymbolDisplay(S);d.push("A "+C+" based on:"),this.displayStateStack(_,d)},this)}return d.push(""),d.join(`
`)},o.prototype.displayStateStack=function(c,u){for(var d,h=0,f=0;f<c.length;f++){var m=c[f],g=m.rule.toString(m.dot);g===d?h++:(h>0&&u.push("    ^ "+h+" more lines identical to this"),h=0,u.push("    "+g)),d=g}},o.prototype.getSymbolDisplay=function(c){return a(c)},o.prototype.buildFirstStateStack=function(c,u){if(u.indexOf(c)!==-1)return null;if(c.wantedBy.length===0)return[c];var d=c.wantedBy[0],h=[c].concat(u),f=this.buildFirstStateStack(d,h);return f===null?null:[c].concat(f)},o.prototype.save=function(){var c=this.table[this.current];return c.lexerState=this.lexerState,c},o.prototype.restore=function(c){var u=c.index;this.current=u,this.table[u]=c,this.table.splice(u+1),this.lexerState=c.lexerState,this.results=this.finish()},o.prototype.rewind=function(c){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[c])},o.prototype.finish=function(){var c=[],u=this.grammar.start,d=this.table[this.table.length-1];return d.states.forEach(function(h){h.rule.name===u&&h.dot===h.rule.symbols.length&&h.reference===0&&h.data!==o.fail&&c.push(h)}),c.map(function(h){return h.data})};function a(c){var u=typeof c;if(u==="string")return c;if(u==="object"){if(c.literal)return JSON.stringify(c.literal);if(c instanceof RegExp)return"character matching "+c;if(c.type)return c.type+" token";if(c.test)return"token matching "+String(c.test);throw new Error("Unknown symbol type: "+c)}}function l(c){var u=typeof c;if(u==="string")return c;if(u==="object"){if(c.literal)return JSON.stringify(c.literal);if(c instanceof RegExp)return c.toString();if(c.type)return"%"+c.type;if(c.test)return"<"+String(c.test)+">";throw new Error("Unknown symbol type: "+c)}}return{Parser:o,Grammar:r,Rule:e}})}(BL)),BL.exports}var hBt=dBt();const fBt=Si(hBt);function gBt(n){return n.map(pBt).map(mBt).map(_Bt).map(EBt).map(vBt)}const pBt=(n,e,t)=>{if(Bxe(n.type)){const i=SBt(t,e);if(i&&i.type===Ge.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},n),{type:Ge.IDENTIFIER,text:n.raw});const r=Uy(t,e);if(r&&r.type===Ge.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},n),{type:Ge.IDENTIFIER,text:n.raw})}return n},mBt=(n,e,t)=>{if(n.type===Ge.RESERVED_FUNCTION_NAME){const i=Uy(t,e);if(!i||!Gxe(i))return Object.assign(Object.assign({},n),{type:Ge.IDENTIFIER,text:n.raw})}return n},_Bt=(n,e,t)=>{if(n.type===Ge.RESERVED_DATA_TYPE){const i=Uy(t,e);if(i&&Gxe(i))return Object.assign(Object.assign({},n),{type:Ge.RESERVED_PARAMETERIZED_DATA_TYPE})}return n},EBt=(n,e,t)=>{if(n.type===Ge.IDENTIFIER){const i=Uy(t,e);if(i&&zxe(i))return Object.assign(Object.assign({},n),{type:Ge.ARRAY_IDENTIFIER})}return n},vBt=(n,e,t)=>{if(n.type===Ge.RESERVED_DATA_TYPE){const i=Uy(t,e);if(i&&zxe(i))return Object.assign(Object.assign({},n),{type:Ge.ARRAY_KEYWORD})}return n},SBt=(n,e)=>Uy(n,e,-1),Uy=(n,e,t=1)=>{let i=1;for(;n[e+i*t]&&CBt(n[e+i*t]);)i++;return n[e+i*t]},Gxe=n=>n.type===Ge.OPEN_PAREN&&n.text==="(",zxe=n=>n.type===Ge.OPEN_PAREN&&n.text==="[",CBt=n=>n.type===Ge.BLOCK_COMMENT||n.type===Ge.LINE_COMMENT;class jxe{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,t){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){const{line:t,col:i}=$xe(this.input,e.start);return`Parse error at token: ${e.text} at line ${t} column ${i}`}has(e){return e in Ge}}var Bt;(function(n){n.statement="statement",n.clause="clause",n.set_operation="set_operation",n.function_call="function_call",n.parameterized_data_type="parameterized_data_type",n.array_subscript="array_subscript",n.property_access="property_access",n.parenthesis="parenthesis",n.between_predicate="between_predicate",n.case_expression="case_expression",n.case_when="case_when",n.case_else="case_else",n.limit_clause="limit_clause",n.all_columns_asterisk="all_columns_asterisk",n.literal="literal",n.identifier="identifier",n.keyword="keyword",n.data_type="data_type",n.parameter="parameter",n.operator="operator",n.comma="comma",n.line_comment="line_comment",n.block_comment="block_comment",n.disable_comment="disable_comment"})(Bt=Bt||(Bt={}));function e9(n){return n[0]}const pn=new jxe(n=>[]),tm=([[n]])=>n,eo=n=>({type:Bt.keyword,tokenType:n.type,text:n.text,raw:n.raw}),Qme=n=>({type:Bt.data_type,text:n.text,raw:n.raw}),to=(n,{leading:e,trailing:t})=>(e!=null&&e.length&&(n=Object.assign(Object.assign({},n),{leadingComments:e})),t!=null&&t.length&&(n=Object.assign(Object.assign({},n),{trailingComments:t})),n),yBt=(n,{leading:e,trailing:t})=>{if(e!=null&&e.length){const[i,...r]=n;n=[to(i,{leading:e}),...r]}if(t!=null&&t.length){const i=n.slice(0,-1),r=n[n.length-1];n=[...i,to(r,{trailing:t})]}return n},bBt={Lexer:pn,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:n=>n[0].concat([n[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([n])=>{const e=n[n.length-1];return e&&!e.hasSemicolon?e.children.length>0?n:n.slice(0,-1):n}},{name:"statement$subexpression$1",symbols:[pn.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[pn.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([n,[e]])=>({type:Bt.statement,children:n,hasSemicolon:e.type===Ge.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:n=>n[0].concat([n[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:n=>n[0].concat([n[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([n,e])=>[...n,...e]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:tm},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:n=>n[0].concat([n[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[pn.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:e9},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[pn.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([n,e,t,i])=>{if(i){const[r,s]=i;return{type:Bt.limit_clause,limitKw:to(eo(n),{trailing:e}),offset:t,count:s}}else return{type:Bt.limit_clause,limitKw:to(eo(n),{trailing:e}),count:t}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:n=>n[0].concat([n[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:n=>n[0].concat([n[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[pn.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([n,[e,t]])=>({type:Bt.clause,nameKw:eo(n),children:[e,...t]})},{name:"select_clause",symbols:[pn.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([n])=>({type:Bt.clause,nameKw:eo(n),children:[]})},{name:"all_columns_asterisk",symbols:[pn.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:Bt.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:n=>n[0].concat([n[1]])},{name:"other_clause",symbols:[pn.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([n,e])=>({type:Bt.clause,nameKw:eo(n),children:e})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:n=>n[0].concat([n[1]])},{name:"set_operation",symbols:[pn.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([n,e])=>({type:Bt.set_operation,nameKw:eo(n),children:e})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:n=>n[0].concat([n[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:e9},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:n=>n[0].concat([n[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([n,e])=>[n,...e]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:n=>n[0].concat([n[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([n,e])=>[n,...e]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([n,e])=>to(n,{trailing:e})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([n,e])=>to(e,{leading:n})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([n,e])=>to(e,{leading:n})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:tm},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:tm},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:tm},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:tm},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:tm},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:tm},{name:"array_subscript",symbols:[pn.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([n,e,t])=>({type:Bt.array_subscript,array:to({type:Bt.identifier,quoted:!1,text:n.text},{trailing:e}),parenthesis:t})},{name:"array_subscript",symbols:[pn.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([n,e,t])=>({type:Bt.array_subscript,array:to(eo(n),{trailing:e}),parenthesis:t})},{name:"function_call",symbols:[pn.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([n,e,t])=>({type:Bt.function_call,nameKw:to(eo(n),{trailing:e}),parenthesis:t})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([n,e,t])=>({type:Bt.parenthesis,children:e,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:n=>n[0].concat([n[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([n,e,t])=>({type:Bt.parenthesis,children:e,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:n=>n[0].concat([n[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([n,e,t])=>({type:Bt.parenthesis,children:e,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",pn.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([n,e,t,i,[r]])=>({type:Bt.property_access,object:to(n,{trailing:e}),operator:t.text,property:to(r,{leading:i})})},{name:"between_predicate",symbols:[pn.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",pn.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([n,e,t,i,r,s,o])=>({type:Bt.between_predicate,betweenKw:eo(n),expr1:yBt(t,{leading:e,trailing:i}),andKw:eo(r),expr2:[to(o,{leading:s})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:e9},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:n=>n[0].concat([n[1]])},{name:"case_expression",symbols:[pn.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",pn.has("END")?{type:"END"}:END],postprocess:([n,e,t,i,r])=>({type:Bt.case_expression,caseKw:to(eo(n),{trailing:e}),endKw:eo(r),expr:t||[],clauses:i})},{name:"case_clause",symbols:[pn.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",pn.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([n,e,t,i,r,s])=>({type:Bt.case_when,whenKw:to(eo(n),{trailing:e}),thenKw:to(eo(i),{trailing:r}),condition:t,result:s})},{name:"case_clause",symbols:[pn.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([n,e,t])=>({type:Bt.case_else,elseKw:to(eo(n),{trailing:e}),result:t})},{name:"comma$subexpression$1",symbols:[pn.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[n]])=>({type:Bt.comma})},{name:"asterisk$subexpression$1",symbols:[pn.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[n]])=>({type:Bt.operator,text:n.text})},{name:"operator$subexpression$1",symbols:[pn.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[n]])=>({type:Bt.operator,text:n.text})},{name:"identifier$subexpression$1",symbols:[pn.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[pn.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[pn.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[n]])=>({type:Bt.identifier,quoted:n.type!=="IDENTIFIER",text:n.text})},{name:"parameter$subexpression$1",symbols:[pn.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[pn.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[pn.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[pn.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[pn.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[n]])=>({type:Bt.parameter,key:n.key,text:n.text})},{name:"literal$subexpression$1",symbols:[pn.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[pn.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[n]])=>({type:Bt.literal,text:n.text})},{name:"keyword$subexpression$1",symbols:[pn.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[pn.has("RESERVED_PHRASE")?{type:"RESERVED_PHRASE"}:RESERVED_PHRASE]},{name:"keyword$subexpression$1",symbols:[pn.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[n]])=>eo(n)},{name:"data_type$subexpression$1",symbols:[pn.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[n]])=>Qme(n)},{name:"data_type",symbols:[pn.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([n,e,t])=>({type:Bt.parameterized_data_type,dataType:to(Qme(n),{trailing:e}),parenthesis:t})},{name:"logic_operator$subexpression$1",symbols:[pn.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[pn.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[pn.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[n]])=>eo(n)},{name:"other_keyword$subexpression$1",symbols:[pn.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[pn.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[pn.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[pn.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[n]])=>eo(n)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:n=>n[0].concat([n[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([n])=>n},{name:"comment",symbols:[pn.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([n])=>({type:Bt.line_comment,text:n.text,precedingWhitespace:n.precedingWhitespace})},{name:"comment",symbols:[pn.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([n])=>({type:Bt.block_comment,text:n.text,precedingWhitespace:n.precedingWhitespace})},{name:"comment",symbols:[pn.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([n])=>({type:Bt.disable_comment,text:n.text,precedingWhitespace:n.precedingWhitespace})}],ParserStart:"main"},{Parser:TBt,Grammar:wBt}=fBt;function ABt(n){let e={};const t=new jxe(r=>[...gBt(n.tokenize(r,e)),Fxe(r.length)]),i=new TBt(wBt.fromCompiled(bBt),{lexer:t});return{parse:(r,s)=>{e=s;const{results:o}=i.feed(r);if(o.length===1)return o[0];throw o.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(o,void 0,2)}`)}}}var We;(function(n){n[n.SPACE=0]="SPACE",n[n.NO_SPACE=1]="NO_SPACE",n[n.NO_NEWLINE=2]="NO_NEWLINE",n[n.NEWLINE=3]="NEWLINE",n[n.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",n[n.INDENT=5]="INDENT",n[n.SINGLE_INDENT=6]="SINGLE_INDENT"})(We=We||(We={}));class Yxe{constructor(e){this.indentation=e,this.items=[]}add(...e){for(const t of e)switch(t){case We.SPACE:this.items.push(We.SPACE);break;case We.NO_SPACE:this.trimHorizontalWhitespace();break;case We.NO_NEWLINE:this.trimWhitespace();break;case We.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(We.NEWLINE);break;case We.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(We.MANDATORY_NEWLINE);break;case We.INDENT:this.addIndentation();break;case We.SINGLE_INDENT:this.items.push(We.SINGLE_INDENT);break;default:this.items.push(t)}}trimHorizontalWhitespace(){for(;RBt(x0(this.items));)this.items.pop()}trimWhitespace(){for(;IBt(x0(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(x0(this.items)){case We.NEWLINE:this.items.pop(),this.items.push(e);break;case We.MANDATORY_NEWLINE:break;default:this.items.push(e);break}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(We.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case We.SPACE:return" ";case We.NEWLINE:case We.MANDATORY_NEWLINE:return`
`;case We.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}}const RBt=n=>n===We.SPACE||n===We.SINGLE_INDENT,IBt=n=>n===We.SPACE||n===We.SINGLE_INDENT||n===We.NEWLINE;function Zme(n,e){if(e==="standard")return n;let t=[];return n.length>=10&&n.includes(" ")&&([n,...t]=n.split(" ")),e==="tabularLeft"?n=n.padEnd(9," "):n=n.padStart(9," "),n+["",...t].join(" ")}function Jme(n){return Nkt(n)||n===Ge.RESERVED_CLAUSE||n===Ge.RESERVED_SELECT||n===Ge.RESERVED_SET_OPERATION||n===Ge.RESERVED_JOIN||n===Ge.LIMIT}const t9="top-level",NBt="block-level";class Kxe{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(t9)}increaseBlockLevel(){this.indentTypes.push(NBt)}decreaseTopLevel(){this.indentTypes.length>0&&x0(this.indentTypes)===t9&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===t9;);}}class LBt extends Yxe{constructor(e){super(new Kxe("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(t=>this.addToLength(t)),this.length>this.expressionWidth)throw new oj;super.add(...e)}addToLength(e){if(typeof e=="string")this.length+=e.length,this.trailingSpace=!1;else{if(e===We.MANDATORY_NEWLINE||e===We.NEWLINE)throw new oj;e===We.INDENT||e===We.SINGLE_INDENT||e===We.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(e===We.NO_NEWLINE||e===We.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}}class oj extends Error{}class gP{constructor({cfg:e,dialectCfg:t,params:i,layout:r,inline:s=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=t,this.inline=s,this.params=i,this.layout=r}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case Bt.function_call:return this.formatFunctionCall(e);case Bt.parameterized_data_type:return this.formatParameterizedDataType(e);case Bt.array_subscript:return this.formatArraySubscript(e);case Bt.property_access:return this.formatPropertyAccess(e);case Bt.parenthesis:return this.formatParenthesis(e);case Bt.between_predicate:return this.formatBetweenPredicate(e);case Bt.case_expression:return this.formatCaseExpression(e);case Bt.case_when:return this.formatCaseWhen(e);case Bt.case_else:return this.formatCaseElse(e);case Bt.clause:return this.formatClause(e);case Bt.set_operation:return this.formatSetOperation(e);case Bt.limit_clause:return this.formatLimitClause(e);case Bt.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case Bt.literal:return this.formatLiteral(e);case Bt.identifier:return this.formatIdentifier(e);case Bt.parameter:return this.formatParameter(e);case Bt.operator:return this.formatOperator(e);case Bt.comma:return this.formatComma(e);case Bt.line_comment:return this.formatLineComment(e);case Bt.block_comment:return this.formatBlockComment(e);case Bt.disable_comment:return this.formatBlockComment(e);case Bt.data_type:return this.formatDataType(e);case Bt.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let t;switch(e.array.type){case Bt.data_type:t=this.showDataType(e.array);break;case Bt.keyword:t=this.showKw(e.array);break;default:t=this.showIdentifier(e.array);break}this.withComments(e.array,()=>{this.layout.add(t)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(We.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){const t=this.formatInlineExpression(e.children);t?(this.layout.add(e.openParen),this.layout.add(...t.getLayoutItems()),this.layout.add(We.NO_SPACE,e.closeParen,We.SPACE)):(this.layout.add(e.openParen,We.NEWLINE),yv(this.cfg)?(this.layout.add(We.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(We.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(We.NEWLINE,We.INDENT,e.closeParen,We.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),We.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(We.NO_SPACE,We.SPACE,this.showNonTabularKw(e.andKw),We.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(We.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(We.NEWLINE,We.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(We.NEWLINE,We.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(We.NEWLINE,We.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):yv(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return yv(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(We.NEWLINE,We.INDENT,this.showKw(e.nameKw),We.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(We.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(We.NEWLINE,We.INDENT,this.showKw(e.nameKw),We.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(We.NEWLINE,We.INDENT,this.showKw(e.nameKw),We.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(We.NEWLINE,We.INDENT,this.showKw(e.nameKw),We.NEWLINE),this.layout.add(We.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(We.NEWLINE,We.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),yv(this.cfg)?this.layout.add(We.SPACE):this.layout.add(We.NEWLINE,We.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(We.NO_SPACE,",",We.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",We.SPACE)}formatLiteral(e){this.layout.add(e.text,We.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),We.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),We.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(We.NO_SPACE,e):e===":"?this.layout.add(We.NO_SPACE,e,We.SPACE):this.layout.add(e,We.SPACE)}formatComma(e){this.inline?this.layout.add(We.NO_SPACE,",",We.SPACE):this.layout.add(We.NO_SPACE,",",We.NEWLINE,We.INDENT)}withComments(e,t){this.formatComments(e.leadingComments),t(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(t=>{t.type===Bt.line_comment?this.formatLineComment(t):this.formatBlockComment(t)})}formatLineComment(e){ZW(e.precedingWhitespace||"")?this.layout.add(We.NEWLINE,We.INDENT,e.text,We.MANDATORY_NEWLINE,We.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(We.NO_NEWLINE,We.SPACE,e.text,We.MANDATORY_NEWLINE,We.INDENT):this.layout.add(e.text,We.MANDATORY_NEWLINE,We.INDENT)}formatBlockComment(e){e.type===Bt.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(t=>{this.layout.add(We.NEWLINE,We.INDENT,t)}),this.layout.add(We.NEWLINE,We.INDENT)):this.layout.add(e.text,We.SPACE)}isMultilineBlockComment(e){return ZW(e.text)||ZW(e.precedingWhitespace||"")}isDocComment(e){const t=e.split(/\n/);return/^\/\*\*?$/.test(t[0])&&t.slice(1,t.length-1).every(i=>/^\s*\*/.test(i))&&/^\s*\*\/$/.test(x0(t))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(t=>/^\s*\*/.test(t)?" "+t.replace(/^\s*/,""):t):e.split(/\n/).map(t=>t.replace(/^\s*/,""))}formatSubExpression(e){return new gP({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){const t=this.params.getPositionalParameterIndex();try{return new gP({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new LBt(this.cfg.expressionWidth),inline:!0}).format(e)}catch(i){if(i instanceof oj){this.params.setPositionalParameterIndex(t);return}else throw i}}formatKeywordNode(e){switch(e.tokenType){case Ge.RESERVED_JOIN:return this.formatJoin(e);case Ge.AND:case Ge.OR:case Ge.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){yv(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(We.NEWLINE,We.INDENT,this.showKw(e),We.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(We.NEWLINE,We.INDENT,this.showKw(e),We.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),We.SPACE)}formatLogicalOperator(e){this.cfg.logicalOperatorNewline==="before"?yv(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(We.NEWLINE,We.INDENT,this.showKw(e),We.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(We.NEWLINE,We.INDENT,this.showKw(e),We.SPACE):this.layout.add(this.showKw(e),We.NEWLINE,We.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),We.SPACE)}showKw(e){return Jme(e.tokenType)?Zme(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return FL(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return Jme(e.tokenType)?Zme(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return FL(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return FL(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}}class OBt{constructor(e,t){this.dialect=e,this.cfg=t,this.params=new cBt(this.cfg.params)}format(e){const t=this.parse(e);return this.formatAst(t).trimEnd()}parse(e){return ABt(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(t=>this.formatStatement(t)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){const t=new gP({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new Yxe(new Kxe(lBt(this.cfg)))}).format(e.children);return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?t.add(We.NEWLINE,";"):t.add(We.NO_NEWLINE,";")),t.toString()}}class UL extends Error{}function xBt(n){const e=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(const t of e)if(t in n)throw new UL(`${t} config is no more supported.`);if(n.expressionWidth<=0)throw new UL(`expressionWidth config must be positive number. Received ${n.expressionWidth} instead.`);if(n.params&&!DBt(n.params)&&console.warn('WARNING: All "params" option values should be strings.'),n.paramTypes&&!PBt(n.paramTypes))throw new UL("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return n}function DBt(n){return(n instanceof Array?n:Object.values(n)).every(t=>typeof t=="string")}function PBt(n){return n.custom&&Array.isArray(n.custom)?n.custom.every(e=>e.regex!==""):!0}var kBt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const qxe={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},MBt=Object.keys(qxe),FBt={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},BBt=(n,e={})=>{if(typeof e.language=="string"&&!MBt.includes(e.language))throw new UL(`Unsupported SQL dialect: ${e.language}`);const t=qxe[e.language||"sql"];return UBt(n,Object.assign(Object.assign({},e),{dialect:zFt[t]}))},UBt=(n,e)=>{var{dialect:t}=e,i=kBt(e,["dialect"]);if(typeof n!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof n);const r=xBt(Object.assign(Object.assign({},FBt),i));return new OBt(sBt(t),r).format(n)};function HBt(){const n=In(f=>f.selectedDatabase),e=In(f=>f.queryLimit),t=In(f=>f.setQueryLimit),i=In(f=>f.openGenerateQueryModal),r=TM(),s=In(f=>f.executeQueryForTab),o=In(f=>f.updateQueryInTab);if(!r)return R.jsx("div",{className:"p-2 border-b bg-muted/20 text-muted-foreground text-sm",children:"No active query tab"});const{id:a,query:l,isRunning:c}=r,u=()=>{try{const f=BBt(l,{language:"sql"});o(a,f)}catch(f){console.error("Failed to format query:",f)}},d=()=>{let f=500;const m=e;typeof m=="number"&&!isNaN(m)&&(f=Math.max(1,Math.min(m,5e3))),s(a,f)},h=f=>{const m=f.target.value,g=m===""?500:parseInt(m,10);t(isNaN(g)||g<=0?500:g)};return R.jsxs("div",{className:"p-2 flex items-center justify-between border-b bg-muted/20",children:[R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx(cNe,{size:16,className:"text-muted-foreground"}),n?R.jsx("span",{className:"text-sm font-medium",children:n}):R.jsx("span",{className:"text-sm text-muted-foreground italic",children:"No database selected"})]}),R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx(Ko,{variant:"outline",size:"sm",onClick:u,title:"Format Query",disabled:!l,children:R.jsx(bCt,{size:16})}),R.jsx(Ko,{variant:"outline",size:"sm",onClick:i,title:"Generate SQL with AI (Cmd/Ctrl+K)",disabled:!n,children:R.jsx(wCt,{size:16})}),R.jsxs("div",{className:"flex items-center space-x-1.5",children:[R.jsx(qu,{htmlFor:"query-limit",className:"text-xs text-muted-foreground whitespace-nowrap",children:"Limit:"}),R.jsx(BA,{id:"query-limit",type:"number",min:"1",value:e,onChange:h,className:"h-8 w-20 text-sm px-2",disabled:c})]}),R.jsxs(Ko,{variant:"outline",onClick:d,disabled:c||!n||!l,size:"sm",children:[R.jsx(dCt,{size:16,className:`mr-2 ${c?"animate-spin":""}`}),c?"Running...":"Execute Query"]})]})]})}const VQ=N.forwardRef(({...n})=>R.jsx(kj,{"data-slot":"dialog",...n}));VQ.displayName="Dialog";const Xxe=N.forwardRef(({...n},e)=>R.jsx(YEe,{"data-slot":"dialog-trigger",ref:e,...n}));Xxe.displayName="DialogTrigger";const Qxe=N.forwardRef(({...n})=>R.jsx(Mj,{"data-slot":"dialog-portal",...n}));Qxe.displayName="DialogPortal";const Zxe=N.forwardRef(({...n})=>R.jsx(Lk,{"data-slot":"dialog-close",...n}));Zxe.displayName="DialogClose";function Jxe({className:n,...e}){return R.jsx(Ak,{"data-slot":"dialog-overlay",className:si("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}Jxe.displayName="DialogOverlay";const WQ=N.forwardRef(({className:n,children:e,...t},i)=>R.jsxs(Qxe,{"data-slot":"dialog-portal",children:[R.jsx(Jxe,{}),R.jsxs(Rk,{"data-slot":"dialog-content",ref:i,className:si("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,R.jsxs(Lk,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[R.jsx(JX,{}),R.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));WQ.displayName="DialogContent";function eDe({className:n,...e}){return R.jsx("div",{"data-slot":"dialog-header",className:si("flex flex-col gap-2 text-center sm:text-left",n),...e})}function tDe({className:n,...e}){return R.jsx("div",{"data-slot":"dialog-footer",className:si("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}const $Q=N.forwardRef(({className:n,...e},t)=>R.jsx(Ik,{"data-slot":"dialog-title",ref:t,className:si("text-lg font-semibold leading-none",n),...e}));$Q.displayName="DialogTitle";const GQ=N.forwardRef(({className:n,...e},t)=>R.jsx(Nk,{"data-slot":"dialog-description",ref:t,className:si("text-sm text-muted-foreground",n),...e}));GQ.displayName="DialogDescription";function VBt({children:n}){const[e,t]=N.useState(""),[i,r]=N.useState(!1),s=In(a=>a.currentQuery),o=()=>{console.log(`Saving query as: ${e}`),console.log(`Query content: ${s}`),t(""),r(!1)};return R.jsxs(VQ,{open:i,onOpenChange:r,children:[R.jsx(Xxe,{asChild:!0,children:n}),R.jsxs(WQ,{className:"sm:max-w-[425px]",children:[R.jsxs(eDe,{children:[R.jsx($Q,{children:"Save Query"}),R.jsx(GQ,{children:"Enter a name for your current SQL query to save it for later use."})]}),R.jsx("div",{className:"grid gap-4 py-4",children:R.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[R.jsx(qu,{htmlFor:"name",className:"text-right",children:"Name"}),R.jsx(BA,{id:"name",value:e,onChange:a=>t(a.target.value),className:"col-span-3",placeholder:"e.g., Active Users Report"})]})}),R.jsxs(tDe,{children:[R.jsx(Zxe,{asChild:!0,children:R.jsx(Ko,{type:"button",variant:"outline",children:"Cancel"})}),R.jsx(Ko,{type:"button",onClick:o,disabled:!e.trim(),children:"Save Query"})]})]})]})}function WBt({...n}){return R.jsx(kj,{"data-slot":"sheet",...n})}function $Bt({...n}){return R.jsx(YEe,{"data-slot":"sheet-trigger",...n})}function GBt({...n}){return R.jsx(Mj,{"data-slot":"sheet-portal",...n})}function zBt({className:n,...e}){return R.jsx(Ak,{"data-slot":"sheet-overlay",className:si("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function jBt({className:n,children:e,side:t="right",...i}){return R.jsxs(GBt,{children:[R.jsx(zBt,{}),R.jsxs(Rk,{"data-slot":"sheet-content",className:si("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...i,children:[e,R.jsxs(Lk,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[R.jsx(JX,{className:"size-4"}),R.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function YBt({className:n,...e}){return R.jsx("div",{"data-slot":"sheet-header",className:si("flex flex-col gap-1.5 p-4",n),...e})}function KBt({className:n,...e}){return R.jsx(Ik,{"data-slot":"sheet-title",className:si("text-foreground font-semibold",n),...e})}function qBt({className:n,...e}){return R.jsx(Nk,{"data-slot":"sheet-description",className:si("text-muted-foreground text-sm",n),...e})}function XBt({children:n}){const e=In(r=>r.queryHistory),t=In(r=>r.setCurrentQuery),i=r=>{t(r)};return R.jsxs(WBt,{children:[R.jsx($Bt,{asChild:!0,children:n}),R.jsxs(jBt,{side:"left",children:[" ",R.jsxs(YBt,{children:[R.jsx(KBt,{children:"Query History"}),R.jsx(qBt,{children:"Select a previously executed query to load it into the editor."})]}),R.jsxs(gxe,{className:"h-[calc(100vh-150px)] pr-4",children:[" ",R.jsx("div",{className:"py-4 space-y-2",children:e.length>0?e.map((r,s)=>R.jsx("div",{className:"text-xs p-2 border rounded hover:bg-accent cursor-pointer",onClick:()=>i(r),children:R.jsx("pre",{className:"whitespace-pre-wrap break-words font-mono",children:R.jsx("code",{children:r})})},s)):R.jsx("p",{className:"text-sm text-muted-foreground italic text-center pt-4",children:"History is empty."})})]})]})]})}const HL=N.forwardRef(({icon:n,label:e,onClick:t},i)=>R.jsx(UQ,{delayDuration:300,children:R.jsxs(gkt,{children:[R.jsx(pkt,{asChild:!0,children:R.jsx("button",{ref:i,onClick:t,className:"flex items-center justify-center p-1.5 rounded hover:bg-accent w-full text-xs","aria-label":e,children:R.jsx(n,{className:"h-5 w-5 text-muted-foreground"})})}),R.jsx(mkt,{side:"right",sideOffset:5,children:R.jsx("p",{children:e})})]})}));HL.displayName="ActionItem";function QBt(){const n=()=>console.log("Settings clicked");return R.jsxs("div",{className:"h-full flex flex-col items-center justify-between p-1 bg-muted/40",children:[R.jsxs("div",{className:"w-full space-y-1",children:[R.jsx(VBt,{children:R.jsx(HL,{icon:_Ct,label:"Save Query"})}),R.jsx(XBt,{children:R.jsx(HL,{icon:tCt,label:"Query History"})})]}),R.jsx(HL,{icon:vCt,label:"Settings",onClick:n})]})}function ZBt(){var _;const n=In(v=>v.tabs),e=In(v=>v.activeTabId),t=In(v=>v.setActiveTab),i=In(v=>v.addTab),r=In(v=>v.closeTab),s=In(v=>v.updateTabName),[o,a]=N.useState(null),[l,c]=N.useState(""),u=N.useRef(null);N.useEffect(()=>{o&&u.current&&(u.current.focus(),u.current.select())},[o]);const d=(v,S)=>{a(v),c(S)},h=()=>{o&&l.trim()&&s(o,l.trim()),a(null)},f=()=>{a(null)},m=v=>{v.key==="Enter"?h():v.key==="Escape"&&f()},g=e&&n.some(v=>v.id===e)?e:((_=n[0])==null?void 0:_.id)||"";return R.jsxs("div",{className:"flex items-center border-b px-1 py-1 space-x-1",children:[R.jsx(JOe,{value:g,onValueChange:t,className:"flex-grow",children:R.jsx(exe,{className:"h-8",children:n.map(v=>R.jsxs(PL,{value:v.id,className:"h-7 text-xs px-2 relative group",onDoubleClick:()=>d(v.id,v.name),children:[o===v.id?R.jsx(BA,{ref:u,type:"text",value:l,onChange:S=>c(S.target.value),onBlur:h,onKeyDown:m,className:"h-5 px-1 text-xs w-24"}):R.jsx("span",{className:"truncate max-w-[150px]",children:v.name}),n.length>1&&R.jsx("span",{role:"button","aria-label":"Close tab",className:"h-4 w-4 absolute top-1/2 right-1 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 inline-flex items-center justify-center rounded-sm hover:bg-muted hover:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring",onClick:S=>{S.stopPropagation(),r(v.id)},onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&(S.stopPropagation(),r(v.id))},tabIndex:0,children:R.jsx(JX,{size:12})})]},v.id))})}),R.jsx(Ko,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0",onClick:()=>i(!0),title:"New Query Tab",children:R.jsx(fCt,{size:16})})]})}function JBt({className:n,...e}){return R.jsx("textarea",{"data-slot":"textarea",className:si("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function e4t(){const n=In(u=>u.isGenerateQueryModalOpen),e=In(u=>u.closeGenerateQueryModal),t=In(u=>u.generateQueryPrompt),i=In(u=>u.setGenerateQueryPrompt),r=In(u=>u.generateQuery),s=In(u=>u.generateQueryLoading),o=In(u=>u.generateQueryError),a=()=>{!t.trim()||s||r()},l=u=>{i(u.target.value)},c=u=>{u||e()};return R.jsx(VQ,{open:n,onOpenChange:c,children:R.jsxs(WQ,{className:"sm:max-w-[525px]",children:[R.jsxs(eDe,{children:[R.jsx($Q,{children:"Generate SQL with AI"}),R.jsx(GQ,{children:"Describe what data you want to query in plain language. The AI will attempt to generate the corresponding SQL."})]}),R.jsxs("div",{className:"grid gap-4 py-4",children:[R.jsxs("div",{className:"grid grid-cols-1 gap-4 items-center",children:[R.jsx(qu,{htmlFor:"prompt",className:"text-left sr-only",children:"Prompt"}),R.jsx(JBt,{id:"prompt",placeholder:"e.g., Show me all users who joined last month, ordered by name.",value:t,onChange:l,className:"col-span-3 min-h-[100px]",disabled:s})]}),o&&R.jsxs("p",{className:"text-sm text-destructive",children:["Error: ",o]})]}),R.jsx(tDe,{children:R.jsxs(Ko,{variant:"outline",type:"button",onClick:a,disabled:s||!t.trim(),children:[s&&R.jsx(aCt,{className:"mr-2 w-4 h-4 animate-spin"}),s?"Generating...":"Generate SQL"]})})]})})}function t4t(){const n=In(e=>e.isGenerateQueryModalOpen);return N.useEffect(()=>{In.getState().init()},[]),N.useEffect(()=>{const e=t=>{if(t.key==="k"&&(t.metaKey||t.ctrlKey)){t.preventDefault();const i=In.getState();i.selectedDatabase&&i.openGenerateQueryModal()}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]),R.jsxs(CMe,{backend:X2e,children:[R.jsx(hkt,{toolbox:R.jsx(QBt,{}),catalog:R.jsx(Skt,{}),editor:R.jsxs("div",{className:"flex flex-col h-full",children:[R.jsx("div",{className:"flex-shrink-0",children:R.jsx(ZBt,{})}),R.jsx("div",{className:"flex-shrink-0",children:R.jsx(HBt,{})}),R.jsx("div",{className:"overflow-hidden flex-grow p-1",children:R.jsx(qvt,{})})]}),results:R.jsx("div",{className:"p-1 h-full",children:R.jsx(FPt,{})})}),n&&R.jsx(e4t,{})]})}WPe.createRoot(document.getElementById("root")).render(R.jsx(N.StrictMode,{children:R.jsx(t4t,{})}))});export default n4t();
